(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const h of u.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&s(h)}).observe(document,{childList:!0,subtree:!0});function t(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(o){if(o.ep)return;o.ep=!0;const u=t(o);fetch(o.href,u)}})();function cE(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var Rm={exports:{}},Jl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Q_;function W1(){if(Q_)return Jl;Q_=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(s,o,u){var h=null;if(u!==void 0&&(h=""+u),o.key!==void 0&&(h=""+o.key),"key"in o){u={};for(var d in o)d!=="key"&&(u[d]=o[d])}else u=o;return o=u.ref,{$$typeof:r,type:s,key:h,ref:o!==void 0?o:null,props:u}}return Jl.Fragment=e,Jl.jsx=t,Jl.jsxs=t,Jl}var $_;function Z1(){return $_||($_=1,Rm.exports=W1()),Rm.exports}var W=Z1(),Cm={exports:{}},eu={},xm={exports:{}},Im={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var X_;function J1(){return X_||(X_=1,function(r){function e(q,ce){var ne=q.length;q.push(ce);e:for(;0<ne;){var Re=ne-1>>>1,P=q[Re];if(0<o(P,ce))q[Re]=ce,q[ne]=P,ne=Re;else break e}}function t(q){return q.length===0?null:q[0]}function s(q){if(q.length===0)return null;var ce=q[0],ne=q.pop();if(ne!==ce){q[0]=ne;e:for(var Re=0,P=q.length,J=P>>>1;Re<J;){var ue=2*(Re+1)-1,ee=q[ue],he=ue+1,be=q[he];if(0>o(ee,ne))he<P&&0>o(be,ee)?(q[Re]=be,q[he]=ne,Re=he):(q[Re]=ee,q[ue]=ne,Re=ue);else if(he<P&&0>o(be,ne))q[Re]=be,q[he]=ne,Re=he;else break e}}return ce}function o(q,ce){var ne=q.sortIndex-ce.sortIndex;return ne!==0?ne:q.id-ce.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;r.unstable_now=function(){return u.now()}}else{var h=Date,d=h.now();r.unstable_now=function(){return h.now()-d}}var p=[],g=[],_=1,v=null,T=3,x=!1,C=!1,O=!1,D=!1,z=typeof setTimeout=="function"?setTimeout:null,Y=typeof clearTimeout=="function"?clearTimeout:null,Q=typeof setImmediate<"u"?setImmediate:null;function oe(q){for(var ce=t(g);ce!==null;){if(ce.callback===null)s(g);else if(ce.startTime<=q)s(g),ce.sortIndex=ce.expirationTime,e(p,ce);else break;ce=t(g)}}function $(q){if(O=!1,oe(q),!C)if(t(p)!==null)C=!0,ie||(ie=!0,U());else{var ce=t(g);ce!==null&&xe($,ce.startTime-q)}}var ie=!1,N=-1,S=5,R=-1;function M(){return D?!0:!(r.unstable_now()-R<S)}function L(){if(D=!1,ie){var q=r.unstable_now();R=q;var ce=!0;try{e:{C=!1,O&&(O=!1,Y(N),N=-1),x=!0;var ne=T;try{t:{for(oe(q),v=t(p);v!==null&&!(v.expirationTime>q&&M());){var Re=v.callback;if(typeof Re=="function"){v.callback=null,T=v.priorityLevel;var P=Re(v.expirationTime<=q);if(q=r.unstable_now(),typeof P=="function"){v.callback=P,oe(q),ce=!0;break t}v===t(p)&&s(p),oe(q)}else s(p);v=t(p)}if(v!==null)ce=!0;else{var J=t(g);J!==null&&xe($,J.startTime-q),ce=!1}}break e}finally{v=null,T=ne,x=!1}ce=void 0}}finally{ce?U():ie=!1}}}var U;if(typeof Q=="function")U=function(){Q(L)};else if(typeof MessageChannel<"u"){var I=new MessageChannel,Ke=I.port2;I.port1.onmessage=L,U=function(){Ke.postMessage(null)}}else U=function(){z(L,0)};function xe(q,ce){N=z(function(){q(r.unstable_now())},ce)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(q){q.callback=null},r.unstable_forceFrameRate=function(q){0>q||125<q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):S=0<q?Math.floor(1e3/q):5},r.unstable_getCurrentPriorityLevel=function(){return T},r.unstable_next=function(q){switch(T){case 1:case 2:case 3:var ce=3;break;default:ce=T}var ne=T;T=ce;try{return q()}finally{T=ne}},r.unstable_requestPaint=function(){D=!0},r.unstable_runWithPriority=function(q,ce){switch(q){case 1:case 2:case 3:case 4:case 5:break;default:q=3}var ne=T;T=q;try{return ce()}finally{T=ne}},r.unstable_scheduleCallback=function(q,ce,ne){var Re=r.unstable_now();switch(typeof ne=="object"&&ne!==null?(ne=ne.delay,ne=typeof ne=="number"&&0<ne?Re+ne:Re):ne=Re,q){case 1:var P=-1;break;case 2:P=250;break;case 5:P=1073741823;break;case 4:P=1e4;break;default:P=5e3}return P=ne+P,q={id:_++,callback:ce,priorityLevel:q,startTime:ne,expirationTime:P,sortIndex:-1},ne>Re?(q.sortIndex=ne,e(g,q),t(p)===null&&q===t(g)&&(O?(Y(N),N=-1):O=!0,xe($,ne-Re))):(q.sortIndex=P,e(p,q),C||x||(C=!0,ie||(ie=!0,U()))),q},r.unstable_shouldYield=M,r.unstable_wrapCallback=function(q){var ce=T;return function(){var ne=T;T=ce;try{return q.apply(this,arguments)}finally{T=ne}}}}(Im)),Im}var W_;function eA(){return W_||(W_=1,xm.exports=J1()),xm.exports}var Dm={exports:{}},Pe={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Z_;function tA(){if(Z_)return Pe;Z_=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),h=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),_=Symbol.for("react.lazy"),v=Symbol.iterator;function T(P){return P===null||typeof P!="object"?null:(P=v&&P[v]||P["@@iterator"],typeof P=="function"?P:null)}var x={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},C=Object.assign,O={};function D(P,J,ue){this.props=P,this.context=J,this.refs=O,this.updater=ue||x}D.prototype.isReactComponent={},D.prototype.setState=function(P,J){if(typeof P!="object"&&typeof P!="function"&&P!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,P,J,"setState")},D.prototype.forceUpdate=function(P){this.updater.enqueueForceUpdate(this,P,"forceUpdate")};function z(){}z.prototype=D.prototype;function Y(P,J,ue){this.props=P,this.context=J,this.refs=O,this.updater=ue||x}var Q=Y.prototype=new z;Q.constructor=Y,C(Q,D.prototype),Q.isPureReactComponent=!0;var oe=Array.isArray,$={H:null,A:null,T:null,S:null,V:null},ie=Object.prototype.hasOwnProperty;function N(P,J,ue,ee,he,be){return ue=be.ref,{$$typeof:r,type:P,key:J,ref:ue!==void 0?ue:null,props:be}}function S(P,J){return N(P.type,J,void 0,void 0,void 0,P.props)}function R(P){return typeof P=="object"&&P!==null&&P.$$typeof===r}function M(P){var J={"=":"=0",":":"=2"};return"$"+P.replace(/[=:]/g,function(ue){return J[ue]})}var L=/\/+/g;function U(P,J){return typeof P=="object"&&P!==null&&P.key!=null?M(""+P.key):J.toString(36)}function I(){}function Ke(P){switch(P.status){case"fulfilled":return P.value;case"rejected":throw P.reason;default:switch(typeof P.status=="string"?P.then(I,I):(P.status="pending",P.then(function(J){P.status==="pending"&&(P.status="fulfilled",P.value=J)},function(J){P.status==="pending"&&(P.status="rejected",P.reason=J)})),P.status){case"fulfilled":return P.value;case"rejected":throw P.reason}}throw P}function xe(P,J,ue,ee,he){var be=typeof P;(be==="undefined"||be==="boolean")&&(P=null);var me=!1;if(P===null)me=!0;else switch(be){case"bigint":case"string":case"number":me=!0;break;case"object":switch(P.$$typeof){case r:case e:me=!0;break;case _:return me=P._init,xe(me(P._payload),J,ue,ee,he)}}if(me)return he=he(P),me=ee===""?"."+U(P,0):ee,oe(he)?(ue="",me!=null&&(ue=me.replace(L,"$&/")+"/"),xe(he,J,ue,"",function(Tt){return Tt})):he!=null&&(R(he)&&(he=S(he,ue+(he.key==null||P&&P.key===he.key?"":(""+he.key).replace(L,"$&/")+"/")+me)),J.push(he)),1;me=0;var Oe=ee===""?".":ee+":";if(oe(P))for(var ze=0;ze<P.length;ze++)ee=P[ze],be=Oe+U(ee,ze),me+=xe(ee,J,ue,be,he);else if(ze=T(P),typeof ze=="function")for(P=ze.call(P),ze=0;!(ee=P.next()).done;)ee=ee.value,be=Oe+U(ee,ze++),me+=xe(ee,J,ue,be,he);else if(be==="object"){if(typeof P.then=="function")return xe(Ke(P),J,ue,ee,he);throw J=String(P),Error("Objects are not valid as a React child (found: "+(J==="[object Object]"?"object with keys {"+Object.keys(P).join(", ")+"}":J)+"). If you meant to render a collection of children, use an array instead.")}return me}function q(P,J,ue){if(P==null)return P;var ee=[],he=0;return xe(P,ee,"","",function(be){return J.call(ue,be,he++)}),ee}function ce(P){if(P._status===-1){var J=P._result;J=J(),J.then(function(ue){(P._status===0||P._status===-1)&&(P._status=1,P._result=ue)},function(ue){(P._status===0||P._status===-1)&&(P._status=2,P._result=ue)}),P._status===-1&&(P._status=0,P._result=J)}if(P._status===1)return P._result.default;throw P._result}var ne=typeof reportError=="function"?reportError:function(P){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var J=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof P=="object"&&P!==null&&typeof P.message=="string"?String(P.message):String(P),error:P});if(!window.dispatchEvent(J))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",P);return}console.error(P)};function Re(){}return Pe.Children={map:q,forEach:function(P,J,ue){q(P,function(){J.apply(this,arguments)},ue)},count:function(P){var J=0;return q(P,function(){J++}),J},toArray:function(P){return q(P,function(J){return J})||[]},only:function(P){if(!R(P))throw Error("React.Children.only expected to receive a single React element child.");return P}},Pe.Component=D,Pe.Fragment=t,Pe.Profiler=o,Pe.PureComponent=Y,Pe.StrictMode=s,Pe.Suspense=p,Pe.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=$,Pe.__COMPILER_RUNTIME={__proto__:null,c:function(P){return $.H.useMemoCache(P)}},Pe.cache=function(P){return function(){return P.apply(null,arguments)}},Pe.cloneElement=function(P,J,ue){if(P==null)throw Error("The argument must be a React element, but you passed "+P+".");var ee=C({},P.props),he=P.key,be=void 0;if(J!=null)for(me in J.ref!==void 0&&(be=void 0),J.key!==void 0&&(he=""+J.key),J)!ie.call(J,me)||me==="key"||me==="__self"||me==="__source"||me==="ref"&&J.ref===void 0||(ee[me]=J[me]);var me=arguments.length-2;if(me===1)ee.children=ue;else if(1<me){for(var Oe=Array(me),ze=0;ze<me;ze++)Oe[ze]=arguments[ze+2];ee.children=Oe}return N(P.type,he,void 0,void 0,be,ee)},Pe.createContext=function(P){return P={$$typeof:h,_currentValue:P,_currentValue2:P,_threadCount:0,Provider:null,Consumer:null},P.Provider=P,P.Consumer={$$typeof:u,_context:P},P},Pe.createElement=function(P,J,ue){var ee,he={},be=null;if(J!=null)for(ee in J.key!==void 0&&(be=""+J.key),J)ie.call(J,ee)&&ee!=="key"&&ee!=="__self"&&ee!=="__source"&&(he[ee]=J[ee]);var me=arguments.length-2;if(me===1)he.children=ue;else if(1<me){for(var Oe=Array(me),ze=0;ze<me;ze++)Oe[ze]=arguments[ze+2];he.children=Oe}if(P&&P.defaultProps)for(ee in me=P.defaultProps,me)he[ee]===void 0&&(he[ee]=me[ee]);return N(P,be,void 0,void 0,null,he)},Pe.createRef=function(){return{current:null}},Pe.forwardRef=function(P){return{$$typeof:d,render:P}},Pe.isValidElement=R,Pe.lazy=function(P){return{$$typeof:_,_payload:{_status:-1,_result:P},_init:ce}},Pe.memo=function(P,J){return{$$typeof:g,type:P,compare:J===void 0?null:J}},Pe.startTransition=function(P){var J=$.T,ue={};$.T=ue;try{var ee=P(),he=$.S;he!==null&&he(ue,ee),typeof ee=="object"&&ee!==null&&typeof ee.then=="function"&&ee.then(Re,ne)}catch(be){ne(be)}finally{$.T=J}},Pe.unstable_useCacheRefresh=function(){return $.H.useCacheRefresh()},Pe.use=function(P){return $.H.use(P)},Pe.useActionState=function(P,J,ue){return $.H.useActionState(P,J,ue)},Pe.useCallback=function(P,J){return $.H.useCallback(P,J)},Pe.useContext=function(P){return $.H.useContext(P)},Pe.useDebugValue=function(){},Pe.useDeferredValue=function(P,J){return $.H.useDeferredValue(P,J)},Pe.useEffect=function(P,J,ue){var ee=$.H;if(typeof ue=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return ee.useEffect(P,J)},Pe.useId=function(){return $.H.useId()},Pe.useImperativeHandle=function(P,J,ue){return $.H.useImperativeHandle(P,J,ue)},Pe.useInsertionEffect=function(P,J){return $.H.useInsertionEffect(P,J)},Pe.useLayoutEffect=function(P,J){return $.H.useLayoutEffect(P,J)},Pe.useMemo=function(P,J){return $.H.useMemo(P,J)},Pe.useOptimistic=function(P,J){return $.H.useOptimistic(P,J)},Pe.useReducer=function(P,J,ue){return $.H.useReducer(P,J,ue)},Pe.useRef=function(P){return $.H.useRef(P)},Pe.useState=function(P){return $.H.useState(P)},Pe.useSyncExternalStore=function(P,J,ue){return $.H.useSyncExternalStore(P,J,ue)},Pe.useTransition=function(){return $.H.useTransition()},Pe.version="19.1.0",Pe}var J_;function Np(){return J_||(J_=1,Dm.exports=tA()),Dm.exports}var Nm={exports:{}},vn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var e0;function nA(){if(e0)return vn;e0=1;var r=Np();function e(p){var g="https://react.dev/errors/"+p;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var _=2;_<arguments.length;_++)g+="&args[]="+encodeURIComponent(arguments[_])}return"Minified React error #"+p+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var s={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(p,g,_){var v=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:v==null?null:""+v,children:p,containerInfo:g,implementation:_}}var h=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function d(p,g){if(p==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return vn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,vn.createPortal=function(p,g){var _=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(e(299));return u(p,g,null,_)},vn.flushSync=function(p){var g=h.T,_=s.p;try{if(h.T=null,s.p=2,p)return p()}finally{h.T=g,s.p=_,s.d.f()}},vn.preconnect=function(p,g){typeof p=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,s.d.C(p,g))},vn.prefetchDNS=function(p){typeof p=="string"&&s.d.D(p)},vn.preinit=function(p,g){if(typeof p=="string"&&g&&typeof g.as=="string"){var _=g.as,v=d(_,g.crossOrigin),T=typeof g.integrity=="string"?g.integrity:void 0,x=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;_==="style"?s.d.S(p,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:v,integrity:T,fetchPriority:x}):_==="script"&&s.d.X(p,{crossOrigin:v,integrity:T,fetchPriority:x,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},vn.preinitModule=function(p,g){if(typeof p=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var _=d(g.as,g.crossOrigin);s.d.M(p,{crossOrigin:_,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&s.d.M(p)},vn.preload=function(p,g){if(typeof p=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var _=g.as,v=d(_,g.crossOrigin);s.d.L(p,_,{crossOrigin:v,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},vn.preloadModule=function(p,g){if(typeof p=="string")if(g){var _=d(g.as,g.crossOrigin);s.d.m(p,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:_,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else s.d.m(p)},vn.requestFormReset=function(p){s.d.r(p)},vn.unstable_batchedUpdates=function(p,g){return p(g)},vn.useFormState=function(p,g,_){return h.H.useFormState(p,g,_)},vn.useFormStatus=function(){return h.H.useHostTransitionStatus()},vn.version="19.1.0",vn}var t0;function hE(){if(t0)return Nm.exports;t0=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),Nm.exports=nA(),Nm.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var n0;function rA(){if(n0)return eu;n0=1;var r=eA(),e=Np(),t=hE();function s(n){var i="https://react.dev/errors/"+n;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)i+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+n+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function u(n){var i=n,a=n;if(n.alternate)for(;i.return;)i=i.return;else{n=i;do i=n,(i.flags&4098)!==0&&(a=i.return),n=i.return;while(n)}return i.tag===3?a:null}function h(n){if(n.tag===13){var i=n.memoizedState;if(i===null&&(n=n.alternate,n!==null&&(i=n.memoizedState)),i!==null)return i.dehydrated}return null}function d(n){if(u(n)!==n)throw Error(s(188))}function p(n){var i=n.alternate;if(!i){if(i=u(n),i===null)throw Error(s(188));return i!==n?null:n}for(var a=n,l=i;;){var f=a.return;if(f===null)break;var m=f.alternate;if(m===null){if(l=f.return,l!==null){a=l;continue}break}if(f.child===m.child){for(m=f.child;m;){if(m===a)return d(f),n;if(m===l)return d(f),i;m=m.sibling}throw Error(s(188))}if(a.return!==l.return)a=f,l=m;else{for(var E=!1,w=f.child;w;){if(w===a){E=!0,a=f,l=m;break}if(w===l){E=!0,l=f,a=m;break}w=w.sibling}if(!E){for(w=m.child;w;){if(w===a){E=!0,a=m,l=f;break}if(w===l){E=!0,l=m,a=f;break}w=w.sibling}if(!E)throw Error(s(189))}}if(a.alternate!==l)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?n:i}function g(n){var i=n.tag;if(i===5||i===26||i===27||i===6)return n;for(n=n.child;n!==null;){if(i=g(n),i!==null)return i;n=n.sibling}return null}var _=Object.assign,v=Symbol.for("react.element"),T=Symbol.for("react.transitional.element"),x=Symbol.for("react.portal"),C=Symbol.for("react.fragment"),O=Symbol.for("react.strict_mode"),D=Symbol.for("react.profiler"),z=Symbol.for("react.provider"),Y=Symbol.for("react.consumer"),Q=Symbol.for("react.context"),oe=Symbol.for("react.forward_ref"),$=Symbol.for("react.suspense"),ie=Symbol.for("react.suspense_list"),N=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),R=Symbol.for("react.activity"),M=Symbol.for("react.memo_cache_sentinel"),L=Symbol.iterator;function U(n){return n===null||typeof n!="object"?null:(n=L&&n[L]||n["@@iterator"],typeof n=="function"?n:null)}var I=Symbol.for("react.client.reference");function Ke(n){if(n==null)return null;if(typeof n=="function")return n.$$typeof===I?null:n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case C:return"Fragment";case D:return"Profiler";case O:return"StrictMode";case $:return"Suspense";case ie:return"SuspenseList";case R:return"Activity"}if(typeof n=="object")switch(n.$$typeof){case x:return"Portal";case Q:return(n.displayName||"Context")+".Provider";case Y:return(n._context.displayName||"Context")+".Consumer";case oe:var i=n.render;return n=n.displayName,n||(n=i.displayName||i.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case N:return i=n.displayName||null,i!==null?i:Ke(n.type)||"Memo";case S:i=n._payload,n=n._init;try{return Ke(n(i))}catch{}}return null}var xe=Array.isArray,q=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ce=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ne={pending:!1,data:null,method:null,action:null},Re=[],P=-1;function J(n){return{current:n}}function ue(n){0>P||(n.current=Re[P],Re[P]=null,P--)}function ee(n,i){P++,Re[P]=n.current,n.current=i}var he=J(null),be=J(null),me=J(null),Oe=J(null);function ze(n,i){switch(ee(me,i),ee(be,n),ee(he,null),i.nodeType){case 9:case 11:n=(n=i.documentElement)&&(n=n.namespaceURI)?T_(n):0;break;default:if(n=i.tagName,i=i.namespaceURI)i=T_(i),n=w_(i,n);else switch(n){case"svg":n=1;break;case"math":n=2;break;default:n=0}}ue(he),ee(he,n)}function Tt(){ue(he),ue(be),ue(me)}function Nt(n){n.memoizedState!==null&&ee(Oe,n);var i=he.current,a=w_(i,n.type);i!==a&&(ee(be,n),ee(he,a))}function rn(n){be.current===n&&(ue(he),ue(be)),Oe.current===n&&(ue(Oe),Ql._currentValue=ne)}var sn=Object.prototype.hasOwnProperty,we=r.unstable_scheduleCallback,Be=r.unstable_cancelCallback,dt=r.unstable_shouldYield,Ct=r.unstable_requestPaint,Ze=r.unstable_now,ti=r.unstable_getCurrentPriorityLevel,wt=r.unstable_ImmediatePriority,qi=r.unstable_UserBlockingPriority,ni=r.unstable_NormalPriority,an=r.unstable_LowPriority,Vn=r.unstable_IdlePriority,Us=r.log,La=r.unstable_setDisableYieldValue,ht=null,tt=null;function gn(n){if(typeof Us=="function"&&La(n),tt&&typeof tt.setStrictMode=="function")try{tt.setStrictMode(ht,n)}catch{}}var Vt=Math.clz32?Math.clz32:xn,or=Math.log,Ua=Math.LN2;function xn(n){return n>>>=0,n===0?32:31-(or(n)/Ua|0)|0}var ri=256,ii=4194304;function In(n){var i=n&42;if(i!==0)return i;switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return n&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return n}}function si(n,i,a){var l=n.pendingLanes;if(l===0)return 0;var f=0,m=n.suspendedLanes,E=n.pingedLanes;n=n.warmLanes;var w=l&134217727;return w!==0?(l=w&~m,l!==0?f=In(l):(E&=w,E!==0?f=In(E):a||(a=w&~n,a!==0&&(f=In(a))))):(w=l&~m,w!==0?f=In(w):E!==0?f=In(E):a||(a=l&~n,a!==0&&(f=In(a)))),f===0?0:i!==0&&i!==f&&(i&m)===0&&(m=f&-f,a=i&-i,m>=a||m===32&&(a&4194048)!==0)?i:f}function ai(n,i){return(n.pendingLanes&~(n.suspendedLanes&~n.pingedLanes)&i)===0}function oi(n,i){switch(n){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Dn(){var n=ri;return ri<<=1,(ri&4194048)===0&&(ri=256),n}function zs(){var n=ii;return ii<<=1,(ii&62914560)===0&&(ii=4194304),n}function lr(n){for(var i=[],a=0;31>a;a++)i.push(n);return i}function Kn(n,i){n.pendingLanes|=i,i!==268435456&&(n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0)}function Fi(n,i,a,l,f,m){var E=n.pendingLanes;n.pendingLanes=a,n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0,n.expiredLanes&=a,n.entangledLanes&=a,n.errorRecoveryDisabledLanes&=a,n.shellSuspendCounter=0;var w=n.entanglements,k=n.expirationTimes,G=n.hiddenUpdates;for(a=E&~a;0<a;){var te=31-Vt(a),se=1<<te;w[te]=0,k[te]=-1;var K=G[te];if(K!==null)for(G[te]=null,te=0;te<K.length;te++){var X=K[te];X!==null&&(X.lane&=-536870913)}a&=~se}l!==0&&Se(n,l,0),m!==0&&f===0&&n.tag!==0&&(n.suspendedLanes|=m&~(E&~i))}function Se(n,i,a){n.pendingLanes|=i,n.suspendedLanes&=~i;var l=31-Vt(i);n.entangledLanes|=i,n.entanglements[l]=n.entanglements[l]|1073741824|a&4194090}function vt(n,i){var a=n.entangledLanes|=i;for(n=n.entanglements;a;){var l=31-Vt(a),f=1<<l;f&i|n[l]&i&&(n[l]|=i),a&=~f}}function yt(n){switch(n){case 2:n=1;break;case 8:n=4;break;case 32:n=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:n=128;break;case 268435456:n=134217728;break;default:n=0}return n}function Lt(n){return n&=-n,2<n?8<n?(n&134217727)!==0?32:268435456:8:2}function Ln(){var n=ce.p;return n!==0?n:(n=window.event,n===void 0?32:q_(n.type))}function xt(n,i){var a=ce.p;try{return ce.p=n,i()}finally{ce.p=a}}var qe=Math.random().toString(36).slice(2),_t="__reactFiber$"+qe,Je="__reactProps$"+qe,bt="__reactContainer$"+qe,Hi="__reactEvents$"+qe,ur="__reactListeners$"+qe,li="__reactHandles$"+qe,Gu="__reactResources$"+qe,js="__reactMarker$"+qe;function Gi(n){delete n[_t],delete n[Je],delete n[Hi],delete n[ur],delete n[li]}function ui(n){var i=n[_t];if(i)return i;for(var a=n.parentNode;a;){if(i=a[bt]||a[_t]){if(a=i.alternate,i.child!==null||a!==null&&a.child!==null)for(n=C_(n);n!==null;){if(a=n[_t])return a;n=C_(n)}return i}n=a,a=n.parentNode}return null}function Tr(n){if(n=n[_t]||n[bt]){var i=n.tag;if(i===5||i===6||i===13||i===26||i===27||i===3)return n}return null}function wr(n){var i=n.tag;if(i===5||i===26||i===27||i===6)return n.stateNode;throw Error(s(33))}function wn(n){var i=n[Gu];return i||(i=n[Gu]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function Ot(n){n[js]=!0}var el=new Set,za={};function cr(n,i){ci(n,i),ci(n+"Capture",i)}function ci(n,i){for(za[n]=i,n=0;n<i.length;n++)el.add(i[n])}var Yu=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Ku={},Bs={};function Qu(n){return sn.call(Bs,n)?!0:sn.call(Ku,n)?!1:Yu.test(n)?Bs[n]=!0:(Ku[n]=!0,!1)}function Yi(n,i,a){if(Qu(i))if(a===null)n.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":n.removeAttribute(i);return;case"boolean":var l=i.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){n.removeAttribute(i);return}}n.setAttribute(i,""+a)}}function Sr(n,i,a){if(a===null)n.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(i);return}n.setAttribute(i,""+a)}}function on(n,i,a,l){if(l===null)n.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(a);return}n.setAttributeNS(i,a,""+l)}}var qs,$u;function hi(n){if(qs===void 0)try{throw Error()}catch(a){var i=a.stack.trim().match(/\n( *(at )?)/);qs=i&&i[1]||"",$u=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+qs+n+$u}var ja=!1;function Ba(n,i){if(!n||ja)return"";ja=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(i){var se=function(){throw Error()};if(Object.defineProperty(se.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(se,[])}catch(X){var K=X}Reflect.construct(n,[],se)}else{try{se.call()}catch(X){K=X}n.call(se.prototype)}}else{try{throw Error()}catch(X){K=X}(se=n())&&typeof se.catch=="function"&&se.catch(function(){})}}catch(X){if(X&&K&&typeof X.stack=="string")return[X.stack,K.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var m=l.DetermineComponentFrameRoot(),E=m[0],w=m[1];if(E&&w){var k=E.split(`
`),G=w.split(`
`);for(f=l=0;l<k.length&&!k[l].includes("DetermineComponentFrameRoot");)l++;for(;f<G.length&&!G[f].includes("DetermineComponentFrameRoot");)f++;if(l===k.length||f===G.length)for(l=k.length-1,f=G.length-1;1<=l&&0<=f&&k[l]!==G[f];)f--;for(;1<=l&&0<=f;l--,f--)if(k[l]!==G[f]){if(l!==1||f!==1)do if(l--,f--,0>f||k[l]!==G[f]){var te=`
`+k[l].replace(" at new "," at ");return n.displayName&&te.includes("<anonymous>")&&(te=te.replace("<anonymous>",n.displayName)),te}while(1<=l&&0<=f);break}}}finally{ja=!1,Error.prepareStackTrace=a}return(a=n?n.displayName||n.name:"")?hi(a):""}function tl(n){switch(n.tag){case 26:case 27:case 5:return hi(n.type);case 16:return hi("Lazy");case 13:return hi("Suspense");case 19:return hi("SuspenseList");case 0:case 15:return Ba(n.type,!1);case 11:return Ba(n.type.render,!1);case 1:return Ba(n.type,!0);case 31:return hi("Activity");default:return""}}function qa(n){try{var i="";do i+=tl(n),n=n.return;while(n);return i}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function Sn(n){switch(typeof n){case"bigint":case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function nl(n){var i=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function Df(n){var i=nl(n)?"checked":"value",a=Object.getOwnPropertyDescriptor(n.constructor.prototype,i),l=""+n[i];if(!n.hasOwnProperty(i)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var f=a.get,m=a.set;return Object.defineProperty(n,i,{configurable:!0,get:function(){return f.call(this)},set:function(E){l=""+E,m.call(this,E)}}),Object.defineProperty(n,i,{enumerable:a.enumerable}),{getValue:function(){return l},setValue:function(E){l=""+E},stopTracking:function(){n._valueTracker=null,delete n[i]}}}}function Fa(n){n._valueTracker||(n._valueTracker=Df(n))}function rl(n){if(!n)return!1;var i=n._valueTracker;if(!i)return!0;var a=i.getValue(),l="";return n&&(l=nl(n)?n.checked?"true":"false":n.value),n=l,n!==a?(i.setValue(n),!0):!1}function Fs(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}var Nf=/[\n"\\]/g;function Ut(n){return n.replace(Nf,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function Un(n,i,a,l,f,m,E,w){n.name="",E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?n.type=E:n.removeAttribute("type"),i!=null?E==="number"?(i===0&&n.value===""||n.value!=i)&&(n.value=""+Sn(i)):n.value!==""+Sn(i)&&(n.value=""+Sn(i)):E!=="submit"&&E!=="reset"||n.removeAttribute("value"),i!=null?Ki(n,E,Sn(i)):a!=null?Ki(n,E,Sn(a)):l!=null&&n.removeAttribute("value"),f==null&&m!=null&&(n.defaultChecked=!!m),f!=null&&(n.checked=f&&typeof f!="function"&&typeof f!="symbol"),w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"?n.name=""+Sn(w):n.removeAttribute("name")}function Hs(n,i,a,l,f,m,E,w){if(m!=null&&typeof m!="function"&&typeof m!="symbol"&&typeof m!="boolean"&&(n.type=m),i!=null||a!=null){if(!(m!=="submit"&&m!=="reset"||i!=null))return;a=a!=null?""+Sn(a):"",i=i!=null?""+Sn(i):a,w||i===n.value||(n.value=i),n.defaultValue=i}l=l??f,l=typeof l!="function"&&typeof l!="symbol"&&!!l,n.checked=w?n.checked:!!l,n.defaultChecked=!!l,E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"&&(n.name=E)}function Ki(n,i,a){i==="number"&&Fs(n.ownerDocument)===n||n.defaultValue===""+a||(n.defaultValue=""+a)}function fi(n,i,a,l){if(n=n.options,i){i={};for(var f=0;f<a.length;f++)i["$"+a[f]]=!0;for(a=0;a<n.length;a++)f=i.hasOwnProperty("$"+n[a].value),n[a].selected!==f&&(n[a].selected=f),f&&l&&(n[a].defaultSelected=!0)}else{for(a=""+Sn(a),i=null,f=0;f<n.length;f++){if(n[f].value===a){n[f].selected=!0,l&&(n[f].defaultSelected=!0);return}i!==null||n[f].disabled||(i=n[f])}i!==null&&(i.selected=!0)}}function ot(n,i,a){if(i!=null&&(i=""+Sn(i),i!==n.value&&(n.value=i),a==null)){n.defaultValue!==i&&(n.defaultValue=i);return}n.defaultValue=a!=null?""+Sn(a):""}function Gs(n,i,a,l){if(i==null){if(l!=null){if(a!=null)throw Error(s(92));if(xe(l)){if(1<l.length)throw Error(s(93));l=l[0]}a=l}a==null&&(a=""),i=a}a=Sn(i),n.defaultValue=a,l=n.textContent,l===a&&l!==""&&l!==null&&(n.value=l)}function Qn(n,i){if(i){var a=n.firstChild;if(a&&a===n.lastChild&&a.nodeType===3){a.nodeValue=i;return}}n.textContent=i}var Ys=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Xu(n,i,a){var l=i.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?n.setProperty(i,""):i==="float"?n.cssFloat="":n[i]="":l?n.setProperty(i,a):typeof a!="number"||a===0||Ys.has(i)?i==="float"?n.cssFloat=a:n[i]=(""+a).trim():n[i]=a+"px"}function il(n,i,a){if(i!=null&&typeof i!="object")throw Error(s(62));if(n=n.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||i!=null&&i.hasOwnProperty(l)||(l.indexOf("--")===0?n.setProperty(l,""):l==="float"?n.cssFloat="":n[l]="");for(var f in i)l=i[f],i.hasOwnProperty(f)&&a[f]!==l&&Xu(n,f,l)}else for(var m in i)i.hasOwnProperty(m)&&Xu(n,m,i[m])}function sl(n){if(n.indexOf("-")===-1)return!1;switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Of=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),kf=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ha(n){return kf.test(""+n)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":n}var di=null;function $n(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var mi=null,pi=null;function al(n){var i=Tr(n);if(i&&(n=i.stateNode)){var a=n[Je]||null;e:switch(n=i.stateNode,i.type){case"input":if(Un(n,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),i=a.name,a.type==="radio"&&i!=null){for(a=n;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+Ut(""+i)+'"][type="radio"]'),i=0;i<a.length;i++){var l=a[i];if(l!==n&&l.form===n.form){var f=l[Je]||null;if(!f)throw Error(s(90));Un(l,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(i=0;i<a.length;i++)l=a[i],l.form===n.form&&rl(l)}break e;case"textarea":ot(n,a.value,a.defaultValue);break e;case"select":i=a.value,i!=null&&fi(n,!!a.multiple,i,!1)}}}var Ar=!1;function Wu(n,i,a){if(Ar)return n(i,a);Ar=!0;try{var l=n(i);return l}finally{if(Ar=!1,(mi!==null||pi!==null)&&(Hc(),mi&&(i=mi,n=pi,pi=mi=null,al(i),n)))for(i=0;i<n.length;i++)al(n[i])}}function Ks(n,i){var a=n.stateNode;if(a===null)return null;var l=a[Je]||null;if(l===null)return null;a=l[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(n=n.type,l=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!l;break e;default:n=!1}if(n)return null;if(a&&typeof a!="function")throw Error(s(231,i,typeof a));return a}var hr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Xn=!1;if(hr)try{var Qs={};Object.defineProperty(Qs,"passive",{get:function(){Xn=!0}}),window.addEventListener("test",Qs,Qs),window.removeEventListener("test",Qs,Qs)}catch{Xn=!1}var Rr=null,Qi=null,gi=null;function ol(){if(gi)return gi;var n,i=Qi,a=i.length,l,f="value"in Rr?Rr.value:Rr.textContent,m=f.length;for(n=0;n<a&&i[n]===f[n];n++);var E=a-n;for(l=1;l<=E&&i[a-l]===f[m-l];l++);return gi=f.slice(n,1<l?1-l:void 0)}function Cr(n){var i=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&i===13&&(n=13)):n=i,n===10&&(n=13),32<=n||n===13?n:0}function xr(){return!0}function ll(){return!1}function Wt(n){function i(a,l,f,m,E){this._reactName=a,this._targetInst=f,this.type=l,this.nativeEvent=m,this.target=E,this.currentTarget=null;for(var w in n)n.hasOwnProperty(w)&&(a=n[w],this[w]=a?a(m):m[w]);return this.isDefaultPrevented=(m.defaultPrevented!=null?m.defaultPrevented:m.returnValue===!1)?xr:ll,this.isPropagationStopped=ll,this}return _(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=xr)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=xr)},persist:function(){},isPersistent:xr}),i}var rt={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ga=Wt(rt),$s=_({},rt,{view:0,detail:0}),Zu=Wt($s),Ya,Ka,Ir,Xs=_({},$s,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Js,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==Ir&&(Ir&&n.type==="mousemove"?(Ya=n.screenX-Ir.screenX,Ka=n.screenY-Ir.screenY):Ka=Ya=0,Ir=n),Ya)},movementY:function(n){return"movementY"in n?n.movementY:Ka}}),Wn=Wt(Xs),Ju=_({},Xs,{dataTransfer:0}),Mf=Wt(Ju),Ws=_({},$s,{relatedTarget:0}),Qa=Wt(Ws),ul=_({},rt,{animationName:0,elapsedTime:0,pseudoElement:0}),$a=Wt(ul),ec=_({},rt,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),Xa=Wt(ec),Pf=_({},rt,{data:0}),cl=Wt(Pf),Zs={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},tc={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},nc={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function hl(n){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(n):(n=nc[n])?!!i[n]:!1}function Js(){return hl}var rc=_({},$s,{key:function(n){if(n.key){var i=Zs[n.key]||n.key;if(i!=="Unidentified")return i}return n.type==="keypress"?(n=Cr(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?tc[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Js,charCode:function(n){return n.type==="keypress"?Cr(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?Cr(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),Wa=Wt(rc),ic=_({},Xs,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),fl=Wt(ic),yi=_({},$s,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Js}),sc=Wt(yi),ac=_({},rt,{propertyName:0,elapsedTime:0,pseudoElement:0}),oc=Wt(ac),lc=_({},Xs,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),Za=Wt(lc),An=_({},rt,{newState:0,oldState:0}),uc=Wt(An),cc=[9,13,27,32],Dr=hr&&"CompositionEvent"in window,c=null;hr&&"documentMode"in document&&(c=document.documentMode);var y=hr&&"TextEvent"in window&&!c,b=hr&&(!Dr||c&&8<c&&11>=c),A=" ",F=!1;function Z(n,i){switch(n){case"keyup":return cc.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function fe(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var Qe=!1;function Gt(n,i){switch(n){case"compositionend":return fe(i);case"keypress":return i.which!==32?null:(F=!0,A);case"textInput":return n=i.data,n===A&&F?null:n;default:return null}}function $e(n,i){if(Qe)return n==="compositionend"||!Dr&&Z(n,i)?(n=ol(),gi=Qi=Rr=null,Qe=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return b&&i.locale!=="ko"?null:i.data;default:return null}}var Zt={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Yt(n){var i=n&&n.nodeName&&n.nodeName.toLowerCase();return i==="input"?!!Zt[n.type]:i==="textarea"}function vi(n,i,a,l){mi?pi?pi.push(l):pi=[l]:mi=l,i=Xc(i,"onChange"),0<i.length&&(a=new Ga("onChange","change",null,a,l),n.push({event:a,listeners:i}))}var ln=null,Nr=null;function dl(n){y_(n,0)}function hc(n){var i=wr(n);if(rl(i))return n}function Ug(n,i){if(n==="change")return i}var zg=!1;if(hr){var Vf;if(hr){var Lf="oninput"in document;if(!Lf){var jg=document.createElement("div");jg.setAttribute("oninput","return;"),Lf=typeof jg.oninput=="function"}Vf=Lf}else Vf=!1;zg=Vf&&(!document.documentMode||9<document.documentMode)}function Bg(){ln&&(ln.detachEvent("onpropertychange",qg),Nr=ln=null)}function qg(n){if(n.propertyName==="value"&&hc(Nr)){var i=[];vi(i,Nr,n,$n(n)),Wu(dl,i)}}function CS(n,i,a){n==="focusin"?(Bg(),ln=i,Nr=a,ln.attachEvent("onpropertychange",qg)):n==="focusout"&&Bg()}function xS(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return hc(Nr)}function IS(n,i){if(n==="click")return hc(i)}function DS(n,i){if(n==="input"||n==="change")return hc(i)}function NS(n,i){return n===i&&(n!==0||1/n===1/i)||n!==n&&i!==i}var zn=typeof Object.is=="function"?Object.is:NS;function ml(n,i){if(zn(n,i))return!0;if(typeof n!="object"||n===null||typeof i!="object"||i===null)return!1;var a=Object.keys(n),l=Object.keys(i);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var f=a[l];if(!sn.call(i,f)||!zn(n[f],i[f]))return!1}return!0}function Fg(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function Hg(n,i){var a=Fg(n);n=0;for(var l;a;){if(a.nodeType===3){if(l=n+a.textContent.length,n<=i&&l>=i)return{node:a,offset:i-n};n=l}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=Fg(a)}}function Gg(n,i){return n&&i?n===i?!0:n&&n.nodeType===3?!1:i&&i.nodeType===3?Gg(n,i.parentNode):"contains"in n?n.contains(i):n.compareDocumentPosition?!!(n.compareDocumentPosition(i)&16):!1:!1}function Yg(n){n=n!=null&&n.ownerDocument!=null&&n.ownerDocument.defaultView!=null?n.ownerDocument.defaultView:window;for(var i=Fs(n.document);i instanceof n.HTMLIFrameElement;){try{var a=typeof i.contentWindow.location.href=="string"}catch{a=!1}if(a)n=i.contentWindow;else break;i=Fs(n.document)}return i}function Uf(n){var i=n&&n.nodeName&&n.nodeName.toLowerCase();return i&&(i==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||i==="textarea"||n.contentEditable==="true")}var OS=hr&&"documentMode"in document&&11>=document.documentMode,Ja=null,zf=null,pl=null,jf=!1;function Kg(n,i,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;jf||Ja==null||Ja!==Fs(l)||(l=Ja,"selectionStart"in l&&Uf(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),pl&&ml(pl,l)||(pl=l,l=Xc(zf,"onSelect"),0<l.length&&(i=new Ga("onSelect","select",null,i,a),n.push({event:i,listeners:l}),i.target=Ja)))}function ea(n,i){var a={};return a[n.toLowerCase()]=i.toLowerCase(),a["Webkit"+n]="webkit"+i,a["Moz"+n]="moz"+i,a}var eo={animationend:ea("Animation","AnimationEnd"),animationiteration:ea("Animation","AnimationIteration"),animationstart:ea("Animation","AnimationStart"),transitionrun:ea("Transition","TransitionRun"),transitionstart:ea("Transition","TransitionStart"),transitioncancel:ea("Transition","TransitionCancel"),transitionend:ea("Transition","TransitionEnd")},Bf={},Qg={};hr&&(Qg=document.createElement("div").style,"AnimationEvent"in window||(delete eo.animationend.animation,delete eo.animationiteration.animation,delete eo.animationstart.animation),"TransitionEvent"in window||delete eo.transitionend.transition);function ta(n){if(Bf[n])return Bf[n];if(!eo[n])return n;var i=eo[n],a;for(a in i)if(i.hasOwnProperty(a)&&a in Qg)return Bf[n]=i[a];return n}var $g=ta("animationend"),Xg=ta("animationiteration"),Wg=ta("animationstart"),kS=ta("transitionrun"),MS=ta("transitionstart"),PS=ta("transitioncancel"),Zg=ta("transitionend"),Jg=new Map,qf="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");qf.push("scrollEnd");function fr(n,i){Jg.set(n,i),cr(i,[n])}var ey=new WeakMap;function Zn(n,i){if(typeof n=="object"&&n!==null){var a=ey.get(n);return a!==void 0?a:(i={value:n,source:i,stack:qa(i)},ey.set(n,i),i)}return{value:n,source:i,stack:qa(i)}}var Jn=[],to=0,Ff=0;function fc(){for(var n=to,i=Ff=to=0;i<n;){var a=Jn[i];Jn[i++]=null;var l=Jn[i];Jn[i++]=null;var f=Jn[i];Jn[i++]=null;var m=Jn[i];if(Jn[i++]=null,l!==null&&f!==null){var E=l.pending;E===null?f.next=f:(f.next=E.next,E.next=f),l.pending=f}m!==0&&ty(a,f,m)}}function dc(n,i,a,l){Jn[to++]=n,Jn[to++]=i,Jn[to++]=a,Jn[to++]=l,Ff|=l,n.lanes|=l,n=n.alternate,n!==null&&(n.lanes|=l)}function Hf(n,i,a,l){return dc(n,i,a,l),mc(n)}function no(n,i){return dc(n,null,null,i),mc(n)}function ty(n,i,a){n.lanes|=a;var l=n.alternate;l!==null&&(l.lanes|=a);for(var f=!1,m=n.return;m!==null;)m.childLanes|=a,l=m.alternate,l!==null&&(l.childLanes|=a),m.tag===22&&(n=m.stateNode,n===null||n._visibility&1||(f=!0)),n=m,m=m.return;return n.tag===3?(m=n.stateNode,f&&i!==null&&(f=31-Vt(a),n=m.hiddenUpdates,l=n[f],l===null?n[f]=[i]:l.push(i),i.lane=a|536870912),m):null}function mc(n){if(50<jl)throw jl=0,Xd=null,Error(s(185));for(var i=n.return;i!==null;)n=i,i=n.return;return n.tag===3?n.stateNode:null}var ro={};function VS(n,i,a,l){this.tag=n,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function jn(n,i,a,l){return new VS(n,i,a,l)}function Gf(n){return n=n.prototype,!(!n||!n.isReactComponent)}function _i(n,i){var a=n.alternate;return a===null?(a=jn(n.tag,i,n.key,n.mode),a.elementType=n.elementType,a.type=n.type,a.stateNode=n.stateNode,a.alternate=n,n.alternate=a):(a.pendingProps=i,a.type=n.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=n.flags&65011712,a.childLanes=n.childLanes,a.lanes=n.lanes,a.child=n.child,a.memoizedProps=n.memoizedProps,a.memoizedState=n.memoizedState,a.updateQueue=n.updateQueue,i=n.dependencies,a.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},a.sibling=n.sibling,a.index=n.index,a.ref=n.ref,a.refCleanup=n.refCleanup,a}function ny(n,i){n.flags&=65011714;var a=n.alternate;return a===null?(n.childLanes=0,n.lanes=i,n.child=null,n.subtreeFlags=0,n.memoizedProps=null,n.memoizedState=null,n.updateQueue=null,n.dependencies=null,n.stateNode=null):(n.childLanes=a.childLanes,n.lanes=a.lanes,n.child=a.child,n.subtreeFlags=0,n.deletions=null,n.memoizedProps=a.memoizedProps,n.memoizedState=a.memoizedState,n.updateQueue=a.updateQueue,n.type=a.type,i=a.dependencies,n.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),n}function pc(n,i,a,l,f,m){var E=0;if(l=n,typeof n=="function")Gf(n)&&(E=1);else if(typeof n=="string")E=U1(n,a,he.current)?26:n==="html"||n==="head"||n==="body"?27:5;else e:switch(n){case R:return n=jn(31,a,i,f),n.elementType=R,n.lanes=m,n;case C:return na(a.children,f,m,i);case O:E=8,f|=24;break;case D:return n=jn(12,a,i,f|2),n.elementType=D,n.lanes=m,n;case $:return n=jn(13,a,i,f),n.elementType=$,n.lanes=m,n;case ie:return n=jn(19,a,i,f),n.elementType=ie,n.lanes=m,n;default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case z:case Q:E=10;break e;case Y:E=9;break e;case oe:E=11;break e;case N:E=14;break e;case S:E=16,l=null;break e}E=29,a=Error(s(130,n===null?"null":typeof n,"")),l=null}return i=jn(E,a,i,f),i.elementType=n,i.type=l,i.lanes=m,i}function na(n,i,a,l){return n=jn(7,n,l,i),n.lanes=a,n}function Yf(n,i,a){return n=jn(6,n,null,i),n.lanes=a,n}function Kf(n,i,a){return i=jn(4,n.children!==null?n.children:[],n.key,i),i.lanes=a,i.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},i}var io=[],so=0,gc=null,yc=0,er=[],tr=0,ra=null,bi=1,Ei="";function ia(n,i){io[so++]=yc,io[so++]=gc,gc=n,yc=i}function ry(n,i,a){er[tr++]=bi,er[tr++]=Ei,er[tr++]=ra,ra=n;var l=bi;n=Ei;var f=32-Vt(l)-1;l&=~(1<<f),a+=1;var m=32-Vt(i)+f;if(30<m){var E=f-f%5;m=(l&(1<<E)-1).toString(32),l>>=E,f-=E,bi=1<<32-Vt(i)+f|a<<f|l,Ei=m+n}else bi=1<<m|a<<f|l,Ei=n}function Qf(n){n.return!==null&&(ia(n,1),ry(n,1,0))}function $f(n){for(;n===gc;)gc=io[--so],io[so]=null,yc=io[--so],io[so]=null;for(;n===ra;)ra=er[--tr],er[tr]=null,Ei=er[--tr],er[tr]=null,bi=er[--tr],er[tr]=null}var Rn=null,It=null,nt=!1,sa=null,Or=!1,Xf=Error(s(519));function aa(n){var i=Error(s(418,""));throw vl(Zn(i,n)),Xf}function iy(n){var i=n.stateNode,a=n.type,l=n.memoizedProps;switch(i[_t]=n,i[Je]=l,a){case"dialog":He("cancel",i),He("close",i);break;case"iframe":case"object":case"embed":He("load",i);break;case"video":case"audio":for(a=0;a<ql.length;a++)He(ql[a],i);break;case"source":He("error",i);break;case"img":case"image":case"link":He("error",i),He("load",i);break;case"details":He("toggle",i);break;case"input":He("invalid",i),Hs(i,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),Fa(i);break;case"select":He("invalid",i);break;case"textarea":He("invalid",i),Gs(i,l.value,l.defaultValue,l.children),Fa(i)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||i.textContent===""+a||l.suppressHydrationWarning===!0||E_(i.textContent,a)?(l.popover!=null&&(He("beforetoggle",i),He("toggle",i)),l.onScroll!=null&&He("scroll",i),l.onScrollEnd!=null&&He("scrollend",i),l.onClick!=null&&(i.onclick=Wc),i=!0):i=!1,i||aa(n)}function sy(n){for(Rn=n.return;Rn;)switch(Rn.tag){case 5:case 13:Or=!1;return;case 27:case 3:Or=!0;return;default:Rn=Rn.return}}function gl(n){if(n!==Rn)return!1;if(!nt)return sy(n),nt=!0,!1;var i=n.tag,a;if((a=i!==3&&i!==27)&&((a=i===5)&&(a=n.type,a=!(a!=="form"&&a!=="button")||fm(n.type,n.memoizedProps)),a=!a),a&&It&&aa(n),sy(n),i===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(s(317));e:{for(n=n.nextSibling,i=0;n;){if(n.nodeType===8)if(a=n.data,a==="/$"){if(i===0){It=mr(n.nextSibling);break e}i--}else a!=="$"&&a!=="$!"&&a!=="$?"||i++;n=n.nextSibling}It=null}}else i===27?(i=It,cs(n.type)?(n=gm,gm=null,It=n):It=i):It=Rn?mr(n.stateNode.nextSibling):null;return!0}function yl(){It=Rn=null,nt=!1}function ay(){var n=sa;return n!==null&&(kn===null?kn=n:kn.push.apply(kn,n),sa=null),n}function vl(n){sa===null?sa=[n]:sa.push(n)}var Wf=J(null),oa=null,Ti=null;function $i(n,i,a){ee(Wf,i._currentValue),i._currentValue=a}function wi(n){n._currentValue=Wf.current,ue(Wf)}function Zf(n,i,a){for(;n!==null;){var l=n.alternate;if((n.childLanes&i)!==i?(n.childLanes|=i,l!==null&&(l.childLanes|=i)):l!==null&&(l.childLanes&i)!==i&&(l.childLanes|=i),n===a)break;n=n.return}}function Jf(n,i,a,l){var f=n.child;for(f!==null&&(f.return=n);f!==null;){var m=f.dependencies;if(m!==null){var E=f.child;m=m.firstContext;e:for(;m!==null;){var w=m;m=f;for(var k=0;k<i.length;k++)if(w.context===i[k]){m.lanes|=a,w=m.alternate,w!==null&&(w.lanes|=a),Zf(m.return,a,n),l||(E=null);break e}m=w.next}}else if(f.tag===18){if(E=f.return,E===null)throw Error(s(341));E.lanes|=a,m=E.alternate,m!==null&&(m.lanes|=a),Zf(E,a,n),E=null}else E=f.child;if(E!==null)E.return=f;else for(E=f;E!==null;){if(E===n){E=null;break}if(f=E.sibling,f!==null){f.return=E.return,E=f;break}E=E.return}f=E}}function _l(n,i,a,l){n=null;for(var f=i,m=!1;f!==null;){if(!m){if((f.flags&524288)!==0)m=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var E=f.alternate;if(E===null)throw Error(s(387));if(E=E.memoizedProps,E!==null){var w=f.type;zn(f.pendingProps.value,E.value)||(n!==null?n.push(w):n=[w])}}else if(f===Oe.current){if(E=f.alternate,E===null)throw Error(s(387));E.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(n!==null?n.push(Ql):n=[Ql])}f=f.return}n!==null&&Jf(i,n,a,l),i.flags|=262144}function vc(n){for(n=n.firstContext;n!==null;){if(!zn(n.context._currentValue,n.memoizedValue))return!0;n=n.next}return!1}function la(n){oa=n,Ti=null,n=n.dependencies,n!==null&&(n.firstContext=null)}function yn(n){return oy(oa,n)}function _c(n,i){return oa===null&&la(n),oy(n,i)}function oy(n,i){var a=i._currentValue;if(i={context:i,memoizedValue:a,next:null},Ti===null){if(n===null)throw Error(s(308));Ti=i,n.dependencies={lanes:0,firstContext:i},n.flags|=524288}else Ti=Ti.next=i;return a}var LS=typeof AbortController<"u"?AbortController:function(){var n=[],i=this.signal={aborted:!1,addEventListener:function(a,l){n.push(l)}};this.abort=function(){i.aborted=!0,n.forEach(function(a){return a()})}},US=r.unstable_scheduleCallback,zS=r.unstable_NormalPriority,Kt={$$typeof:Q,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function ed(){return{controller:new LS,data:new Map,refCount:0}}function bl(n){n.refCount--,n.refCount===0&&US(zS,function(){n.controller.abort()})}var El=null,td=0,ao=0,oo=null;function jS(n,i){if(El===null){var a=El=[];td=0,ao=rm(),oo={status:"pending",value:void 0,then:function(l){a.push(l)}}}return td++,i.then(ly,ly),i}function ly(){if(--td===0&&El!==null){oo!==null&&(oo.status="fulfilled");var n=El;El=null,ao=0,oo=null;for(var i=0;i<n.length;i++)(0,n[i])()}}function BS(n,i){var a=[],l={status:"pending",value:null,reason:null,then:function(f){a.push(f)}};return n.then(function(){l.status="fulfilled",l.value=i;for(var f=0;f<a.length;f++)(0,a[f])(i)},function(f){for(l.status="rejected",l.reason=f,f=0;f<a.length;f++)(0,a[f])(void 0)}),l}var uy=q.S;q.S=function(n,i){typeof i=="object"&&i!==null&&typeof i.then=="function"&&jS(n,i),uy!==null&&uy(n,i)};var ua=J(null);function nd(){var n=ua.current;return n!==null?n:mt.pooledCache}function bc(n,i){i===null?ee(ua,ua.current):ee(ua,i.pool)}function cy(){var n=nd();return n===null?null:{parent:Kt._currentValue,pool:n}}var Tl=Error(s(460)),hy=Error(s(474)),Ec=Error(s(542)),rd={then:function(){}};function fy(n){return n=n.status,n==="fulfilled"||n==="rejected"}function Tc(){}function dy(n,i,a){switch(a=n[a],a===void 0?n.push(i):a!==i&&(i.then(Tc,Tc),i=a),i.status){case"fulfilled":return i.value;case"rejected":throw n=i.reason,py(n),n;default:if(typeof i.status=="string")i.then(Tc,Tc);else{if(n=mt,n!==null&&100<n.shellSuspendCounter)throw Error(s(482));n=i,n.status="pending",n.then(function(l){if(i.status==="pending"){var f=i;f.status="fulfilled",f.value=l}},function(l){if(i.status==="pending"){var f=i;f.status="rejected",f.reason=l}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw n=i.reason,py(n),n}throw wl=i,Tl}}var wl=null;function my(){if(wl===null)throw Error(s(459));var n=wl;return wl=null,n}function py(n){if(n===Tl||n===Ec)throw Error(s(483))}var Xi=!1;function id(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function sd(n,i){n=n.updateQueue,i.updateQueue===n&&(i.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,callbacks:null})}function Wi(n){return{lane:n,tag:0,payload:null,callback:null,next:null}}function Zi(n,i,a){var l=n.updateQueue;if(l===null)return null;if(l=l.shared,(st&2)!==0){var f=l.pending;return f===null?i.next=i:(i.next=f.next,f.next=i),l.pending=i,i=mc(n),ty(n,null,a),i}return dc(n,l,i,a),mc(n)}function Sl(n,i,a){if(i=i.updateQueue,i!==null&&(i=i.shared,(a&4194048)!==0)){var l=i.lanes;l&=n.pendingLanes,a|=l,i.lanes=a,vt(n,a)}}function ad(n,i){var a=n.updateQueue,l=n.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var f=null,m=null;if(a=a.firstBaseUpdate,a!==null){do{var E={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};m===null?f=m=E:m=m.next=E,a=a.next}while(a!==null);m===null?f=m=i:m=m.next=i}else f=m=i;a={baseState:l.baseState,firstBaseUpdate:f,lastBaseUpdate:m,shared:l.shared,callbacks:l.callbacks},n.updateQueue=a;return}n=a.lastBaseUpdate,n===null?a.firstBaseUpdate=i:n.next=i,a.lastBaseUpdate=i}var od=!1;function Al(){if(od){var n=oo;if(n!==null)throw n}}function Rl(n,i,a,l){od=!1;var f=n.updateQueue;Xi=!1;var m=f.firstBaseUpdate,E=f.lastBaseUpdate,w=f.shared.pending;if(w!==null){f.shared.pending=null;var k=w,G=k.next;k.next=null,E===null?m=G:E.next=G,E=k;var te=n.alternate;te!==null&&(te=te.updateQueue,w=te.lastBaseUpdate,w!==E&&(w===null?te.firstBaseUpdate=G:w.next=G,te.lastBaseUpdate=k))}if(m!==null){var se=f.baseState;E=0,te=G=k=null,w=m;do{var K=w.lane&-536870913,X=K!==w.lane;if(X?(Xe&K)===K:(l&K)===K){K!==0&&K===ao&&(od=!0),te!==null&&(te=te.next={lane:0,tag:w.tag,payload:w.payload,callback:null,next:null});e:{var Ne=n,Ae=w;K=i;var ct=a;switch(Ae.tag){case 1:if(Ne=Ae.payload,typeof Ne=="function"){se=Ne.call(ct,se,K);break e}se=Ne;break e;case 3:Ne.flags=Ne.flags&-65537|128;case 0:if(Ne=Ae.payload,K=typeof Ne=="function"?Ne.call(ct,se,K):Ne,K==null)break e;se=_({},se,K);break e;case 2:Xi=!0}}K=w.callback,K!==null&&(n.flags|=64,X&&(n.flags|=8192),X=f.callbacks,X===null?f.callbacks=[K]:X.push(K))}else X={lane:K,tag:w.tag,payload:w.payload,callback:w.callback,next:null},te===null?(G=te=X,k=se):te=te.next=X,E|=K;if(w=w.next,w===null){if(w=f.shared.pending,w===null)break;X=w,w=X.next,X.next=null,f.lastBaseUpdate=X,f.shared.pending=null}}while(!0);te===null&&(k=se),f.baseState=k,f.firstBaseUpdate=G,f.lastBaseUpdate=te,m===null&&(f.shared.lanes=0),as|=E,n.lanes=E,n.memoizedState=se}}function gy(n,i){if(typeof n!="function")throw Error(s(191,n));n.call(i)}function yy(n,i){var a=n.callbacks;if(a!==null)for(n.callbacks=null,n=0;n<a.length;n++)gy(a[n],i)}var lo=J(null),wc=J(0);function vy(n,i){n=Di,ee(wc,n),ee(lo,i),Di=n|i.baseLanes}function ld(){ee(wc,Di),ee(lo,lo.current)}function ud(){Di=wc.current,ue(lo),ue(wc)}var Ji=0,Ve=null,lt=null,zt=null,Sc=!1,uo=!1,ca=!1,Ac=0,Cl=0,co=null,qS=0;function kt(){throw Error(s(321))}function cd(n,i){if(i===null)return!1;for(var a=0;a<i.length&&a<n.length;a++)if(!zn(n[a],i[a]))return!1;return!0}function hd(n,i,a,l,f,m){return Ji=m,Ve=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,q.H=n===null||n.memoizedState===null?tv:nv,ca=!1,m=a(l,f),ca=!1,uo&&(m=by(i,a,l,f)),_y(n),m}function _y(n){q.H=Nc;var i=lt!==null&&lt.next!==null;if(Ji=0,zt=lt=Ve=null,Sc=!1,Cl=0,co=null,i)throw Error(s(300));n===null||Jt||(n=n.dependencies,n!==null&&vc(n)&&(Jt=!0))}function by(n,i,a,l){Ve=n;var f=0;do{if(uo&&(co=null),Cl=0,uo=!1,25<=f)throw Error(s(301));if(f+=1,zt=lt=null,n.updateQueue!=null){var m=n.updateQueue;m.lastEffect=null,m.events=null,m.stores=null,m.memoCache!=null&&(m.memoCache.index=0)}q.H=$S,m=i(a,l)}while(uo);return m}function FS(){var n=q.H,i=n.useState()[0];return i=typeof i.then=="function"?xl(i):i,n=n.useState()[0],(lt!==null?lt.memoizedState:null)!==n&&(Ve.flags|=1024),i}function fd(){var n=Ac!==0;return Ac=0,n}function dd(n,i,a){i.updateQueue=n.updateQueue,i.flags&=-2053,n.lanes&=~a}function md(n){if(Sc){for(n=n.memoizedState;n!==null;){var i=n.queue;i!==null&&(i.pending=null),n=n.next}Sc=!1}Ji=0,zt=lt=Ve=null,uo=!1,Cl=Ac=0,co=null}function Nn(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return zt===null?Ve.memoizedState=zt=n:zt=zt.next=n,zt}function jt(){if(lt===null){var n=Ve.alternate;n=n!==null?n.memoizedState:null}else n=lt.next;var i=zt===null?Ve.memoizedState:zt.next;if(i!==null)zt=i,lt=n;else{if(n===null)throw Ve.alternate===null?Error(s(467)):Error(s(310));lt=n,n={memoizedState:lt.memoizedState,baseState:lt.baseState,baseQueue:lt.baseQueue,queue:lt.queue,next:null},zt===null?Ve.memoizedState=zt=n:zt=zt.next=n}return zt}function pd(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function xl(n){var i=Cl;return Cl+=1,co===null&&(co=[]),n=dy(co,n,i),i=Ve,(zt===null?i.memoizedState:zt.next)===null&&(i=i.alternate,q.H=i===null||i.memoizedState===null?tv:nv),n}function Rc(n){if(n!==null&&typeof n=="object"){if(typeof n.then=="function")return xl(n);if(n.$$typeof===Q)return yn(n)}throw Error(s(438,String(n)))}function gd(n){var i=null,a=Ve.updateQueue;if(a!==null&&(i=a.memoCache),i==null){var l=Ve.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(i={data:l.data.map(function(f){return f.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),a===null&&(a=pd(),Ve.updateQueue=a),a.memoCache=i,a=i.data[i.index],a===void 0)for(a=i.data[i.index]=Array(n),l=0;l<n;l++)a[l]=M;return i.index++,a}function Si(n,i){return typeof i=="function"?i(n):i}function Cc(n){var i=jt();return yd(i,lt,n)}function yd(n,i,a){var l=n.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=a;var f=n.baseQueue,m=l.pending;if(m!==null){if(f!==null){var E=f.next;f.next=m.next,m.next=E}i.baseQueue=f=m,l.pending=null}if(m=n.baseState,f===null)n.memoizedState=m;else{i=f.next;var w=E=null,k=null,G=i,te=!1;do{var se=G.lane&-536870913;if(se!==G.lane?(Xe&se)===se:(Ji&se)===se){var K=G.revertLane;if(K===0)k!==null&&(k=k.next={lane:0,revertLane:0,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null}),se===ao&&(te=!0);else if((Ji&K)===K){G=G.next,K===ao&&(te=!0);continue}else se={lane:0,revertLane:G.revertLane,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null},k===null?(w=k=se,E=m):k=k.next=se,Ve.lanes|=K,as|=K;se=G.action,ca&&a(m,se),m=G.hasEagerState?G.eagerState:a(m,se)}else K={lane:se,revertLane:G.revertLane,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null},k===null?(w=k=K,E=m):k=k.next=K,Ve.lanes|=se,as|=se;G=G.next}while(G!==null&&G!==i);if(k===null?E=m:k.next=w,!zn(m,n.memoizedState)&&(Jt=!0,te&&(a=oo,a!==null)))throw a;n.memoizedState=m,n.baseState=E,n.baseQueue=k,l.lastRenderedState=m}return f===null&&(l.lanes=0),[n.memoizedState,l.dispatch]}function vd(n){var i=jt(),a=i.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=n;var l=a.dispatch,f=a.pending,m=i.memoizedState;if(f!==null){a.pending=null;var E=f=f.next;do m=n(m,E.action),E=E.next;while(E!==f);zn(m,i.memoizedState)||(Jt=!0),i.memoizedState=m,i.baseQueue===null&&(i.baseState=m),a.lastRenderedState=m}return[m,l]}function Ey(n,i,a){var l=Ve,f=jt(),m=nt;if(m){if(a===void 0)throw Error(s(407));a=a()}else a=i();var E=!zn((lt||f).memoizedState,a);E&&(f.memoizedState=a,Jt=!0),f=f.queue;var w=Sy.bind(null,l,f,n);if(Il(2048,8,w,[n]),f.getSnapshot!==i||E||zt!==null&&zt.memoizedState.tag&1){if(l.flags|=2048,ho(9,xc(),wy.bind(null,l,f,a,i),null),mt===null)throw Error(s(349));m||(Ji&124)!==0||Ty(l,i,a)}return a}function Ty(n,i,a){n.flags|=16384,n={getSnapshot:i,value:a},i=Ve.updateQueue,i===null?(i=pd(),Ve.updateQueue=i,i.stores=[n]):(a=i.stores,a===null?i.stores=[n]:a.push(n))}function wy(n,i,a,l){i.value=a,i.getSnapshot=l,Ay(i)&&Ry(n)}function Sy(n,i,a){return a(function(){Ay(i)&&Ry(n)})}function Ay(n){var i=n.getSnapshot;n=n.value;try{var a=i();return!zn(n,a)}catch{return!0}}function Ry(n){var i=no(n,2);i!==null&&Gn(i,n,2)}function _d(n){var i=Nn();if(typeof n=="function"){var a=n;if(n=a(),ca){gn(!0);try{a()}finally{gn(!1)}}}return i.memoizedState=i.baseState=n,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Si,lastRenderedState:n},i}function Cy(n,i,a,l){return n.baseState=a,yd(n,lt,typeof l=="function"?l:Si)}function HS(n,i,a,l,f){if(Dc(n))throw Error(s(485));if(n=i.action,n!==null){var m={payload:f,action:n,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(E){m.listeners.push(E)}};q.T!==null?a(!0):m.isTransition=!1,l(m),a=i.pending,a===null?(m.next=i.pending=m,xy(i,m)):(m.next=a.next,i.pending=a.next=m)}}function xy(n,i){var a=i.action,l=i.payload,f=n.state;if(i.isTransition){var m=q.T,E={};q.T=E;try{var w=a(f,l),k=q.S;k!==null&&k(E,w),Iy(n,i,w)}catch(G){bd(n,i,G)}finally{q.T=m}}else try{m=a(f,l),Iy(n,i,m)}catch(G){bd(n,i,G)}}function Iy(n,i,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){Dy(n,i,l)},function(l){return bd(n,i,l)}):Dy(n,i,a)}function Dy(n,i,a){i.status="fulfilled",i.value=a,Ny(i),n.state=a,i=n.pending,i!==null&&(a=i.next,a===i?n.pending=null:(a=a.next,i.next=a,xy(n,a)))}function bd(n,i,a){var l=n.pending;if(n.pending=null,l!==null){l=l.next;do i.status="rejected",i.reason=a,Ny(i),i=i.next;while(i!==l)}n.action=null}function Ny(n){n=n.listeners;for(var i=0;i<n.length;i++)(0,n[i])()}function Oy(n,i){return i}function ky(n,i){if(nt){var a=mt.formState;if(a!==null){e:{var l=Ve;if(nt){if(It){t:{for(var f=It,m=Or;f.nodeType!==8;){if(!m){f=null;break t}if(f=mr(f.nextSibling),f===null){f=null;break t}}m=f.data,f=m==="F!"||m==="F"?f:null}if(f){It=mr(f.nextSibling),l=f.data==="F!";break e}}aa(l)}l=!1}l&&(i=a[0])}}return a=Nn(),a.memoizedState=a.baseState=i,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Oy,lastRenderedState:i},a.queue=l,a=Zy.bind(null,Ve,l),l.dispatch=a,l=_d(!1),m=Ad.bind(null,Ve,!1,l.queue),l=Nn(),f={state:i,dispatch:null,action:n,pending:null},l.queue=f,a=HS.bind(null,Ve,f,m,a),f.dispatch=a,l.memoizedState=n,[i,a,!1]}function My(n){var i=jt();return Py(i,lt,n)}function Py(n,i,a){if(i=yd(n,i,Oy)[0],n=Cc(Si)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var l=xl(i)}catch(E){throw E===Tl?Ec:E}else l=i;i=jt();var f=i.queue,m=f.dispatch;return a!==i.memoizedState&&(Ve.flags|=2048,ho(9,xc(),GS.bind(null,f,a),null)),[l,m,n]}function GS(n,i){n.action=i}function Vy(n){var i=jt(),a=lt;if(a!==null)return Py(i,a,n);jt(),i=i.memoizedState,a=jt();var l=a.queue.dispatch;return a.memoizedState=n,[i,l,!1]}function ho(n,i,a,l){return n={tag:n,create:a,deps:l,inst:i,next:null},i=Ve.updateQueue,i===null&&(i=pd(),Ve.updateQueue=i),a=i.lastEffect,a===null?i.lastEffect=n.next=n:(l=a.next,a.next=n,n.next=l,i.lastEffect=n),n}function xc(){return{destroy:void 0,resource:void 0}}function Ly(){return jt().memoizedState}function Ic(n,i,a,l){var f=Nn();l=l===void 0?null:l,Ve.flags|=n,f.memoizedState=ho(1|i,xc(),a,l)}function Il(n,i,a,l){var f=jt();l=l===void 0?null:l;var m=f.memoizedState.inst;lt!==null&&l!==null&&cd(l,lt.memoizedState.deps)?f.memoizedState=ho(i,m,a,l):(Ve.flags|=n,f.memoizedState=ho(1|i,m,a,l))}function Uy(n,i){Ic(8390656,8,n,i)}function zy(n,i){Il(2048,8,n,i)}function jy(n,i){return Il(4,2,n,i)}function By(n,i){return Il(4,4,n,i)}function qy(n,i){if(typeof i=="function"){n=n();var a=i(n);return function(){typeof a=="function"?a():i(null)}}if(i!=null)return n=n(),i.current=n,function(){i.current=null}}function Fy(n,i,a){a=a!=null?a.concat([n]):null,Il(4,4,qy.bind(null,i,n),a)}function Ed(){}function Hy(n,i){var a=jt();i=i===void 0?null:i;var l=a.memoizedState;return i!==null&&cd(i,l[1])?l[0]:(a.memoizedState=[n,i],n)}function Gy(n,i){var a=jt();i=i===void 0?null:i;var l=a.memoizedState;if(i!==null&&cd(i,l[1]))return l[0];if(l=n(),ca){gn(!0);try{n()}finally{gn(!1)}}return a.memoizedState=[l,i],l}function Td(n,i,a){return a===void 0||(Ji&1073741824)!==0?n.memoizedState=i:(n.memoizedState=a,n=Qv(),Ve.lanes|=n,as|=n,a)}function Yy(n,i,a,l){return zn(a,i)?a:lo.current!==null?(n=Td(n,a,l),zn(n,i)||(Jt=!0),n):(Ji&42)===0?(Jt=!0,n.memoizedState=a):(n=Qv(),Ve.lanes|=n,as|=n,i)}function Ky(n,i,a,l,f){var m=ce.p;ce.p=m!==0&&8>m?m:8;var E=q.T,w={};q.T=w,Ad(n,!1,i,a);try{var k=f(),G=q.S;if(G!==null&&G(w,k),k!==null&&typeof k=="object"&&typeof k.then=="function"){var te=BS(k,l);Dl(n,i,te,Hn(n))}else Dl(n,i,l,Hn(n))}catch(se){Dl(n,i,{then:function(){},status:"rejected",reason:se},Hn())}finally{ce.p=m,q.T=E}}function YS(){}function wd(n,i,a,l){if(n.tag!==5)throw Error(s(476));var f=Qy(n).queue;Ky(n,f,i,ne,a===null?YS:function(){return $y(n),a(l)})}function Qy(n){var i=n.memoizedState;if(i!==null)return i;i={memoizedState:ne,baseState:ne,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Si,lastRenderedState:ne},next:null};var a={};return i.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Si,lastRenderedState:a},next:null},n.memoizedState=i,n=n.alternate,n!==null&&(n.memoizedState=i),i}function $y(n){var i=Qy(n).next.queue;Dl(n,i,{},Hn())}function Sd(){return yn(Ql)}function Xy(){return jt().memoizedState}function Wy(){return jt().memoizedState}function KS(n){for(var i=n.return;i!==null;){switch(i.tag){case 24:case 3:var a=Hn();n=Wi(a);var l=Zi(i,n,a);l!==null&&(Gn(l,i,a),Sl(l,i,a)),i={cache:ed()},n.payload=i;return}i=i.return}}function QS(n,i,a){var l=Hn();a={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},Dc(n)?Jy(i,a):(a=Hf(n,i,a,l),a!==null&&(Gn(a,n,l),ev(a,i,l)))}function Zy(n,i,a){var l=Hn();Dl(n,i,a,l)}function Dl(n,i,a,l){var f={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(Dc(n))Jy(i,f);else{var m=n.alternate;if(n.lanes===0&&(m===null||m.lanes===0)&&(m=i.lastRenderedReducer,m!==null))try{var E=i.lastRenderedState,w=m(E,a);if(f.hasEagerState=!0,f.eagerState=w,zn(w,E))return dc(n,i,f,0),mt===null&&fc(),!1}catch{}finally{}if(a=Hf(n,i,f,l),a!==null)return Gn(a,n,l),ev(a,i,l),!0}return!1}function Ad(n,i,a,l){if(l={lane:2,revertLane:rm(),action:l,hasEagerState:!1,eagerState:null,next:null},Dc(n)){if(i)throw Error(s(479))}else i=Hf(n,a,l,2),i!==null&&Gn(i,n,2)}function Dc(n){var i=n.alternate;return n===Ve||i!==null&&i===Ve}function Jy(n,i){uo=Sc=!0;var a=n.pending;a===null?i.next=i:(i.next=a.next,a.next=i),n.pending=i}function ev(n,i,a){if((a&4194048)!==0){var l=i.lanes;l&=n.pendingLanes,a|=l,i.lanes=a,vt(n,a)}}var Nc={readContext:yn,use:Rc,useCallback:kt,useContext:kt,useEffect:kt,useImperativeHandle:kt,useLayoutEffect:kt,useInsertionEffect:kt,useMemo:kt,useReducer:kt,useRef:kt,useState:kt,useDebugValue:kt,useDeferredValue:kt,useTransition:kt,useSyncExternalStore:kt,useId:kt,useHostTransitionStatus:kt,useFormState:kt,useActionState:kt,useOptimistic:kt,useMemoCache:kt,useCacheRefresh:kt},tv={readContext:yn,use:Rc,useCallback:function(n,i){return Nn().memoizedState=[n,i===void 0?null:i],n},useContext:yn,useEffect:Uy,useImperativeHandle:function(n,i,a){a=a!=null?a.concat([n]):null,Ic(4194308,4,qy.bind(null,i,n),a)},useLayoutEffect:function(n,i){return Ic(4194308,4,n,i)},useInsertionEffect:function(n,i){Ic(4,2,n,i)},useMemo:function(n,i){var a=Nn();i=i===void 0?null:i;var l=n();if(ca){gn(!0);try{n()}finally{gn(!1)}}return a.memoizedState=[l,i],l},useReducer:function(n,i,a){var l=Nn();if(a!==void 0){var f=a(i);if(ca){gn(!0);try{a(i)}finally{gn(!1)}}}else f=i;return l.memoizedState=l.baseState=f,n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:f},l.queue=n,n=n.dispatch=QS.bind(null,Ve,n),[l.memoizedState,n]},useRef:function(n){var i=Nn();return n={current:n},i.memoizedState=n},useState:function(n){n=_d(n);var i=n.queue,a=Zy.bind(null,Ve,i);return i.dispatch=a,[n.memoizedState,a]},useDebugValue:Ed,useDeferredValue:function(n,i){var a=Nn();return Td(a,n,i)},useTransition:function(){var n=_d(!1);return n=Ky.bind(null,Ve,n.queue,!0,!1),Nn().memoizedState=n,[!1,n]},useSyncExternalStore:function(n,i,a){var l=Ve,f=Nn();if(nt){if(a===void 0)throw Error(s(407));a=a()}else{if(a=i(),mt===null)throw Error(s(349));(Xe&124)!==0||Ty(l,i,a)}f.memoizedState=a;var m={value:a,getSnapshot:i};return f.queue=m,Uy(Sy.bind(null,l,m,n),[n]),l.flags|=2048,ho(9,xc(),wy.bind(null,l,m,a,i),null),a},useId:function(){var n=Nn(),i=mt.identifierPrefix;if(nt){var a=Ei,l=bi;a=(l&~(1<<32-Vt(l)-1)).toString(32)+a,i="«"+i+"R"+a,a=Ac++,0<a&&(i+="H"+a.toString(32)),i+="»"}else a=qS++,i="«"+i+"r"+a.toString(32)+"»";return n.memoizedState=i},useHostTransitionStatus:Sd,useFormState:ky,useActionState:ky,useOptimistic:function(n){var i=Nn();i.memoizedState=i.baseState=n;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=a,i=Ad.bind(null,Ve,!0,a),a.dispatch=i,[n,i]},useMemoCache:gd,useCacheRefresh:function(){return Nn().memoizedState=KS.bind(null,Ve)}},nv={readContext:yn,use:Rc,useCallback:Hy,useContext:yn,useEffect:zy,useImperativeHandle:Fy,useInsertionEffect:jy,useLayoutEffect:By,useMemo:Gy,useReducer:Cc,useRef:Ly,useState:function(){return Cc(Si)},useDebugValue:Ed,useDeferredValue:function(n,i){var a=jt();return Yy(a,lt.memoizedState,n,i)},useTransition:function(){var n=Cc(Si)[0],i=jt().memoizedState;return[typeof n=="boolean"?n:xl(n),i]},useSyncExternalStore:Ey,useId:Xy,useHostTransitionStatus:Sd,useFormState:My,useActionState:My,useOptimistic:function(n,i){var a=jt();return Cy(a,lt,n,i)},useMemoCache:gd,useCacheRefresh:Wy},$S={readContext:yn,use:Rc,useCallback:Hy,useContext:yn,useEffect:zy,useImperativeHandle:Fy,useInsertionEffect:jy,useLayoutEffect:By,useMemo:Gy,useReducer:vd,useRef:Ly,useState:function(){return vd(Si)},useDebugValue:Ed,useDeferredValue:function(n,i){var a=jt();return lt===null?Td(a,n,i):Yy(a,lt.memoizedState,n,i)},useTransition:function(){var n=vd(Si)[0],i=jt().memoizedState;return[typeof n=="boolean"?n:xl(n),i]},useSyncExternalStore:Ey,useId:Xy,useHostTransitionStatus:Sd,useFormState:Vy,useActionState:Vy,useOptimistic:function(n,i){var a=jt();return lt!==null?Cy(a,lt,n,i):(a.baseState=n,[n,a.queue.dispatch])},useMemoCache:gd,useCacheRefresh:Wy},fo=null,Nl=0;function Oc(n){var i=Nl;return Nl+=1,fo===null&&(fo=[]),dy(fo,n,i)}function Ol(n,i){i=i.props.ref,n.ref=i!==void 0?i:null}function kc(n,i){throw i.$$typeof===v?Error(s(525)):(n=Object.prototype.toString.call(i),Error(s(31,n==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":n)))}function rv(n){var i=n._init;return i(n._payload)}function iv(n){function i(B,j){if(n){var H=B.deletions;H===null?(B.deletions=[j],B.flags|=16):H.push(j)}}function a(B,j){if(!n)return null;for(;j!==null;)i(B,j),j=j.sibling;return null}function l(B){for(var j=new Map;B!==null;)B.key!==null?j.set(B.key,B):j.set(B.index,B),B=B.sibling;return j}function f(B,j){return B=_i(B,j),B.index=0,B.sibling=null,B}function m(B,j,H){return B.index=H,n?(H=B.alternate,H!==null?(H=H.index,H<j?(B.flags|=67108866,j):H):(B.flags|=67108866,j)):(B.flags|=1048576,j)}function E(B){return n&&B.alternate===null&&(B.flags|=67108866),B}function w(B,j,H,re){return j===null||j.tag!==6?(j=Yf(H,B.mode,re),j.return=B,j):(j=f(j,H),j.return=B,j)}function k(B,j,H,re){var ye=H.type;return ye===C?te(B,j,H.props.children,re,H.key):j!==null&&(j.elementType===ye||typeof ye=="object"&&ye!==null&&ye.$$typeof===S&&rv(ye)===j.type)?(j=f(j,H.props),Ol(j,H),j.return=B,j):(j=pc(H.type,H.key,H.props,null,B.mode,re),Ol(j,H),j.return=B,j)}function G(B,j,H,re){return j===null||j.tag!==4||j.stateNode.containerInfo!==H.containerInfo||j.stateNode.implementation!==H.implementation?(j=Kf(H,B.mode,re),j.return=B,j):(j=f(j,H.children||[]),j.return=B,j)}function te(B,j,H,re,ye){return j===null||j.tag!==7?(j=na(H,B.mode,re,ye),j.return=B,j):(j=f(j,H),j.return=B,j)}function se(B,j,H){if(typeof j=="string"&&j!==""||typeof j=="number"||typeof j=="bigint")return j=Yf(""+j,B.mode,H),j.return=B,j;if(typeof j=="object"&&j!==null){switch(j.$$typeof){case T:return H=pc(j.type,j.key,j.props,null,B.mode,H),Ol(H,j),H.return=B,H;case x:return j=Kf(j,B.mode,H),j.return=B,j;case S:var re=j._init;return j=re(j._payload),se(B,j,H)}if(xe(j)||U(j))return j=na(j,B.mode,H,null),j.return=B,j;if(typeof j.then=="function")return se(B,Oc(j),H);if(j.$$typeof===Q)return se(B,_c(B,j),H);kc(B,j)}return null}function K(B,j,H,re){var ye=j!==null?j.key:null;if(typeof H=="string"&&H!==""||typeof H=="number"||typeof H=="bigint")return ye!==null?null:w(B,j,""+H,re);if(typeof H=="object"&&H!==null){switch(H.$$typeof){case T:return H.key===ye?k(B,j,H,re):null;case x:return H.key===ye?G(B,j,H,re):null;case S:return ye=H._init,H=ye(H._payload),K(B,j,H,re)}if(xe(H)||U(H))return ye!==null?null:te(B,j,H,re,null);if(typeof H.then=="function")return K(B,j,Oc(H),re);if(H.$$typeof===Q)return K(B,j,_c(B,H),re);kc(B,H)}return null}function X(B,j,H,re,ye){if(typeof re=="string"&&re!==""||typeof re=="number"||typeof re=="bigint")return B=B.get(H)||null,w(j,B,""+re,ye);if(typeof re=="object"&&re!==null){switch(re.$$typeof){case T:return B=B.get(re.key===null?H:re.key)||null,k(j,B,re,ye);case x:return B=B.get(re.key===null?H:re.key)||null,G(j,B,re,ye);case S:var je=re._init;return re=je(re._payload),X(B,j,H,re,ye)}if(xe(re)||U(re))return B=B.get(H)||null,te(j,B,re,ye,null);if(typeof re.then=="function")return X(B,j,H,Oc(re),ye);if(re.$$typeof===Q)return X(B,j,H,_c(j,re),ye);kc(j,re)}return null}function Ne(B,j,H,re){for(var ye=null,je=null,Ee=j,Ce=j=0,tn=null;Ee!==null&&Ce<H.length;Ce++){Ee.index>Ce?(tn=Ee,Ee=null):tn=Ee.sibling;var et=K(B,Ee,H[Ce],re);if(et===null){Ee===null&&(Ee=tn);break}n&&Ee&&et.alternate===null&&i(B,Ee),j=m(et,j,Ce),je===null?ye=et:je.sibling=et,je=et,Ee=tn}if(Ce===H.length)return a(B,Ee),nt&&ia(B,Ce),ye;if(Ee===null){for(;Ce<H.length;Ce++)Ee=se(B,H[Ce],re),Ee!==null&&(j=m(Ee,j,Ce),je===null?ye=Ee:je.sibling=Ee,je=Ee);return nt&&ia(B,Ce),ye}for(Ee=l(Ee);Ce<H.length;Ce++)tn=X(Ee,B,Ce,H[Ce],re),tn!==null&&(n&&tn.alternate!==null&&Ee.delete(tn.key===null?Ce:tn.key),j=m(tn,j,Ce),je===null?ye=tn:je.sibling=tn,je=tn);return n&&Ee.forEach(function(ps){return i(B,ps)}),nt&&ia(B,Ce),ye}function Ae(B,j,H,re){if(H==null)throw Error(s(151));for(var ye=null,je=null,Ee=j,Ce=j=0,tn=null,et=H.next();Ee!==null&&!et.done;Ce++,et=H.next()){Ee.index>Ce?(tn=Ee,Ee=null):tn=Ee.sibling;var ps=K(B,Ee,et.value,re);if(ps===null){Ee===null&&(Ee=tn);break}n&&Ee&&ps.alternate===null&&i(B,Ee),j=m(ps,j,Ce),je===null?ye=ps:je.sibling=ps,je=ps,Ee=tn}if(et.done)return a(B,Ee),nt&&ia(B,Ce),ye;if(Ee===null){for(;!et.done;Ce++,et=H.next())et=se(B,et.value,re),et!==null&&(j=m(et,j,Ce),je===null?ye=et:je.sibling=et,je=et);return nt&&ia(B,Ce),ye}for(Ee=l(Ee);!et.done;Ce++,et=H.next())et=X(Ee,B,Ce,et.value,re),et!==null&&(n&&et.alternate!==null&&Ee.delete(et.key===null?Ce:et.key),j=m(et,j,Ce),je===null?ye=et:je.sibling=et,je=et);return n&&Ee.forEach(function(X1){return i(B,X1)}),nt&&ia(B,Ce),ye}function ct(B,j,H,re){if(typeof H=="object"&&H!==null&&H.type===C&&H.key===null&&(H=H.props.children),typeof H=="object"&&H!==null){switch(H.$$typeof){case T:e:{for(var ye=H.key;j!==null;){if(j.key===ye){if(ye=H.type,ye===C){if(j.tag===7){a(B,j.sibling),re=f(j,H.props.children),re.return=B,B=re;break e}}else if(j.elementType===ye||typeof ye=="object"&&ye!==null&&ye.$$typeof===S&&rv(ye)===j.type){a(B,j.sibling),re=f(j,H.props),Ol(re,H),re.return=B,B=re;break e}a(B,j);break}else i(B,j);j=j.sibling}H.type===C?(re=na(H.props.children,B.mode,re,H.key),re.return=B,B=re):(re=pc(H.type,H.key,H.props,null,B.mode,re),Ol(re,H),re.return=B,B=re)}return E(B);case x:e:{for(ye=H.key;j!==null;){if(j.key===ye)if(j.tag===4&&j.stateNode.containerInfo===H.containerInfo&&j.stateNode.implementation===H.implementation){a(B,j.sibling),re=f(j,H.children||[]),re.return=B,B=re;break e}else{a(B,j);break}else i(B,j);j=j.sibling}re=Kf(H,B.mode,re),re.return=B,B=re}return E(B);case S:return ye=H._init,H=ye(H._payload),ct(B,j,H,re)}if(xe(H))return Ne(B,j,H,re);if(U(H)){if(ye=U(H),typeof ye!="function")throw Error(s(150));return H=ye.call(H),Ae(B,j,H,re)}if(typeof H.then=="function")return ct(B,j,Oc(H),re);if(H.$$typeof===Q)return ct(B,j,_c(B,H),re);kc(B,H)}return typeof H=="string"&&H!==""||typeof H=="number"||typeof H=="bigint"?(H=""+H,j!==null&&j.tag===6?(a(B,j.sibling),re=f(j,H),re.return=B,B=re):(a(B,j),re=Yf(H,B.mode,re),re.return=B,B=re),E(B)):a(B,j)}return function(B,j,H,re){try{Nl=0;var ye=ct(B,j,H,re);return fo=null,ye}catch(Ee){if(Ee===Tl||Ee===Ec)throw Ee;var je=jn(29,Ee,null,B.mode);return je.lanes=re,je.return=B,je}finally{}}}var mo=iv(!0),sv=iv(!1),nr=J(null),kr=null;function es(n){var i=n.alternate;ee(Qt,Qt.current&1),ee(nr,n),kr===null&&(i===null||lo.current!==null||i.memoizedState!==null)&&(kr=n)}function av(n){if(n.tag===22){if(ee(Qt,Qt.current),ee(nr,n),kr===null){var i=n.alternate;i!==null&&i.memoizedState!==null&&(kr=n)}}else ts()}function ts(){ee(Qt,Qt.current),ee(nr,nr.current)}function Ai(n){ue(nr),kr===n&&(kr=null),ue(Qt)}var Qt=J(0);function Mc(n){for(var i=n;i!==null;){if(i.tag===13){var a=i.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||pm(a)))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===n)break;for(;i.sibling===null;){if(i.return===null||i.return===n)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}function Rd(n,i,a,l){i=n.memoizedState,a=a(l,i),a=a==null?i:_({},i,a),n.memoizedState=a,n.lanes===0&&(n.updateQueue.baseState=a)}var Cd={enqueueSetState:function(n,i,a){n=n._reactInternals;var l=Hn(),f=Wi(l);f.payload=i,a!=null&&(f.callback=a),i=Zi(n,f,l),i!==null&&(Gn(i,n,l),Sl(i,n,l))},enqueueReplaceState:function(n,i,a){n=n._reactInternals;var l=Hn(),f=Wi(l);f.tag=1,f.payload=i,a!=null&&(f.callback=a),i=Zi(n,f,l),i!==null&&(Gn(i,n,l),Sl(i,n,l))},enqueueForceUpdate:function(n,i){n=n._reactInternals;var a=Hn(),l=Wi(a);l.tag=2,i!=null&&(l.callback=i),i=Zi(n,l,a),i!==null&&(Gn(i,n,a),Sl(i,n,a))}};function ov(n,i,a,l,f,m,E){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(l,m,E):i.prototype&&i.prototype.isPureReactComponent?!ml(a,l)||!ml(f,m):!0}function lv(n,i,a,l){n=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(a,l),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(a,l),i.state!==n&&Cd.enqueueReplaceState(i,i.state,null)}function ha(n,i){var a=i;if("ref"in i){a={};for(var l in i)l!=="ref"&&(a[l]=i[l])}if(n=n.defaultProps){a===i&&(a=_({},a));for(var f in n)a[f]===void 0&&(a[f]=n[f])}return a}var Pc=typeof reportError=="function"?reportError:function(n){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof n=="object"&&n!==null&&typeof n.message=="string"?String(n.message):String(n),error:n});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",n);return}console.error(n)};function uv(n){Pc(n)}function cv(n){console.error(n)}function hv(n){Pc(n)}function Vc(n,i){try{var a=n.onUncaughtError;a(i.value,{componentStack:i.stack})}catch(l){setTimeout(function(){throw l})}}function fv(n,i,a){try{var l=n.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function xd(n,i,a){return a=Wi(a),a.tag=3,a.payload={element:null},a.callback=function(){Vc(n,i)},a}function dv(n){return n=Wi(n),n.tag=3,n}function mv(n,i,a,l){var f=a.type.getDerivedStateFromError;if(typeof f=="function"){var m=l.value;n.payload=function(){return f(m)},n.callback=function(){fv(i,a,l)}}var E=a.stateNode;E!==null&&typeof E.componentDidCatch=="function"&&(n.callback=function(){fv(i,a,l),typeof f!="function"&&(os===null?os=new Set([this]):os.add(this));var w=l.stack;this.componentDidCatch(l.value,{componentStack:w!==null?w:""})})}function XS(n,i,a,l,f){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(i=a.alternate,i!==null&&_l(i,a,f,!0),a=nr.current,a!==null){switch(a.tag){case 13:return kr===null?Zd():a.alternate===null&&Dt===0&&(Dt=3),a.flags&=-257,a.flags|=65536,a.lanes=f,l===rd?a.flags|=16384:(i=a.updateQueue,i===null?a.updateQueue=new Set([l]):i.add(l),em(n,l,f)),!1;case 22:return a.flags|=65536,l===rd?a.flags|=16384:(i=a.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=i):(a=i.retryQueue,a===null?i.retryQueue=new Set([l]):a.add(l)),em(n,l,f)),!1}throw Error(s(435,a.tag))}return em(n,l,f),Zd(),!1}if(nt)return i=nr.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=f,l!==Xf&&(n=Error(s(422),{cause:l}),vl(Zn(n,a)))):(l!==Xf&&(i=Error(s(423),{cause:l}),vl(Zn(i,a))),n=n.current.alternate,n.flags|=65536,f&=-f,n.lanes|=f,l=Zn(l,a),f=xd(n.stateNode,l,f),ad(n,f),Dt!==4&&(Dt=2)),!1;var m=Error(s(520),{cause:l});if(m=Zn(m,a),zl===null?zl=[m]:zl.push(m),Dt!==4&&(Dt=2),i===null)return!0;l=Zn(l,a),a=i;do{switch(a.tag){case 3:return a.flags|=65536,n=f&-f,a.lanes|=n,n=xd(a.stateNode,l,n),ad(a,n),!1;case 1:if(i=a.type,m=a.stateNode,(a.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||m!==null&&typeof m.componentDidCatch=="function"&&(os===null||!os.has(m))))return a.flags|=65536,f&=-f,a.lanes|=f,f=dv(f),mv(f,n,a,l),ad(a,f),!1}a=a.return}while(a!==null);return!1}var pv=Error(s(461)),Jt=!1;function un(n,i,a,l){i.child=n===null?sv(i,null,a,l):mo(i,n.child,a,l)}function gv(n,i,a,l,f){a=a.render;var m=i.ref;if("ref"in l){var E={};for(var w in l)w!=="ref"&&(E[w]=l[w])}else E=l;return la(i),l=hd(n,i,a,E,m,f),w=fd(),n!==null&&!Jt?(dd(n,i,f),Ri(n,i,f)):(nt&&w&&Qf(i),i.flags|=1,un(n,i,l,f),i.child)}function yv(n,i,a,l,f){if(n===null){var m=a.type;return typeof m=="function"&&!Gf(m)&&m.defaultProps===void 0&&a.compare===null?(i.tag=15,i.type=m,vv(n,i,m,l,f)):(n=pc(a.type,null,l,i,i.mode,f),n.ref=i.ref,n.return=i,i.child=n)}if(m=n.child,!Vd(n,f)){var E=m.memoizedProps;if(a=a.compare,a=a!==null?a:ml,a(E,l)&&n.ref===i.ref)return Ri(n,i,f)}return i.flags|=1,n=_i(m,l),n.ref=i.ref,n.return=i,i.child=n}function vv(n,i,a,l,f){if(n!==null){var m=n.memoizedProps;if(ml(m,l)&&n.ref===i.ref)if(Jt=!1,i.pendingProps=l=m,Vd(n,f))(n.flags&131072)!==0&&(Jt=!0);else return i.lanes=n.lanes,Ri(n,i,f)}return Id(n,i,a,l,f)}function _v(n,i,a){var l=i.pendingProps,f=l.children,m=n!==null?n.memoizedState:null;if(l.mode==="hidden"){if((i.flags&128)!==0){if(l=m!==null?m.baseLanes|a:a,n!==null){for(f=i.child=n.child,m=0;f!==null;)m=m|f.lanes|f.childLanes,f=f.sibling;i.childLanes=m&~l}else i.childLanes=0,i.child=null;return bv(n,i,l,a)}if((a&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},n!==null&&bc(i,m!==null?m.cachePool:null),m!==null?vy(i,m):ld(),av(i);else return i.lanes=i.childLanes=536870912,bv(n,i,m!==null?m.baseLanes|a:a,a)}else m!==null?(bc(i,m.cachePool),vy(i,m),ts(),i.memoizedState=null):(n!==null&&bc(i,null),ld(),ts());return un(n,i,f,a),i.child}function bv(n,i,a,l){var f=nd();return f=f===null?null:{parent:Kt._currentValue,pool:f},i.memoizedState={baseLanes:a,cachePool:f},n!==null&&bc(i,null),ld(),av(i),n!==null&&_l(n,i,l,!0),null}function Lc(n,i){var a=i.ref;if(a===null)n!==null&&n.ref!==null&&(i.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(n===null||n.ref!==a)&&(i.flags|=4194816)}}function Id(n,i,a,l,f){return la(i),a=hd(n,i,a,l,void 0,f),l=fd(),n!==null&&!Jt?(dd(n,i,f),Ri(n,i,f)):(nt&&l&&Qf(i),i.flags|=1,un(n,i,a,f),i.child)}function Ev(n,i,a,l,f,m){return la(i),i.updateQueue=null,a=by(i,l,a,f),_y(n),l=fd(),n!==null&&!Jt?(dd(n,i,m),Ri(n,i,m)):(nt&&l&&Qf(i),i.flags|=1,un(n,i,a,m),i.child)}function Tv(n,i,a,l,f){if(la(i),i.stateNode===null){var m=ro,E=a.contextType;typeof E=="object"&&E!==null&&(m=yn(E)),m=new a(l,m),i.memoizedState=m.state!==null&&m.state!==void 0?m.state:null,m.updater=Cd,i.stateNode=m,m._reactInternals=i,m=i.stateNode,m.props=l,m.state=i.memoizedState,m.refs={},id(i),E=a.contextType,m.context=typeof E=="object"&&E!==null?yn(E):ro,m.state=i.memoizedState,E=a.getDerivedStateFromProps,typeof E=="function"&&(Rd(i,a,E,l),m.state=i.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof m.getSnapshotBeforeUpdate=="function"||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(E=m.state,typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount(),E!==m.state&&Cd.enqueueReplaceState(m,m.state,null),Rl(i,l,m,f),Al(),m.state=i.memoizedState),typeof m.componentDidMount=="function"&&(i.flags|=4194308),l=!0}else if(n===null){m=i.stateNode;var w=i.memoizedProps,k=ha(a,w);m.props=k;var G=m.context,te=a.contextType;E=ro,typeof te=="object"&&te!==null&&(E=yn(te));var se=a.getDerivedStateFromProps;te=typeof se=="function"||typeof m.getSnapshotBeforeUpdate=="function",w=i.pendingProps!==w,te||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(w||G!==E)&&lv(i,m,l,E),Xi=!1;var K=i.memoizedState;m.state=K,Rl(i,l,m,f),Al(),G=i.memoizedState,w||K!==G||Xi?(typeof se=="function"&&(Rd(i,a,se,l),G=i.memoizedState),(k=Xi||ov(i,a,k,l,K,G,E))?(te||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount()),typeof m.componentDidMount=="function"&&(i.flags|=4194308)):(typeof m.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=l,i.memoizedState=G),m.props=l,m.state=G,m.context=E,l=k):(typeof m.componentDidMount=="function"&&(i.flags|=4194308),l=!1)}else{m=i.stateNode,sd(n,i),E=i.memoizedProps,te=ha(a,E),m.props=te,se=i.pendingProps,K=m.context,G=a.contextType,k=ro,typeof G=="object"&&G!==null&&(k=yn(G)),w=a.getDerivedStateFromProps,(G=typeof w=="function"||typeof m.getSnapshotBeforeUpdate=="function")||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(E!==se||K!==k)&&lv(i,m,l,k),Xi=!1,K=i.memoizedState,m.state=K,Rl(i,l,m,f),Al();var X=i.memoizedState;E!==se||K!==X||Xi||n!==null&&n.dependencies!==null&&vc(n.dependencies)?(typeof w=="function"&&(Rd(i,a,w,l),X=i.memoizedState),(te=Xi||ov(i,a,te,l,K,X,k)||n!==null&&n.dependencies!==null&&vc(n.dependencies))?(G||typeof m.UNSAFE_componentWillUpdate!="function"&&typeof m.componentWillUpdate!="function"||(typeof m.componentWillUpdate=="function"&&m.componentWillUpdate(l,X,k),typeof m.UNSAFE_componentWillUpdate=="function"&&m.UNSAFE_componentWillUpdate(l,X,k)),typeof m.componentDidUpdate=="function"&&(i.flags|=4),typeof m.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof m.componentDidUpdate!="function"||E===n.memoizedProps&&K===n.memoizedState||(i.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||E===n.memoizedProps&&K===n.memoizedState||(i.flags|=1024),i.memoizedProps=l,i.memoizedState=X),m.props=l,m.state=X,m.context=k,l=te):(typeof m.componentDidUpdate!="function"||E===n.memoizedProps&&K===n.memoizedState||(i.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||E===n.memoizedProps&&K===n.memoizedState||(i.flags|=1024),l=!1)}return m=l,Lc(n,i),l=(i.flags&128)!==0,m||l?(m=i.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:m.render(),i.flags|=1,n!==null&&l?(i.child=mo(i,n.child,null,f),i.child=mo(i,null,a,f)):un(n,i,a,f),i.memoizedState=m.state,n=i.child):n=Ri(n,i,f),n}function wv(n,i,a,l){return yl(),i.flags|=256,un(n,i,a,l),i.child}var Dd={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Nd(n){return{baseLanes:n,cachePool:cy()}}function Od(n,i,a){return n=n!==null?n.childLanes&~a:0,i&&(n|=rr),n}function Sv(n,i,a){var l=i.pendingProps,f=!1,m=(i.flags&128)!==0,E;if((E=m)||(E=n!==null&&n.memoizedState===null?!1:(Qt.current&2)!==0),E&&(f=!0,i.flags&=-129),E=(i.flags&32)!==0,i.flags&=-33,n===null){if(nt){if(f?es(i):ts(),nt){var w=It,k;if(k=w){e:{for(k=w,w=Or;k.nodeType!==8;){if(!w){w=null;break e}if(k=mr(k.nextSibling),k===null){w=null;break e}}w=k}w!==null?(i.memoizedState={dehydrated:w,treeContext:ra!==null?{id:bi,overflow:Ei}:null,retryLane:536870912,hydrationErrors:null},k=jn(18,null,null,0),k.stateNode=w,k.return=i,i.child=k,Rn=i,It=null,k=!0):k=!1}k||aa(i)}if(w=i.memoizedState,w!==null&&(w=w.dehydrated,w!==null))return pm(w)?i.lanes=32:i.lanes=536870912,null;Ai(i)}return w=l.children,l=l.fallback,f?(ts(),f=i.mode,w=Uc({mode:"hidden",children:w},f),l=na(l,f,a,null),w.return=i,l.return=i,w.sibling=l,i.child=w,f=i.child,f.memoizedState=Nd(a),f.childLanes=Od(n,E,a),i.memoizedState=Dd,l):(es(i),kd(i,w))}if(k=n.memoizedState,k!==null&&(w=k.dehydrated,w!==null)){if(m)i.flags&256?(es(i),i.flags&=-257,i=Md(n,i,a)):i.memoizedState!==null?(ts(),i.child=n.child,i.flags|=128,i=null):(ts(),f=l.fallback,w=i.mode,l=Uc({mode:"visible",children:l.children},w),f=na(f,w,a,null),f.flags|=2,l.return=i,f.return=i,l.sibling=f,i.child=l,mo(i,n.child,null,a),l=i.child,l.memoizedState=Nd(a),l.childLanes=Od(n,E,a),i.memoizedState=Dd,i=f);else if(es(i),pm(w)){if(E=w.nextSibling&&w.nextSibling.dataset,E)var G=E.dgst;E=G,l=Error(s(419)),l.stack="",l.digest=E,vl({value:l,source:null,stack:null}),i=Md(n,i,a)}else if(Jt||_l(n,i,a,!1),E=(a&n.childLanes)!==0,Jt||E){if(E=mt,E!==null&&(l=a&-a,l=(l&42)!==0?1:yt(l),l=(l&(E.suspendedLanes|a))!==0?0:l,l!==0&&l!==k.retryLane))throw k.retryLane=l,no(n,l),Gn(E,n,l),pv;w.data==="$?"||Zd(),i=Md(n,i,a)}else w.data==="$?"?(i.flags|=192,i.child=n.child,i=null):(n=k.treeContext,It=mr(w.nextSibling),Rn=i,nt=!0,sa=null,Or=!1,n!==null&&(er[tr++]=bi,er[tr++]=Ei,er[tr++]=ra,bi=n.id,Ei=n.overflow,ra=i),i=kd(i,l.children),i.flags|=4096);return i}return f?(ts(),f=l.fallback,w=i.mode,k=n.child,G=k.sibling,l=_i(k,{mode:"hidden",children:l.children}),l.subtreeFlags=k.subtreeFlags&65011712,G!==null?f=_i(G,f):(f=na(f,w,a,null),f.flags|=2),f.return=i,l.return=i,l.sibling=f,i.child=l,l=f,f=i.child,w=n.child.memoizedState,w===null?w=Nd(a):(k=w.cachePool,k!==null?(G=Kt._currentValue,k=k.parent!==G?{parent:G,pool:G}:k):k=cy(),w={baseLanes:w.baseLanes|a,cachePool:k}),f.memoizedState=w,f.childLanes=Od(n,E,a),i.memoizedState=Dd,l):(es(i),a=n.child,n=a.sibling,a=_i(a,{mode:"visible",children:l.children}),a.return=i,a.sibling=null,n!==null&&(E=i.deletions,E===null?(i.deletions=[n],i.flags|=16):E.push(n)),i.child=a,i.memoizedState=null,a)}function kd(n,i){return i=Uc({mode:"visible",children:i},n.mode),i.return=n,n.child=i}function Uc(n,i){return n=jn(22,n,null,i),n.lanes=0,n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},n}function Md(n,i,a){return mo(i,n.child,null,a),n=kd(i,i.pendingProps.children),n.flags|=2,i.memoizedState=null,n}function Av(n,i,a){n.lanes|=i;var l=n.alternate;l!==null&&(l.lanes|=i),Zf(n.return,i,a)}function Pd(n,i,a,l,f){var m=n.memoizedState;m===null?n.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:f}:(m.isBackwards=i,m.rendering=null,m.renderingStartTime=0,m.last=l,m.tail=a,m.tailMode=f)}function Rv(n,i,a){var l=i.pendingProps,f=l.revealOrder,m=l.tail;if(un(n,i,l.children,a),l=Qt.current,(l&2)!==0)l=l&1|2,i.flags|=128;else{if(n!==null&&(n.flags&128)!==0)e:for(n=i.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&Av(n,a,i);else if(n.tag===19)Av(n,a,i);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===i)break e;for(;n.sibling===null;){if(n.return===null||n.return===i)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}l&=1}switch(ee(Qt,l),f){case"forwards":for(a=i.child,f=null;a!==null;)n=a.alternate,n!==null&&Mc(n)===null&&(f=a),a=a.sibling;a=f,a===null?(f=i.child,i.child=null):(f=a.sibling,a.sibling=null),Pd(i,!1,f,a,m);break;case"backwards":for(a=null,f=i.child,i.child=null;f!==null;){if(n=f.alternate,n!==null&&Mc(n)===null){i.child=f;break}n=f.sibling,f.sibling=a,a=f,f=n}Pd(i,!0,a,null,m);break;case"together":Pd(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function Ri(n,i,a){if(n!==null&&(i.dependencies=n.dependencies),as|=i.lanes,(a&i.childLanes)===0)if(n!==null){if(_l(n,i,a,!1),(a&i.childLanes)===0)return null}else return null;if(n!==null&&i.child!==n.child)throw Error(s(153));if(i.child!==null){for(n=i.child,a=_i(n,n.pendingProps),i.child=a,a.return=i;n.sibling!==null;)n=n.sibling,a=a.sibling=_i(n,n.pendingProps),a.return=i;a.sibling=null}return i.child}function Vd(n,i){return(n.lanes&i)!==0?!0:(n=n.dependencies,!!(n!==null&&vc(n)))}function WS(n,i,a){switch(i.tag){case 3:ze(i,i.stateNode.containerInfo),$i(i,Kt,n.memoizedState.cache),yl();break;case 27:case 5:Nt(i);break;case 4:ze(i,i.stateNode.containerInfo);break;case 10:$i(i,i.type,i.memoizedProps.value);break;case 13:var l=i.memoizedState;if(l!==null)return l.dehydrated!==null?(es(i),i.flags|=128,null):(a&i.child.childLanes)!==0?Sv(n,i,a):(es(i),n=Ri(n,i,a),n!==null?n.sibling:null);es(i);break;case 19:var f=(n.flags&128)!==0;if(l=(a&i.childLanes)!==0,l||(_l(n,i,a,!1),l=(a&i.childLanes)!==0),f){if(l)return Rv(n,i,a);i.flags|=128}if(f=i.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),ee(Qt,Qt.current),l)break;return null;case 22:case 23:return i.lanes=0,_v(n,i,a);case 24:$i(i,Kt,n.memoizedState.cache)}return Ri(n,i,a)}function Cv(n,i,a){if(n!==null)if(n.memoizedProps!==i.pendingProps)Jt=!0;else{if(!Vd(n,a)&&(i.flags&128)===0)return Jt=!1,WS(n,i,a);Jt=(n.flags&131072)!==0}else Jt=!1,nt&&(i.flags&1048576)!==0&&ry(i,yc,i.index);switch(i.lanes=0,i.tag){case 16:e:{n=i.pendingProps;var l=i.elementType,f=l._init;if(l=f(l._payload),i.type=l,typeof l=="function")Gf(l)?(n=ha(l,n),i.tag=1,i=Tv(null,i,l,n,a)):(i.tag=0,i=Id(null,i,l,n,a));else{if(l!=null){if(f=l.$$typeof,f===oe){i.tag=11,i=gv(null,i,l,n,a);break e}else if(f===N){i.tag=14,i=yv(null,i,l,n,a);break e}}throw i=Ke(l)||l,Error(s(306,i,""))}}return i;case 0:return Id(n,i,i.type,i.pendingProps,a);case 1:return l=i.type,f=ha(l,i.pendingProps),Tv(n,i,l,f,a);case 3:e:{if(ze(i,i.stateNode.containerInfo),n===null)throw Error(s(387));l=i.pendingProps;var m=i.memoizedState;f=m.element,sd(n,i),Rl(i,l,null,a);var E=i.memoizedState;if(l=E.cache,$i(i,Kt,l),l!==m.cache&&Jf(i,[Kt],a,!0),Al(),l=E.element,m.isDehydrated)if(m={element:l,isDehydrated:!1,cache:E.cache},i.updateQueue.baseState=m,i.memoizedState=m,i.flags&256){i=wv(n,i,l,a);break e}else if(l!==f){f=Zn(Error(s(424)),i),vl(f),i=wv(n,i,l,a);break e}else{switch(n=i.stateNode.containerInfo,n.nodeType){case 9:n=n.body;break;default:n=n.nodeName==="HTML"?n.ownerDocument.body:n}for(It=mr(n.firstChild),Rn=i,nt=!0,sa=null,Or=!0,a=sv(i,null,l,a),i.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(yl(),l===f){i=Ri(n,i,a);break e}un(n,i,l,a)}i=i.child}return i;case 26:return Lc(n,i),n===null?(a=N_(i.type,null,i.pendingProps,null))?i.memoizedState=a:nt||(a=i.type,n=i.pendingProps,l=Zc(me.current).createElement(a),l[_t]=i,l[Je]=n,hn(l,a,n),Ot(l),i.stateNode=l):i.memoizedState=N_(i.type,n.memoizedProps,i.pendingProps,n.memoizedState),null;case 27:return Nt(i),n===null&&nt&&(l=i.stateNode=x_(i.type,i.pendingProps,me.current),Rn=i,Or=!0,f=It,cs(i.type)?(gm=f,It=mr(l.firstChild)):It=f),un(n,i,i.pendingProps.children,a),Lc(n,i),n===null&&(i.flags|=4194304),i.child;case 5:return n===null&&nt&&((f=l=It)&&(l=A1(l,i.type,i.pendingProps,Or),l!==null?(i.stateNode=l,Rn=i,It=mr(l.firstChild),Or=!1,f=!0):f=!1),f||aa(i)),Nt(i),f=i.type,m=i.pendingProps,E=n!==null?n.memoizedProps:null,l=m.children,fm(f,m)?l=null:E!==null&&fm(f,E)&&(i.flags|=32),i.memoizedState!==null&&(f=hd(n,i,FS,null,null,a),Ql._currentValue=f),Lc(n,i),un(n,i,l,a),i.child;case 6:return n===null&&nt&&((n=a=It)&&(a=R1(a,i.pendingProps,Or),a!==null?(i.stateNode=a,Rn=i,It=null,n=!0):n=!1),n||aa(i)),null;case 13:return Sv(n,i,a);case 4:return ze(i,i.stateNode.containerInfo),l=i.pendingProps,n===null?i.child=mo(i,null,l,a):un(n,i,l,a),i.child;case 11:return gv(n,i,i.type,i.pendingProps,a);case 7:return un(n,i,i.pendingProps,a),i.child;case 8:return un(n,i,i.pendingProps.children,a),i.child;case 12:return un(n,i,i.pendingProps.children,a),i.child;case 10:return l=i.pendingProps,$i(i,i.type,l.value),un(n,i,l.children,a),i.child;case 9:return f=i.type._context,l=i.pendingProps.children,la(i),f=yn(f),l=l(f),i.flags|=1,un(n,i,l,a),i.child;case 14:return yv(n,i,i.type,i.pendingProps,a);case 15:return vv(n,i,i.type,i.pendingProps,a);case 19:return Rv(n,i,a);case 31:return l=i.pendingProps,a=i.mode,l={mode:l.mode,children:l.children},n===null?(a=Uc(l,a),a.ref=i.ref,i.child=a,a.return=i,i=a):(a=_i(n.child,l),a.ref=i.ref,i.child=a,a.return=i,i=a),i;case 22:return _v(n,i,a);case 24:return la(i),l=yn(Kt),n===null?(f=nd(),f===null&&(f=mt,m=ed(),f.pooledCache=m,m.refCount++,m!==null&&(f.pooledCacheLanes|=a),f=m),i.memoizedState={parent:l,cache:f},id(i),$i(i,Kt,f)):((n.lanes&a)!==0&&(sd(n,i),Rl(i,null,null,a),Al()),f=n.memoizedState,m=i.memoizedState,f.parent!==l?(f={parent:l,cache:l},i.memoizedState=f,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=f),$i(i,Kt,l)):(l=m.cache,$i(i,Kt,l),l!==f.cache&&Jf(i,[Kt],a,!0))),un(n,i,i.pendingProps.children,a),i.child;case 29:throw i.pendingProps}throw Error(s(156,i.tag))}function Ci(n){n.flags|=4}function xv(n,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)n.flags&=-16777217;else if(n.flags|=16777216,!V_(i)){if(i=nr.current,i!==null&&((Xe&4194048)===Xe?kr!==null:(Xe&62914560)!==Xe&&(Xe&536870912)===0||i!==kr))throw wl=rd,hy;n.flags|=8192}}function zc(n,i){i!==null&&(n.flags|=4),n.flags&16384&&(i=n.tag!==22?zs():536870912,n.lanes|=i,vo|=i)}function kl(n,i){if(!nt)switch(n.tailMode){case"hidden":i=n.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?n.tail=null:a.sibling=null;break;case"collapsed":a=n.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?i||n.tail===null?n.tail=null:n.tail.sibling=null:l.sibling=null}}function St(n){var i=n.alternate!==null&&n.alternate.child===n.child,a=0,l=0;if(i)for(var f=n.child;f!==null;)a|=f.lanes|f.childLanes,l|=f.subtreeFlags&65011712,l|=f.flags&65011712,f.return=n,f=f.sibling;else for(f=n.child;f!==null;)a|=f.lanes|f.childLanes,l|=f.subtreeFlags,l|=f.flags,f.return=n,f=f.sibling;return n.subtreeFlags|=l,n.childLanes=a,i}function ZS(n,i,a){var l=i.pendingProps;switch($f(i),i.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return St(i),null;case 1:return St(i),null;case 3:return a=i.stateNode,l=null,n!==null&&(l=n.memoizedState.cache),i.memoizedState.cache!==l&&(i.flags|=2048),wi(Kt),Tt(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(n===null||n.child===null)&&(gl(i)?Ci(i):n===null||n.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,ay())),St(i),null;case 26:return a=i.memoizedState,n===null?(Ci(i),a!==null?(St(i),xv(i,a)):(St(i),i.flags&=-16777217)):a?a!==n.memoizedState?(Ci(i),St(i),xv(i,a)):(St(i),i.flags&=-16777217):(n.memoizedProps!==l&&Ci(i),St(i),i.flags&=-16777217),null;case 27:rn(i),a=me.current;var f=i.type;if(n!==null&&i.stateNode!=null)n.memoizedProps!==l&&Ci(i);else{if(!l){if(i.stateNode===null)throw Error(s(166));return St(i),null}n=he.current,gl(i)?iy(i):(n=x_(f,l,a),i.stateNode=n,Ci(i))}return St(i),null;case 5:if(rn(i),a=i.type,n!==null&&i.stateNode!=null)n.memoizedProps!==l&&Ci(i);else{if(!l){if(i.stateNode===null)throw Error(s(166));return St(i),null}if(n=he.current,gl(i))iy(i);else{switch(f=Zc(me.current),n){case 1:n=f.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:n=f.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":n=f.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":n=f.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":n=f.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild);break;case"select":n=typeof l.is=="string"?f.createElement("select",{is:l.is}):f.createElement("select"),l.multiple?n.multiple=!0:l.size&&(n.size=l.size);break;default:n=typeof l.is=="string"?f.createElement(a,{is:l.is}):f.createElement(a)}}n[_t]=i,n[Je]=l;e:for(f=i.child;f!==null;){if(f.tag===5||f.tag===6)n.appendChild(f.stateNode);else if(f.tag!==4&&f.tag!==27&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===i)break e;for(;f.sibling===null;){if(f.return===null||f.return===i)break e;f=f.return}f.sibling.return=f.return,f=f.sibling}i.stateNode=n;e:switch(hn(n,a,l),a){case"button":case"input":case"select":case"textarea":n=!!l.autoFocus;break e;case"img":n=!0;break e;default:n=!1}n&&Ci(i)}}return St(i),i.flags&=-16777217,null;case 6:if(n&&i.stateNode!=null)n.memoizedProps!==l&&Ci(i);else{if(typeof l!="string"&&i.stateNode===null)throw Error(s(166));if(n=me.current,gl(i)){if(n=i.stateNode,a=i.memoizedProps,l=null,f=Rn,f!==null)switch(f.tag){case 27:case 5:l=f.memoizedProps}n[_t]=i,n=!!(n.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||E_(n.nodeValue,a)),n||aa(i)}else n=Zc(n).createTextNode(l),n[_t]=i,i.stateNode=n}return St(i),null;case 13:if(l=i.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(f=gl(i),l!==null&&l.dehydrated!==null){if(n===null){if(!f)throw Error(s(318));if(f=i.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(s(317));f[_t]=i}else yl(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;St(i),f=!1}else f=ay(),n!==null&&n.memoizedState!==null&&(n.memoizedState.hydrationErrors=f),f=!0;if(!f)return i.flags&256?(Ai(i),i):(Ai(i),null)}if(Ai(i),(i.flags&128)!==0)return i.lanes=a,i;if(a=l!==null,n=n!==null&&n.memoizedState!==null,a){l=i.child,f=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(f=l.alternate.memoizedState.cachePool.pool);var m=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(m=l.memoizedState.cachePool.pool),m!==f&&(l.flags|=2048)}return a!==n&&a&&(i.child.flags|=8192),zc(i,i.updateQueue),St(i),null;case 4:return Tt(),n===null&&om(i.stateNode.containerInfo),St(i),null;case 10:return wi(i.type),St(i),null;case 19:if(ue(Qt),f=i.memoizedState,f===null)return St(i),null;if(l=(i.flags&128)!==0,m=f.rendering,m===null)if(l)kl(f,!1);else{if(Dt!==0||n!==null&&(n.flags&128)!==0)for(n=i.child;n!==null;){if(m=Mc(n),m!==null){for(i.flags|=128,kl(f,!1),n=m.updateQueue,i.updateQueue=n,zc(i,n),i.subtreeFlags=0,n=a,a=i.child;a!==null;)ny(a,n),a=a.sibling;return ee(Qt,Qt.current&1|2),i.child}n=n.sibling}f.tail!==null&&Ze()>qc&&(i.flags|=128,l=!0,kl(f,!1),i.lanes=4194304)}else{if(!l)if(n=Mc(m),n!==null){if(i.flags|=128,l=!0,n=n.updateQueue,i.updateQueue=n,zc(i,n),kl(f,!0),f.tail===null&&f.tailMode==="hidden"&&!m.alternate&&!nt)return St(i),null}else 2*Ze()-f.renderingStartTime>qc&&a!==536870912&&(i.flags|=128,l=!0,kl(f,!1),i.lanes=4194304);f.isBackwards?(m.sibling=i.child,i.child=m):(n=f.last,n!==null?n.sibling=m:i.child=m,f.last=m)}return f.tail!==null?(i=f.tail,f.rendering=i,f.tail=i.sibling,f.renderingStartTime=Ze(),i.sibling=null,n=Qt.current,ee(Qt,l?n&1|2:n&1),i):(St(i),null);case 22:case 23:return Ai(i),ud(),l=i.memoizedState!==null,n!==null?n.memoizedState!==null!==l&&(i.flags|=8192):l&&(i.flags|=8192),l?(a&536870912)!==0&&(i.flags&128)===0&&(St(i),i.subtreeFlags&6&&(i.flags|=8192)):St(i),a=i.updateQueue,a!==null&&zc(i,a.retryQueue),a=null,n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(a=n.memoizedState.cachePool.pool),l=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),l!==a&&(i.flags|=2048),n!==null&&ue(ua),null;case 24:return a=null,n!==null&&(a=n.memoizedState.cache),i.memoizedState.cache!==a&&(i.flags|=2048),wi(Kt),St(i),null;case 25:return null;case 30:return null}throw Error(s(156,i.tag))}function JS(n,i){switch($f(i),i.tag){case 1:return n=i.flags,n&65536?(i.flags=n&-65537|128,i):null;case 3:return wi(Kt),Tt(),n=i.flags,(n&65536)!==0&&(n&128)===0?(i.flags=n&-65537|128,i):null;case 26:case 27:case 5:return rn(i),null;case 13:if(Ai(i),n=i.memoizedState,n!==null&&n.dehydrated!==null){if(i.alternate===null)throw Error(s(340));yl()}return n=i.flags,n&65536?(i.flags=n&-65537|128,i):null;case 19:return ue(Qt),null;case 4:return Tt(),null;case 10:return wi(i.type),null;case 22:case 23:return Ai(i),ud(),n!==null&&ue(ua),n=i.flags,n&65536?(i.flags=n&-65537|128,i):null;case 24:return wi(Kt),null;case 25:return null;default:return null}}function Iv(n,i){switch($f(i),i.tag){case 3:wi(Kt),Tt();break;case 26:case 27:case 5:rn(i);break;case 4:Tt();break;case 13:Ai(i);break;case 19:ue(Qt);break;case 10:wi(i.type);break;case 22:case 23:Ai(i),ud(),n!==null&&ue(ua);break;case 24:wi(Kt)}}function Ml(n,i){try{var a=i.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var f=l.next;a=f;do{if((a.tag&n)===n){l=void 0;var m=a.create,E=a.inst;l=m(),E.destroy=l}a=a.next}while(a!==f)}}catch(w){ft(i,i.return,w)}}function ns(n,i,a){try{var l=i.updateQueue,f=l!==null?l.lastEffect:null;if(f!==null){var m=f.next;l=m;do{if((l.tag&n)===n){var E=l.inst,w=E.destroy;if(w!==void 0){E.destroy=void 0,f=i;var k=a,G=w;try{G()}catch(te){ft(f,k,te)}}}l=l.next}while(l!==m)}}catch(te){ft(i,i.return,te)}}function Dv(n){var i=n.updateQueue;if(i!==null){var a=n.stateNode;try{yy(i,a)}catch(l){ft(n,n.return,l)}}}function Nv(n,i,a){a.props=ha(n.type,n.memoizedProps),a.state=n.memoizedState;try{a.componentWillUnmount()}catch(l){ft(n,i,l)}}function Pl(n,i){try{var a=n.ref;if(a!==null){switch(n.tag){case 26:case 27:case 5:var l=n.stateNode;break;case 30:l=n.stateNode;break;default:l=n.stateNode}typeof a=="function"?n.refCleanup=a(l):a.current=l}}catch(f){ft(n,i,f)}}function Mr(n,i){var a=n.ref,l=n.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(f){ft(n,i,f)}finally{n.refCleanup=null,n=n.alternate,n!=null&&(n.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(f){ft(n,i,f)}else a.current=null}function Ov(n){var i=n.type,a=n.memoizedProps,l=n.stateNode;try{e:switch(i){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break e;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(f){ft(n,n.return,f)}}function Ld(n,i,a){try{var l=n.stateNode;b1(l,n.type,a,i),l[Je]=i}catch(f){ft(n,n.return,f)}}function kv(n){return n.tag===5||n.tag===3||n.tag===26||n.tag===27&&cs(n.type)||n.tag===4}function Ud(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||kv(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.tag===27&&cs(n.type)||n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function zd(n,i,a){var l=n.tag;if(l===5||l===6)n=n.stateNode,i?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(n,i):(i=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,i.appendChild(n),a=a._reactRootContainer,a!=null||i.onclick!==null||(i.onclick=Wc));else if(l!==4&&(l===27&&cs(n.type)&&(a=n.stateNode,i=null),n=n.child,n!==null))for(zd(n,i,a),n=n.sibling;n!==null;)zd(n,i,a),n=n.sibling}function jc(n,i,a){var l=n.tag;if(l===5||l===6)n=n.stateNode,i?a.insertBefore(n,i):a.appendChild(n);else if(l!==4&&(l===27&&cs(n.type)&&(a=n.stateNode),n=n.child,n!==null))for(jc(n,i,a),n=n.sibling;n!==null;)jc(n,i,a),n=n.sibling}function Mv(n){var i=n.stateNode,a=n.memoizedProps;try{for(var l=n.type,f=i.attributes;f.length;)i.removeAttributeNode(f[0]);hn(i,l,a),i[_t]=n,i[Je]=a}catch(m){ft(n,n.return,m)}}var xi=!1,Mt=!1,jd=!1,Pv=typeof WeakSet=="function"?WeakSet:Set,en=null;function e1(n,i){if(n=n.containerInfo,cm=ih,n=Yg(n),Uf(n)){if("selectionStart"in n)var a={start:n.selectionStart,end:n.selectionEnd};else e:{a=(a=n.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var f=l.anchorOffset,m=l.focusNode;l=l.focusOffset;try{a.nodeType,m.nodeType}catch{a=null;break e}var E=0,w=-1,k=-1,G=0,te=0,se=n,K=null;t:for(;;){for(var X;se!==a||f!==0&&se.nodeType!==3||(w=E+f),se!==m||l!==0&&se.nodeType!==3||(k=E+l),se.nodeType===3&&(E+=se.nodeValue.length),(X=se.firstChild)!==null;)K=se,se=X;for(;;){if(se===n)break t;if(K===a&&++G===f&&(w=E),K===m&&++te===l&&(k=E),(X=se.nextSibling)!==null)break;se=K,K=se.parentNode}se=X}a=w===-1||k===-1?null:{start:w,end:k}}else a=null}a=a||{start:0,end:0}}else a=null;for(hm={focusedElem:n,selectionRange:a},ih=!1,en=i;en!==null;)if(i=en,n=i.child,(i.subtreeFlags&1024)!==0&&n!==null)n.return=i,en=n;else for(;en!==null;){switch(i=en,m=i.alternate,n=i.flags,i.tag){case 0:break;case 11:case 15:break;case 1:if((n&1024)!==0&&m!==null){n=void 0,a=i,f=m.memoizedProps,m=m.memoizedState,l=a.stateNode;try{var Ne=ha(a.type,f,a.elementType===a.type);n=l.getSnapshotBeforeUpdate(Ne,m),l.__reactInternalSnapshotBeforeUpdate=n}catch(Ae){ft(a,a.return,Ae)}}break;case 3:if((n&1024)!==0){if(n=i.stateNode.containerInfo,a=n.nodeType,a===9)mm(n);else if(a===1)switch(n.nodeName){case"HEAD":case"HTML":case"BODY":mm(n);break;default:n.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((n&1024)!==0)throw Error(s(163))}if(n=i.sibling,n!==null){n.return=i.return,en=n;break}en=i.return}}function Vv(n,i,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:rs(n,a),l&4&&Ml(5,a);break;case 1:if(rs(n,a),l&4)if(n=a.stateNode,i===null)try{n.componentDidMount()}catch(E){ft(a,a.return,E)}else{var f=ha(a.type,i.memoizedProps);i=i.memoizedState;try{n.componentDidUpdate(f,i,n.__reactInternalSnapshotBeforeUpdate)}catch(E){ft(a,a.return,E)}}l&64&&Dv(a),l&512&&Pl(a,a.return);break;case 3:if(rs(n,a),l&64&&(n=a.updateQueue,n!==null)){if(i=null,a.child!==null)switch(a.child.tag){case 27:case 5:i=a.child.stateNode;break;case 1:i=a.child.stateNode}try{yy(n,i)}catch(E){ft(a,a.return,E)}}break;case 27:i===null&&l&4&&Mv(a);case 26:case 5:rs(n,a),i===null&&l&4&&Ov(a),l&512&&Pl(a,a.return);break;case 12:rs(n,a);break;case 13:rs(n,a),l&4&&zv(n,a),l&64&&(n=a.memoizedState,n!==null&&(n=n.dehydrated,n!==null&&(a=u1.bind(null,a),C1(n,a))));break;case 22:if(l=a.memoizedState!==null||xi,!l){i=i!==null&&i.memoizedState!==null||Mt,f=xi;var m=Mt;xi=l,(Mt=i)&&!m?is(n,a,(a.subtreeFlags&8772)!==0):rs(n,a),xi=f,Mt=m}break;case 30:break;default:rs(n,a)}}function Lv(n){var i=n.alternate;i!==null&&(n.alternate=null,Lv(i)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(i=n.stateNode,i!==null&&Gi(i)),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}var Et=null,On=!1;function Ii(n,i,a){for(a=a.child;a!==null;)Uv(n,i,a),a=a.sibling}function Uv(n,i,a){if(tt&&typeof tt.onCommitFiberUnmount=="function")try{tt.onCommitFiberUnmount(ht,a)}catch{}switch(a.tag){case 26:Mt||Mr(a,i),Ii(n,i,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:Mt||Mr(a,i);var l=Et,f=On;cs(a.type)&&(Et=a.stateNode,On=!1),Ii(n,i,a),Hl(a.stateNode),Et=l,On=f;break;case 5:Mt||Mr(a,i);case 6:if(l=Et,f=On,Et=null,Ii(n,i,a),Et=l,On=f,Et!==null)if(On)try{(Et.nodeType===9?Et.body:Et.nodeName==="HTML"?Et.ownerDocument.body:Et).removeChild(a.stateNode)}catch(m){ft(a,i,m)}else try{Et.removeChild(a.stateNode)}catch(m){ft(a,i,m)}break;case 18:Et!==null&&(On?(n=Et,R_(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,a.stateNode),Zl(n)):R_(Et,a.stateNode));break;case 4:l=Et,f=On,Et=a.stateNode.containerInfo,On=!0,Ii(n,i,a),Et=l,On=f;break;case 0:case 11:case 14:case 15:Mt||ns(2,a,i),Mt||ns(4,a,i),Ii(n,i,a);break;case 1:Mt||(Mr(a,i),l=a.stateNode,typeof l.componentWillUnmount=="function"&&Nv(a,i,l)),Ii(n,i,a);break;case 21:Ii(n,i,a);break;case 22:Mt=(l=Mt)||a.memoizedState!==null,Ii(n,i,a),Mt=l;break;default:Ii(n,i,a)}}function zv(n,i){if(i.memoizedState===null&&(n=i.alternate,n!==null&&(n=n.memoizedState,n!==null&&(n=n.dehydrated,n!==null))))try{Zl(n)}catch(a){ft(i,i.return,a)}}function t1(n){switch(n.tag){case 13:case 19:var i=n.stateNode;return i===null&&(i=n.stateNode=new Pv),i;case 22:return n=n.stateNode,i=n._retryCache,i===null&&(i=n._retryCache=new Pv),i;default:throw Error(s(435,n.tag))}}function Bd(n,i){var a=t1(n);i.forEach(function(l){var f=c1.bind(null,n,l);a.has(l)||(a.add(l),l.then(f,f))})}function Bn(n,i){var a=i.deletions;if(a!==null)for(var l=0;l<a.length;l++){var f=a[l],m=n,E=i,w=E;e:for(;w!==null;){switch(w.tag){case 27:if(cs(w.type)){Et=w.stateNode,On=!1;break e}break;case 5:Et=w.stateNode,On=!1;break e;case 3:case 4:Et=w.stateNode.containerInfo,On=!0;break e}w=w.return}if(Et===null)throw Error(s(160));Uv(m,E,f),Et=null,On=!1,m=f.alternate,m!==null&&(m.return=null),f.return=null}if(i.subtreeFlags&13878)for(i=i.child;i!==null;)jv(i,n),i=i.sibling}var dr=null;function jv(n,i){var a=n.alternate,l=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:Bn(i,n),qn(n),l&4&&(ns(3,n,n.return),Ml(3,n),ns(5,n,n.return));break;case 1:Bn(i,n),qn(n),l&512&&(Mt||a===null||Mr(a,a.return)),l&64&&xi&&(n=n.updateQueue,n!==null&&(l=n.callbacks,l!==null&&(a=n.shared.hiddenCallbacks,n.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var f=dr;if(Bn(i,n),qn(n),l&512&&(Mt||a===null||Mr(a,a.return)),l&4){var m=a!==null?a.memoizedState:null;if(l=n.memoizedState,a===null)if(l===null)if(n.stateNode===null){e:{l=n.type,a=n.memoizedProps,f=f.ownerDocument||f;t:switch(l){case"title":m=f.getElementsByTagName("title")[0],(!m||m[js]||m[_t]||m.namespaceURI==="http://www.w3.org/2000/svg"||m.hasAttribute("itemprop"))&&(m=f.createElement(l),f.head.insertBefore(m,f.querySelector("head > title"))),hn(m,l,a),m[_t]=n,Ot(m),l=m;break e;case"link":var E=M_("link","href",f).get(l+(a.href||""));if(E){for(var w=0;w<E.length;w++)if(m=E[w],m.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&m.getAttribute("rel")===(a.rel==null?null:a.rel)&&m.getAttribute("title")===(a.title==null?null:a.title)&&m.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){E.splice(w,1);break t}}m=f.createElement(l),hn(m,l,a),f.head.appendChild(m);break;case"meta":if(E=M_("meta","content",f).get(l+(a.content||""))){for(w=0;w<E.length;w++)if(m=E[w],m.getAttribute("content")===(a.content==null?null:""+a.content)&&m.getAttribute("name")===(a.name==null?null:a.name)&&m.getAttribute("property")===(a.property==null?null:a.property)&&m.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&m.getAttribute("charset")===(a.charSet==null?null:a.charSet)){E.splice(w,1);break t}}m=f.createElement(l),hn(m,l,a),f.head.appendChild(m);break;default:throw Error(s(468,l))}m[_t]=n,Ot(m),l=m}n.stateNode=l}else P_(f,n.type,n.stateNode);else n.stateNode=k_(f,l,n.memoizedProps);else m!==l?(m===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):m.count--,l===null?P_(f,n.type,n.stateNode):k_(f,l,n.memoizedProps)):l===null&&n.stateNode!==null&&Ld(n,n.memoizedProps,a.memoizedProps)}break;case 27:Bn(i,n),qn(n),l&512&&(Mt||a===null||Mr(a,a.return)),a!==null&&l&4&&Ld(n,n.memoizedProps,a.memoizedProps);break;case 5:if(Bn(i,n),qn(n),l&512&&(Mt||a===null||Mr(a,a.return)),n.flags&32){f=n.stateNode;try{Qn(f,"")}catch(X){ft(n,n.return,X)}}l&4&&n.stateNode!=null&&(f=n.memoizedProps,Ld(n,f,a!==null?a.memoizedProps:f)),l&1024&&(jd=!0);break;case 6:if(Bn(i,n),qn(n),l&4){if(n.stateNode===null)throw Error(s(162));l=n.memoizedProps,a=n.stateNode;try{a.nodeValue=l}catch(X){ft(n,n.return,X)}}break;case 3:if(th=null,f=dr,dr=Jc(i.containerInfo),Bn(i,n),dr=f,qn(n),l&4&&a!==null&&a.memoizedState.isDehydrated)try{Zl(i.containerInfo)}catch(X){ft(n,n.return,X)}jd&&(jd=!1,Bv(n));break;case 4:l=dr,dr=Jc(n.stateNode.containerInfo),Bn(i,n),qn(n),dr=l;break;case 12:Bn(i,n),qn(n);break;case 13:Bn(i,n),qn(n),n.child.flags&8192&&n.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Kd=Ze()),l&4&&(l=n.updateQueue,l!==null&&(n.updateQueue=null,Bd(n,l)));break;case 22:f=n.memoizedState!==null;var k=a!==null&&a.memoizedState!==null,G=xi,te=Mt;if(xi=G||f,Mt=te||k,Bn(i,n),Mt=te,xi=G,qn(n),l&8192)e:for(i=n.stateNode,i._visibility=f?i._visibility&-2:i._visibility|1,f&&(a===null||k||xi||Mt||fa(n)),a=null,i=n;;){if(i.tag===5||i.tag===26){if(a===null){k=a=i;try{if(m=k.stateNode,f)E=m.style,typeof E.setProperty=="function"?E.setProperty("display","none","important"):E.display="none";else{w=k.stateNode;var se=k.memoizedProps.style,K=se!=null&&se.hasOwnProperty("display")?se.display:null;w.style.display=K==null||typeof K=="boolean"?"":(""+K).trim()}}catch(X){ft(k,k.return,X)}}}else if(i.tag===6){if(a===null){k=i;try{k.stateNode.nodeValue=f?"":k.memoizedProps}catch(X){ft(k,k.return,X)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===n)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===n)break e;for(;i.sibling===null;){if(i.return===null||i.return===n)break e;a===i&&(a=null),i=i.return}a===i&&(a=null),i.sibling.return=i.return,i=i.sibling}l&4&&(l=n.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,Bd(n,a))));break;case 19:Bn(i,n),qn(n),l&4&&(l=n.updateQueue,l!==null&&(n.updateQueue=null,Bd(n,l)));break;case 30:break;case 21:break;default:Bn(i,n),qn(n)}}function qn(n){var i=n.flags;if(i&2){try{for(var a,l=n.return;l!==null;){if(kv(l)){a=l;break}l=l.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var f=a.stateNode,m=Ud(n);jc(n,m,f);break;case 5:var E=a.stateNode;a.flags&32&&(Qn(E,""),a.flags&=-33);var w=Ud(n);jc(n,w,E);break;case 3:case 4:var k=a.stateNode.containerInfo,G=Ud(n);zd(n,G,k);break;default:throw Error(s(161))}}catch(te){ft(n,n.return,te)}n.flags&=-3}i&4096&&(n.flags&=-4097)}function Bv(n){if(n.subtreeFlags&1024)for(n=n.child;n!==null;){var i=n;Bv(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),n=n.sibling}}function rs(n,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)Vv(n,i.alternate,i),i=i.sibling}function fa(n){for(n=n.child;n!==null;){var i=n;switch(i.tag){case 0:case 11:case 14:case 15:ns(4,i,i.return),fa(i);break;case 1:Mr(i,i.return);var a=i.stateNode;typeof a.componentWillUnmount=="function"&&Nv(i,i.return,a),fa(i);break;case 27:Hl(i.stateNode);case 26:case 5:Mr(i,i.return),fa(i);break;case 22:i.memoizedState===null&&fa(i);break;case 30:fa(i);break;default:fa(i)}n=n.sibling}}function is(n,i,a){for(a=a&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var l=i.alternate,f=n,m=i,E=m.flags;switch(m.tag){case 0:case 11:case 15:is(f,m,a),Ml(4,m);break;case 1:if(is(f,m,a),l=m,f=l.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(G){ft(l,l.return,G)}if(l=m,f=l.updateQueue,f!==null){var w=l.stateNode;try{var k=f.shared.hiddenCallbacks;if(k!==null)for(f.shared.hiddenCallbacks=null,f=0;f<k.length;f++)gy(k[f],w)}catch(G){ft(l,l.return,G)}}a&&E&64&&Dv(m),Pl(m,m.return);break;case 27:Mv(m);case 26:case 5:is(f,m,a),a&&l===null&&E&4&&Ov(m),Pl(m,m.return);break;case 12:is(f,m,a);break;case 13:is(f,m,a),a&&E&4&&zv(f,m);break;case 22:m.memoizedState===null&&is(f,m,a),Pl(m,m.return);break;case 30:break;default:is(f,m,a)}i=i.sibling}}function qd(n,i){var a=null;n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(a=n.memoizedState.cachePool.pool),n=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(n=i.memoizedState.cachePool.pool),n!==a&&(n!=null&&n.refCount++,a!=null&&bl(a))}function Fd(n,i){n=null,i.alternate!==null&&(n=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==n&&(i.refCount++,n!=null&&bl(n))}function Pr(n,i,a,l){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)qv(n,i,a,l),i=i.sibling}function qv(n,i,a,l){var f=i.flags;switch(i.tag){case 0:case 11:case 15:Pr(n,i,a,l),f&2048&&Ml(9,i);break;case 1:Pr(n,i,a,l);break;case 3:Pr(n,i,a,l),f&2048&&(n=null,i.alternate!==null&&(n=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==n&&(i.refCount++,n!=null&&bl(n)));break;case 12:if(f&2048){Pr(n,i,a,l),n=i.stateNode;try{var m=i.memoizedProps,E=m.id,w=m.onPostCommit;typeof w=="function"&&w(E,i.alternate===null?"mount":"update",n.passiveEffectDuration,-0)}catch(k){ft(i,i.return,k)}}else Pr(n,i,a,l);break;case 13:Pr(n,i,a,l);break;case 23:break;case 22:m=i.stateNode,E=i.alternate,i.memoizedState!==null?m._visibility&2?Pr(n,i,a,l):Vl(n,i):m._visibility&2?Pr(n,i,a,l):(m._visibility|=2,po(n,i,a,l,(i.subtreeFlags&10256)!==0)),f&2048&&qd(E,i);break;case 24:Pr(n,i,a,l),f&2048&&Fd(i.alternate,i);break;default:Pr(n,i,a,l)}}function po(n,i,a,l,f){for(f=f&&(i.subtreeFlags&10256)!==0,i=i.child;i!==null;){var m=n,E=i,w=a,k=l,G=E.flags;switch(E.tag){case 0:case 11:case 15:po(m,E,w,k,f),Ml(8,E);break;case 23:break;case 22:var te=E.stateNode;E.memoizedState!==null?te._visibility&2?po(m,E,w,k,f):Vl(m,E):(te._visibility|=2,po(m,E,w,k,f)),f&&G&2048&&qd(E.alternate,E);break;case 24:po(m,E,w,k,f),f&&G&2048&&Fd(E.alternate,E);break;default:po(m,E,w,k,f)}i=i.sibling}}function Vl(n,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var a=n,l=i,f=l.flags;switch(l.tag){case 22:Vl(a,l),f&2048&&qd(l.alternate,l);break;case 24:Vl(a,l),f&2048&&Fd(l.alternate,l);break;default:Vl(a,l)}i=i.sibling}}var Ll=8192;function go(n){if(n.subtreeFlags&Ll)for(n=n.child;n!==null;)Fv(n),n=n.sibling}function Fv(n){switch(n.tag){case 26:go(n),n.flags&Ll&&n.memoizedState!==null&&j1(dr,n.memoizedState,n.memoizedProps);break;case 5:go(n);break;case 3:case 4:var i=dr;dr=Jc(n.stateNode.containerInfo),go(n),dr=i;break;case 22:n.memoizedState===null&&(i=n.alternate,i!==null&&i.memoizedState!==null?(i=Ll,Ll=16777216,go(n),Ll=i):go(n));break;default:go(n)}}function Hv(n){var i=n.alternate;if(i!==null&&(n=i.child,n!==null)){i.child=null;do i=n.sibling,n.sibling=null,n=i;while(n!==null)}}function Ul(n){var i=n.deletions;if((n.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];en=l,Yv(l,n)}Hv(n)}if(n.subtreeFlags&10256)for(n=n.child;n!==null;)Gv(n),n=n.sibling}function Gv(n){switch(n.tag){case 0:case 11:case 15:Ul(n),n.flags&2048&&ns(9,n,n.return);break;case 3:Ul(n);break;case 12:Ul(n);break;case 22:var i=n.stateNode;n.memoizedState!==null&&i._visibility&2&&(n.return===null||n.return.tag!==13)?(i._visibility&=-3,Bc(n)):Ul(n);break;default:Ul(n)}}function Bc(n){var i=n.deletions;if((n.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];en=l,Yv(l,n)}Hv(n)}for(n=n.child;n!==null;){switch(i=n,i.tag){case 0:case 11:case 15:ns(8,i,i.return),Bc(i);break;case 22:a=i.stateNode,a._visibility&2&&(a._visibility&=-3,Bc(i));break;default:Bc(i)}n=n.sibling}}function Yv(n,i){for(;en!==null;){var a=en;switch(a.tag){case 0:case 11:case 15:ns(8,a,i);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:bl(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,en=l;else e:for(a=n;en!==null;){l=en;var f=l.sibling,m=l.return;if(Lv(l),l===a){en=null;break e}if(f!==null){f.return=m,en=f;break e}en=m}}}var n1={getCacheForType:function(n){var i=yn(Kt),a=i.data.get(n);return a===void 0&&(a=n(),i.data.set(n,a)),a}},r1=typeof WeakMap=="function"?WeakMap:Map,st=0,mt=null,Fe=null,Xe=0,at=0,Fn=null,ss=!1,yo=!1,Hd=!1,Di=0,Dt=0,as=0,da=0,Gd=0,rr=0,vo=0,zl=null,kn=null,Yd=!1,Kd=0,qc=1/0,Fc=null,os=null,cn=0,ls=null,_o=null,bo=0,Qd=0,$d=null,Kv=null,jl=0,Xd=null;function Hn(){if((st&2)!==0&&Xe!==0)return Xe&-Xe;if(q.T!==null){var n=ao;return n!==0?n:rm()}return Ln()}function Qv(){rr===0&&(rr=(Xe&536870912)===0||nt?Dn():536870912);var n=nr.current;return n!==null&&(n.flags|=32),rr}function Gn(n,i,a){(n===mt&&(at===2||at===9)||n.cancelPendingCommit!==null)&&(Eo(n,0),us(n,Xe,rr,!1)),Kn(n,a),((st&2)===0||n!==mt)&&(n===mt&&((st&2)===0&&(da|=a),Dt===4&&us(n,Xe,rr,!1)),Vr(n))}function $v(n,i,a){if((st&6)!==0)throw Error(s(327));var l=!a&&(i&124)===0&&(i&n.expiredLanes)===0||ai(n,i),f=l?a1(n,i):Jd(n,i,!0),m=l;do{if(f===0){yo&&!l&&us(n,i,0,!1);break}else{if(a=n.current.alternate,m&&!i1(a)){f=Jd(n,i,!1),m=!1;continue}if(f===2){if(m=i,n.errorRecoveryDisabledLanes&m)var E=0;else E=n.pendingLanes&-536870913,E=E!==0?E:E&536870912?536870912:0;if(E!==0){i=E;e:{var w=n;f=zl;var k=w.current.memoizedState.isDehydrated;if(k&&(Eo(w,E).flags|=256),E=Jd(w,E,!1),E!==2){if(Hd&&!k){w.errorRecoveryDisabledLanes|=m,da|=m,f=4;break e}m=kn,kn=f,m!==null&&(kn===null?kn=m:kn.push.apply(kn,m))}f=E}if(m=!1,f!==2)continue}}if(f===1){Eo(n,0),us(n,i,0,!0);break}e:{switch(l=n,m=f,m){case 0:case 1:throw Error(s(345));case 4:if((i&4194048)!==i)break;case 6:us(l,i,rr,!ss);break e;case 2:kn=null;break;case 3:case 5:break;default:throw Error(s(329))}if((i&62914560)===i&&(f=Kd+300-Ze(),10<f)){if(us(l,i,rr,!ss),si(l,0,!0)!==0)break e;l.timeoutHandle=S_(Xv.bind(null,l,a,kn,Fc,Yd,i,rr,da,vo,ss,m,2,-0,0),f);break e}Xv(l,a,kn,Fc,Yd,i,rr,da,vo,ss,m,0,-0,0)}}break}while(!0);Vr(n)}function Xv(n,i,a,l,f,m,E,w,k,G,te,se,K,X){if(n.timeoutHandle=-1,se=i.subtreeFlags,(se&8192||(se&16785408)===16785408)&&(Kl={stylesheets:null,count:0,unsuspend:z1},Fv(i),se=B1(),se!==null)){n.cancelPendingCommit=se(r_.bind(null,n,i,m,a,l,f,E,w,k,te,1,K,X)),us(n,m,E,!G);return}r_(n,i,m,a,l,f,E,w,k)}function i1(n){for(var i=n;;){var a=i.tag;if((a===0||a===11||a===15)&&i.flags&16384&&(a=i.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var f=a[l],m=f.getSnapshot;f=f.value;try{if(!zn(m(),f))return!1}catch{return!1}}if(a=i.child,i.subtreeFlags&16384&&a!==null)a.return=i,i=a;else{if(i===n)break;for(;i.sibling===null;){if(i.return===null||i.return===n)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function us(n,i,a,l){i&=~Gd,i&=~da,n.suspendedLanes|=i,n.pingedLanes&=~i,l&&(n.warmLanes|=i),l=n.expirationTimes;for(var f=i;0<f;){var m=31-Vt(f),E=1<<m;l[m]=-1,f&=~E}a!==0&&Se(n,a,i)}function Hc(){return(st&6)===0?(Bl(0),!1):!0}function Wd(){if(Fe!==null){if(at===0)var n=Fe.return;else n=Fe,Ti=oa=null,md(n),fo=null,Nl=0,n=Fe;for(;n!==null;)Iv(n.alternate,n),n=n.return;Fe=null}}function Eo(n,i){var a=n.timeoutHandle;a!==-1&&(n.timeoutHandle=-1,T1(a)),a=n.cancelPendingCommit,a!==null&&(n.cancelPendingCommit=null,a()),Wd(),mt=n,Fe=a=_i(n.current,null),Xe=i,at=0,Fn=null,ss=!1,yo=ai(n,i),Hd=!1,vo=rr=Gd=da=as=Dt=0,kn=zl=null,Yd=!1,(i&8)!==0&&(i|=i&32);var l=n.entangledLanes;if(l!==0)for(n=n.entanglements,l&=i;0<l;){var f=31-Vt(l),m=1<<f;i|=n[f],l&=~m}return Di=i,fc(),a}function Wv(n,i){Ve=null,q.H=Nc,i===Tl||i===Ec?(i=my(),at=3):i===hy?(i=my(),at=4):at=i===pv?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,Fn=i,Fe===null&&(Dt=1,Vc(n,Zn(i,n.current)))}function Zv(){var n=q.H;return q.H=Nc,n===null?Nc:n}function Jv(){var n=q.A;return q.A=n1,n}function Zd(){Dt=4,ss||(Xe&4194048)!==Xe&&nr.current!==null||(yo=!0),(as&134217727)===0&&(da&134217727)===0||mt===null||us(mt,Xe,rr,!1)}function Jd(n,i,a){var l=st;st|=2;var f=Zv(),m=Jv();(mt!==n||Xe!==i)&&(Fc=null,Eo(n,i)),i=!1;var E=Dt;e:do try{if(at!==0&&Fe!==null){var w=Fe,k=Fn;switch(at){case 8:Wd(),E=6;break e;case 3:case 2:case 9:case 6:nr.current===null&&(i=!0);var G=at;if(at=0,Fn=null,To(n,w,k,G),a&&yo){E=0;break e}break;default:G=at,at=0,Fn=null,To(n,w,k,G)}}s1(),E=Dt;break}catch(te){Wv(n,te)}while(!0);return i&&n.shellSuspendCounter++,Ti=oa=null,st=l,q.H=f,q.A=m,Fe===null&&(mt=null,Xe=0,fc()),E}function s1(){for(;Fe!==null;)e_(Fe)}function a1(n,i){var a=st;st|=2;var l=Zv(),f=Jv();mt!==n||Xe!==i?(Fc=null,qc=Ze()+500,Eo(n,i)):yo=ai(n,i);e:do try{if(at!==0&&Fe!==null){i=Fe;var m=Fn;t:switch(at){case 1:at=0,Fn=null,To(n,i,m,1);break;case 2:case 9:if(fy(m)){at=0,Fn=null,t_(i);break}i=function(){at!==2&&at!==9||mt!==n||(at=7),Vr(n)},m.then(i,i);break e;case 3:at=7;break e;case 4:at=5;break e;case 7:fy(m)?(at=0,Fn=null,t_(i)):(at=0,Fn=null,To(n,i,m,7));break;case 5:var E=null;switch(Fe.tag){case 26:E=Fe.memoizedState;case 5:case 27:var w=Fe;if(!E||V_(E)){at=0,Fn=null;var k=w.sibling;if(k!==null)Fe=k;else{var G=w.return;G!==null?(Fe=G,Gc(G)):Fe=null}break t}}at=0,Fn=null,To(n,i,m,5);break;case 6:at=0,Fn=null,To(n,i,m,6);break;case 8:Wd(),Dt=6;break e;default:throw Error(s(462))}}o1();break}catch(te){Wv(n,te)}while(!0);return Ti=oa=null,q.H=l,q.A=f,st=a,Fe!==null?0:(mt=null,Xe=0,fc(),Dt)}function o1(){for(;Fe!==null&&!dt();)e_(Fe)}function e_(n){var i=Cv(n.alternate,n,Di);n.memoizedProps=n.pendingProps,i===null?Gc(n):Fe=i}function t_(n){var i=n,a=i.alternate;switch(i.tag){case 15:case 0:i=Ev(a,i,i.pendingProps,i.type,void 0,Xe);break;case 11:i=Ev(a,i,i.pendingProps,i.type.render,i.ref,Xe);break;case 5:md(i);default:Iv(a,i),i=Fe=ny(i,Di),i=Cv(a,i,Di)}n.memoizedProps=n.pendingProps,i===null?Gc(n):Fe=i}function To(n,i,a,l){Ti=oa=null,md(i),fo=null,Nl=0;var f=i.return;try{if(XS(n,f,i,a,Xe)){Dt=1,Vc(n,Zn(a,n.current)),Fe=null;return}}catch(m){if(f!==null)throw Fe=f,m;Dt=1,Vc(n,Zn(a,n.current)),Fe=null;return}i.flags&32768?(nt||l===1?n=!0:yo||(Xe&536870912)!==0?n=!1:(ss=n=!0,(l===2||l===9||l===3||l===6)&&(l=nr.current,l!==null&&l.tag===13&&(l.flags|=16384))),n_(i,n)):Gc(i)}function Gc(n){var i=n;do{if((i.flags&32768)!==0){n_(i,ss);return}n=i.return;var a=ZS(i.alternate,i,Di);if(a!==null){Fe=a;return}if(i=i.sibling,i!==null){Fe=i;return}Fe=i=n}while(i!==null);Dt===0&&(Dt=5)}function n_(n,i){do{var a=JS(n.alternate,n);if(a!==null){a.flags&=32767,Fe=a;return}if(a=n.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!i&&(n=n.sibling,n!==null)){Fe=n;return}Fe=n=a}while(n!==null);Dt=6,Fe=null}function r_(n,i,a,l,f,m,E,w,k){n.cancelPendingCommit=null;do Yc();while(cn!==0);if((st&6)!==0)throw Error(s(327));if(i!==null){if(i===n.current)throw Error(s(177));if(m=i.lanes|i.childLanes,m|=Ff,Fi(n,a,m,E,w,k),n===mt&&(Fe=mt=null,Xe=0),_o=i,ls=n,bo=a,Qd=m,$d=f,Kv=l,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(n.callbackNode=null,n.callbackPriority=0,h1(ni,function(){return l_(),null})):(n.callbackNode=null,n.callbackPriority=0),l=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||l){l=q.T,q.T=null,f=ce.p,ce.p=2,E=st,st|=4;try{e1(n,i,a)}finally{st=E,ce.p=f,q.T=l}}cn=1,i_(),s_(),a_()}}function i_(){if(cn===1){cn=0;var n=ls,i=_o,a=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||a){a=q.T,q.T=null;var l=ce.p;ce.p=2;var f=st;st|=4;try{jv(i,n);var m=hm,E=Yg(n.containerInfo),w=m.focusedElem,k=m.selectionRange;if(E!==w&&w&&w.ownerDocument&&Gg(w.ownerDocument.documentElement,w)){if(k!==null&&Uf(w)){var G=k.start,te=k.end;if(te===void 0&&(te=G),"selectionStart"in w)w.selectionStart=G,w.selectionEnd=Math.min(te,w.value.length);else{var se=w.ownerDocument||document,K=se&&se.defaultView||window;if(K.getSelection){var X=K.getSelection(),Ne=w.textContent.length,Ae=Math.min(k.start,Ne),ct=k.end===void 0?Ae:Math.min(k.end,Ne);!X.extend&&Ae>ct&&(E=ct,ct=Ae,Ae=E);var B=Hg(w,Ae),j=Hg(w,ct);if(B&&j&&(X.rangeCount!==1||X.anchorNode!==B.node||X.anchorOffset!==B.offset||X.focusNode!==j.node||X.focusOffset!==j.offset)){var H=se.createRange();H.setStart(B.node,B.offset),X.removeAllRanges(),Ae>ct?(X.addRange(H),X.extend(j.node,j.offset)):(H.setEnd(j.node,j.offset),X.addRange(H))}}}}for(se=[],X=w;X=X.parentNode;)X.nodeType===1&&se.push({element:X,left:X.scrollLeft,top:X.scrollTop});for(typeof w.focus=="function"&&w.focus(),w=0;w<se.length;w++){var re=se[w];re.element.scrollLeft=re.left,re.element.scrollTop=re.top}}ih=!!cm,hm=cm=null}finally{st=f,ce.p=l,q.T=a}}n.current=i,cn=2}}function s_(){if(cn===2){cn=0;var n=ls,i=_o,a=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||a){a=q.T,q.T=null;var l=ce.p;ce.p=2;var f=st;st|=4;try{Vv(n,i.alternate,i)}finally{st=f,ce.p=l,q.T=a}}cn=3}}function a_(){if(cn===4||cn===3){cn=0,Ct();var n=ls,i=_o,a=bo,l=Kv;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?cn=5:(cn=0,_o=ls=null,o_(n,n.pendingLanes));var f=n.pendingLanes;if(f===0&&(os=null),Lt(a),i=i.stateNode,tt&&typeof tt.onCommitFiberRoot=="function")try{tt.onCommitFiberRoot(ht,i,void 0,(i.current.flags&128)===128)}catch{}if(l!==null){i=q.T,f=ce.p,ce.p=2,q.T=null;try{for(var m=n.onRecoverableError,E=0;E<l.length;E++){var w=l[E];m(w.value,{componentStack:w.stack})}}finally{q.T=i,ce.p=f}}(bo&3)!==0&&Yc(),Vr(n),f=n.pendingLanes,(a&4194090)!==0&&(f&42)!==0?n===Xd?jl++:(jl=0,Xd=n):jl=0,Bl(0)}}function o_(n,i){(n.pooledCacheLanes&=i)===0&&(i=n.pooledCache,i!=null&&(n.pooledCache=null,bl(i)))}function Yc(n){return i_(),s_(),a_(),l_()}function l_(){if(cn!==5)return!1;var n=ls,i=Qd;Qd=0;var a=Lt(bo),l=q.T,f=ce.p;try{ce.p=32>a?32:a,q.T=null,a=$d,$d=null;var m=ls,E=bo;if(cn=0,_o=ls=null,bo=0,(st&6)!==0)throw Error(s(331));var w=st;if(st|=4,Gv(m.current),qv(m,m.current,E,a),st=w,Bl(0,!1),tt&&typeof tt.onPostCommitFiberRoot=="function")try{tt.onPostCommitFiberRoot(ht,m)}catch{}return!0}finally{ce.p=f,q.T=l,o_(n,i)}}function u_(n,i,a){i=Zn(a,i),i=xd(n.stateNode,i,2),n=Zi(n,i,2),n!==null&&(Kn(n,2),Vr(n))}function ft(n,i,a){if(n.tag===3)u_(n,n,a);else for(;i!==null;){if(i.tag===3){u_(i,n,a);break}else if(i.tag===1){var l=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(os===null||!os.has(l))){n=Zn(a,n),a=dv(2),l=Zi(i,a,2),l!==null&&(mv(a,l,i,n),Kn(l,2),Vr(l));break}}i=i.return}}function em(n,i,a){var l=n.pingCache;if(l===null){l=n.pingCache=new r1;var f=new Set;l.set(i,f)}else f=l.get(i),f===void 0&&(f=new Set,l.set(i,f));f.has(a)||(Hd=!0,f.add(a),n=l1.bind(null,n,i,a),i.then(n,n))}function l1(n,i,a){var l=n.pingCache;l!==null&&l.delete(i),n.pingedLanes|=n.suspendedLanes&a,n.warmLanes&=~a,mt===n&&(Xe&a)===a&&(Dt===4||Dt===3&&(Xe&62914560)===Xe&&300>Ze()-Kd?(st&2)===0&&Eo(n,0):Gd|=a,vo===Xe&&(vo=0)),Vr(n)}function c_(n,i){i===0&&(i=zs()),n=no(n,i),n!==null&&(Kn(n,i),Vr(n))}function u1(n){var i=n.memoizedState,a=0;i!==null&&(a=i.retryLane),c_(n,a)}function c1(n,i){var a=0;switch(n.tag){case 13:var l=n.stateNode,f=n.memoizedState;f!==null&&(a=f.retryLane);break;case 19:l=n.stateNode;break;case 22:l=n.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(i),c_(n,a)}function h1(n,i){return we(n,i)}var Kc=null,wo=null,tm=!1,Qc=!1,nm=!1,ma=0;function Vr(n){n!==wo&&n.next===null&&(wo===null?Kc=wo=n:wo=wo.next=n),Qc=!0,tm||(tm=!0,d1())}function Bl(n,i){if(!nm&&Qc){nm=!0;do for(var a=!1,l=Kc;l!==null;){if(n!==0){var f=l.pendingLanes;if(f===0)var m=0;else{var E=l.suspendedLanes,w=l.pingedLanes;m=(1<<31-Vt(42|n)+1)-1,m&=f&~(E&~w),m=m&201326741?m&201326741|1:m?m|2:0}m!==0&&(a=!0,m_(l,m))}else m=Xe,m=si(l,l===mt?m:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(m&3)===0||ai(l,m)||(a=!0,m_(l,m));l=l.next}while(a);nm=!1}}function f1(){h_()}function h_(){Qc=tm=!1;var n=0;ma!==0&&(E1()&&(n=ma),ma=0);for(var i=Ze(),a=null,l=Kc;l!==null;){var f=l.next,m=f_(l,i);m===0?(l.next=null,a===null?Kc=f:a.next=f,f===null&&(wo=a)):(a=l,(n!==0||(m&3)!==0)&&(Qc=!0)),l=f}Bl(n)}function f_(n,i){for(var a=n.suspendedLanes,l=n.pingedLanes,f=n.expirationTimes,m=n.pendingLanes&-62914561;0<m;){var E=31-Vt(m),w=1<<E,k=f[E];k===-1?((w&a)===0||(w&l)!==0)&&(f[E]=oi(w,i)):k<=i&&(n.expiredLanes|=w),m&=~w}if(i=mt,a=Xe,a=si(n,n===i?a:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),l=n.callbackNode,a===0||n===i&&(at===2||at===9)||n.cancelPendingCommit!==null)return l!==null&&l!==null&&Be(l),n.callbackNode=null,n.callbackPriority=0;if((a&3)===0||ai(n,a)){if(i=a&-a,i===n.callbackPriority)return i;switch(l!==null&&Be(l),Lt(a)){case 2:case 8:a=qi;break;case 32:a=ni;break;case 268435456:a=Vn;break;default:a=ni}return l=d_.bind(null,n),a=we(a,l),n.callbackPriority=i,n.callbackNode=a,i}return l!==null&&l!==null&&Be(l),n.callbackPriority=2,n.callbackNode=null,2}function d_(n,i){if(cn!==0&&cn!==5)return n.callbackNode=null,n.callbackPriority=0,null;var a=n.callbackNode;if(Yc()&&n.callbackNode!==a)return null;var l=Xe;return l=si(n,n===mt?l:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),l===0?null:($v(n,l,i),f_(n,Ze()),n.callbackNode!=null&&n.callbackNode===a?d_.bind(null,n):null)}function m_(n,i){if(Yc())return null;$v(n,i,!0)}function d1(){w1(function(){(st&6)!==0?we(wt,f1):h_()})}function rm(){return ma===0&&(ma=Dn()),ma}function p_(n){return n==null||typeof n=="symbol"||typeof n=="boolean"?null:typeof n=="function"?n:Ha(""+n)}function g_(n,i){var a=i.ownerDocument.createElement("input");return a.name=i.name,a.value=i.value,n.id&&a.setAttribute("form",n.id),i.parentNode.insertBefore(a,i),n=new FormData(n),a.parentNode.removeChild(a),n}function m1(n,i,a,l,f){if(i==="submit"&&a&&a.stateNode===f){var m=p_((f[Je]||null).action),E=l.submitter;E&&(i=(i=E[Je]||null)?p_(i.formAction):E.getAttribute("formAction"),i!==null&&(m=i,E=null));var w=new Ga("action","action",null,l,f);n.push({event:w,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(ma!==0){var k=E?g_(f,E):new FormData(f);wd(a,{pending:!0,data:k,method:f.method,action:m},null,k)}}else typeof m=="function"&&(w.preventDefault(),k=E?g_(f,E):new FormData(f),wd(a,{pending:!0,data:k,method:f.method,action:m},m,k))},currentTarget:f}]})}}for(var im=0;im<qf.length;im++){var sm=qf[im],p1=sm.toLowerCase(),g1=sm[0].toUpperCase()+sm.slice(1);fr(p1,"on"+g1)}fr($g,"onAnimationEnd"),fr(Xg,"onAnimationIteration"),fr(Wg,"onAnimationStart"),fr("dblclick","onDoubleClick"),fr("focusin","onFocus"),fr("focusout","onBlur"),fr(kS,"onTransitionRun"),fr(MS,"onTransitionStart"),fr(PS,"onTransitionCancel"),fr(Zg,"onTransitionEnd"),ci("onMouseEnter",["mouseout","mouseover"]),ci("onMouseLeave",["mouseout","mouseover"]),ci("onPointerEnter",["pointerout","pointerover"]),ci("onPointerLeave",["pointerout","pointerover"]),cr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),cr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),cr("onBeforeInput",["compositionend","keypress","textInput","paste"]),cr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),cr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),cr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ql="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),y1=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(ql));function y_(n,i){i=(i&4)!==0;for(var a=0;a<n.length;a++){var l=n[a],f=l.event;l=l.listeners;e:{var m=void 0;if(i)for(var E=l.length-1;0<=E;E--){var w=l[E],k=w.instance,G=w.currentTarget;if(w=w.listener,k!==m&&f.isPropagationStopped())break e;m=w,f.currentTarget=G;try{m(f)}catch(te){Pc(te)}f.currentTarget=null,m=k}else for(E=0;E<l.length;E++){if(w=l[E],k=w.instance,G=w.currentTarget,w=w.listener,k!==m&&f.isPropagationStopped())break e;m=w,f.currentTarget=G;try{m(f)}catch(te){Pc(te)}f.currentTarget=null,m=k}}}}function He(n,i){var a=i[Hi];a===void 0&&(a=i[Hi]=new Set);var l=n+"__bubble";a.has(l)||(v_(i,n,2,!1),a.add(l))}function am(n,i,a){var l=0;i&&(l|=4),v_(a,n,l,i)}var $c="_reactListening"+Math.random().toString(36).slice(2);function om(n){if(!n[$c]){n[$c]=!0,el.forEach(function(a){a!=="selectionchange"&&(y1.has(a)||am(a,!1,n),am(a,!0,n))});var i=n.nodeType===9?n:n.ownerDocument;i===null||i[$c]||(i[$c]=!0,am("selectionchange",!1,i))}}function v_(n,i,a,l){switch(q_(i)){case 2:var f=H1;break;case 8:f=G1;break;default:f=Em}a=f.bind(null,i,a,n),f=void 0,!Xn||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(f=!0),l?f!==void 0?n.addEventListener(i,a,{capture:!0,passive:f}):n.addEventListener(i,a,!0):f!==void 0?n.addEventListener(i,a,{passive:f}):n.addEventListener(i,a,!1)}function lm(n,i,a,l,f){var m=l;if((i&1)===0&&(i&2)===0&&l!==null)e:for(;;){if(l===null)return;var E=l.tag;if(E===3||E===4){var w=l.stateNode.containerInfo;if(w===f)break;if(E===4)for(E=l.return;E!==null;){var k=E.tag;if((k===3||k===4)&&E.stateNode.containerInfo===f)return;E=E.return}for(;w!==null;){if(E=ui(w),E===null)return;if(k=E.tag,k===5||k===6||k===26||k===27){l=m=E;continue e}w=w.parentNode}}l=l.return}Wu(function(){var G=m,te=$n(a),se=[];e:{var K=Jg.get(n);if(K!==void 0){var X=Ga,Ne=n;switch(n){case"keypress":if(Cr(a)===0)break e;case"keydown":case"keyup":X=Wa;break;case"focusin":Ne="focus",X=Qa;break;case"focusout":Ne="blur",X=Qa;break;case"beforeblur":case"afterblur":X=Qa;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":X=Wn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":X=Mf;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":X=sc;break;case $g:case Xg:case Wg:X=$a;break;case Zg:X=oc;break;case"scroll":case"scrollend":X=Zu;break;case"wheel":X=Za;break;case"copy":case"cut":case"paste":X=Xa;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":X=fl;break;case"toggle":case"beforetoggle":X=uc}var Ae=(i&4)!==0,ct=!Ae&&(n==="scroll"||n==="scrollend"),B=Ae?K!==null?K+"Capture":null:K;Ae=[];for(var j=G,H;j!==null;){var re=j;if(H=re.stateNode,re=re.tag,re!==5&&re!==26&&re!==27||H===null||B===null||(re=Ks(j,B),re!=null&&Ae.push(Fl(j,re,H))),ct)break;j=j.return}0<Ae.length&&(K=new X(K,Ne,null,a,te),se.push({event:K,listeners:Ae}))}}if((i&7)===0){e:{if(K=n==="mouseover"||n==="pointerover",X=n==="mouseout"||n==="pointerout",K&&a!==di&&(Ne=a.relatedTarget||a.fromElement)&&(ui(Ne)||Ne[bt]))break e;if((X||K)&&(K=te.window===te?te:(K=te.ownerDocument)?K.defaultView||K.parentWindow:window,X?(Ne=a.relatedTarget||a.toElement,X=G,Ne=Ne?ui(Ne):null,Ne!==null&&(ct=u(Ne),Ae=Ne.tag,Ne!==ct||Ae!==5&&Ae!==27&&Ae!==6)&&(Ne=null)):(X=null,Ne=G),X!==Ne)){if(Ae=Wn,re="onMouseLeave",B="onMouseEnter",j="mouse",(n==="pointerout"||n==="pointerover")&&(Ae=fl,re="onPointerLeave",B="onPointerEnter",j="pointer"),ct=X==null?K:wr(X),H=Ne==null?K:wr(Ne),K=new Ae(re,j+"leave",X,a,te),K.target=ct,K.relatedTarget=H,re=null,ui(te)===G&&(Ae=new Ae(B,j+"enter",Ne,a,te),Ae.target=H,Ae.relatedTarget=ct,re=Ae),ct=re,X&&Ne)t:{for(Ae=X,B=Ne,j=0,H=Ae;H;H=So(H))j++;for(H=0,re=B;re;re=So(re))H++;for(;0<j-H;)Ae=So(Ae),j--;for(;0<H-j;)B=So(B),H--;for(;j--;){if(Ae===B||B!==null&&Ae===B.alternate)break t;Ae=So(Ae),B=So(B)}Ae=null}else Ae=null;X!==null&&__(se,K,X,Ae,!1),Ne!==null&&ct!==null&&__(se,ct,Ne,Ae,!0)}}e:{if(K=G?wr(G):window,X=K.nodeName&&K.nodeName.toLowerCase(),X==="select"||X==="input"&&K.type==="file")var ye=Ug;else if(Yt(K))if(zg)ye=DS;else{ye=xS;var je=CS}else X=K.nodeName,!X||X.toLowerCase()!=="input"||K.type!=="checkbox"&&K.type!=="radio"?G&&sl(G.elementType)&&(ye=Ug):ye=IS;if(ye&&(ye=ye(n,G))){vi(se,ye,a,te);break e}je&&je(n,K,G),n==="focusout"&&G&&K.type==="number"&&G.memoizedProps.value!=null&&Ki(K,"number",K.value)}switch(je=G?wr(G):window,n){case"focusin":(Yt(je)||je.contentEditable==="true")&&(Ja=je,zf=G,pl=null);break;case"focusout":pl=zf=Ja=null;break;case"mousedown":jf=!0;break;case"contextmenu":case"mouseup":case"dragend":jf=!1,Kg(se,a,te);break;case"selectionchange":if(OS)break;case"keydown":case"keyup":Kg(se,a,te)}var Ee;if(Dr)e:{switch(n){case"compositionstart":var Ce="onCompositionStart";break e;case"compositionend":Ce="onCompositionEnd";break e;case"compositionupdate":Ce="onCompositionUpdate";break e}Ce=void 0}else Qe?Z(n,a)&&(Ce="onCompositionEnd"):n==="keydown"&&a.keyCode===229&&(Ce="onCompositionStart");Ce&&(b&&a.locale!=="ko"&&(Qe||Ce!=="onCompositionStart"?Ce==="onCompositionEnd"&&Qe&&(Ee=ol()):(Rr=te,Qi="value"in Rr?Rr.value:Rr.textContent,Qe=!0)),je=Xc(G,Ce),0<je.length&&(Ce=new cl(Ce,n,null,a,te),se.push({event:Ce,listeners:je}),Ee?Ce.data=Ee:(Ee=fe(a),Ee!==null&&(Ce.data=Ee)))),(Ee=y?Gt(n,a):$e(n,a))&&(Ce=Xc(G,"onBeforeInput"),0<Ce.length&&(je=new cl("onBeforeInput","beforeinput",null,a,te),se.push({event:je,listeners:Ce}),je.data=Ee)),m1(se,n,G,a,te)}y_(se,i)})}function Fl(n,i,a){return{instance:n,listener:i,currentTarget:a}}function Xc(n,i){for(var a=i+"Capture",l=[];n!==null;){var f=n,m=f.stateNode;if(f=f.tag,f!==5&&f!==26&&f!==27||m===null||(f=Ks(n,a),f!=null&&l.unshift(Fl(n,f,m)),f=Ks(n,i),f!=null&&l.push(Fl(n,f,m))),n.tag===3)return l;n=n.return}return[]}function So(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5&&n.tag!==27);return n||null}function __(n,i,a,l,f){for(var m=i._reactName,E=[];a!==null&&a!==l;){var w=a,k=w.alternate,G=w.stateNode;if(w=w.tag,k!==null&&k===l)break;w!==5&&w!==26&&w!==27||G===null||(k=G,f?(G=Ks(a,m),G!=null&&E.unshift(Fl(a,G,k))):f||(G=Ks(a,m),G!=null&&E.push(Fl(a,G,k)))),a=a.return}E.length!==0&&n.push({event:i,listeners:E})}var v1=/\r\n?/g,_1=/\u0000|\uFFFD/g;function b_(n){return(typeof n=="string"?n:""+n).replace(v1,`
`).replace(_1,"")}function E_(n,i){return i=b_(i),b_(n)===i}function Wc(){}function ut(n,i,a,l,f,m){switch(a){case"children":typeof l=="string"?i==="body"||i==="textarea"&&l===""||Qn(n,l):(typeof l=="number"||typeof l=="bigint")&&i!=="body"&&Qn(n,""+l);break;case"className":Sr(n,"class",l);break;case"tabIndex":Sr(n,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":Sr(n,a,l);break;case"style":il(n,l,m);break;case"data":if(i!=="object"){Sr(n,"data",l);break}case"src":case"href":if(l===""&&(i!=="a"||a!=="href")){n.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){n.removeAttribute(a);break}l=Ha(""+l),n.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){n.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof m=="function"&&(a==="formAction"?(i!=="input"&&ut(n,i,"name",f.name,f,null),ut(n,i,"formEncType",f.formEncType,f,null),ut(n,i,"formMethod",f.formMethod,f,null),ut(n,i,"formTarget",f.formTarget,f,null)):(ut(n,i,"encType",f.encType,f,null),ut(n,i,"method",f.method,f,null),ut(n,i,"target",f.target,f,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){n.removeAttribute(a);break}l=Ha(""+l),n.setAttribute(a,l);break;case"onClick":l!=null&&(n.onclick=Wc);break;case"onScroll":l!=null&&He("scroll",n);break;case"onScrollEnd":l!=null&&He("scrollend",n);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(f.children!=null)throw Error(s(60));n.innerHTML=a}}break;case"multiple":n.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":n.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){n.removeAttribute("xlink:href");break}a=Ha(""+l),n.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?n.setAttribute(a,""+l):n.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?n.setAttribute(a,""):n.removeAttribute(a);break;case"capture":case"download":l===!0?n.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?n.setAttribute(a,l):n.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?n.setAttribute(a,l):n.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?n.removeAttribute(a):n.setAttribute(a,l);break;case"popover":He("beforetoggle",n),He("toggle",n),Yi(n,"popover",l);break;case"xlinkActuate":on(n,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":on(n,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":on(n,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":on(n,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":on(n,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":on(n,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":on(n,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":on(n,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":on(n,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":Yi(n,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Of.get(a)||a,Yi(n,a,l))}}function um(n,i,a,l,f,m){switch(a){case"style":il(n,l,m);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(f.children!=null)throw Error(s(60));n.innerHTML=a}}break;case"children":typeof l=="string"?Qn(n,l):(typeof l=="number"||typeof l=="bigint")&&Qn(n,""+l);break;case"onScroll":l!=null&&He("scroll",n);break;case"onScrollEnd":l!=null&&He("scrollend",n);break;case"onClick":l!=null&&(n.onclick=Wc);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!za.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(f=a.endsWith("Capture"),i=a.slice(2,f?a.length-7:void 0),m=n[Je]||null,m=m!=null?m[a]:null,typeof m=="function"&&n.removeEventListener(i,m,f),typeof l=="function")){typeof m!="function"&&m!==null&&(a in n?n[a]=null:n.hasAttribute(a)&&n.removeAttribute(a)),n.addEventListener(i,l,f);break e}a in n?n[a]=l:l===!0?n.setAttribute(a,""):Yi(n,a,l)}}}function hn(n,i,a){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":He("error",n),He("load",n);var l=!1,f=!1,m;for(m in a)if(a.hasOwnProperty(m)){var E=a[m];if(E!=null)switch(m){case"src":l=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:ut(n,i,m,E,a,null)}}f&&ut(n,i,"srcSet",a.srcSet,a,null),l&&ut(n,i,"src",a.src,a,null);return;case"input":He("invalid",n);var w=m=E=f=null,k=null,G=null;for(l in a)if(a.hasOwnProperty(l)){var te=a[l];if(te!=null)switch(l){case"name":f=te;break;case"type":E=te;break;case"checked":k=te;break;case"defaultChecked":G=te;break;case"value":m=te;break;case"defaultValue":w=te;break;case"children":case"dangerouslySetInnerHTML":if(te!=null)throw Error(s(137,i));break;default:ut(n,i,l,te,a,null)}}Hs(n,m,w,k,G,E,f,!1),Fa(n);return;case"select":He("invalid",n),l=E=m=null;for(f in a)if(a.hasOwnProperty(f)&&(w=a[f],w!=null))switch(f){case"value":m=w;break;case"defaultValue":E=w;break;case"multiple":l=w;default:ut(n,i,f,w,a,null)}i=m,a=E,n.multiple=!!l,i!=null?fi(n,!!l,i,!1):a!=null&&fi(n,!!l,a,!0);return;case"textarea":He("invalid",n),m=f=l=null;for(E in a)if(a.hasOwnProperty(E)&&(w=a[E],w!=null))switch(E){case"value":l=w;break;case"defaultValue":f=w;break;case"children":m=w;break;case"dangerouslySetInnerHTML":if(w!=null)throw Error(s(91));break;default:ut(n,i,E,w,a,null)}Gs(n,l,f,m),Fa(n);return;case"option":for(k in a)if(a.hasOwnProperty(k)&&(l=a[k],l!=null))switch(k){case"selected":n.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:ut(n,i,k,l,a,null)}return;case"dialog":He("beforetoggle",n),He("toggle",n),He("cancel",n),He("close",n);break;case"iframe":case"object":He("load",n);break;case"video":case"audio":for(l=0;l<ql.length;l++)He(ql[l],n);break;case"image":He("error",n),He("load",n);break;case"details":He("toggle",n);break;case"embed":case"source":case"link":He("error",n),He("load",n);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(G in a)if(a.hasOwnProperty(G)&&(l=a[G],l!=null))switch(G){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:ut(n,i,G,l,a,null)}return;default:if(sl(i)){for(te in a)a.hasOwnProperty(te)&&(l=a[te],l!==void 0&&um(n,i,te,l,a,void 0));return}}for(w in a)a.hasOwnProperty(w)&&(l=a[w],l!=null&&ut(n,i,w,l,a,null))}function b1(n,i,a,l){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,m=null,E=null,w=null,k=null,G=null,te=null;for(X in a){var se=a[X];if(a.hasOwnProperty(X)&&se!=null)switch(X){case"checked":break;case"value":break;case"defaultValue":k=se;default:l.hasOwnProperty(X)||ut(n,i,X,null,l,se)}}for(var K in l){var X=l[K];if(se=a[K],l.hasOwnProperty(K)&&(X!=null||se!=null))switch(K){case"type":m=X;break;case"name":f=X;break;case"checked":G=X;break;case"defaultChecked":te=X;break;case"value":E=X;break;case"defaultValue":w=X;break;case"children":case"dangerouslySetInnerHTML":if(X!=null)throw Error(s(137,i));break;default:X!==se&&ut(n,i,K,X,l,se)}}Un(n,E,w,k,G,te,m,f);return;case"select":X=E=w=K=null;for(m in a)if(k=a[m],a.hasOwnProperty(m)&&k!=null)switch(m){case"value":break;case"multiple":X=k;default:l.hasOwnProperty(m)||ut(n,i,m,null,l,k)}for(f in l)if(m=l[f],k=a[f],l.hasOwnProperty(f)&&(m!=null||k!=null))switch(f){case"value":K=m;break;case"defaultValue":w=m;break;case"multiple":E=m;default:m!==k&&ut(n,i,f,m,l,k)}i=w,a=E,l=X,K!=null?fi(n,!!a,K,!1):!!l!=!!a&&(i!=null?fi(n,!!a,i,!0):fi(n,!!a,a?[]:"",!1));return;case"textarea":X=K=null;for(w in a)if(f=a[w],a.hasOwnProperty(w)&&f!=null&&!l.hasOwnProperty(w))switch(w){case"value":break;case"children":break;default:ut(n,i,w,null,l,f)}for(E in l)if(f=l[E],m=a[E],l.hasOwnProperty(E)&&(f!=null||m!=null))switch(E){case"value":K=f;break;case"defaultValue":X=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(s(91));break;default:f!==m&&ut(n,i,E,f,l,m)}ot(n,K,X);return;case"option":for(var Ne in a)if(K=a[Ne],a.hasOwnProperty(Ne)&&K!=null&&!l.hasOwnProperty(Ne))switch(Ne){case"selected":n.selected=!1;break;default:ut(n,i,Ne,null,l,K)}for(k in l)if(K=l[k],X=a[k],l.hasOwnProperty(k)&&K!==X&&(K!=null||X!=null))switch(k){case"selected":n.selected=K&&typeof K!="function"&&typeof K!="symbol";break;default:ut(n,i,k,K,l,X)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ae in a)K=a[Ae],a.hasOwnProperty(Ae)&&K!=null&&!l.hasOwnProperty(Ae)&&ut(n,i,Ae,null,l,K);for(G in l)if(K=l[G],X=a[G],l.hasOwnProperty(G)&&K!==X&&(K!=null||X!=null))switch(G){case"children":case"dangerouslySetInnerHTML":if(K!=null)throw Error(s(137,i));break;default:ut(n,i,G,K,l,X)}return;default:if(sl(i)){for(var ct in a)K=a[ct],a.hasOwnProperty(ct)&&K!==void 0&&!l.hasOwnProperty(ct)&&um(n,i,ct,void 0,l,K);for(te in l)K=l[te],X=a[te],!l.hasOwnProperty(te)||K===X||K===void 0&&X===void 0||um(n,i,te,K,l,X);return}}for(var B in a)K=a[B],a.hasOwnProperty(B)&&K!=null&&!l.hasOwnProperty(B)&&ut(n,i,B,null,l,K);for(se in l)K=l[se],X=a[se],!l.hasOwnProperty(se)||K===X||K==null&&X==null||ut(n,i,se,K,l,X)}var cm=null,hm=null;function Zc(n){return n.nodeType===9?n:n.ownerDocument}function T_(n){switch(n){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function w_(n,i){if(n===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return n===1&&i==="foreignObject"?0:n}function fm(n,i){return n==="textarea"||n==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var dm=null;function E1(){var n=window.event;return n&&n.type==="popstate"?n===dm?!1:(dm=n,!0):(dm=null,!1)}var S_=typeof setTimeout=="function"?setTimeout:void 0,T1=typeof clearTimeout=="function"?clearTimeout:void 0,A_=typeof Promise=="function"?Promise:void 0,w1=typeof queueMicrotask=="function"?queueMicrotask:typeof A_<"u"?function(n){return A_.resolve(null).then(n).catch(S1)}:S_;function S1(n){setTimeout(function(){throw n})}function cs(n){return n==="head"}function R_(n,i){var a=i,l=0,f=0;do{var m=a.nextSibling;if(n.removeChild(a),m&&m.nodeType===8)if(a=m.data,a==="/$"){if(0<l&&8>l){a=l;var E=n.ownerDocument;if(a&1&&Hl(E.documentElement),a&2&&Hl(E.body),a&4)for(a=E.head,Hl(a),E=a.firstChild;E;){var w=E.nextSibling,k=E.nodeName;E[js]||k==="SCRIPT"||k==="STYLE"||k==="LINK"&&E.rel.toLowerCase()==="stylesheet"||a.removeChild(E),E=w}}if(f===0){n.removeChild(m),Zl(i);return}f--}else a==="$"||a==="$?"||a==="$!"?f++:l=a.charCodeAt(0)-48;else l=0;a=m}while(a);Zl(i)}function mm(n){var i=n.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var a=i;switch(i=i.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":mm(a),Gi(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}n.removeChild(a)}}function A1(n,i,a,l){for(;n.nodeType===1;){var f=a;if(n.nodeName.toLowerCase()!==i.toLowerCase()){if(!l&&(n.nodeName!=="INPUT"||n.type!=="hidden"))break}else if(l){if(!n[js])switch(i){case"meta":if(!n.hasAttribute("itemprop"))break;return n;case"link":if(m=n.getAttribute("rel"),m==="stylesheet"&&n.hasAttribute("data-precedence"))break;if(m!==f.rel||n.getAttribute("href")!==(f.href==null||f.href===""?null:f.href)||n.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||n.getAttribute("title")!==(f.title==null?null:f.title))break;return n;case"style":if(n.hasAttribute("data-precedence"))break;return n;case"script":if(m=n.getAttribute("src"),(m!==(f.src==null?null:f.src)||n.getAttribute("type")!==(f.type==null?null:f.type)||n.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&m&&n.hasAttribute("async")&&!n.hasAttribute("itemprop"))break;return n;default:return n}}else if(i==="input"&&n.type==="hidden"){var m=f.name==null?null:""+f.name;if(f.type==="hidden"&&n.getAttribute("name")===m)return n}else return n;if(n=mr(n.nextSibling),n===null)break}return null}function R1(n,i,a){if(i==="")return null;for(;n.nodeType!==3;)if((n.nodeType!==1||n.nodeName!=="INPUT"||n.type!=="hidden")&&!a||(n=mr(n.nextSibling),n===null))return null;return n}function pm(n){return n.data==="$!"||n.data==="$?"&&n.ownerDocument.readyState==="complete"}function C1(n,i){var a=n.ownerDocument;if(n.data!=="$?"||a.readyState==="complete")i();else{var l=function(){i(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),n._reactRetry=l}}function mr(n){for(;n!=null;n=n.nextSibling){var i=n.nodeType;if(i===1||i===3)break;if(i===8){if(i=n.data,i==="$"||i==="$!"||i==="$?"||i==="F!"||i==="F")break;if(i==="/$")return null}}return n}var gm=null;function C_(n){n=n.previousSibling;for(var i=0;n;){if(n.nodeType===8){var a=n.data;if(a==="$"||a==="$!"||a==="$?"){if(i===0)return n;i--}else a==="/$"&&i++}n=n.previousSibling}return null}function x_(n,i,a){switch(i=Zc(a),n){case"html":if(n=i.documentElement,!n)throw Error(s(452));return n;case"head":if(n=i.head,!n)throw Error(s(453));return n;case"body":if(n=i.body,!n)throw Error(s(454));return n;default:throw Error(s(451))}}function Hl(n){for(var i=n.attributes;i.length;)n.removeAttributeNode(i[0]);Gi(n)}var ir=new Map,I_=new Set;function Jc(n){return typeof n.getRootNode=="function"?n.getRootNode():n.nodeType===9?n:n.ownerDocument}var Ni=ce.d;ce.d={f:x1,r:I1,D:D1,C:N1,L:O1,m:k1,X:P1,S:M1,M:V1};function x1(){var n=Ni.f(),i=Hc();return n||i}function I1(n){var i=Tr(n);i!==null&&i.tag===5&&i.type==="form"?$y(i):Ni.r(n)}var Ao=typeof document>"u"?null:document;function D_(n,i,a){var l=Ao;if(l&&typeof i=="string"&&i){var f=Ut(i);f='link[rel="'+n+'"][href="'+f+'"]',typeof a=="string"&&(f+='[crossorigin="'+a+'"]'),I_.has(f)||(I_.add(f),n={rel:n,crossOrigin:a,href:i},l.querySelector(f)===null&&(i=l.createElement("link"),hn(i,"link",n),Ot(i),l.head.appendChild(i)))}}function D1(n){Ni.D(n),D_("dns-prefetch",n,null)}function N1(n,i){Ni.C(n,i),D_("preconnect",n,i)}function O1(n,i,a){Ni.L(n,i,a);var l=Ao;if(l&&n&&i){var f='link[rel="preload"][as="'+Ut(i)+'"]';i==="image"&&a&&a.imageSrcSet?(f+='[imagesrcset="'+Ut(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(f+='[imagesizes="'+Ut(a.imageSizes)+'"]')):f+='[href="'+Ut(n)+'"]';var m=f;switch(i){case"style":m=Ro(n);break;case"script":m=Co(n)}ir.has(m)||(n=_({rel:"preload",href:i==="image"&&a&&a.imageSrcSet?void 0:n,as:i},a),ir.set(m,n),l.querySelector(f)!==null||i==="style"&&l.querySelector(Gl(m))||i==="script"&&l.querySelector(Yl(m))||(i=l.createElement("link"),hn(i,"link",n),Ot(i),l.head.appendChild(i)))}}function k1(n,i){Ni.m(n,i);var a=Ao;if(a&&n){var l=i&&typeof i.as=="string"?i.as:"script",f='link[rel="modulepreload"][as="'+Ut(l)+'"][href="'+Ut(n)+'"]',m=f;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":m=Co(n)}if(!ir.has(m)&&(n=_({rel:"modulepreload",href:n},i),ir.set(m,n),a.querySelector(f)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Yl(m)))return}l=a.createElement("link"),hn(l,"link",n),Ot(l),a.head.appendChild(l)}}}function M1(n,i,a){Ni.S(n,i,a);var l=Ao;if(l&&n){var f=wn(l).hoistableStyles,m=Ro(n);i=i||"default";var E=f.get(m);if(!E){var w={loading:0,preload:null};if(E=l.querySelector(Gl(m)))w.loading=5;else{n=_({rel:"stylesheet",href:n,"data-precedence":i},a),(a=ir.get(m))&&ym(n,a);var k=E=l.createElement("link");Ot(k),hn(k,"link",n),k._p=new Promise(function(G,te){k.onload=G,k.onerror=te}),k.addEventListener("load",function(){w.loading|=1}),k.addEventListener("error",function(){w.loading|=2}),w.loading|=4,eh(E,i,l)}E={type:"stylesheet",instance:E,count:1,state:w},f.set(m,E)}}}function P1(n,i){Ni.X(n,i);var a=Ao;if(a&&n){var l=wn(a).hoistableScripts,f=Co(n),m=l.get(f);m||(m=a.querySelector(Yl(f)),m||(n=_({src:n,async:!0},i),(i=ir.get(f))&&vm(n,i),m=a.createElement("script"),Ot(m),hn(m,"link",n),a.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},l.set(f,m))}}function V1(n,i){Ni.M(n,i);var a=Ao;if(a&&n){var l=wn(a).hoistableScripts,f=Co(n),m=l.get(f);m||(m=a.querySelector(Yl(f)),m||(n=_({src:n,async:!0,type:"module"},i),(i=ir.get(f))&&vm(n,i),m=a.createElement("script"),Ot(m),hn(m,"link",n),a.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},l.set(f,m))}}function N_(n,i,a,l){var f=(f=me.current)?Jc(f):null;if(!f)throw Error(s(446));switch(n){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(i=Ro(a.href),a=wn(f).hoistableStyles,l=a.get(i),l||(l={type:"style",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){n=Ro(a.href);var m=wn(f).hoistableStyles,E=m.get(n);if(E||(f=f.ownerDocument||f,E={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},m.set(n,E),(m=f.querySelector(Gl(n)))&&!m._p&&(E.instance=m,E.state.loading=5),ir.has(n)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},ir.set(n,a),m||L1(f,n,a,E.state))),i&&l===null)throw Error(s(528,""));return E}if(i&&l!==null)throw Error(s(529,""));return null;case"script":return i=a.async,a=a.src,typeof a=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=Co(a),a=wn(f).hoistableScripts,l=a.get(i),l||(l={type:"script",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,n))}}function Ro(n){return'href="'+Ut(n)+'"'}function Gl(n){return'link[rel="stylesheet"]['+n+"]"}function O_(n){return _({},n,{"data-precedence":n.precedence,precedence:null})}function L1(n,i,a,l){n.querySelector('link[rel="preload"][as="style"]['+i+"]")?l.loading=1:(i=n.createElement("link"),l.preload=i,i.addEventListener("load",function(){return l.loading|=1}),i.addEventListener("error",function(){return l.loading|=2}),hn(i,"link",a),Ot(i),n.head.appendChild(i))}function Co(n){return'[src="'+Ut(n)+'"]'}function Yl(n){return"script[async]"+n}function k_(n,i,a){if(i.count++,i.instance===null)switch(i.type){case"style":var l=n.querySelector('style[data-href~="'+Ut(a.href)+'"]');if(l)return i.instance=l,Ot(l),l;var f=_({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(n.ownerDocument||n).createElement("style"),Ot(l),hn(l,"style",f),eh(l,a.precedence,n),i.instance=l;case"stylesheet":f=Ro(a.href);var m=n.querySelector(Gl(f));if(m)return i.state.loading|=4,i.instance=m,Ot(m),m;l=O_(a),(f=ir.get(f))&&ym(l,f),m=(n.ownerDocument||n).createElement("link"),Ot(m);var E=m;return E._p=new Promise(function(w,k){E.onload=w,E.onerror=k}),hn(m,"link",l),i.state.loading|=4,eh(m,a.precedence,n),i.instance=m;case"script":return m=Co(a.src),(f=n.querySelector(Yl(m)))?(i.instance=f,Ot(f),f):(l=a,(f=ir.get(m))&&(l=_({},a),vm(l,f)),n=n.ownerDocument||n,f=n.createElement("script"),Ot(f),hn(f,"link",l),n.head.appendChild(f),i.instance=f);case"void":return null;default:throw Error(s(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(l=i.instance,i.state.loading|=4,eh(l,a.precedence,n));return i.instance}function eh(n,i,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=l.length?l[l.length-1]:null,m=f,E=0;E<l.length;E++){var w=l[E];if(w.dataset.precedence===i)m=w;else if(m!==f)break}m?m.parentNode.insertBefore(n,m.nextSibling):(i=a.nodeType===9?a.head:a,i.insertBefore(n,i.firstChild))}function ym(n,i){n.crossOrigin==null&&(n.crossOrigin=i.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=i.referrerPolicy),n.title==null&&(n.title=i.title)}function vm(n,i){n.crossOrigin==null&&(n.crossOrigin=i.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=i.referrerPolicy),n.integrity==null&&(n.integrity=i.integrity)}var th=null;function M_(n,i,a){if(th===null){var l=new Map,f=th=new Map;f.set(a,l)}else f=th,l=f.get(a),l||(l=new Map,f.set(a,l));if(l.has(n))return l;for(l.set(n,null),a=a.getElementsByTagName(n),f=0;f<a.length;f++){var m=a[f];if(!(m[js]||m[_t]||n==="link"&&m.getAttribute("rel")==="stylesheet")&&m.namespaceURI!=="http://www.w3.org/2000/svg"){var E=m.getAttribute(i)||"";E=n+E;var w=l.get(E);w?w.push(m):l.set(E,[m])}}return l}function P_(n,i,a){n=n.ownerDocument||n,n.head.insertBefore(a,i==="title"?n.querySelector("head > title"):null)}function U1(n,i,a){if(a===1||i.itemProp!=null)return!1;switch(n){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return n=i.disabled,typeof i.precedence=="string"&&n==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function V_(n){return!(n.type==="stylesheet"&&(n.state.loading&3)===0)}var Kl=null;function z1(){}function j1(n,i,a){if(Kl===null)throw Error(s(475));var l=Kl;if(i.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(i.state.loading&4)===0){if(i.instance===null){var f=Ro(a.href),m=n.querySelector(Gl(f));if(m){n=m._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(l.count++,l=nh.bind(l),n.then(l,l)),i.state.loading|=4,i.instance=m,Ot(m);return}m=n.ownerDocument||n,a=O_(a),(f=ir.get(f))&&ym(a,f),m=m.createElement("link"),Ot(m);var E=m;E._p=new Promise(function(w,k){E.onload=w,E.onerror=k}),hn(m,"link",a),i.instance=m}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(i,n),(n=i.state.preload)&&(i.state.loading&3)===0&&(l.count++,i=nh.bind(l),n.addEventListener("load",i),n.addEventListener("error",i))}}function B1(){if(Kl===null)throw Error(s(475));var n=Kl;return n.stylesheets&&n.count===0&&_m(n,n.stylesheets),0<n.count?function(i){var a=setTimeout(function(){if(n.stylesheets&&_m(n,n.stylesheets),n.unsuspend){var l=n.unsuspend;n.unsuspend=null,l()}},6e4);return n.unsuspend=i,function(){n.unsuspend=null,clearTimeout(a)}}:null}function nh(){if(this.count--,this.count===0){if(this.stylesheets)_m(this,this.stylesheets);else if(this.unsuspend){var n=this.unsuspend;this.unsuspend=null,n()}}}var rh=null;function _m(n,i){n.stylesheets=null,n.unsuspend!==null&&(n.count++,rh=new Map,i.forEach(q1,n),rh=null,nh.call(n))}function q1(n,i){if(!(i.state.loading&4)){var a=rh.get(n);if(a)var l=a.get(null);else{a=new Map,rh.set(n,a);for(var f=n.querySelectorAll("link[data-precedence],style[data-precedence]"),m=0;m<f.length;m++){var E=f[m];(E.nodeName==="LINK"||E.getAttribute("media")!=="not all")&&(a.set(E.dataset.precedence,E),l=E)}l&&a.set(null,l)}f=i.instance,E=f.getAttribute("data-precedence"),m=a.get(E)||l,m===l&&a.set(null,f),a.set(E,f),this.count++,l=nh.bind(this),f.addEventListener("load",l),f.addEventListener("error",l),m?m.parentNode.insertBefore(f,m.nextSibling):(n=n.nodeType===9?n.head:n,n.insertBefore(f,n.firstChild)),i.state.loading|=4}}var Ql={$$typeof:Q,Provider:null,Consumer:null,_currentValue:ne,_currentValue2:ne,_threadCount:0};function F1(n,i,a,l,f,m,E,w){this.tag=1,this.containerInfo=n,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=lr(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=lr(0),this.hiddenUpdates=lr(null),this.identifierPrefix=l,this.onUncaughtError=f,this.onCaughtError=m,this.onRecoverableError=E,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=w,this.incompleteTransitions=new Map}function L_(n,i,a,l,f,m,E,w,k,G,te,se){return n=new F1(n,i,a,E,w,k,G,se),i=1,m===!0&&(i|=24),m=jn(3,null,null,i),n.current=m,m.stateNode=n,i=ed(),i.refCount++,n.pooledCache=i,i.refCount++,m.memoizedState={element:l,isDehydrated:a,cache:i},id(m),n}function U_(n){return n?(n=ro,n):ro}function z_(n,i,a,l,f,m){f=U_(f),l.context===null?l.context=f:l.pendingContext=f,l=Wi(i),l.payload={element:a},m=m===void 0?null:m,m!==null&&(l.callback=m),a=Zi(n,l,i),a!==null&&(Gn(a,n,i),Sl(a,n,i))}function j_(n,i){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var a=n.retryLane;n.retryLane=a!==0&&a<i?a:i}}function bm(n,i){j_(n,i),(n=n.alternate)&&j_(n,i)}function B_(n){if(n.tag===13){var i=no(n,67108864);i!==null&&Gn(i,n,67108864),bm(n,67108864)}}var ih=!0;function H1(n,i,a,l){var f=q.T;q.T=null;var m=ce.p;try{ce.p=2,Em(n,i,a,l)}finally{ce.p=m,q.T=f}}function G1(n,i,a,l){var f=q.T;q.T=null;var m=ce.p;try{ce.p=8,Em(n,i,a,l)}finally{ce.p=m,q.T=f}}function Em(n,i,a,l){if(ih){var f=Tm(l);if(f===null)lm(n,i,l,sh,a),F_(n,l);else if(K1(f,n,i,a,l))l.stopPropagation();else if(F_(n,l),i&4&&-1<Y1.indexOf(n)){for(;f!==null;){var m=Tr(f);if(m!==null)switch(m.tag){case 3:if(m=m.stateNode,m.current.memoizedState.isDehydrated){var E=In(m.pendingLanes);if(E!==0){var w=m;for(w.pendingLanes|=2,w.entangledLanes|=2;E;){var k=1<<31-Vt(E);w.entanglements[1]|=k,E&=~k}Vr(m),(st&6)===0&&(qc=Ze()+500,Bl(0))}}break;case 13:w=no(m,2),w!==null&&Gn(w,m,2),Hc(),bm(m,2)}if(m=Tm(l),m===null&&lm(n,i,l,sh,a),m===f)break;f=m}f!==null&&l.stopPropagation()}else lm(n,i,l,null,a)}}function Tm(n){return n=$n(n),wm(n)}var sh=null;function wm(n){if(sh=null,n=ui(n),n!==null){var i=u(n);if(i===null)n=null;else{var a=i.tag;if(a===13){if(n=h(i),n!==null)return n;n=null}else if(a===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;n=null}else i!==n&&(n=null)}}return sh=n,null}function q_(n){switch(n){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ti()){case wt:return 2;case qi:return 8;case ni:case an:return 32;case Vn:return 268435456;default:return 32}default:return 32}}var Sm=!1,hs=null,fs=null,ds=null,$l=new Map,Xl=new Map,ms=[],Y1="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function F_(n,i){switch(n){case"focusin":case"focusout":hs=null;break;case"dragenter":case"dragleave":fs=null;break;case"mouseover":case"mouseout":ds=null;break;case"pointerover":case"pointerout":$l.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":Xl.delete(i.pointerId)}}function Wl(n,i,a,l,f,m){return n===null||n.nativeEvent!==m?(n={blockedOn:i,domEventName:a,eventSystemFlags:l,nativeEvent:m,targetContainers:[f]},i!==null&&(i=Tr(i),i!==null&&B_(i)),n):(n.eventSystemFlags|=l,i=n.targetContainers,f!==null&&i.indexOf(f)===-1&&i.push(f),n)}function K1(n,i,a,l,f){switch(i){case"focusin":return hs=Wl(hs,n,i,a,l,f),!0;case"dragenter":return fs=Wl(fs,n,i,a,l,f),!0;case"mouseover":return ds=Wl(ds,n,i,a,l,f),!0;case"pointerover":var m=f.pointerId;return $l.set(m,Wl($l.get(m)||null,n,i,a,l,f)),!0;case"gotpointercapture":return m=f.pointerId,Xl.set(m,Wl(Xl.get(m)||null,n,i,a,l,f)),!0}return!1}function H_(n){var i=ui(n.target);if(i!==null){var a=u(i);if(a!==null){if(i=a.tag,i===13){if(i=h(a),i!==null){n.blockedOn=i,xt(n.priority,function(){if(a.tag===13){var l=Hn();l=yt(l);var f=no(a,l);f!==null&&Gn(f,a,l),bm(a,l)}});return}}else if(i===3&&a.stateNode.current.memoizedState.isDehydrated){n.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}n.blockedOn=null}function ah(n){if(n.blockedOn!==null)return!1;for(var i=n.targetContainers;0<i.length;){var a=Tm(n.nativeEvent);if(a===null){a=n.nativeEvent;var l=new a.constructor(a.type,a);di=l,a.target.dispatchEvent(l),di=null}else return i=Tr(a),i!==null&&B_(i),n.blockedOn=a,!1;i.shift()}return!0}function G_(n,i,a){ah(n)&&a.delete(i)}function Q1(){Sm=!1,hs!==null&&ah(hs)&&(hs=null),fs!==null&&ah(fs)&&(fs=null),ds!==null&&ah(ds)&&(ds=null),$l.forEach(G_),Xl.forEach(G_)}function oh(n,i){n.blockedOn===i&&(n.blockedOn=null,Sm||(Sm=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,Q1)))}var lh=null;function Y_(n){lh!==n&&(lh=n,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){lh===n&&(lh=null);for(var i=0;i<n.length;i+=3){var a=n[i],l=n[i+1],f=n[i+2];if(typeof l!="function"){if(wm(l||a)===null)continue;break}var m=Tr(a);m!==null&&(n.splice(i,3),i-=3,wd(m,{pending:!0,data:f,method:a.method,action:l},l,f))}}))}function Zl(n){function i(k){return oh(k,n)}hs!==null&&oh(hs,n),fs!==null&&oh(fs,n),ds!==null&&oh(ds,n),$l.forEach(i),Xl.forEach(i);for(var a=0;a<ms.length;a++){var l=ms[a];l.blockedOn===n&&(l.blockedOn=null)}for(;0<ms.length&&(a=ms[0],a.blockedOn===null);)H_(a),a.blockedOn===null&&ms.shift();if(a=(n.ownerDocument||n).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var f=a[l],m=a[l+1],E=f[Je]||null;if(typeof m=="function")E||Y_(a);else if(E){var w=null;if(m&&m.hasAttribute("formAction")){if(f=m,E=m[Je]||null)w=E.formAction;else if(wm(f)!==null)continue}else w=E.action;typeof w=="function"?a[l+1]=w:(a.splice(l,3),l-=3),Y_(a)}}}function Am(n){this._internalRoot=n}uh.prototype.render=Am.prototype.render=function(n){var i=this._internalRoot;if(i===null)throw Error(s(409));var a=i.current,l=Hn();z_(a,l,n,i,null,null)},uh.prototype.unmount=Am.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var i=n.containerInfo;z_(n.current,2,null,n,null,null),Hc(),i[bt]=null}};function uh(n){this._internalRoot=n}uh.prototype.unstable_scheduleHydration=function(n){if(n){var i=Ln();n={blockedOn:null,target:n,priority:i};for(var a=0;a<ms.length&&i!==0&&i<ms[a].priority;a++);ms.splice(a,0,n),a===0&&H_(n)}};var K_=e.version;if(K_!=="19.1.0")throw Error(s(527,K_,"19.1.0"));ce.findDOMNode=function(n){var i=n._reactInternals;if(i===void 0)throw typeof n.render=="function"?Error(s(188)):(n=Object.keys(n).join(","),Error(s(268,n)));return n=p(i),n=n!==null?g(n):null,n=n===null?null:n.stateNode,n};var $1={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:q,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ch=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ch.isDisabled&&ch.supportsFiber)try{ht=ch.inject($1),tt=ch}catch{}}return eu.createRoot=function(n,i){if(!o(n))throw Error(s(299));var a=!1,l="",f=uv,m=cv,E=hv,w=null;return i!=null&&(i.unstable_strictMode===!0&&(a=!0),i.identifierPrefix!==void 0&&(l=i.identifierPrefix),i.onUncaughtError!==void 0&&(f=i.onUncaughtError),i.onCaughtError!==void 0&&(m=i.onCaughtError),i.onRecoverableError!==void 0&&(E=i.onRecoverableError),i.unstable_transitionCallbacks!==void 0&&(w=i.unstable_transitionCallbacks)),i=L_(n,1,!1,null,null,a,l,f,m,E,w,null),n[bt]=i.current,om(n),new Am(i)},eu.hydrateRoot=function(n,i,a){if(!o(n))throw Error(s(299));var l=!1,f="",m=uv,E=cv,w=hv,k=null,G=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(f=a.identifierPrefix),a.onUncaughtError!==void 0&&(m=a.onUncaughtError),a.onCaughtError!==void 0&&(E=a.onCaughtError),a.onRecoverableError!==void 0&&(w=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(k=a.unstable_transitionCallbacks),a.formState!==void 0&&(G=a.formState)),i=L_(n,1,!0,i,a??null,l,f,m,E,w,k,G),i.context=U_(null),a=i.current,l=Hn(),l=yt(l),f=Wi(l),f.callback=null,Zi(a,f,l),a=l,i.current.lanes=a,Kn(i,a),Vr(i),n[bt]=i.current,om(n),new uh(i)},eu.version="19.1.0",eu}var r0;function iA(){if(r0)return Cm.exports;r0=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),Cm.exports=rA(),Cm.exports}var sA=iA(),V=Np();const de=cE(V);var aA=hE();const oA=cE(aA);function lA(r){if(typeof document>"u")return;let e=document.head||document.getElementsByTagName("head")[0],t=document.createElement("style");t.type="text/css",e.appendChild(t),t.styleSheet?t.styleSheet.cssText=r:t.appendChild(document.createTextNode(r))}const uA=r=>{switch(r){case"success":return fA;case"info":return mA;case"warning":return dA;case"error":return pA;default:return null}},cA=Array(12).fill(0),hA=({visible:r,className:e})=>de.createElement("div",{className:["sonner-loading-wrapper",e].filter(Boolean).join(" "),"data-visible":r},de.createElement("div",{className:"sonner-spinner"},cA.map((t,s)=>de.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${s}`})))),fA=de.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},de.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),dA=de.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},de.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),mA=de.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},de.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),pA=de.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},de.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),gA=de.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},de.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),de.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),yA=()=>{const[r,e]=de.useState(document.hidden);return de.useEffect(()=>{const t=()=>{e(document.hidden)};return document.addEventListener("visibilitychange",t),()=>window.removeEventListener("visibilitychange",t)},[]),r};let $m=1;class vA{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{const t=this.subscribers.indexOf(e);this.subscribers.splice(t,1)}),this.publish=e=>{this.subscribers.forEach(t=>t(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var t;const{message:s,...o}=e,u=typeof e?.id=="number"||((t=e.id)==null?void 0:t.length)>0?e.id:$m++,h=this.toasts.find(p=>p.id===u),d=e.dismissible===void 0?!0:e.dismissible;return this.dismissedToasts.has(u)&&this.dismissedToasts.delete(u),h?this.toasts=this.toasts.map(p=>p.id===u?(this.publish({...p,...e,id:u,title:s}),{...p,...e,id:u,dismissible:d,title:s}):p):this.addToast({title:s,...o,dismissible:d,id:u}),u},this.dismiss=e=>(e?(this.dismissedToasts.add(e),requestAnimationFrame(()=>this.subscribers.forEach(t=>t({id:e,dismiss:!0})))):this.toasts.forEach(t=>{this.subscribers.forEach(s=>s({id:t.id,dismiss:!0}))}),e),this.message=(e,t)=>this.create({...t,message:e}),this.error=(e,t)=>this.create({...t,message:e,type:"error"}),this.success=(e,t)=>this.create({...t,type:"success",message:e}),this.info=(e,t)=>this.create({...t,type:"info",message:e}),this.warning=(e,t)=>this.create({...t,type:"warning",message:e}),this.loading=(e,t)=>this.create({...t,type:"loading",message:e}),this.promise=(e,t)=>{if(!t)return;let s;t.loading!==void 0&&(s=this.create({...t,promise:e,type:"loading",message:t.loading,description:typeof t.description!="function"?t.description:void 0}));const o=Promise.resolve(e instanceof Function?e():e);let u=s!==void 0,h;const d=o.then(async g=>{if(h=["resolve",g],de.isValidElement(g))u=!1,this.create({id:s,type:"default",message:g});else if(bA(g)&&!g.ok){u=!1;const v=typeof t.error=="function"?await t.error(`HTTP error! status: ${g.status}`):t.error,T=typeof t.description=="function"?await t.description(`HTTP error! status: ${g.status}`):t.description,C=typeof v=="object"&&!de.isValidElement(v)?v:{message:v};this.create({id:s,type:"error",description:T,...C})}else if(g instanceof Error){u=!1;const v=typeof t.error=="function"?await t.error(g):t.error,T=typeof t.description=="function"?await t.description(g):t.description,C=typeof v=="object"&&!de.isValidElement(v)?v:{message:v};this.create({id:s,type:"error",description:T,...C})}else if(t.success!==void 0){u=!1;const v=typeof t.success=="function"?await t.success(g):t.success,T=typeof t.description=="function"?await t.description(g):t.description,C=typeof v=="object"&&!de.isValidElement(v)?v:{message:v};this.create({id:s,type:"success",description:T,...C})}}).catch(async g=>{if(h=["reject",g],t.error!==void 0){u=!1;const _=typeof t.error=="function"?await t.error(g):t.error,v=typeof t.description=="function"?await t.description(g):t.description,x=typeof _=="object"&&!de.isValidElement(_)?_:{message:_};this.create({id:s,type:"error",description:v,...x})}}).finally(()=>{u&&(this.dismiss(s),s=void 0),t.finally==null||t.finally.call(t)}),p=()=>new Promise((g,_)=>d.then(()=>h[0]==="reject"?_(h[1]):g(h[1])).catch(_));return typeof s!="string"&&typeof s!="number"?{unwrap:p}:Object.assign(s,{unwrap:p})},this.custom=(e,t)=>{const s=t?.id||$m++;return this.create({jsx:e(s),id:s,...t}),s},this.getActiveToasts=()=>this.toasts.filter(e=>!this.dismissedToasts.has(e.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}}const Mn=new vA,_A=(r,e)=>{const t=e?.id||$m++;return Mn.addToast({title:r,...e,id:t}),t},bA=r=>r&&typeof r=="object"&&"ok"in r&&typeof r.ok=="boolean"&&"status"in r&&typeof r.status=="number",EA=_A,TA=()=>Mn.toasts,wA=()=>Mn.getActiveToasts(),iu=Object.assign(EA,{success:Mn.success,info:Mn.info,warning:Mn.warning,error:Mn.error,custom:Mn.custom,message:Mn.message,promise:Mn.promise,dismiss:Mn.dismiss,loading:Mn.loading},{getHistory:TA,getToasts:wA});lA("[data-sonner-toaster][dir=ltr],html[dir=ltr]{--toast-icon-margin-start:-3px;--toast-icon-margin-end:4px;--toast-svg-margin-start:-1px;--toast-svg-margin-end:0px;--toast-button-margin-start:auto;--toast-button-margin-end:0;--toast-close-button-start:0;--toast-close-button-end:unset;--toast-close-button-transform:translate(-35%, -35%)}[data-sonner-toaster][dir=rtl],html[dir=rtl]{--toast-icon-margin-start:4px;--toast-icon-margin-end:-3px;--toast-svg-margin-start:0px;--toast-svg-margin-end:-1px;--toast-button-margin-start:0;--toast-button-margin-end:auto;--toast-close-button-start:unset;--toast-close-button-end:0;--toast-close-button-transform:translate(35%, -35%)}[data-sonner-toaster]{position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1:hsl(0, 0%, 99%);--gray2:hsl(0, 0%, 97.3%);--gray3:hsl(0, 0%, 95.1%);--gray4:hsl(0, 0%, 93%);--gray5:hsl(0, 0%, 90.9%);--gray6:hsl(0, 0%, 88.7%);--gray7:hsl(0, 0%, 85.8%);--gray8:hsl(0, 0%, 78%);--gray9:hsl(0, 0%, 56.1%);--gray10:hsl(0, 0%, 52.3%);--gray11:hsl(0, 0%, 43.5%);--gray12:hsl(0, 0%, 9%);--border-radius:8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:0;z-index:999999999;transition:transform .4s ease}@media (hover:none) and (pointer:coarse){[data-sonner-toaster][data-lifted=true]{transform:none}}[data-sonner-toaster][data-x-position=right]{right:var(--offset-right)}[data-sonner-toaster][data-x-position=left]{left:var(--offset-left)}[data-sonner-toaster][data-x-position=center]{left:50%;transform:translateX(-50%)}[data-sonner-toaster][data-y-position=top]{top:var(--offset-top)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--offset-bottom)}[data-sonner-toast]{--y:translateY(100%);--lift-amount:calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:0;overflow-wrap:anywhere}[data-sonner-toast][data-styled=true]{padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px rgba(0,0,0,.1);width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}[data-sonner-toast]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-y-position=top]{top:0;--y:translateY(-100%);--lift:1;--lift-amount:calc(1 * var(--gap))}[data-sonner-toast][data-y-position=bottom]{bottom:0;--y:translateY(100%);--lift:-1;--lift-amount:calc(var(--lift) * var(--gap))}[data-sonner-toast][data-styled=true] [data-description]{font-weight:400;line-height:1.4;color:#3f3f3f}[data-rich-colors=true][data-sonner-toast][data-styled=true] [data-description]{color:inherit}[data-sonner-toaster][data-sonner-theme=dark] [data-description]{color:#e8e8e8}[data-sonner-toast][data-styled=true] [data-title]{font-weight:500;line-height:1.5;color:inherit}[data-sonner-toast][data-styled=true] [data-icon]{display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}[data-sonner-toast][data-promise=true] [data-icon]>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}[data-sonner-toast][data-styled=true] [data-icon]>*{flex-shrink:0}[data-sonner-toast][data-styled=true] [data-icon] svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}[data-sonner-toast][data-styled=true] [data-content]{display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;font-weight:500;cursor:pointer;outline:0;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}[data-sonner-toast][data-styled=true] [data-button]:focus-visible{box-shadow:0 0 0 2px rgba(0,0,0,.4)}[data-sonner-toast][data-styled=true] [data-button]:first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}[data-sonner-toast][data-styled=true] [data-cancel]{color:var(--normal-text);background:rgba(0,0,0,.08)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-styled=true] [data-cancel]{background:rgba(255,255,255,.3)}[data-sonner-toast][data-styled=true] [data-close-button]{position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);background:var(--normal-bg);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast][data-styled=true] [data-close-button]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-styled=true] [data-disabled=true]{cursor:not-allowed}[data-sonner-toast][data-styled=true]:hover [data-close-button]:hover{background:var(--gray2);border-color:var(--gray5)}[data-sonner-toast][data-swiping=true]::before{content:'';position:absolute;left:-100%;right:-100%;height:100%;z-index:-1}[data-sonner-toast][data-y-position=top][data-swiping=true]::before{bottom:50%;transform:scaleY(3) translateY(50%)}[data-sonner-toast][data-y-position=bottom][data-swiping=true]::before{top:50%;transform:scaleY(3) translateY(-50%)}[data-sonner-toast][data-swiping=false][data-removed=true]::before{content:'';position:absolute;inset:0;transform:scaleY(2)}[data-sonner-toast][data-expanded=true]::after{content:'';position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}[data-sonner-toast][data-mounted=true]{--y:translateY(0);opacity:1}[data-sonner-toast][data-expanded=false][data-front=false]{--scale:var(--toasts-before) * 0.05 + 1;--y:translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}[data-sonner-toast]>*{transition:opacity .4s}[data-sonner-toast][data-x-position=right]{right:0}[data-sonner-toast][data-x-position=left]{left:0}[data-sonner-toast][data-expanded=false][data-front=false][data-styled=true]>*{opacity:0}[data-sonner-toast][data-visible=false]{opacity:0;pointer-events:none}[data-sonner-toast][data-mounted=true][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}[data-sonner-toast][data-removed=true][data-front=true][data-swipe-out=false]{--y:translateY(calc(var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=false]{--y:translateY(40%);opacity:0;transition:transform .5s,opacity .2s}[data-sonner-toast][data-removed=true][data-front=false]::before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y,0)) translateX(var(--swipe-amount-x,0));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width:600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-sonner-theme=light]{--normal-bg:#fff;--normal-border:var(--gray4);--normal-text:var(--gray12);--success-bg:hsl(143, 85%, 96%);--success-border:hsl(145, 92%, 87%);--success-text:hsl(140, 100%, 27%);--info-bg:hsl(208, 100%, 97%);--info-border:hsl(221, 91%, 93%);--info-text:hsl(210, 92%, 45%);--warning-bg:hsl(49, 100%, 97%);--warning-border:hsl(49, 91%, 84%);--warning-text:hsl(31, 92%, 45%);--error-bg:hsl(359, 100%, 97%);--error-border:hsl(359, 100%, 94%);--error-text:hsl(360, 100%, 45%)}[data-sonner-toaster][data-sonner-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg:#000;--normal-border:hsl(0, 0%, 20%);--normal-text:var(--gray1)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg:#fff;--normal-border:var(--gray3);--normal-text:var(--gray12)}[data-sonner-toaster][data-sonner-theme=dark]{--normal-bg:#000;--normal-bg-hover:hsl(0, 0%, 12%);--normal-border:hsl(0, 0%, 20%);--normal-border-hover:hsl(0, 0%, 25%);--normal-text:var(--gray1);--success-bg:hsl(150, 100%, 6%);--success-border:hsl(147, 100%, 12%);--success-text:hsl(150, 86%, 65%);--info-bg:hsl(215, 100%, 6%);--info-border:hsl(223, 43%, 17%);--info-text:hsl(216, 87%, 65%);--warning-bg:hsl(64, 100%, 6%);--warning-border:hsl(60, 100%, 9%);--warning-text:hsl(46, 87%, 65%);--error-bg:hsl(358, 76%, 10%);--error-border:hsl(357, 89%, 16%);--error-text:hsl(358, 100%, 81%)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size:16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:first-child{animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}100%{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}100%{opacity:.15}}@media (prefers-reduced-motion){.sonner-loading-bar,[data-sonner-toast],[data-sonner-toast]>*{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}");function hh(r){return r.label!==void 0}const SA=3,AA="24px",RA="16px",i0=4e3,CA=356,xA=14,IA=45,DA=200;function Lr(...r){return r.filter(Boolean).join(" ")}function NA(r){const[e,t]=r.split("-"),s=[];return e&&s.push(e),t&&s.push(t),s}const OA=r=>{var e,t,s,o,u,h,d,p,g;const{invert:_,toast:v,unstyled:T,interacting:x,setHeights:C,visibleToasts:O,heights:D,index:z,toasts:Y,expanded:Q,removeToast:oe,defaultRichColors:$,closeButton:ie,style:N,cancelButtonStyle:S,actionButtonStyle:R,className:M="",descriptionClassName:L="",duration:U,position:I,gap:Ke,expandByDefault:xe,classNames:q,icons:ce,closeButtonAriaLabel:ne="Close toast"}=r,[Re,P]=de.useState(null),[J,ue]=de.useState(null),[ee,he]=de.useState(!1),[be,me]=de.useState(!1),[Oe,ze]=de.useState(!1),[Tt,Nt]=de.useState(!1),[rn,sn]=de.useState(!1),[we,Be]=de.useState(0),[dt,Ct]=de.useState(0),Ze=de.useRef(v.duration||U||i0),ti=de.useRef(null),wt=de.useRef(null),qi=z===0,ni=z+1<=O,an=v.type,Vn=v.dismissible!==!1,Us=v.className||"",La=v.descriptionClassName||"",ht=de.useMemo(()=>D.findIndex(Se=>Se.toastId===v.id)||0,[D,v.id]),tt=de.useMemo(()=>{var Se;return(Se=v.closeButton)!=null?Se:ie},[v.closeButton,ie]),gn=de.useMemo(()=>v.duration||U||i0,[v.duration,U]),Vt=de.useRef(0),or=de.useRef(0),Ua=de.useRef(0),xn=de.useRef(null),[ri,ii]=I.split("-"),In=de.useMemo(()=>D.reduce((Se,vt,yt)=>yt>=ht?Se:Se+vt.height,0),[D,ht]),si=yA(),ai=v.invert||_,oi=an==="loading";or.current=de.useMemo(()=>ht*Ke+In,[ht,In]),de.useEffect(()=>{Ze.current=gn},[gn]),de.useEffect(()=>{he(!0)},[]),de.useEffect(()=>{const Se=wt.current;if(Se){const vt=Se.getBoundingClientRect().height;return Ct(vt),C(yt=>[{toastId:v.id,height:vt,position:v.position},...yt]),()=>C(yt=>yt.filter(Lt=>Lt.toastId!==v.id))}},[C,v.id]),de.useLayoutEffect(()=>{if(!ee)return;const Se=wt.current,vt=Se.style.height;Se.style.height="auto";const yt=Se.getBoundingClientRect().height;Se.style.height=vt,Ct(yt),C(Lt=>Lt.find(xt=>xt.toastId===v.id)?Lt.map(xt=>xt.toastId===v.id?{...xt,height:yt}:xt):[{toastId:v.id,height:yt,position:v.position},...Lt])},[ee,v.title,v.description,C,v.id,v.jsx,v.action,v.cancel]);const Dn=de.useCallback(()=>{me(!0),Be(or.current),C(Se=>Se.filter(vt=>vt.toastId!==v.id)),setTimeout(()=>{oe(v)},DA)},[v,oe,C,or]);de.useEffect(()=>{if(v.promise&&an==="loading"||v.duration===1/0||v.type==="loading")return;let Se;return Q||x||si?(()=>{if(Ua.current<Vt.current){const Lt=new Date().getTime()-Vt.current;Ze.current=Ze.current-Lt}Ua.current=new Date().getTime()})():(()=>{Ze.current!==1/0&&(Vt.current=new Date().getTime(),Se=setTimeout(()=>{v.onAutoClose==null||v.onAutoClose.call(v,v),Dn()},Ze.current))})(),()=>clearTimeout(Se)},[Q,x,v,an,si,Dn]),de.useEffect(()=>{v.delete&&(Dn(),v.onDismiss==null||v.onDismiss.call(v,v))},[Dn,v.delete]);function zs(){var Se;if(ce?.loading){var vt;return de.createElement("div",{className:Lr(q?.loader,v==null||(vt=v.classNames)==null?void 0:vt.loader,"sonner-loader"),"data-visible":an==="loading"},ce.loading)}return de.createElement(hA,{className:Lr(q?.loader,v==null||(Se=v.classNames)==null?void 0:Se.loader),visible:an==="loading"})}const lr=v.icon||ce?.[an]||uA(an);var Kn,Fi;return de.createElement("li",{tabIndex:0,ref:wt,className:Lr(M,Us,q?.toast,v==null||(e=v.classNames)==null?void 0:e.toast,q?.default,q?.[an],v==null||(t=v.classNames)==null?void 0:t[an]),"data-sonner-toast":"","data-rich-colors":(Kn=v.richColors)!=null?Kn:$,"data-styled":!(v.jsx||v.unstyled||T),"data-mounted":ee,"data-promise":!!v.promise,"data-swiped":rn,"data-removed":be,"data-visible":ni,"data-y-position":ri,"data-x-position":ii,"data-index":z,"data-front":qi,"data-swiping":Oe,"data-dismissible":Vn,"data-type":an,"data-invert":ai,"data-swipe-out":Tt,"data-swipe-direction":J,"data-expanded":!!(Q||xe&&ee),style:{"--index":z,"--toasts-before":z,"--z-index":Y.length-z,"--offset":`${be?we:or.current}px`,"--initial-height":xe?"auto":`${dt}px`,...N,...v.style},onDragEnd:()=>{ze(!1),P(null),xn.current=null},onPointerDown:Se=>{oi||!Vn||(ti.current=new Date,Be(or.current),Se.target.setPointerCapture(Se.pointerId),Se.target.tagName!=="BUTTON"&&(ze(!0),xn.current={x:Se.clientX,y:Se.clientY}))},onPointerUp:()=>{var Se,vt,yt;if(Tt||!Vn)return;xn.current=null;const Lt=Number(((Se=wt.current)==null?void 0:Se.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),Ln=Number(((vt=wt.current)==null?void 0:vt.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),xt=new Date().getTime()-((yt=ti.current)==null?void 0:yt.getTime()),qe=Re==="x"?Lt:Ln,_t=Math.abs(qe)/xt;if(Math.abs(qe)>=IA||_t>.11){Be(or.current),v.onDismiss==null||v.onDismiss.call(v,v),ue(Re==="x"?Lt>0?"right":"left":Ln>0?"down":"up"),Dn(),Nt(!0);return}else{var Je,bt;(Je=wt.current)==null||Je.style.setProperty("--swipe-amount-x","0px"),(bt=wt.current)==null||bt.style.setProperty("--swipe-amount-y","0px")}sn(!1),ze(!1),P(null)},onPointerMove:Se=>{var vt,yt,Lt;if(!xn.current||!Vn||((vt=window.getSelection())==null?void 0:vt.toString().length)>0)return;const xt=Se.clientY-xn.current.y,qe=Se.clientX-xn.current.x;var _t;const Je=(_t=r.swipeDirections)!=null?_t:NA(I);!Re&&(Math.abs(qe)>1||Math.abs(xt)>1)&&P(Math.abs(qe)>Math.abs(xt)?"x":"y");let bt={x:0,y:0};const Hi=ur=>1/(1.5+Math.abs(ur)/20);if(Re==="y"){if(Je.includes("top")||Je.includes("bottom"))if(Je.includes("top")&&xt<0||Je.includes("bottom")&&xt>0)bt.y=xt;else{const ur=xt*Hi(xt);bt.y=Math.abs(ur)<Math.abs(xt)?ur:xt}}else if(Re==="x"&&(Je.includes("left")||Je.includes("right")))if(Je.includes("left")&&qe<0||Je.includes("right")&&qe>0)bt.x=qe;else{const ur=qe*Hi(qe);bt.x=Math.abs(ur)<Math.abs(qe)?ur:qe}(Math.abs(bt.x)>0||Math.abs(bt.y)>0)&&sn(!0),(yt=wt.current)==null||yt.style.setProperty("--swipe-amount-x",`${bt.x}px`),(Lt=wt.current)==null||Lt.style.setProperty("--swipe-amount-y",`${bt.y}px`)}},tt&&!v.jsx&&an!=="loading"?de.createElement("button",{"aria-label":ne,"data-disabled":oi,"data-close-button":!0,onClick:oi||!Vn?()=>{}:()=>{Dn(),v.onDismiss==null||v.onDismiss.call(v,v)},className:Lr(q?.closeButton,v==null||(s=v.classNames)==null?void 0:s.closeButton)},(Fi=ce?.close)!=null?Fi:gA):null,(an||v.icon||v.promise)&&v.icon!==null&&(ce?.[an]!==null||v.icon)?de.createElement("div",{"data-icon":"",className:Lr(q?.icon,v==null||(o=v.classNames)==null?void 0:o.icon)},v.promise||v.type==="loading"&&!v.icon?v.icon||zs():null,v.type!=="loading"?lr:null):null,de.createElement("div",{"data-content":"",className:Lr(q?.content,v==null||(u=v.classNames)==null?void 0:u.content)},de.createElement("div",{"data-title":"",className:Lr(q?.title,v==null||(h=v.classNames)==null?void 0:h.title)},v.jsx?v.jsx:typeof v.title=="function"?v.title():v.title),v.description?de.createElement("div",{"data-description":"",className:Lr(L,La,q?.description,v==null||(d=v.classNames)==null?void 0:d.description)},typeof v.description=="function"?v.description():v.description):null),de.isValidElement(v.cancel)?v.cancel:v.cancel&&hh(v.cancel)?de.createElement("button",{"data-button":!0,"data-cancel":!0,style:v.cancelButtonStyle||S,onClick:Se=>{hh(v.cancel)&&Vn&&(v.cancel.onClick==null||v.cancel.onClick.call(v.cancel,Se),Dn())},className:Lr(q?.cancelButton,v==null||(p=v.classNames)==null?void 0:p.cancelButton)},v.cancel.label):null,de.isValidElement(v.action)?v.action:v.action&&hh(v.action)?de.createElement("button",{"data-button":!0,"data-action":!0,style:v.actionButtonStyle||R,onClick:Se=>{hh(v.action)&&(v.action.onClick==null||v.action.onClick.call(v.action,Se),!Se.defaultPrevented&&Dn())},className:Lr(q?.actionButton,v==null||(g=v.classNames)==null?void 0:g.actionButton)},v.action.label):null)};function s0(){if(typeof window>"u"||typeof document>"u")return"ltr";const r=document.documentElement.getAttribute("dir");return r==="auto"||!r?window.getComputedStyle(document.documentElement).direction:r}function kA(r,e){const t={};return[r,e].forEach((s,o)=>{const u=o===1,h=u?"--mobile-offset":"--offset",d=u?RA:AA;function p(g){["top","right","bottom","left"].forEach(_=>{t[`${h}-${_}`]=typeof g=="number"?`${g}px`:g})}typeof s=="number"||typeof s=="string"?p(s):typeof s=="object"?["top","right","bottom","left"].forEach(g=>{s[g]===void 0?t[`${h}-${g}`]=d:t[`${h}-${g}`]=typeof s[g]=="number"?`${s[g]}px`:s[g]}):p(d)}),t}const MA=de.forwardRef(function(e,t){const{invert:s,position:o="bottom-right",hotkey:u=["altKey","KeyT"],expand:h,closeButton:d,className:p,offset:g,mobileOffset:_,theme:v="light",richColors:T,duration:x,style:C,visibleToasts:O=SA,toastOptions:D,dir:z=s0(),gap:Y=xA,icons:Q,containerAriaLabel:oe="Notifications"}=e,[$,ie]=de.useState([]),N=de.useMemo(()=>Array.from(new Set([o].concat($.filter(J=>J.position).map(J=>J.position)))),[$,o]),[S,R]=de.useState([]),[M,L]=de.useState(!1),[U,I]=de.useState(!1),[Ke,xe]=de.useState(v!=="system"?v:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),q=de.useRef(null),ce=u.join("+").replace(/Key/g,"").replace(/Digit/g,""),ne=de.useRef(null),Re=de.useRef(!1),P=de.useCallback(J=>{ie(ue=>{var ee;return(ee=ue.find(he=>he.id===J.id))!=null&&ee.delete||Mn.dismiss(J.id),ue.filter(({id:he})=>he!==J.id)})},[]);return de.useEffect(()=>Mn.subscribe(J=>{if(J.dismiss){requestAnimationFrame(()=>{ie(ue=>ue.map(ee=>ee.id===J.id?{...ee,delete:!0}:ee))});return}setTimeout(()=>{oA.flushSync(()=>{ie(ue=>{const ee=ue.findIndex(he=>he.id===J.id);return ee!==-1?[...ue.slice(0,ee),{...ue[ee],...J},...ue.slice(ee+1)]:[J,...ue]})})})}),[$]),de.useEffect(()=>{if(v!=="system"){xe(v);return}if(v==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?xe("dark"):xe("light")),typeof window>"u")return;const J=window.matchMedia("(prefers-color-scheme: dark)");try{J.addEventListener("change",({matches:ue})=>{xe(ue?"dark":"light")})}catch{J.addListener(({matches:ee})=>{try{xe(ee?"dark":"light")}catch(he){console.error(he)}})}},[v]),de.useEffect(()=>{$.length<=1&&L(!1)},[$]),de.useEffect(()=>{const J=ue=>{var ee;if(u.every(me=>ue[me]||ue.code===me)){var be;L(!0),(be=q.current)==null||be.focus()}ue.code==="Escape"&&(document.activeElement===q.current||(ee=q.current)!=null&&ee.contains(document.activeElement))&&L(!1)};return document.addEventListener("keydown",J),()=>document.removeEventListener("keydown",J)},[u]),de.useEffect(()=>{if(q.current)return()=>{ne.current&&(ne.current.focus({preventScroll:!0}),ne.current=null,Re.current=!1)}},[q.current]),de.createElement("section",{ref:t,"aria-label":`${oe} ${ce}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},N.map((J,ue)=>{var ee;const[he,be]=J.split("-");return $.length?de.createElement("ol",{key:J,dir:z==="auto"?s0():z,tabIndex:-1,ref:q,className:p,"data-sonner-toaster":!0,"data-sonner-theme":Ke,"data-y-position":he,"data-x-position":be,style:{"--front-toast-height":`${((ee=S[0])==null?void 0:ee.height)||0}px`,"--width":`${CA}px`,"--gap":`${Y}px`,...C,...kA(g,_)},onBlur:me=>{Re.current&&!me.currentTarget.contains(me.relatedTarget)&&(Re.current=!1,ne.current&&(ne.current.focus({preventScroll:!0}),ne.current=null))},onFocus:me=>{me.target instanceof HTMLElement&&me.target.dataset.dismissible==="false"||Re.current||(Re.current=!0,ne.current=me.relatedTarget)},onMouseEnter:()=>L(!0),onMouseMove:()=>L(!0),onMouseLeave:()=>{U||L(!1)},onDragEnd:()=>L(!1),onPointerDown:me=>{me.target instanceof HTMLElement&&me.target.dataset.dismissible==="false"||I(!0)},onPointerUp:()=>I(!1)},$.filter(me=>!me.position&&ue===0||me.position===J).map((me,Oe)=>{var ze,Tt;return de.createElement(OA,{key:me.id,icons:Q,index:Oe,toast:me,defaultRichColors:T,duration:(ze=D?.duration)!=null?ze:x,className:D?.className,descriptionClassName:D?.descriptionClassName,invert:s,visibleToasts:O,closeButton:(Tt=D?.closeButton)!=null?Tt:d,interacting:U,position:J,style:D?.style,unstyled:D?.unstyled,classNames:D?.classNames,cancelButtonStyle:D?.cancelButtonStyle,actionButtonStyle:D?.actionButtonStyle,closeButtonAriaLabel:D?.closeButtonAriaLabel,removeToast:P,toasts:$.filter(Nt=>Nt.position==me.position),heights:S.filter(Nt=>Nt.position==me.position),setHeights:R,expandByDefault:h,gap:Y,expanded:M,swipeDirections:e.swipeDirections})})):null}))});var of=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(r){return this.listeners.add(r),this.onSubscribe(),()=>{this.listeners.delete(r),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},lf=typeof window>"u"||"Deno"in globalThis;function pr(){}function PA(r,e){return typeof r=="function"?r(e):r}function VA(r){return typeof r=="number"&&r>=0&&r!==1/0}function LA(r,e){return Math.max(r+(e||0)-Date.now(),0)}function Xm(r,e){return typeof r=="function"?r(e):r}function UA(r,e){return typeof r=="function"?r(e):r}function a0(r,e){const{type:t="all",exact:s,fetchStatus:o,predicate:u,queryKey:h,stale:d}=r;if(h){if(s){if(e.queryHash!==Op(h,e.options))return!1}else if(!vu(e.queryKey,h))return!1}if(t!=="all"){const p=e.isActive();if(t==="active"&&!p||t==="inactive"&&p)return!1}return!(typeof d=="boolean"&&e.isStale()!==d||o&&o!==e.state.fetchStatus||u&&!u(e))}function o0(r,e){const{exact:t,status:s,predicate:o,mutationKey:u}=r;if(u){if(!e.options.mutationKey)return!1;if(t){if(yu(e.options.mutationKey)!==yu(u))return!1}else if(!vu(e.options.mutationKey,u))return!1}return!(s&&e.state.status!==s||o&&!o(e))}function Op(r,e){return(e?.queryKeyHashFn||yu)(r)}function yu(r){return JSON.stringify(r,(e,t)=>Wm(t)?Object.keys(t).sort().reduce((s,o)=>(s[o]=t[o],s),{}):t)}function vu(r,e){return r===e?!0:typeof r!=typeof e?!1:r&&e&&typeof r=="object"&&typeof e=="object"?Object.keys(e).every(t=>vu(r[t],e[t])):!1}function fE(r,e){if(r===e)return r;const t=l0(r)&&l0(e);if(t||Wm(r)&&Wm(e)){const s=t?r:Object.keys(r),o=s.length,u=t?e:Object.keys(e),h=u.length,d=t?[]:{},p=new Set(s);let g=0;for(let _=0;_<h;_++){const v=t?_:u[_];(!t&&p.has(v)||t)&&r[v]===void 0&&e[v]===void 0?(d[v]=void 0,g++):(d[v]=fE(r[v],e[v]),d[v]===r[v]&&r[v]!==void 0&&g++)}return o===h&&g===o?r:d}return e}function l0(r){return Array.isArray(r)&&r.length===Object.keys(r).length}function Wm(r){if(!u0(r))return!1;const e=r.constructor;if(e===void 0)return!0;const t=e.prototype;return!(!u0(t)||!t.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(r)!==Object.prototype)}function u0(r){return Object.prototype.toString.call(r)==="[object Object]"}function zA(r){return new Promise(e=>{setTimeout(e,r)})}function jA(r,e,t){return typeof t.structuralSharing=="function"?t.structuralSharing(r,e):t.structuralSharing!==!1?fE(r,e):e}function BA(r,e,t=0){const s=[...r,e];return t&&s.length>t?s.slice(1):s}function qA(r,e,t=0){const s=[e,...r];return t&&s.length>t?s.slice(0,-1):s}var kp=Symbol();function dE(r,e){return!r.queryFn&&e?.initialPromise?()=>e.initialPromise:!r.queryFn||r.queryFn===kp?()=>Promise.reject(new Error(`Missing queryFn: '${r.queryHash}'`)):r.queryFn}var FA=class extends of{#e;#t;#n;constructor(){super(),this.#n=r=>{if(!lf&&window.addEventListener){const e=()=>r();return window.addEventListener("visibilitychange",e,!1),()=>{window.removeEventListener("visibilitychange",e)}}}}onSubscribe(){this.#t||this.setEventListener(this.#n)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(r){this.#n=r,this.#t?.(),this.#t=r(e=>{typeof e=="boolean"?this.setFocused(e):this.onFocus()})}setFocused(r){this.#e!==r&&(this.#e=r,this.onFocus())}onFocus(){const r=this.isFocused();this.listeners.forEach(e=>{e(r)})}isFocused(){return typeof this.#e=="boolean"?this.#e:globalThis.document?.visibilityState!=="hidden"}},mE=new FA,HA=class extends of{#e=!0;#t;#n;constructor(){super(),this.#n=r=>{if(!lf&&window.addEventListener){const e=()=>r(!0),t=()=>r(!1);return window.addEventListener("online",e,!1),window.addEventListener("offline",t,!1),()=>{window.removeEventListener("online",e),window.removeEventListener("offline",t)}}}}onSubscribe(){this.#t||this.setEventListener(this.#n)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(r){this.#n=r,this.#t?.(),this.#t=r(this.setOnline.bind(this))}setOnline(r){this.#e!==r&&(this.#e=r,this.listeners.forEach(t=>{t(r)}))}isOnline(){return this.#e}},Ph=new HA;function GA(){let r,e;const t=new Promise((o,u)=>{r=o,e=u});t.status="pending",t.catch(()=>{});function s(o){Object.assign(t,o),delete t.resolve,delete t.reject}return t.resolve=o=>{s({status:"fulfilled",value:o}),r(o)},t.reject=o=>{s({status:"rejected",reason:o}),e(o)},t}function YA(r){return Math.min(1e3*2**r,3e4)}function pE(r){return(r??"online")==="online"?Ph.isOnline():!0}var gE=class extends Error{constructor(r){super("CancelledError"),this.revert=r?.revert,this.silent=r?.silent}};function Om(r){return r instanceof gE}function yE(r){let e=!1,t=0,s=!1,o;const u=GA(),h=O=>{s||(T(new gE(O)),r.abort?.())},d=()=>{e=!0},p=()=>{e=!1},g=()=>mE.isFocused()&&(r.networkMode==="always"||Ph.isOnline())&&r.canRun(),_=()=>pE(r.networkMode)&&r.canRun(),v=O=>{s||(s=!0,r.onSuccess?.(O),o?.(),u.resolve(O))},T=O=>{s||(s=!0,r.onError?.(O),o?.(),u.reject(O))},x=()=>new Promise(O=>{o=D=>{(s||g())&&O(D)},r.onPause?.()}).then(()=>{o=void 0,s||r.onContinue?.()}),C=()=>{if(s)return;let O;const D=t===0?r.initialPromise:void 0;try{O=D??r.fn()}catch(z){O=Promise.reject(z)}Promise.resolve(O).then(v).catch(z=>{if(s)return;const Y=r.retry??(lf?0:3),Q=r.retryDelay??YA,oe=typeof Q=="function"?Q(t,z):Q,$=Y===!0||typeof Y=="number"&&t<Y||typeof Y=="function"&&Y(t,z);if(e||!$){T(z);return}t++,r.onFail?.(t,z),zA(oe).then(()=>g()?void 0:x()).then(()=>{e?T(z):C()})})};return{promise:u,cancel:h,continue:()=>(o?.(),u),cancelRetry:d,continueRetry:p,canStart:_,start:()=>(_()?C():x().then(C),u)}}var KA=r=>setTimeout(r,0);function QA(){let r=[],e=0,t=d=>{d()},s=d=>{d()},o=KA;const u=d=>{e?r.push(d):o(()=>{t(d)})},h=()=>{const d=r;r=[],d.length&&o(()=>{s(()=>{d.forEach(p=>{t(p)})})})};return{batch:d=>{let p;e++;try{p=d()}finally{e--,e||h()}return p},batchCalls:d=>(...p)=>{u(()=>{d(...p)})},schedule:u,setNotifyFunction:d=>{t=d},setBatchNotifyFunction:d=>{s=d},setScheduler:d=>{o=d}}}var Cn=QA(),vE=class{#e;destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),VA(this.gcTime)&&(this.#e=setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(r){this.gcTime=Math.max(this.gcTime||0,r??(lf?1/0:5*60*1e3))}clearGcTimeout(){this.#e&&(clearTimeout(this.#e),this.#e=void 0)}},$A=class extends vE{#e;#t;#n;#i;#r;#a;#o;constructor(e){super(),this.#o=!1,this.#a=e.defaultOptions,this.setOptions(e.options),this.observers=[],this.#i=e.client,this.#n=this.#i.getQueryCache(),this.queryKey=e.queryKey,this.queryHash=e.queryHash,this.#e=WA(this.options),this.state=e.state??this.#e,this.scheduleGc()}get meta(){return this.options.meta}get promise(){return this.#r?.promise}setOptions(e){this.options={...this.#a,...e},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&this.#n.remove(this)}setData(e,t){const s=jA(this.state.data,e,this.options);return this.#s({data:s,type:"success",dataUpdatedAt:t?.updatedAt,manual:t?.manual}),s}setState(e,t){this.#s({type:"setState",state:e,setStateOptions:t})}cancel(e){const t=this.#r?.promise;return this.#r?.cancel(e),t?t.then(pr).catch(pr):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(this.#e)}isActive(){return this.observers.some(e=>UA(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===kp||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(e=>Xm(e.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(e=0){return this.state.data===void 0?!0:e==="static"?!1:this.state.isInvalidated?!0:!LA(this.state.dataUpdatedAt,e)}onFocus(){this.observers.find(t=>t.shouldFetchOnWindowFocus())?.refetch({cancelRefetch:!1}),this.#r?.continue()}onOnline(){this.observers.find(t=>t.shouldFetchOnReconnect())?.refetch({cancelRefetch:!1}),this.#r?.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),this.#n.notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(t=>t!==e),this.observers.length||(this.#r&&(this.#o?this.#r.cancel({revert:!0}):this.#r.cancelRetry()),this.scheduleGc()),this.#n.notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||this.#s({type:"invalidate"})}fetch(e,t){if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&t?.cancelRefetch)this.cancel({silent:!0});else if(this.#r)return this.#r.continueRetry(),this.#r.promise}if(e&&this.setOptions(e),!this.options.queryFn){const g=this.observers.find(_=>_.options.queryFn);g&&this.setOptions(g.options)}const s=new AbortController,o=g=>{Object.defineProperty(g,"signal",{enumerable:!0,get:()=>(this.#o=!0,s.signal)})},u=()=>{const g=dE(this.options,t),v=(()=>{const T={client:this.#i,queryKey:this.queryKey,meta:this.meta};return o(T),T})();return this.#o=!1,this.options.persister?this.options.persister(g,v,this):g(v)},d=(()=>{const g={fetchOptions:t,options:this.options,queryKey:this.queryKey,client:this.#i,state:this.state,fetchFn:u};return o(g),g})();this.options.behavior?.onFetch(d,this),this.#t=this.state,(this.state.fetchStatus==="idle"||this.state.fetchMeta!==d.fetchOptions?.meta)&&this.#s({type:"fetch",meta:d.fetchOptions?.meta});const p=g=>{Om(g)&&g.silent||this.#s({type:"error",error:g}),Om(g)||(this.#n.config.onError?.(g,this),this.#n.config.onSettled?.(this.state.data,g,this)),this.scheduleGc()};return this.#r=yE({initialPromise:t?.initialPromise,fn:d.fetchFn,abort:s.abort.bind(s),onSuccess:g=>{if(g===void 0){p(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(g)}catch(_){p(_);return}this.#n.config.onSuccess?.(g,this),this.#n.config.onSettled?.(g,this.state.error,this),this.scheduleGc()},onError:p,onFail:(g,_)=>{this.#s({type:"failed",failureCount:g,error:_})},onPause:()=>{this.#s({type:"pause"})},onContinue:()=>{this.#s({type:"continue"})},retry:d.options.retry,retryDelay:d.options.retryDelay,networkMode:d.options.networkMode,canRun:()=>!0}),this.#r.start()}#s(e){const t=s=>{switch(e.type){case"failed":return{...s,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...s,fetchStatus:"paused"};case"continue":return{...s,fetchStatus:"fetching"};case"fetch":return{...s,...XA(s.data,this.options),fetchMeta:e.meta??null};case"success":return this.#t=void 0,{...s,data:e.data,dataUpdateCount:s.dataUpdateCount+1,dataUpdatedAt:e.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const o=e.error;return Om(o)&&o.revert&&this.#t?{...this.#t,fetchStatus:"idle"}:{...s,error:o,errorUpdateCount:s.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:s.fetchFailureCount+1,fetchFailureReason:o,fetchStatus:"idle",status:"error"};case"invalidate":return{...s,isInvalidated:!0};case"setState":return{...s,...e.state}}};this.state=t(this.state),Cn.batch(()=>{this.observers.forEach(s=>{s.onQueryUpdate()}),this.#n.notify({query:this,type:"updated",action:e})})}};function XA(r,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:pE(e.networkMode)?"fetching":"paused",...r===void 0&&{error:null,status:"pending"}}}function WA(r){const e=typeof r.initialData=="function"?r.initialData():r.initialData,t=e!==void 0,s=t?typeof r.initialDataUpdatedAt=="function"?r.initialDataUpdatedAt():r.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:t?s??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:t?"success":"pending",fetchStatus:"idle"}}var ZA=class extends of{constructor(r={}){super(),this.config=r,this.#e=new Map}#e;build(r,e,t){const s=e.queryKey,o=e.queryHash??Op(s,e);let u=this.get(o);return u||(u=new $A({client:r,queryKey:s,queryHash:o,options:r.defaultQueryOptions(e),state:t,defaultOptions:r.getQueryDefaults(s)}),this.add(u)),u}add(r){this.#e.has(r.queryHash)||(this.#e.set(r.queryHash,r),this.notify({type:"added",query:r}))}remove(r){const e=this.#e.get(r.queryHash);e&&(r.destroy(),e===r&&this.#e.delete(r.queryHash),this.notify({type:"removed",query:r}))}clear(){Cn.batch(()=>{this.getAll().forEach(r=>{this.remove(r)})})}get(r){return this.#e.get(r)}getAll(){return[...this.#e.values()]}find(r){const e={exact:!0,...r};return this.getAll().find(t=>a0(e,t))}findAll(r={}){const e=this.getAll();return Object.keys(r).length>0?e.filter(t=>a0(r,t)):e}notify(r){Cn.batch(()=>{this.listeners.forEach(e=>{e(r)})})}onFocus(){Cn.batch(()=>{this.getAll().forEach(r=>{r.onFocus()})})}onOnline(){Cn.batch(()=>{this.getAll().forEach(r=>{r.onOnline()})})}},JA=class extends vE{#e;#t;#n;constructor(e){super(),this.mutationId=e.mutationId,this.#t=e.mutationCache,this.#e=[],this.state=e.state||eR(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){this.#e.includes(e)||(this.#e.push(e),this.clearGcTimeout(),this.#t.notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){this.#e=this.#e.filter(t=>t!==e),this.scheduleGc(),this.#t.notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){this.#e.length||(this.state.status==="pending"?this.scheduleGc():this.#t.remove(this))}continue(){return this.#n?.continue()??this.execute(this.state.variables)}async execute(e){const t=()=>{this.#i({type:"continue"})};this.#n=yE({fn:()=>this.options.mutationFn?this.options.mutationFn(e):Promise.reject(new Error("No mutationFn found")),onFail:(u,h)=>{this.#i({type:"failed",failureCount:u,error:h})},onPause:()=>{this.#i({type:"pause"})},onContinue:t,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>this.#t.canRun(this)});const s=this.state.status==="pending",o=!this.#n.canStart();try{if(s)t();else{this.#i({type:"pending",variables:e,isPaused:o}),await this.#t.config.onMutate?.(e,this);const h=await this.options.onMutate?.(e);h!==this.state.context&&this.#i({type:"pending",context:h,variables:e,isPaused:o})}const u=await this.#n.start();return await this.#t.config.onSuccess?.(u,e,this.state.context,this),await this.options.onSuccess?.(u,e,this.state.context),await this.#t.config.onSettled?.(u,null,this.state.variables,this.state.context,this),await this.options.onSettled?.(u,null,e,this.state.context),this.#i({type:"success",data:u}),u}catch(u){try{throw await this.#t.config.onError?.(u,e,this.state.context,this),await this.options.onError?.(u,e,this.state.context),await this.#t.config.onSettled?.(void 0,u,this.state.variables,this.state.context,this),await this.options.onSettled?.(void 0,u,e,this.state.context),u}finally{this.#i({type:"error",error:u})}}finally{this.#t.runNext(this)}}#i(e){const t=s=>{switch(e.type){case"failed":return{...s,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...s,isPaused:!0};case"continue":return{...s,isPaused:!1};case"pending":return{...s,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...s,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...s,data:void 0,error:e.error,failureCount:s.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=t(this.state),Cn.batch(()=>{this.#e.forEach(s=>{s.onMutationUpdate(e)}),this.#t.notify({mutation:this,type:"updated",action:e})})}};function eR(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var tR=class extends of{constructor(r={}){super(),this.config=r,this.#e=new Set,this.#t=new Map,this.#n=0}#e;#t;#n;build(r,e,t){const s=new JA({mutationCache:this,mutationId:++this.#n,options:r.defaultMutationOptions(e),state:t});return this.add(s),s}add(r){this.#e.add(r);const e=fh(r);if(typeof e=="string"){const t=this.#t.get(e);t?t.push(r):this.#t.set(e,[r])}this.notify({type:"added",mutation:r})}remove(r){if(this.#e.delete(r)){const e=fh(r);if(typeof e=="string"){const t=this.#t.get(e);if(t)if(t.length>1){const s=t.indexOf(r);s!==-1&&t.splice(s,1)}else t[0]===r&&this.#t.delete(e)}}this.notify({type:"removed",mutation:r})}canRun(r){const e=fh(r);if(typeof e=="string"){const s=this.#t.get(e)?.find(o=>o.state.status==="pending");return!s||s===r}else return!0}runNext(r){const e=fh(r);return typeof e=="string"?this.#t.get(e)?.find(s=>s!==r&&s.state.isPaused)?.continue()??Promise.resolve():Promise.resolve()}clear(){Cn.batch(()=>{this.#e.forEach(r=>{this.notify({type:"removed",mutation:r})}),this.#e.clear(),this.#t.clear()})}getAll(){return Array.from(this.#e)}find(r){const e={exact:!0,...r};return this.getAll().find(t=>o0(e,t))}findAll(r={}){return this.getAll().filter(e=>o0(r,e))}notify(r){Cn.batch(()=>{this.listeners.forEach(e=>{e(r)})})}resumePausedMutations(){const r=this.getAll().filter(e=>e.state.isPaused);return Cn.batch(()=>Promise.all(r.map(e=>e.continue().catch(pr))))}};function fh(r){return r.options.scope?.id}function c0(r){return{onFetch:(e,t)=>{const s=e.options,o=e.fetchOptions?.meta?.fetchMore?.direction,u=e.state.data?.pages||[],h=e.state.data?.pageParams||[];let d={pages:[],pageParams:[]},p=0;const g=async()=>{let _=!1;const v=C=>{Object.defineProperty(C,"signal",{enumerable:!0,get:()=>(e.signal.aborted?_=!0:e.signal.addEventListener("abort",()=>{_=!0}),e.signal)})},T=dE(e.options,e.fetchOptions),x=async(C,O,D)=>{if(_)return Promise.reject();if(O==null&&C.pages.length)return Promise.resolve(C);const Y=(()=>{const ie={client:e.client,queryKey:e.queryKey,pageParam:O,direction:D?"backward":"forward",meta:e.options.meta};return v(ie),ie})(),Q=await T(Y),{maxPages:oe}=e.options,$=D?qA:BA;return{pages:$(C.pages,Q,oe),pageParams:$(C.pageParams,O,oe)}};if(o&&u.length){const C=o==="backward",O=C?nR:h0,D={pages:u,pageParams:h},z=O(s,D);d=await x(D,z,C)}else{const C=r??u.length;do{const O=p===0?h[0]??s.initialPageParam:h0(s,d);if(p>0&&O==null)break;d=await x(d,O),p++}while(p<C)}return d};e.options.persister?e.fetchFn=()=>e.options.persister?.(g,{client:e.client,queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},t):e.fetchFn=g}}}function h0(r,{pages:e,pageParams:t}){const s=e.length-1;return e.length>0?r.getNextPageParam(e[s],e,t[s],t):void 0}function nR(r,{pages:e,pageParams:t}){return e.length>0?r.getPreviousPageParam?.(e[0],e,t[0],t):void 0}var rR=class{#e;#t;#n;#i;#r;#a;#o;#s;constructor(r={}){this.#e=r.queryCache||new ZA,this.#t=r.mutationCache||new tR,this.#n=r.defaultOptions||{},this.#i=new Map,this.#r=new Map,this.#a=0}mount(){this.#a++,this.#a===1&&(this.#o=mE.subscribe(async r=>{r&&(await this.resumePausedMutations(),this.#e.onFocus())}),this.#s=Ph.subscribe(async r=>{r&&(await this.resumePausedMutations(),this.#e.onOnline())}))}unmount(){this.#a--,this.#a===0&&(this.#o?.(),this.#o=void 0,this.#s?.(),this.#s=void 0)}isFetching(r){return this.#e.findAll({...r,fetchStatus:"fetching"}).length}isMutating(r){return this.#t.findAll({...r,status:"pending"}).length}getQueryData(r){const e=this.defaultQueryOptions({queryKey:r});return this.#e.get(e.queryHash)?.state.data}ensureQueryData(r){const e=this.defaultQueryOptions(r),t=this.#e.build(this,e),s=t.state.data;return s===void 0?this.fetchQuery(r):(r.revalidateIfStale&&t.isStaleByTime(Xm(e.staleTime,t))&&this.prefetchQuery(e),Promise.resolve(s))}getQueriesData(r){return this.#e.findAll(r).map(({queryKey:e,state:t})=>{const s=t.data;return[e,s]})}setQueryData(r,e,t){const s=this.defaultQueryOptions({queryKey:r}),u=this.#e.get(s.queryHash)?.state.data,h=PA(e,u);if(h!==void 0)return this.#e.build(this,s).setData(h,{...t,manual:!0})}setQueriesData(r,e,t){return Cn.batch(()=>this.#e.findAll(r).map(({queryKey:s})=>[s,this.setQueryData(s,e,t)]))}getQueryState(r){const e=this.defaultQueryOptions({queryKey:r});return this.#e.get(e.queryHash)?.state}removeQueries(r){const e=this.#e;Cn.batch(()=>{e.findAll(r).forEach(t=>{e.remove(t)})})}resetQueries(r,e){const t=this.#e;return Cn.batch(()=>(t.findAll(r).forEach(s=>{s.reset()}),this.refetchQueries({type:"active",...r},e)))}cancelQueries(r,e={}){const t={revert:!0,...e},s=Cn.batch(()=>this.#e.findAll(r).map(o=>o.cancel(t)));return Promise.all(s).then(pr).catch(pr)}invalidateQueries(r,e={}){return Cn.batch(()=>(this.#e.findAll(r).forEach(t=>{t.invalidate()}),r?.refetchType==="none"?Promise.resolve():this.refetchQueries({...r,type:r?.refetchType??r?.type??"active"},e)))}refetchQueries(r,e={}){const t={...e,cancelRefetch:e.cancelRefetch??!0},s=Cn.batch(()=>this.#e.findAll(r).filter(o=>!o.isDisabled()&&!o.isStatic()).map(o=>{let u=o.fetch(void 0,t);return t.throwOnError||(u=u.catch(pr)),o.state.fetchStatus==="paused"?Promise.resolve():u}));return Promise.all(s).then(pr)}fetchQuery(r){const e=this.defaultQueryOptions(r);e.retry===void 0&&(e.retry=!1);const t=this.#e.build(this,e);return t.isStaleByTime(Xm(e.staleTime,t))?t.fetch(e):Promise.resolve(t.state.data)}prefetchQuery(r){return this.fetchQuery(r).then(pr).catch(pr)}fetchInfiniteQuery(r){return r.behavior=c0(r.pages),this.fetchQuery(r)}prefetchInfiniteQuery(r){return this.fetchInfiniteQuery(r).then(pr).catch(pr)}ensureInfiniteQueryData(r){return r.behavior=c0(r.pages),this.ensureQueryData(r)}resumePausedMutations(){return Ph.isOnline()?this.#t.resumePausedMutations():Promise.resolve()}getQueryCache(){return this.#e}getMutationCache(){return this.#t}getDefaultOptions(){return this.#n}setDefaultOptions(r){this.#n=r}setQueryDefaults(r,e){this.#i.set(yu(r),{queryKey:r,defaultOptions:e})}getQueryDefaults(r){const e=[...this.#i.values()],t={};return e.forEach(s=>{vu(r,s.queryKey)&&Object.assign(t,s.defaultOptions)}),t}setMutationDefaults(r,e){this.#r.set(yu(r),{mutationKey:r,defaultOptions:e})}getMutationDefaults(r){const e=[...this.#r.values()],t={};return e.forEach(s=>{vu(r,s.mutationKey)&&Object.assign(t,s.defaultOptions)}),t}defaultQueryOptions(r){if(r._defaulted)return r;const e={...this.#n.queries,...this.getQueryDefaults(r.queryKey),...r,_defaulted:!0};return e.queryHash||(e.queryHash=Op(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.queryFn===kp&&(e.enabled=!1),e}defaultMutationOptions(r){return r?._defaulted?r:{...this.#n.mutations,...r?.mutationKey&&this.getMutationDefaults(r.mutationKey),...r,_defaulted:!0}}clear(){this.#e.clear(),this.#t.clear()}},iR=V.createContext(void 0),sR=({client:r,children:e})=>(V.useEffect(()=>(r.mount(),()=>{r.unmount()}),[r]),W.jsx(iR.Provider,{value:r,children:e})),tu={},f0;function aR(){if(f0)return tu;f0=1,Object.defineProperty(tu,"__esModule",{value:!0}),tu.parse=h,tu.serialize=g;const r=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,t=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,s=/^[\u0020-\u003A\u003D-\u007E]*$/,o=Object.prototype.toString,u=(()=>{const T=function(){};return T.prototype=Object.create(null),T})();function h(T,x){const C=new u,O=T.length;if(O<2)return C;const D=x?.decode||_;let z=0;do{const Y=T.indexOf("=",z);if(Y===-1)break;const Q=T.indexOf(";",z),oe=Q===-1?O:Q;if(Y>oe){z=T.lastIndexOf(";",Y-1)+1;continue}const $=d(T,z,Y),ie=p(T,Y,$),N=T.slice($,ie);if(C[N]===void 0){let S=d(T,Y+1,oe),R=p(T,oe,S);const M=D(T.slice(S,R));C[N]=M}z=oe+1}while(z<O);return C}function d(T,x,C){do{const O=T.charCodeAt(x);if(O!==32&&O!==9)return x}while(++x<C);return C}function p(T,x,C){for(;x>C;){const O=T.charCodeAt(--x);if(O!==32&&O!==9)return x+1}return C}function g(T,x,C){const O=C?.encode||encodeURIComponent;if(!r.test(T))throw new TypeError(`argument name is invalid: ${T}`);const D=O(x);if(!e.test(D))throw new TypeError(`argument val is invalid: ${x}`);let z=T+"="+D;if(!C)return z;if(C.maxAge!==void 0){if(!Number.isInteger(C.maxAge))throw new TypeError(`option maxAge is invalid: ${C.maxAge}`);z+="; Max-Age="+C.maxAge}if(C.domain){if(!t.test(C.domain))throw new TypeError(`option domain is invalid: ${C.domain}`);z+="; Domain="+C.domain}if(C.path){if(!s.test(C.path))throw new TypeError(`option path is invalid: ${C.path}`);z+="; Path="+C.path}if(C.expires){if(!v(C.expires)||!Number.isFinite(C.expires.valueOf()))throw new TypeError(`option expires is invalid: ${C.expires}`);z+="; Expires="+C.expires.toUTCString()}if(C.httpOnly&&(z+="; HttpOnly"),C.secure&&(z+="; Secure"),C.partitioned&&(z+="; Partitioned"),C.priority)switch(typeof C.priority=="string"?C.priority.toLowerCase():void 0){case"low":z+="; Priority=Low";break;case"medium":z+="; Priority=Medium";break;case"high":z+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${C.priority}`)}if(C.sameSite)switch(typeof C.sameSite=="string"?C.sameSite.toLowerCase():C.sameSite){case!0:case"strict":z+="; SameSite=Strict";break;case"lax":z+="; SameSite=Lax";break;case"none":z+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${C.sameSite}`)}return z}function _(T){if(T.indexOf("%")===-1)return T;try{return decodeURIComponent(T)}catch{return T}}function v(T){return o.call(T)==="[object Date]"}return tu}aR();var d0="popstate";function oR(r={}){function e(s,o){let{pathname:u,search:h,hash:d}=s.location;return Zm("",{pathname:u,search:h,hash:d},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function t(s,o){return typeof o=="string"?o:_u(o)}return uR(e,t,null,r)}function At(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function Kr(r,e){if(!r){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function lR(){return Math.random().toString(36).substring(2,10)}function m0(r,e){return{usr:r.state,key:r.key,idx:e}}function Zm(r,e,t=null,s){return{pathname:typeof r=="string"?r:r.pathname,search:"",hash:"",...typeof e=="string"?Go(e):e,state:t,key:e&&e.key||s||lR()}}function _u({pathname:r="/",search:e="",hash:t=""}){return e&&e!=="?"&&(r+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(r+=t.charAt(0)==="#"?t:"#"+t),r}function Go(r){let e={};if(r){let t=r.indexOf("#");t>=0&&(e.hash=r.substring(t),r=r.substring(0,t));let s=r.indexOf("?");s>=0&&(e.search=r.substring(s),r=r.substring(0,s)),r&&(e.pathname=r)}return e}function uR(r,e,t,s={}){let{window:o=document.defaultView,v5Compat:u=!1}=s,h=o.history,d="POP",p=null,g=_();g==null&&(g=0,h.replaceState({...h.state,idx:g},""));function _(){return(h.state||{idx:null}).idx}function v(){d="POP";let D=_(),z=D==null?null:D-g;g=D,p&&p({action:d,location:O.location,delta:z})}function T(D,z){d="PUSH";let Y=Zm(O.location,D,z);g=_()+1;let Q=m0(Y,g),oe=O.createHref(Y);try{h.pushState(Q,"",oe)}catch($){if($ instanceof DOMException&&$.name==="DataCloneError")throw $;o.location.assign(oe)}u&&p&&p({action:d,location:O.location,delta:1})}function x(D,z){d="REPLACE";let Y=Zm(O.location,D,z);g=_();let Q=m0(Y,g),oe=O.createHref(Y);h.replaceState(Q,"",oe),u&&p&&p({action:d,location:O.location,delta:0})}function C(D){return cR(D)}let O={get action(){return d},get location(){return r(o,h)},listen(D){if(p)throw new Error("A history only accepts one active listener");return o.addEventListener(d0,v),p=D,()=>{o.removeEventListener(d0,v),p=null}},createHref(D){return e(o,D)},createURL:C,encodeLocation(D){let z=C(D);return{pathname:z.pathname,search:z.search,hash:z.hash}},push:T,replace:x,go(D){return h.go(D)}};return O}function cR(r,e=!1){let t="http://localhost";typeof window<"u"&&(t=window.location.origin!=="null"?window.location.origin:window.location.href),At(t,"No window.location.(origin|href) available to create URL");let s=typeof r=="string"?r:_u(r);return s=s.replace(/ $/,"%20"),!e&&s.startsWith("//")&&(s=t+s),new URL(s,t)}function _E(r,e,t="/"){return hR(r,e,t,!1)}function hR(r,e,t,s){let o=typeof e=="string"?Go(e):e,u=Li(o.pathname||"/",t);if(u==null)return null;let h=bE(r);fR(h);let d=null;for(let p=0;d==null&&p<h.length;++p){let g=wR(u);d=ER(h[p],g,s)}return d}function bE(r,e=[],t=[],s=""){let o=(u,h,d)=>{let p={relativePath:d===void 0?u.path||"":d,caseSensitive:u.caseSensitive===!0,childrenIndex:h,route:u};p.relativePath.startsWith("/")&&(At(p.relativePath.startsWith(s),`Absolute route path "${p.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),p.relativePath=p.relativePath.slice(s.length));let g=Pi([s,p.relativePath]),_=t.concat(p);u.children&&u.children.length>0&&(At(u.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${g}".`),bE(u.children,e,_,g)),!(u.path==null&&!u.index)&&e.push({path:g,score:_R(g,u.index),routesMeta:_})};return r.forEach((u,h)=>{if(u.path===""||!u.path?.includes("?"))o(u,h);else for(let d of EE(u.path))o(u,h,d)}),e}function EE(r){let e=r.split("/");if(e.length===0)return[];let[t,...s]=e,o=t.endsWith("?"),u=t.replace(/\?$/,"");if(s.length===0)return o?[u,""]:[u];let h=EE(s.join("/")),d=[];return d.push(...h.map(p=>p===""?u:[u,p].join("/"))),o&&d.push(...h),d.map(p=>r.startsWith("/")&&p===""?"/":p)}function fR(r){r.sort((e,t)=>e.score!==t.score?t.score-e.score:bR(e.routesMeta.map(s=>s.childrenIndex),t.routesMeta.map(s=>s.childrenIndex)))}var dR=/^:[\w-]+$/,mR=3,pR=2,gR=1,yR=10,vR=-2,p0=r=>r==="*";function _R(r,e){let t=r.split("/"),s=t.length;return t.some(p0)&&(s+=vR),e&&(s+=pR),t.filter(o=>!p0(o)).reduce((o,u)=>o+(dR.test(u)?mR:u===""?gR:yR),s)}function bR(r,e){return r.length===e.length&&r.slice(0,-1).every((s,o)=>s===e[o])?r[r.length-1]-e[e.length-1]:0}function ER(r,e,t=!1){let{routesMeta:s}=r,o={},u="/",h=[];for(let d=0;d<s.length;++d){let p=s[d],g=d===s.length-1,_=u==="/"?e:e.slice(u.length)||"/",v=Vh({path:p.relativePath,caseSensitive:p.caseSensitive,end:g},_),T=p.route;if(!v&&g&&t&&!s[s.length-1].route.index&&(v=Vh({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},_)),!v)return null;Object.assign(o,v.params),h.push({params:o,pathname:Pi([u,v.pathname]),pathnameBase:CR(Pi([u,v.pathnameBase])),route:T}),v.pathnameBase!=="/"&&(u=Pi([u,v.pathnameBase]))}return h}function Vh(r,e){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[t,s]=TR(r.path,r.caseSensitive,r.end),o=e.match(t);if(!o)return null;let u=o[0],h=u.replace(/(.)\/+$/,"$1"),d=o.slice(1);return{params:s.reduce((g,{paramName:_,isOptional:v},T)=>{if(_==="*"){let C=d[T]||"";h=u.slice(0,u.length-C.length).replace(/(.)\/+$/,"$1")}const x=d[T];return v&&!x?g[_]=void 0:g[_]=(x||"").replace(/%2F/g,"/"),g},{}),pathname:u,pathnameBase:h,pattern:r}}function TR(r,e=!1,t=!0){Kr(r==="*"||!r.endsWith("*")||r.endsWith("/*"),`Route path "${r}" will be treated as if it were "${r.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${r.replace(/\*$/,"/*")}".`);let s=[],o="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(h,d,p)=>(s.push({paramName:d,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)"));return r.endsWith("*")?(s.push({paramName:"*"}),o+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?o+="\\/*$":r!==""&&r!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),s]}function wR(r){try{return r.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Kr(!1,`The URL path "${r}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),r}}function Li(r,e){if(e==="/")return r;if(!r.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,s=r.charAt(t);return s&&s!=="/"?null:r.slice(t)||"/"}function SR(r,e="/"){let{pathname:t,search:s="",hash:o=""}=typeof r=="string"?Go(r):r;return{pathname:t?t.startsWith("/")?t:AR(t,e):e,search:xR(s),hash:IR(o)}}function AR(r,e){let t=e.replace(/\/+$/,"").split("/");return r.split("/").forEach(o=>{o===".."?t.length>1&&t.pop():o!=="."&&t.push(o)}),t.length>1?t.join("/"):"/"}function km(r,e,t,s){return`Cannot include a '${r}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function RR(r){return r.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function TE(r){let e=RR(r);return e.map((t,s)=>s===e.length-1?t.pathname:t.pathnameBase)}function wE(r,e,t,s=!1){let o;typeof r=="string"?o=Go(r):(o={...r},At(!o.pathname||!o.pathname.includes("?"),km("?","pathname","search",o)),At(!o.pathname||!o.pathname.includes("#"),km("#","pathname","hash",o)),At(!o.search||!o.search.includes("#"),km("#","search","hash",o)));let u=r===""||o.pathname==="",h=u?"/":o.pathname,d;if(h==null)d=t;else{let v=e.length-1;if(!s&&h.startsWith("..")){let T=h.split("/");for(;T[0]==="..";)T.shift(),v-=1;o.pathname=T.join("/")}d=v>=0?e[v]:"/"}let p=SR(o,d),g=h&&h!=="/"&&h.endsWith("/"),_=(u||h===".")&&t.endsWith("/");return!p.pathname.endsWith("/")&&(g||_)&&(p.pathname+="/"),p}var Pi=r=>r.join("/").replace(/\/\/+/g,"/"),CR=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),xR=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,IR=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r;function DR(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}var SE=["POST","PUT","PATCH","DELETE"];new Set(SE);var NR=["GET",...SE];new Set(NR);var Yo=V.createContext(null);Yo.displayName="DataRouter";var uf=V.createContext(null);uf.displayName="DataRouterState";var AE=V.createContext({isTransitioning:!1});AE.displayName="ViewTransition";var OR=V.createContext(new Map);OR.displayName="Fetchers";var kR=V.createContext(null);kR.displayName="Await";var Xr=V.createContext(null);Xr.displayName="Navigation";var Du=V.createContext(null);Du.displayName="Location";var Wr=V.createContext({outlet:null,matches:[],isDataRoute:!1});Wr.displayName="Route";var Mp=V.createContext(null);Mp.displayName="RouteError";function MR(r,{relative:e}={}){At(Nu(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:s}=V.useContext(Xr),{hash:o,pathname:u,search:h}=Ou(r,{relative:e}),d=u;return t!=="/"&&(d=u==="/"?t:Pi([t,u])),s.createHref({pathname:d,search:h,hash:o})}function Nu(){return V.useContext(Du)!=null}function xa(){return At(Nu(),"useLocation() may be used only in the context of a <Router> component."),V.useContext(Du).location}var RE="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function CE(r){V.useContext(Xr).static||V.useLayoutEffect(r)}function Pp(){let{isDataRoute:r}=V.useContext(Wr);return r?QR():PR()}function PR(){At(Nu(),"useNavigate() may be used only in the context of a <Router> component.");let r=V.useContext(Yo),{basename:e,navigator:t}=V.useContext(Xr),{matches:s}=V.useContext(Wr),{pathname:o}=xa(),u=JSON.stringify(TE(s)),h=V.useRef(!1);return CE(()=>{h.current=!0}),V.useCallback((p,g={})=>{if(Kr(h.current,RE),!h.current)return;if(typeof p=="number"){t.go(p);return}let _=wE(p,JSON.parse(u),o,g.relative==="path");r==null&&e!=="/"&&(_.pathname=_.pathname==="/"?e:Pi([e,_.pathname])),(g.replace?t.replace:t.push)(_,g.state,g)},[e,t,u,o,r])}V.createContext(null);function VR(){let{matches:r}=V.useContext(Wr),e=r[r.length-1];return e?e.params:{}}function Ou(r,{relative:e}={}){let{matches:t}=V.useContext(Wr),{pathname:s}=xa(),o=JSON.stringify(TE(t));return V.useMemo(()=>wE(r,JSON.parse(o),s,e==="path"),[r,o,s,e])}function LR(r,e){return xE(r,e)}function xE(r,e,t,s){At(Nu(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o}=V.useContext(Xr),{matches:u}=V.useContext(Wr),h=u[u.length-1],d=h?h.params:{},p=h?h.pathname:"/",g=h?h.pathnameBase:"/",_=h&&h.route;{let z=_&&_.path||"";IE(p,!_||z.endsWith("*")||z.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${p}" (under <Route path="${z}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${z}"> to <Route path="${z==="/"?"*":`${z}/*`}">.`)}let v=xa(),T;if(e){let z=typeof e=="string"?Go(e):e;At(g==="/"||z.pathname?.startsWith(g),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${g}" but pathname "${z.pathname}" was given in the \`location\` prop.`),T=z}else T=v;let x=T.pathname||"/",C=x;if(g!=="/"){let z=g.replace(/^\//,"").split("/");C="/"+x.replace(/^\//,"").split("/").slice(z.length).join("/")}let O=_E(r,{pathname:C});Kr(_||O!=null,`No routes matched location "${T.pathname}${T.search}${T.hash}" `),Kr(O==null||O[O.length-1].route.element!==void 0||O[O.length-1].route.Component!==void 0||O[O.length-1].route.lazy!==void 0,`Matched leaf route at location "${T.pathname}${T.search}${T.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let D=qR(O&&O.map(z=>Object.assign({},z,{params:Object.assign({},d,z.params),pathname:Pi([g,o.encodeLocation?o.encodeLocation(z.pathname).pathname:z.pathname]),pathnameBase:z.pathnameBase==="/"?g:Pi([g,o.encodeLocation?o.encodeLocation(z.pathnameBase).pathname:z.pathnameBase])})),u,t,s);return e&&D?V.createElement(Du.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...T},navigationType:"POP"}},D):D}function UR(){let r=KR(),e=DR(r)?`${r.status} ${r.statusText}`:r instanceof Error?r.message:JSON.stringify(r),t=r instanceof Error?r.stack:null,s="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:s},u={padding:"2px 4px",backgroundColor:s},h=null;return console.error("Error handled by React Router default ErrorBoundary:",r),h=V.createElement(V.Fragment,null,V.createElement("p",null,"💿 Hey developer 👋"),V.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",V.createElement("code",{style:u},"ErrorBoundary")," or"," ",V.createElement("code",{style:u},"errorElement")," prop on your route.")),V.createElement(V.Fragment,null,V.createElement("h2",null,"Unexpected Application Error!"),V.createElement("h3",{style:{fontStyle:"italic"}},e),t?V.createElement("pre",{style:o},t):null,h)}var zR=V.createElement(UR,null),jR=class extends V.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,e){return e.location!==r.location||e.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:e.error,location:e.location,revalidation:r.revalidation||e.revalidation}}componentDidCatch(r,e){console.error("React Router caught the following error during render",r,e)}render(){return this.state.error!==void 0?V.createElement(Wr.Provider,{value:this.props.routeContext},V.createElement(Mp.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function BR({routeContext:r,match:e,children:t}){let s=V.useContext(Yo);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),V.createElement(Wr.Provider,{value:r},t)}function qR(r,e=[],t=null,s=null){if(r==null){if(!t)return null;if(t.errors)r=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)r=t.matches;else return null}let o=r,u=t?.errors;if(u!=null){let p=o.findIndex(g=>g.route.id&&u?.[g.route.id]!==void 0);At(p>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(u).join(",")}`),o=o.slice(0,Math.min(o.length,p+1))}let h=!1,d=-1;if(t)for(let p=0;p<o.length;p++){let g=o[p];if((g.route.HydrateFallback||g.route.hydrateFallbackElement)&&(d=p),g.route.id){let{loaderData:_,errors:v}=t,T=g.route.loader&&!_.hasOwnProperty(g.route.id)&&(!v||v[g.route.id]===void 0);if(g.route.lazy||T){h=!0,d>=0?o=o.slice(0,d+1):o=[o[0]];break}}}return o.reduceRight((p,g,_)=>{let v,T=!1,x=null,C=null;t&&(v=u&&g.route.id?u[g.route.id]:void 0,x=g.route.errorElement||zR,h&&(d<0&&_===0?(IE("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),T=!0,C=null):d===_&&(T=!0,C=g.route.hydrateFallbackElement||null)));let O=e.concat(o.slice(0,_+1)),D=()=>{let z;return v?z=x:T?z=C:g.route.Component?z=V.createElement(g.route.Component,null):g.route.element?z=g.route.element:z=p,V.createElement(BR,{match:g,routeContext:{outlet:p,matches:O,isDataRoute:t!=null},children:z})};return t&&(g.route.ErrorBoundary||g.route.errorElement||_===0)?V.createElement(jR,{location:t.location,revalidation:t.revalidation,component:x,error:v,children:D(),routeContext:{outlet:null,matches:O,isDataRoute:!0}}):D()},null)}function Vp(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function FR(r){let e=V.useContext(Yo);return At(e,Vp(r)),e}function HR(r){let e=V.useContext(uf);return At(e,Vp(r)),e}function GR(r){let e=V.useContext(Wr);return At(e,Vp(r)),e}function Lp(r){let e=GR(r),t=e.matches[e.matches.length-1];return At(t.route.id,`${r} can only be used on routes that contain a unique "id"`),t.route.id}function YR(){return Lp("useRouteId")}function KR(){let r=V.useContext(Mp),e=HR("useRouteError"),t=Lp("useRouteError");return r!==void 0?r:e.errors?.[t]}function QR(){let{router:r}=FR("useNavigate"),e=Lp("useNavigate"),t=V.useRef(!1);return CE(()=>{t.current=!0}),V.useCallback(async(o,u={})=>{Kr(t.current,RE),t.current&&(typeof o=="number"?r.navigate(o):await r.navigate(o,{fromRouteId:e,...u}))},[r,e])}var g0={};function IE(r,e,t){!e&&!g0[r]&&(g0[r]=!0,Kr(!1,t))}V.memo($R);function $R({routes:r,future:e,state:t}){return xE(r,void 0,t,e)}function Jm(r){At(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function XR({basename:r="/",children:e=null,location:t,navigationType:s="POP",navigator:o,static:u=!1}){At(!Nu(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let h=r.replace(/^\/*/,"/"),d=V.useMemo(()=>({basename:h,navigator:o,static:u,future:{}}),[h,o,u]);typeof t=="string"&&(t=Go(t));let{pathname:p="/",search:g="",hash:_="",state:v=null,key:T="default"}=t,x=V.useMemo(()=>{let C=Li(p,h);return C==null?null:{location:{pathname:C,search:g,hash:_,state:v,key:T},navigationType:s}},[h,p,g,_,v,T,s]);return Kr(x!=null,`<Router basename="${h}"> is not able to match the URL "${p}${g}${_}" because it does not start with the basename, so the <Router> won't render anything.`),x==null?null:V.createElement(Xr.Provider,{value:d},V.createElement(Du.Provider,{children:e,value:x}))}function WR({children:r,location:e}){return LR(ep(r),e)}function ep(r,e=[]){let t=[];return V.Children.forEach(r,(s,o)=>{if(!V.isValidElement(s))return;let u=[...e,o];if(s.type===V.Fragment){t.push.apply(t,ep(s.props.children,u));return}At(s.type===Jm,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),At(!s.props.index||!s.props.children,"An index route cannot have child routes.");let h={id:s.props.id||u.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(h.children=ep(s.props.children,u)),t.push(h)}),t}var wh="get",Sh="application/x-www-form-urlencoded";function cf(r){return r!=null&&typeof r.tagName=="string"}function ZR(r){return cf(r)&&r.tagName.toLowerCase()==="button"}function JR(r){return cf(r)&&r.tagName.toLowerCase()==="form"}function eC(r){return cf(r)&&r.tagName.toLowerCase()==="input"}function tC(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function nC(r,e){return r.button===0&&(!e||e==="_self")&&!tC(r)}var dh=null;function rC(){if(dh===null)try{new FormData(document.createElement("form"),0),dh=!1}catch{dh=!0}return dh}var iC=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Mm(r){return r!=null&&!iC.has(r)?(Kr(!1,`"${r}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Sh}"`),null):r}function sC(r,e){let t,s,o,u,h;if(JR(r)){let d=r.getAttribute("action");s=d?Li(d,e):null,t=r.getAttribute("method")||wh,o=Mm(r.getAttribute("enctype"))||Sh,u=new FormData(r)}else if(ZR(r)||eC(r)&&(r.type==="submit"||r.type==="image")){let d=r.form;if(d==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=r.getAttribute("formaction")||d.getAttribute("action");if(s=p?Li(p,e):null,t=r.getAttribute("formmethod")||d.getAttribute("method")||wh,o=Mm(r.getAttribute("formenctype"))||Mm(d.getAttribute("enctype"))||Sh,u=new FormData(d,r),!rC()){let{name:g,type:_,value:v}=r;if(_==="image"){let T=g?`${g}.`:"";u.append(`${T}x`,"0"),u.append(`${T}y`,"0")}else g&&u.append(g,v)}}else{if(cf(r))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=wh,s=null,o=Sh,h=r}return u&&o==="text/plain"&&(h=u,u=void 0),{action:s,method:t.toLowerCase(),encType:o,formData:u,body:h}}function Up(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}async function aC(r,e){if(r.id in e)return e[r.id];try{let t=await import(r.module);return e[r.id]=t,t}catch(t){return console.error(`Error loading route module \`${r.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function oC(r){return r==null?!1:r.href==null?r.rel==="preload"&&typeof r.imageSrcSet=="string"&&typeof r.imageSizes=="string":typeof r.rel=="string"&&typeof r.href=="string"}async function lC(r,e,t){let s=await Promise.all(r.map(async o=>{let u=e.routes[o.route.id];if(u){let h=await aC(u,t);return h.links?h.links():[]}return[]}));return fC(s.flat(1).filter(oC).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function y0(r,e,t,s,o,u){let h=(p,g)=>t[g]?p.route.id!==t[g].route.id:!0,d=(p,g)=>t[g].pathname!==p.pathname||t[g].route.path?.endsWith("*")&&t[g].params["*"]!==p.params["*"];return u==="assets"?e.filter((p,g)=>h(p,g)||d(p,g)):u==="data"?e.filter((p,g)=>{let _=s.routes[p.route.id];if(!_||!_.hasLoader)return!1;if(h(p,g)||d(p,g))return!0;if(p.route.shouldRevalidate){let v=p.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:t[0]?.params||{},nextUrl:new URL(r,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof v=="boolean")return v}return!0}):[]}function uC(r,e,{includeHydrateFallback:t}={}){return cC(r.map(s=>{let o=e.routes[s.route.id];if(!o)return[];let u=[o.module];return o.clientActionModule&&(u=u.concat(o.clientActionModule)),o.clientLoaderModule&&(u=u.concat(o.clientLoaderModule)),t&&o.hydrateFallbackModule&&(u=u.concat(o.hydrateFallbackModule)),o.imports&&(u=u.concat(o.imports)),u}).flat(1))}function cC(r){return[...new Set(r)]}function hC(r){let e={},t=Object.keys(r).sort();for(let s of t)e[s]=r[s];return e}function fC(r,e){let t=new Set;return new Set(e),r.reduce((s,o)=>{let u=JSON.stringify(hC(o));return t.has(u)||(t.add(u),s.push({key:u,link:o})),s},[])}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var dC=new Set([100,101,204,205]);function mC(r,e){let t=typeof r=="string"?new URL(r,typeof window>"u"?"server://singlefetch/":window.location.origin):r;return t.pathname==="/"?t.pathname="_root.data":e&&Li(t.pathname,e)==="/"?t.pathname=`${e.replace(/\/$/,"")}/_root.data`:t.pathname=`${t.pathname.replace(/\/$/,"")}.data`,t}function DE(){let r=V.useContext(Yo);return Up(r,"You must render this element inside a <DataRouterContext.Provider> element"),r}function pC(){let r=V.useContext(uf);return Up(r,"You must render this element inside a <DataRouterStateContext.Provider> element"),r}var zp=V.createContext(void 0);zp.displayName="FrameworkContext";function NE(){let r=V.useContext(zp);return Up(r,"You must render this element inside a <HydratedRouter> element"),r}function gC(r,e){let t=V.useContext(zp),[s,o]=V.useState(!1),[u,h]=V.useState(!1),{onFocus:d,onBlur:p,onMouseEnter:g,onMouseLeave:_,onTouchStart:v}=e,T=V.useRef(null);V.useEffect(()=>{if(r==="render"&&h(!0),r==="viewport"){let O=z=>{z.forEach(Y=>{h(Y.isIntersecting)})},D=new IntersectionObserver(O,{threshold:.5});return T.current&&D.observe(T.current),()=>{D.disconnect()}}},[r]),V.useEffect(()=>{if(s){let O=setTimeout(()=>{h(!0)},100);return()=>{clearTimeout(O)}}},[s]);let x=()=>{o(!0)},C=()=>{o(!1),h(!1)};return t?r!=="intent"?[u,T,{}]:[u,T,{onFocus:nu(d,x),onBlur:nu(p,C),onMouseEnter:nu(g,x),onMouseLeave:nu(_,C),onTouchStart:nu(v,x)}]:[!1,T,{}]}function nu(r,e){return t=>{r&&r(t),t.defaultPrevented||e(t)}}function yC({page:r,...e}){let{router:t}=DE(),s=V.useMemo(()=>_E(t.routes,r,t.basename),[t.routes,r,t.basename]);return s?V.createElement(_C,{page:r,matches:s,...e}):null}function vC(r){let{manifest:e,routeModules:t}=NE(),[s,o]=V.useState([]);return V.useEffect(()=>{let u=!1;return lC(r,e,t).then(h=>{u||o(h)}),()=>{u=!0}},[r,e,t]),s}function _C({page:r,matches:e,...t}){let s=xa(),{manifest:o,routeModules:u}=NE(),{basename:h}=DE(),{loaderData:d,matches:p}=pC(),g=V.useMemo(()=>y0(r,e,p,o,s,"data"),[r,e,p,o,s]),_=V.useMemo(()=>y0(r,e,p,o,s,"assets"),[r,e,p,o,s]),v=V.useMemo(()=>{if(r===s.pathname+s.search+s.hash)return[];let C=new Set,O=!1;if(e.forEach(z=>{let Y=o.routes[z.route.id];!Y||!Y.hasLoader||(!g.some(Q=>Q.route.id===z.route.id)&&z.route.id in d&&u[z.route.id]?.shouldRevalidate||Y.hasClientLoader?O=!0:C.add(z.route.id))}),C.size===0)return[];let D=mC(r,h);return O&&C.size>0&&D.searchParams.set("_routes",e.filter(z=>C.has(z.route.id)).map(z=>z.route.id).join(",")),[D.pathname+D.search]},[h,d,s,o,g,e,r,u]),T=V.useMemo(()=>uC(_,o),[_,o]),x=vC(_);return V.createElement(V.Fragment,null,v.map(C=>V.createElement("link",{key:C,rel:"prefetch",as:"fetch",href:C,...t})),T.map(C=>V.createElement("link",{key:C,rel:"modulepreload",href:C,...t})),x.map(({key:C,link:O})=>V.createElement("link",{key:C,...O})))}function bC(...r){return e=>{r.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var OE=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{OE&&(window.__reactRouterVersion="7.6.3")}catch{}function EC({basename:r,children:e,window:t}){let s=V.useRef();s.current==null&&(s.current=oR({window:t,v5Compat:!0}));let o=s.current,[u,h]=V.useState({action:o.action,location:o.location}),d=V.useCallback(p=>{V.startTransition(()=>h(p))},[h]);return V.useLayoutEffect(()=>o.listen(d),[o,d]),V.createElement(XR,{basename:r,children:e,location:u.location,navigationType:u.action,navigator:o})}var kE=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ME=V.forwardRef(function({onClick:e,discover:t="render",prefetch:s="none",relative:o,reloadDocument:u,replace:h,state:d,target:p,to:g,preventScrollReset:_,viewTransition:v,...T},x){let{basename:C}=V.useContext(Xr),O=typeof g=="string"&&kE.test(g),D,z=!1;if(typeof g=="string"&&O&&(D=g,OE))try{let R=new URL(window.location.href),M=g.startsWith("//")?new URL(R.protocol+g):new URL(g),L=Li(M.pathname,C);M.origin===R.origin&&L!=null?g=L+M.search+M.hash:z=!0}catch{Kr(!1,`<Link to="${g}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let Y=MR(g,{relative:o}),[Q,oe,$]=gC(s,T),ie=AC(g,{replace:h,state:d,target:p,preventScrollReset:_,relative:o,viewTransition:v});function N(R){e&&e(R),R.defaultPrevented||ie(R)}let S=V.createElement("a",{...T,...$,href:D||Y,onClick:z||u?e:N,ref:bC(x,oe),target:p,"data-discover":!O&&t==="render"?"true":void 0});return Q&&!O?V.createElement(V.Fragment,null,S,V.createElement(yC,{page:Y})):S});ME.displayName="Link";var TC=V.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:s="",end:o=!1,style:u,to:h,viewTransition:d,children:p,...g},_){let v=Ou(h,{relative:g.relative}),T=xa(),x=V.useContext(uf),{navigator:C,basename:O}=V.useContext(Xr),D=x!=null&&DC(v)&&d===!0,z=C.encodeLocation?C.encodeLocation(v).pathname:v.pathname,Y=T.pathname,Q=x&&x.navigation&&x.navigation.location?x.navigation.location.pathname:null;t||(Y=Y.toLowerCase(),Q=Q?Q.toLowerCase():null,z=z.toLowerCase()),Q&&O&&(Q=Li(Q,O)||Q);const oe=z!=="/"&&z.endsWith("/")?z.length-1:z.length;let $=Y===z||!o&&Y.startsWith(z)&&Y.charAt(oe)==="/",ie=Q!=null&&(Q===z||!o&&Q.startsWith(z)&&Q.charAt(z.length)==="/"),N={isActive:$,isPending:ie,isTransitioning:D},S=$?e:void 0,R;typeof s=="function"?R=s(N):R=[s,$?"active":null,ie?"pending":null,D?"transitioning":null].filter(Boolean).join(" ");let M=typeof u=="function"?u(N):u;return V.createElement(ME,{...g,"aria-current":S,className:R,ref:_,style:M,to:h,viewTransition:d},typeof p=="function"?p(N):p)});TC.displayName="NavLink";var wC=V.forwardRef(({discover:r="render",fetcherKey:e,navigate:t,reloadDocument:s,replace:o,state:u,method:h=wh,action:d,onSubmit:p,relative:g,preventScrollReset:_,viewTransition:v,...T},x)=>{let C=xC(),O=IC(d,{relative:g}),D=h.toLowerCase()==="get"?"get":"post",z=typeof d=="string"&&kE.test(d),Y=Q=>{if(p&&p(Q),Q.defaultPrevented)return;Q.preventDefault();let oe=Q.nativeEvent.submitter,$=oe?.getAttribute("formmethod")||h;C(oe||Q.currentTarget,{fetcherKey:e,method:$,navigate:t,replace:o,state:u,relative:g,preventScrollReset:_,viewTransition:v})};return V.createElement("form",{ref:x,method:D,action:O,onSubmit:s?p:Y,...T,"data-discover":!z&&r==="render"?"true":void 0})});wC.displayName="Form";function SC(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function PE(r){let e=V.useContext(Yo);return At(e,SC(r)),e}function AC(r,{target:e,replace:t,state:s,preventScrollReset:o,relative:u,viewTransition:h}={}){let d=Pp(),p=xa(),g=Ou(r,{relative:u});return V.useCallback(_=>{if(nC(_,e)){_.preventDefault();let v=t!==void 0?t:_u(p)===_u(g);d(r,{replace:v,state:s,preventScrollReset:o,relative:u,viewTransition:h})}},[p,d,g,t,s,e,r,o,u,h])}var RC=0,CC=()=>`__${String(++RC)}__`;function xC(){let{router:r}=PE("useSubmit"),{basename:e}=V.useContext(Xr),t=YR();return V.useCallback(async(s,o={})=>{let{action:u,method:h,encType:d,formData:p,body:g}=sC(s,e);if(o.navigate===!1){let _=o.fetcherKey||CC();await r.fetch(_,t,o.action||u,{preventScrollReset:o.preventScrollReset,formData:p,body:g,formMethod:o.method||h,formEncType:o.encType||d,flushSync:o.flushSync})}else await r.navigate(o.action||u,{preventScrollReset:o.preventScrollReset,formData:p,body:g,formMethod:o.method||h,formEncType:o.encType||d,replace:o.replace,state:o.state,fromRouteId:t,flushSync:o.flushSync,viewTransition:o.viewTransition})},[r,e,t])}function IC(r,{relative:e}={}){let{basename:t}=V.useContext(Xr),s=V.useContext(Wr);At(s,"useFormAction must be used inside a RouteContext");let[o]=s.matches.slice(-1),u={...Ou(r||".",{relative:e})},h=xa();if(r==null){u.search=h.search;let d=new URLSearchParams(u.search),p=d.getAll("index");if(p.some(_=>_==="")){d.delete("index"),p.filter(v=>v).forEach(v=>d.append("index",v));let _=d.toString();u.search=_?`?${_}`:""}}return(!r||r===".")&&o.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(u.pathname=u.pathname==="/"?t:Pi([t,u.pathname])),_u(u)}function DC(r,e={}){let t=V.useContext(AE);At(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=PE("useViewTransitionState"),o=Ou(r,{relative:e.relative});if(!t.isTransitioning)return!1;let u=Li(t.currentLocation.pathname,s)||t.currentLocation.pathname,h=Li(t.nextLocation.pathname,s)||t.nextLocation.pathname;return Vh(o.pathname,h)!=null||Vh(o.pathname,u)!=null}[...dC];const NC=({initialPosition:r,onDragEnd:e,disabled:t=!1,zoom:s=1})=>{const[o,u]=V.useState(!1),[h,d]=V.useState(r),[p,g]=V.useState(!1),_=V.useRef({x:0,y:0}),v=V.useRef(r),T=V.useRef(!1),x=V.useRef(r),C=V.useCallback(D=>{if(t)return;D.preventDefault(),D.stopPropagation(),u(!0),T.current=!0,g(!1),_.current={x:D.clientX,y:D.clientY},v.current=h;const z=Q=>{if(t||!T.current)return;const oe=(Q.clientX-_.current.x)/s,$=(Q.clientY-_.current.y)/s;!p&&(Math.abs(oe*s)>5||Math.abs($*s)>5)&&g(!0);const ie={x:v.current.x+oe,y:v.current.y+$};d(ie),x.current=ie},Y=()=>{u(!1),T.current=!1,e&&!t&&e(x.current),document.removeEventListener("mousemove",z),document.removeEventListener("mouseup",Y)};document.addEventListener("mousemove",z),document.addEventListener("mouseup",Y)},[h,e,p,t,s]),O=V.useCallback(D=>{if(t||D.touches.length!==1)return;D.preventDefault(),D.stopPropagation();const z=D.touches[0];u(!0),T.current=!0,g(!1),_.current={x:z.clientX,y:z.clientY},v.current=h;const Y=oe=>{if(t||!T.current||oe.touches.length!==1)return;oe.preventDefault();const $=oe.touches[0],ie=($.clientX-_.current.x)/s,N=($.clientY-_.current.y)/s;!p&&(Math.abs(ie*s)>5||Math.abs(N*s)>5)&&g(!0);const S={x:v.current.x+ie,y:v.current.y+N};d(S),x.current=S},Q=()=>{u(!1),T.current=!1,e&&!t&&e(x.current),document.removeEventListener("touchmove",Y),document.removeEventListener("touchend",Q)};document.addEventListener("touchmove",Y),document.addEventListener("touchend",Q)},[h,e,p,t,s]);return V.useEffect(()=>{T.current||(d(r),x.current=r)},[r.x,r.y]),{isDragging:o&&!t,position:h,hasDragged:p,handleMouseDown:C,handleTouchStart:O}},OC=({note:r,onClick:e,onPositionChange:t,isSelected:s=!1,hasDraggedGroup:o=!1,zoom:u})=>{const{isDragging:h,position:d,hasDragged:p,handleMouseDown:g,handleTouchStart:_}=NC({initialPosition:{x:r.x,y:r.y},onDragEnd:O=>{t(r.id,O.x,O.y)},disabled:s,zoom:u});V.useEffect(()=>{},[r.x,r.y]);const v=O=>{switch(O){case"yellow":return"bg-yellow-200 border-yellow-300 shadow-yellow-200/50";case"pink":return"bg-pink-200 border-pink-300 shadow-pink-200/50";case"blue":return"bg-blue-200 border-blue-300 shadow-blue-200/50";case"green":return"bg-green-200 border-green-300 shadow-green-200/50";case"orange":return"bg-orange-200 border-orange-300 shadow-orange-200/50";default:return"bg-yellow-200 border-yellow-300 shadow-yellow-200/50"}},T=O=>{!p&&!O.shiftKey&&!o&&e()},x=O=>{O.shiftKey||s||g(O)},C=O=>{s||_(O)};return W.jsxs("div",{className:`sticky-note absolute w-48 h-48 p-4 rounded-lg border-2 select-none will-change-transform ${v(r.color)} ${h?"cursor-grabbing z-30 transition-none":"cursor-grab transition-all duration-200 ease-out hover:scale-105 hover:z-20"} ${s?"ring-4 ring-blue-400 ring-opacity-50 scale-105 z-20":""}`,style:{left:`${d.x*u}px`,top:`${d.y*u}px`,transform:`translate(-50%, -50%) rotate(${r.rotation}deg) scale(${u}) ${h||s?"scale(1.05)":""}`,boxShadow:h?"0 20px 40px rgba(0, 0, 0, 0.3), 0 10px 20px rgba(0, 0, 0, 0.2)":s?"0 16px 35px rgba(59, 130, 246, 0.4), 0 8px 18px rgba(59, 130, 246, 0.3)":"0 8px 25px rgba(0, 0, 0, 0.15), 0 4px 10px rgba(0, 0, 0, 0.1)",touchAction:"none"},"data-note-id":r.id,"data-x":d.x,"data-y":d.y,onMouseDown:x,onClick:T,onTouchStart:C,onMouseEnter:O=>{if(!h&&!s){const D=O.currentTarget;D.style.transform=`translate(-50%, -50%) rotate(${r.rotation+2}deg) scale(${u*1.02})`}},onMouseLeave:O=>{if(!h&&!s){const D=O.currentTarget;D.style.transform=`translate(-50%, -50%) rotate(${r.rotation}deg) scale(${u})`}},children:[W.jsx("div",{className:"absolute -top-3 left-1/2 transform -translate-x-1/2 w-16 h-6 bg-white/60 rounded-sm shadow-sm border border-gray-200"}),W.jsxs("div",{className:"h-full flex flex-col pointer-events-none",children:[r.title&&W.jsx("h3",{className:"font-semibold text-gray-800 mb-2 line-clamp-2 text-sm",children:r.title}),W.jsx("p",{className:"text-gray-700 text-xs leading-relaxed line-clamp-6 flex-1",children:r.content})]})]})},kC=({path:r,zoom:e,panOffset:t})=>{if(r.length<2)return null;const s=r.map((o,u)=>{const h=o.x*e+t.x,d=o.y*e+t.y;return`${u===0?"M":"L"} ${h} ${d}`}).join(" ")+" Z";return W.jsx("svg",{className:"absolute inset-0 pointer-events-none z-20",style:{overflow:"visible"},children:W.jsx("path",{d:s,fill:"rgba(59, 130, 246, 0.1)",stroke:"rgb(59, 130, 246)",strokeWidth:"2",strokeDasharray:"5,5"})})},MC=({notes:r,selectedNoteIds:e,isSelecting:t,selectionPath:s,zoom:o,panOffset:u,hasDraggedGroup:h,onBoardClick:d,onBoardMouseDown:p,onNoteClick:g,onNotePositionChange:_})=>{const v=V.useRef(null);return W.jsxs("div",{ref:v,className:"absolute top-0 left-0 w-[200%] h-[200%] cursor-crosshair",style:{transform:`translate(${u.x}px, ${u.y}px)`,transformOrigin:"0 0",touchAction:"none"},onClick:d,onMouseDown:p,onTouchStart:T=>{T.touches.length===1&&p(T)},children:[r.map(T=>W.jsx(OC,{note:T,onClick:()=>g(T),onPositionChange:_,isSelected:e.includes(T.id),hasDraggedGroup:h,zoom:o,"data-note-id":T.id},T.id)),t&&W.jsx(kC,{path:s,zoom:o,panOffset:u})]})};/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PC=r=>r.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),VC=r=>r.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,s)=>s?s.toUpperCase():t.toLowerCase()),v0=r=>{const e=VC(r);return e.charAt(0).toUpperCase()+e.slice(1)},VE=(...r)=>r.filter((e,t,s)=>!!e&&e.trim()!==""&&s.indexOf(e)===t).join(" ").trim(),LC=r=>{for(const e in r)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var UC={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zC=V.forwardRef(({color:r="currentColor",size:e=24,strokeWidth:t=2,absoluteStrokeWidth:s,className:o="",children:u,iconNode:h,...d},p)=>V.createElement("svg",{ref:p,...UC,width:e,height:e,stroke:r,strokeWidth:s?Number(t)*24/Number(e):t,className:VE("lucide",o),...!u&&!LC(d)&&{"aria-hidden":"true"},...d},[...h.map(([g,_])=>V.createElement(g,_)),...Array.isArray(u)?u:[u]]));/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zr=(r,e)=>{const t=V.forwardRef(({className:s,...o},u)=>V.createElement(zC,{ref:u,iconNode:e,className:VE(`lucide-${PC(v0(r))}`,`lucide-${r}`,s),...o}));return t.displayName=v0(r),t};/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jC=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],BC=Zr("arrow-left",jC);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qC=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],_0=Zr("info",qC);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FC=[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]],HC=Zr("link",FC);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GC=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],YC=Zr("log-out",GC);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KC=[["path",{d:"m14 10 7-7",key:"oa77jy"}],["path",{d:"M20 10h-6V4",key:"mjg0md"}],["path",{d:"m3 21 7-7",key:"tjx5ai"}],["path",{d:"M4 14h6v6",key:"rmj7iw"}]],QC=Zr("minimize-2",KC);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $C=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],XC=Zr("rotate-ccw",$C);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WC=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]],LE=Zr("trash-2",WC);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZC=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],JC=Zr("x",ZC);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ex=[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"11",x2:"11",y1:"8",y2:"14",key:"1vmskp"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]],tx=Zr("zoom-in",ex);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nx=[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]],rx=Zr("zoom-out",nx);function b0(r,e){if(typeof r=="function")return r(e);r!=null&&(r.current=e)}function ix(...r){return e=>{let t=!1;const s=r.map(o=>{const u=b0(o,e);return!t&&typeof u=="function"&&(t=!0),u});if(t)return()=>{for(let o=0;o<s.length;o++){const u=s[o];typeof u=="function"?u():b0(r[o],null)}}}}function sx(r){const e=ox(r),t=V.forwardRef((s,o)=>{const{children:u,...h}=s,d=V.Children.toArray(u),p=d.find(ux);if(p){const g=p.props.children,_=d.map(v=>v===p?V.Children.count(g)>1?V.Children.only(null):V.isValidElement(g)?g.props.children:null:v);return W.jsx(e,{...h,ref:o,children:V.isValidElement(g)?V.cloneElement(g,void 0,_):null})}return W.jsx(e,{...h,ref:o,children:u})});return t.displayName=`${r}.Slot`,t}var ax=sx("Slot");function ox(r){const e=V.forwardRef((t,s)=>{const{children:o,...u}=t;if(V.isValidElement(o)){const h=hx(o),d=cx(u,o.props);return o.type!==V.Fragment&&(d.ref=s?ix(s,h):h),V.cloneElement(o,d)}return V.Children.count(o)>1?V.Children.only(null):null});return e.displayName=`${r}.SlotClone`,e}var lx=Symbol("radix.slottable");function ux(r){return V.isValidElement(r)&&typeof r.type=="function"&&"__radixId"in r.type&&r.type.__radixId===lx}function cx(r,e){const t={...e};for(const s in e){const o=r[s],u=e[s];/^on[A-Z]/.test(s)?o&&u?t[s]=(...d)=>{const p=u(...d);return o(...d),p}:o&&(t[s]=o):s==="style"?t[s]={...o,...u}:s==="className"&&(t[s]=[o,u].filter(Boolean).join(" "))}return{...r,...t}}function hx(r){let e=Object.getOwnPropertyDescriptor(r.props,"ref")?.get,t=e&&"isReactWarning"in e&&e.isReactWarning;return t?r.ref:(e=Object.getOwnPropertyDescriptor(r,"ref")?.get,t=e&&"isReactWarning"in e&&e.isReactWarning,t?r.props.ref:r.props.ref||r.ref)}function UE(r){var e,t,s="";if(typeof r=="string"||typeof r=="number")s+=r;else if(typeof r=="object")if(Array.isArray(r)){var o=r.length;for(e=0;e<o;e++)r[e]&&(t=UE(r[e]))&&(s&&(s+=" "),s+=t)}else for(t in r)r[t]&&(s&&(s+=" "),s+=t);return s}function zE(){for(var r,e,t=0,s="",o=arguments.length;t<o;t++)(r=arguments[t])&&(e=UE(r))&&(s&&(s+=" "),s+=e);return s}const E0=r=>typeof r=="boolean"?`${r}`:r===0?"0":r,T0=zE,fx=(r,e)=>t=>{var s;if(e?.variants==null)return T0(r,t?.class,t?.className);const{variants:o,defaultVariants:u}=e,h=Object.keys(o).map(g=>{const _=t?.[g],v=u?.[g];if(_===null)return null;const T=E0(_)||E0(v);return o[g][T]}),d=t&&Object.entries(t).reduce((g,_)=>{let[v,T]=_;return T===void 0||(g[v]=T),g},{}),p=e==null||(s=e.compoundVariants)===null||s===void 0?void 0:s.reduce((g,_)=>{let{class:v,className:T,...x}=_;return Object.entries(x).every(C=>{let[O,D]=C;return Array.isArray(D)?D.includes({...u,...d}[O]):{...u,...d}[O]===D})?[...g,v,T]:g},[]);return T0(r,h,p,t?.class,t?.className)},jp="-",dx=r=>{const e=px(r),{conflictingClassGroups:t,conflictingClassGroupModifiers:s}=r;return{getClassGroupId:h=>{const d=h.split(jp);return d[0]===""&&d.length!==1&&d.shift(),jE(d,e)||mx(h)},getConflictingClassGroupIds:(h,d)=>{const p=t[h]||[];return d&&s[h]?[...p,...s[h]]:p}}},jE=(r,e)=>{if(r.length===0)return e.classGroupId;const t=r[0],s=e.nextPart.get(t),o=s?jE(r.slice(1),s):void 0;if(o)return o;if(e.validators.length===0)return;const u=r.join(jp);return e.validators.find(({validator:h})=>h(u))?.classGroupId},w0=/^\[(.+)\]$/,mx=r=>{if(w0.test(r)){const e=w0.exec(r)[1],t=e?.substring(0,e.indexOf(":"));if(t)return"arbitrary.."+t}},px=r=>{const{theme:e,classGroups:t}=r,s={nextPart:new Map,validators:[]};for(const o in t)tp(t[o],s,o,e);return s},tp=(r,e,t,s)=>{r.forEach(o=>{if(typeof o=="string"){const u=o===""?e:S0(e,o);u.classGroupId=t;return}if(typeof o=="function"){if(gx(o)){tp(o(s),e,t,s);return}e.validators.push({validator:o,classGroupId:t});return}Object.entries(o).forEach(([u,h])=>{tp(h,S0(e,u),t,s)})})},S0=(r,e)=>{let t=r;return e.split(jp).forEach(s=>{t.nextPart.has(s)||t.nextPart.set(s,{nextPart:new Map,validators:[]}),t=t.nextPart.get(s)}),t},gx=r=>r.isThemeGetter,yx=r=>{if(r<1)return{get:()=>{},set:()=>{}};let e=0,t=new Map,s=new Map;const o=(u,h)=>{t.set(u,h),e++,e>r&&(e=0,s=t,t=new Map)};return{get(u){let h=t.get(u);if(h!==void 0)return h;if((h=s.get(u))!==void 0)return o(u,h),h},set(u,h){t.has(u)?t.set(u,h):o(u,h)}}},np="!",rp=":",vx=rp.length,_x=r=>{const{prefix:e,experimentalParseClassName:t}=r;let s=o=>{const u=[];let h=0,d=0,p=0,g;for(let C=0;C<o.length;C++){let O=o[C];if(h===0&&d===0){if(O===rp){u.push(o.slice(p,C)),p=C+vx;continue}if(O==="/"){g=C;continue}}O==="["?h++:O==="]"?h--:O==="("?d++:O===")"&&d--}const _=u.length===0?o:o.substring(p),v=bx(_),T=v!==_,x=g&&g>p?g-p:void 0;return{modifiers:u,hasImportantModifier:T,baseClassName:v,maybePostfixModifierPosition:x}};if(e){const o=e+rp,u=s;s=h=>h.startsWith(o)?u(h.substring(o.length)):{isExternal:!0,modifiers:[],hasImportantModifier:!1,baseClassName:h,maybePostfixModifierPosition:void 0}}if(t){const o=s;s=u=>t({className:u,parseClassName:o})}return s},bx=r=>r.endsWith(np)?r.substring(0,r.length-1):r.startsWith(np)?r.substring(1):r,Ex=r=>{const e=Object.fromEntries(r.orderSensitiveModifiers.map(s=>[s,!0]));return s=>{if(s.length<=1)return s;const o=[];let u=[];return s.forEach(h=>{h[0]==="["||e[h]?(o.push(...u.sort(),h),u=[]):u.push(h)}),o.push(...u.sort()),o}},Tx=r=>({cache:yx(r.cacheSize),parseClassName:_x(r),sortModifiers:Ex(r),...dx(r)}),wx=/\s+/,Sx=(r,e)=>{const{parseClassName:t,getClassGroupId:s,getConflictingClassGroupIds:o,sortModifiers:u}=e,h=[],d=r.trim().split(wx);let p="";for(let g=d.length-1;g>=0;g-=1){const _=d[g],{isExternal:v,modifiers:T,hasImportantModifier:x,baseClassName:C,maybePostfixModifierPosition:O}=t(_);if(v){p=_+(p.length>0?" "+p:p);continue}let D=!!O,z=s(D?C.substring(0,O):C);if(!z){if(!D){p=_+(p.length>0?" "+p:p);continue}if(z=s(C),!z){p=_+(p.length>0?" "+p:p);continue}D=!1}const Y=u(T).join(":"),Q=x?Y+np:Y,oe=Q+z;if(h.includes(oe))continue;h.push(oe);const $=o(z,D);for(let ie=0;ie<$.length;++ie){const N=$[ie];h.push(Q+N)}p=_+(p.length>0?" "+p:p)}return p};function Ax(){let r=0,e,t,s="";for(;r<arguments.length;)(e=arguments[r++])&&(t=BE(e))&&(s&&(s+=" "),s+=t);return s}const BE=r=>{if(typeof r=="string")return r;let e,t="";for(let s=0;s<r.length;s++)r[s]&&(e=BE(r[s]))&&(t&&(t+=" "),t+=e);return t};function Rx(r,...e){let t,s,o,u=h;function h(p){const g=e.reduce((_,v)=>v(_),r());return t=Tx(g),s=t.cache.get,o=t.cache.set,u=d,d(p)}function d(p){const g=s(p);if(g)return g;const _=Sx(p,t);return o(p,_),_}return function(){return u(Ax.apply(null,arguments))}}const $t=r=>{const e=t=>t[r]||[];return e.isThemeGetter=!0,e},qE=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,FE=/^\((?:(\w[\w-]*):)?(.+)\)$/i,Cx=/^\d+\/\d+$/,xx=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,Ix=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,Dx=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,Nx=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,Ox=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,xo=r=>Cx.test(r),Le=r=>!!r&&!Number.isNaN(Number(r)),gs=r=>!!r&&Number.isInteger(Number(r)),Pm=r=>r.endsWith("%")&&Le(r.slice(0,-1)),Oi=r=>xx.test(r),kx=()=>!0,Mx=r=>Ix.test(r)&&!Dx.test(r),HE=()=>!1,Px=r=>Nx.test(r),Vx=r=>Ox.test(r),Lx=r=>!ve(r)&&!_e(r),Ux=r=>Ko(r,KE,HE),ve=r=>qE.test(r),pa=r=>Ko(r,QE,Mx),Vm=r=>Ko(r,Fx,Le),A0=r=>Ko(r,GE,HE),zx=r=>Ko(r,YE,Vx),mh=r=>Ko(r,$E,Px),_e=r=>FE.test(r),ru=r=>Qo(r,QE),jx=r=>Qo(r,Hx),R0=r=>Qo(r,GE),Bx=r=>Qo(r,KE),qx=r=>Qo(r,YE),ph=r=>Qo(r,$E,!0),Ko=(r,e,t)=>{const s=qE.exec(r);return s?s[1]?e(s[1]):t(s[2]):!1},Qo=(r,e,t=!1)=>{const s=FE.exec(r);return s?s[1]?e(s[1]):t:!1},GE=r=>r==="position"||r==="percentage",YE=r=>r==="image"||r==="url",KE=r=>r==="length"||r==="size"||r==="bg-size",QE=r=>r==="length",Fx=r=>r==="number",Hx=r=>r==="family-name",$E=r=>r==="shadow",Gx=()=>{const r=$t("color"),e=$t("font"),t=$t("text"),s=$t("font-weight"),o=$t("tracking"),u=$t("leading"),h=$t("breakpoint"),d=$t("container"),p=$t("spacing"),g=$t("radius"),_=$t("shadow"),v=$t("inset-shadow"),T=$t("text-shadow"),x=$t("drop-shadow"),C=$t("blur"),O=$t("perspective"),D=$t("aspect"),z=$t("ease"),Y=$t("animate"),Q=()=>["auto","avoid","all","avoid-page","page","left","right","column"],oe=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],$=()=>[...oe(),_e,ve],ie=()=>["auto","hidden","clip","visible","scroll"],N=()=>["auto","contain","none"],S=()=>[_e,ve,p],R=()=>[xo,"full","auto",...S()],M=()=>[gs,"none","subgrid",_e,ve],L=()=>["auto",{span:["full",gs,_e,ve]},gs,_e,ve],U=()=>[gs,"auto",_e,ve],I=()=>["auto","min","max","fr",_e,ve],Ke=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],xe=()=>["start","end","center","stretch","center-safe","end-safe"],q=()=>["auto",...S()],ce=()=>[xo,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...S()],ne=()=>[r,_e,ve],Re=()=>[...oe(),R0,A0,{position:[_e,ve]}],P=()=>["no-repeat",{repeat:["","x","y","space","round"]}],J=()=>["auto","cover","contain",Bx,Ux,{size:[_e,ve]}],ue=()=>[Pm,ru,pa],ee=()=>["","none","full",g,_e,ve],he=()=>["",Le,ru,pa],be=()=>["solid","dashed","dotted","double"],me=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],Oe=()=>[Le,Pm,R0,A0],ze=()=>["","none",C,_e,ve],Tt=()=>["none",Le,_e,ve],Nt=()=>["none",Le,_e,ve],rn=()=>[Le,_e,ve],sn=()=>[xo,"full",...S()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[Oi],breakpoint:[Oi],color:[kx],container:[Oi],"drop-shadow":[Oi],ease:["in","out","in-out"],font:[Lx],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[Oi],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[Oi],shadow:[Oi],spacing:["px",Le],text:[Oi],"text-shadow":[Oi],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",xo,ve,_e,D]}],container:["container"],columns:[{columns:[Le,ve,_e,d]}],"break-after":[{"break-after":Q()}],"break-before":[{"break-before":Q()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:$()}],overflow:[{overflow:ie()}],"overflow-x":[{"overflow-x":ie()}],"overflow-y":[{"overflow-y":ie()}],overscroll:[{overscroll:N()}],"overscroll-x":[{"overscroll-x":N()}],"overscroll-y":[{"overscroll-y":N()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:R()}],"inset-x":[{"inset-x":R()}],"inset-y":[{"inset-y":R()}],start:[{start:R()}],end:[{end:R()}],top:[{top:R()}],right:[{right:R()}],bottom:[{bottom:R()}],left:[{left:R()}],visibility:["visible","invisible","collapse"],z:[{z:[gs,"auto",_e,ve]}],basis:[{basis:[xo,"full","auto",d,...S()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[Le,xo,"auto","initial","none",ve]}],grow:[{grow:["",Le,_e,ve]}],shrink:[{shrink:["",Le,_e,ve]}],order:[{order:[gs,"first","last","none",_e,ve]}],"grid-cols":[{"grid-cols":M()}],"col-start-end":[{col:L()}],"col-start":[{"col-start":U()}],"col-end":[{"col-end":U()}],"grid-rows":[{"grid-rows":M()}],"row-start-end":[{row:L()}],"row-start":[{"row-start":U()}],"row-end":[{"row-end":U()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":I()}],"auto-rows":[{"auto-rows":I()}],gap:[{gap:S()}],"gap-x":[{"gap-x":S()}],"gap-y":[{"gap-y":S()}],"justify-content":[{justify:[...Ke(),"normal"]}],"justify-items":[{"justify-items":[...xe(),"normal"]}],"justify-self":[{"justify-self":["auto",...xe()]}],"align-content":[{content:["normal",...Ke()]}],"align-items":[{items:[...xe(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...xe(),{baseline:["","last"]}]}],"place-content":[{"place-content":Ke()}],"place-items":[{"place-items":[...xe(),"baseline"]}],"place-self":[{"place-self":["auto",...xe()]}],p:[{p:S()}],px:[{px:S()}],py:[{py:S()}],ps:[{ps:S()}],pe:[{pe:S()}],pt:[{pt:S()}],pr:[{pr:S()}],pb:[{pb:S()}],pl:[{pl:S()}],m:[{m:q()}],mx:[{mx:q()}],my:[{my:q()}],ms:[{ms:q()}],me:[{me:q()}],mt:[{mt:q()}],mr:[{mr:q()}],mb:[{mb:q()}],ml:[{ml:q()}],"space-x":[{"space-x":S()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":S()}],"space-y-reverse":["space-y-reverse"],size:[{size:ce()}],w:[{w:[d,"screen",...ce()]}],"min-w":[{"min-w":[d,"screen","none",...ce()]}],"max-w":[{"max-w":[d,"screen","none","prose",{screen:[h]},...ce()]}],h:[{h:["screen","lh",...ce()]}],"min-h":[{"min-h":["screen","lh","none",...ce()]}],"max-h":[{"max-h":["screen","lh",...ce()]}],"font-size":[{text:["base",t,ru,pa]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[s,_e,Vm]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",Pm,ve]}],"font-family":[{font:[jx,ve,e]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[o,_e,ve]}],"line-clamp":[{"line-clamp":[Le,"none",_e,Vm]}],leading:[{leading:[u,...S()]}],"list-image":[{"list-image":["none",_e,ve]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",_e,ve]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:ne()}],"text-color":[{text:ne()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...be(),"wavy"]}],"text-decoration-thickness":[{decoration:[Le,"from-font","auto",_e,pa]}],"text-decoration-color":[{decoration:ne()}],"underline-offset":[{"underline-offset":[Le,"auto",_e,ve]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:S()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",_e,ve]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",_e,ve]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:Re()}],"bg-repeat":[{bg:P()}],"bg-size":[{bg:J()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},gs,_e,ve],radial:["",_e,ve],conic:[gs,_e,ve]},qx,zx]}],"bg-color":[{bg:ne()}],"gradient-from-pos":[{from:ue()}],"gradient-via-pos":[{via:ue()}],"gradient-to-pos":[{to:ue()}],"gradient-from":[{from:ne()}],"gradient-via":[{via:ne()}],"gradient-to":[{to:ne()}],rounded:[{rounded:ee()}],"rounded-s":[{"rounded-s":ee()}],"rounded-e":[{"rounded-e":ee()}],"rounded-t":[{"rounded-t":ee()}],"rounded-r":[{"rounded-r":ee()}],"rounded-b":[{"rounded-b":ee()}],"rounded-l":[{"rounded-l":ee()}],"rounded-ss":[{"rounded-ss":ee()}],"rounded-se":[{"rounded-se":ee()}],"rounded-ee":[{"rounded-ee":ee()}],"rounded-es":[{"rounded-es":ee()}],"rounded-tl":[{"rounded-tl":ee()}],"rounded-tr":[{"rounded-tr":ee()}],"rounded-br":[{"rounded-br":ee()}],"rounded-bl":[{"rounded-bl":ee()}],"border-w":[{border:he()}],"border-w-x":[{"border-x":he()}],"border-w-y":[{"border-y":he()}],"border-w-s":[{"border-s":he()}],"border-w-e":[{"border-e":he()}],"border-w-t":[{"border-t":he()}],"border-w-r":[{"border-r":he()}],"border-w-b":[{"border-b":he()}],"border-w-l":[{"border-l":he()}],"divide-x":[{"divide-x":he()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":he()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...be(),"hidden","none"]}],"divide-style":[{divide:[...be(),"hidden","none"]}],"border-color":[{border:ne()}],"border-color-x":[{"border-x":ne()}],"border-color-y":[{"border-y":ne()}],"border-color-s":[{"border-s":ne()}],"border-color-e":[{"border-e":ne()}],"border-color-t":[{"border-t":ne()}],"border-color-r":[{"border-r":ne()}],"border-color-b":[{"border-b":ne()}],"border-color-l":[{"border-l":ne()}],"divide-color":[{divide:ne()}],"outline-style":[{outline:[...be(),"none","hidden"]}],"outline-offset":[{"outline-offset":[Le,_e,ve]}],"outline-w":[{outline:["",Le,ru,pa]}],"outline-color":[{outline:ne()}],shadow:[{shadow:["","none",_,ph,mh]}],"shadow-color":[{shadow:ne()}],"inset-shadow":[{"inset-shadow":["none",v,ph,mh]}],"inset-shadow-color":[{"inset-shadow":ne()}],"ring-w":[{ring:he()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:ne()}],"ring-offset-w":[{"ring-offset":[Le,pa]}],"ring-offset-color":[{"ring-offset":ne()}],"inset-ring-w":[{"inset-ring":he()}],"inset-ring-color":[{"inset-ring":ne()}],"text-shadow":[{"text-shadow":["none",T,ph,mh]}],"text-shadow-color":[{"text-shadow":ne()}],opacity:[{opacity:[Le,_e,ve]}],"mix-blend":[{"mix-blend":[...me(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":me()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[Le]}],"mask-image-linear-from-pos":[{"mask-linear-from":Oe()}],"mask-image-linear-to-pos":[{"mask-linear-to":Oe()}],"mask-image-linear-from-color":[{"mask-linear-from":ne()}],"mask-image-linear-to-color":[{"mask-linear-to":ne()}],"mask-image-t-from-pos":[{"mask-t-from":Oe()}],"mask-image-t-to-pos":[{"mask-t-to":Oe()}],"mask-image-t-from-color":[{"mask-t-from":ne()}],"mask-image-t-to-color":[{"mask-t-to":ne()}],"mask-image-r-from-pos":[{"mask-r-from":Oe()}],"mask-image-r-to-pos":[{"mask-r-to":Oe()}],"mask-image-r-from-color":[{"mask-r-from":ne()}],"mask-image-r-to-color":[{"mask-r-to":ne()}],"mask-image-b-from-pos":[{"mask-b-from":Oe()}],"mask-image-b-to-pos":[{"mask-b-to":Oe()}],"mask-image-b-from-color":[{"mask-b-from":ne()}],"mask-image-b-to-color":[{"mask-b-to":ne()}],"mask-image-l-from-pos":[{"mask-l-from":Oe()}],"mask-image-l-to-pos":[{"mask-l-to":Oe()}],"mask-image-l-from-color":[{"mask-l-from":ne()}],"mask-image-l-to-color":[{"mask-l-to":ne()}],"mask-image-x-from-pos":[{"mask-x-from":Oe()}],"mask-image-x-to-pos":[{"mask-x-to":Oe()}],"mask-image-x-from-color":[{"mask-x-from":ne()}],"mask-image-x-to-color":[{"mask-x-to":ne()}],"mask-image-y-from-pos":[{"mask-y-from":Oe()}],"mask-image-y-to-pos":[{"mask-y-to":Oe()}],"mask-image-y-from-color":[{"mask-y-from":ne()}],"mask-image-y-to-color":[{"mask-y-to":ne()}],"mask-image-radial":[{"mask-radial":[_e,ve]}],"mask-image-radial-from-pos":[{"mask-radial-from":Oe()}],"mask-image-radial-to-pos":[{"mask-radial-to":Oe()}],"mask-image-radial-from-color":[{"mask-radial-from":ne()}],"mask-image-radial-to-color":[{"mask-radial-to":ne()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":oe()}],"mask-image-conic-pos":[{"mask-conic":[Le]}],"mask-image-conic-from-pos":[{"mask-conic-from":Oe()}],"mask-image-conic-to-pos":[{"mask-conic-to":Oe()}],"mask-image-conic-from-color":[{"mask-conic-from":ne()}],"mask-image-conic-to-color":[{"mask-conic-to":ne()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:Re()}],"mask-repeat":[{mask:P()}],"mask-size":[{mask:J()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",_e,ve]}],filter:[{filter:["","none",_e,ve]}],blur:[{blur:ze()}],brightness:[{brightness:[Le,_e,ve]}],contrast:[{contrast:[Le,_e,ve]}],"drop-shadow":[{"drop-shadow":["","none",x,ph,mh]}],"drop-shadow-color":[{"drop-shadow":ne()}],grayscale:[{grayscale:["",Le,_e,ve]}],"hue-rotate":[{"hue-rotate":[Le,_e,ve]}],invert:[{invert:["",Le,_e,ve]}],saturate:[{saturate:[Le,_e,ve]}],sepia:[{sepia:["",Le,_e,ve]}],"backdrop-filter":[{"backdrop-filter":["","none",_e,ve]}],"backdrop-blur":[{"backdrop-blur":ze()}],"backdrop-brightness":[{"backdrop-brightness":[Le,_e,ve]}],"backdrop-contrast":[{"backdrop-contrast":[Le,_e,ve]}],"backdrop-grayscale":[{"backdrop-grayscale":["",Le,_e,ve]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[Le,_e,ve]}],"backdrop-invert":[{"backdrop-invert":["",Le,_e,ve]}],"backdrop-opacity":[{"backdrop-opacity":[Le,_e,ve]}],"backdrop-saturate":[{"backdrop-saturate":[Le,_e,ve]}],"backdrop-sepia":[{"backdrop-sepia":["",Le,_e,ve]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":S()}],"border-spacing-x":[{"border-spacing-x":S()}],"border-spacing-y":[{"border-spacing-y":S()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",_e,ve]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[Le,"initial",_e,ve]}],ease:[{ease:["linear","initial",z,_e,ve]}],delay:[{delay:[Le,_e,ve]}],animate:[{animate:["none",Y,_e,ve]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[O,_e,ve]}],"perspective-origin":[{"perspective-origin":$()}],rotate:[{rotate:Tt()}],"rotate-x":[{"rotate-x":Tt()}],"rotate-y":[{"rotate-y":Tt()}],"rotate-z":[{"rotate-z":Tt()}],scale:[{scale:Nt()}],"scale-x":[{"scale-x":Nt()}],"scale-y":[{"scale-y":Nt()}],"scale-z":[{"scale-z":Nt()}],"scale-3d":["scale-3d"],skew:[{skew:rn()}],"skew-x":[{"skew-x":rn()}],"skew-y":[{"skew-y":rn()}],transform:[{transform:[_e,ve,"","none","gpu","cpu"]}],"transform-origin":[{origin:$()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:sn()}],"translate-x":[{"translate-x":sn()}],"translate-y":[{"translate-y":sn()}],"translate-z":[{"translate-z":sn()}],"translate-none":["translate-none"],accent:[{accent:ne()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:ne()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",_e,ve]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":S()}],"scroll-mx":[{"scroll-mx":S()}],"scroll-my":[{"scroll-my":S()}],"scroll-ms":[{"scroll-ms":S()}],"scroll-me":[{"scroll-me":S()}],"scroll-mt":[{"scroll-mt":S()}],"scroll-mr":[{"scroll-mr":S()}],"scroll-mb":[{"scroll-mb":S()}],"scroll-ml":[{"scroll-ml":S()}],"scroll-p":[{"scroll-p":S()}],"scroll-px":[{"scroll-px":S()}],"scroll-py":[{"scroll-py":S()}],"scroll-ps":[{"scroll-ps":S()}],"scroll-pe":[{"scroll-pe":S()}],"scroll-pt":[{"scroll-pt":S()}],"scroll-pr":[{"scroll-pr":S()}],"scroll-pb":[{"scroll-pb":S()}],"scroll-pl":[{"scroll-pl":S()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",_e,ve]}],fill:[{fill:["none",...ne()]}],"stroke-w":[{stroke:[Le,ru,pa,Vm]}],stroke:[{stroke:["none",...ne()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},Yx=Rx(Gx);function Kx(...r){return Yx(zE(r))}const Qx=fx("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground shadow-xs hover:bg-primary/90",destructive:"bg-destructive text-white shadow-xs hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground shadow-xs hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9"}},defaultVariants:{variant:"default",size:"default"}});function ko({className:r,variant:e,size:t,asChild:s=!1,...o}){const u=s?ax:"button";return W.jsx(u,{"data-slot":"button",className:Kx(Qx({variant:e,size:t,className:r})),...o})}const $x=({isOpen:r,onClose:e,onSave:t,onDelete:s,initialData:o})=>{const[u,h]=V.useState(""),[d,p]=V.useState(""),[g,_]=V.useState("yellow"),v=[{name:"yellow",class:"bg-yellow-200 border-yellow-300",label:"Yellow"},{name:"pink",class:"bg-pink-200 border-pink-300",label:"Pink"},{name:"blue",class:"bg-blue-200 border-blue-300",label:"Blue"},{name:"green",class:"bg-green-200 border-green-300",label:"Green"},{name:"orange",class:"bg-orange-200 border-orange-300",label:"Orange"}];V.useEffect(()=>{o?(h(o.title),p(o.content),_(o.color)):(h(""),p(""),_("yellow"))},[o,r]);const T=x=>{x.preventDefault(),d.trim()&&t({title:u.trim(),content:d.trim(),color:g})};return r?W.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:W.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-md",children:[W.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-100",children:[W.jsx("h2",{className:"text-xl font-semibold text-gray-800",children:o?"Edit Note":"Create New Note"}),W.jsx(ko,{variant:"ghost",size:"sm",onClick:e,className:"h-8 w-8 p-0 hover:bg-gray-100",children:W.jsx(JC,{className:"h-4 w-4"})})]}),W.jsxs("form",{onSubmit:T,className:"p-6 space-y-4",children:[W.jsxs("div",{children:[W.jsx("label",{htmlFor:"title",className:"block text-sm font-medium text-gray-700 mb-1",children:"Title (optional)"}),W.jsx("input",{type:"text",id:"title",value:u,onChange:x=>h(x.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-amber-500 focus:border-transparent outline-none transition-colors",placeholder:"Enter a title...",maxLength:50})]}),W.jsxs("div",{children:[W.jsx("label",{htmlFor:"content",className:"block text-sm font-medium text-gray-700 mb-1",children:"Content *"}),W.jsx("textarea",{id:"content",value:d,onChange:x=>p(x.target.value),rows:4,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-amber-500 focus:border-transparent outline-none transition-colors resize-none",placeholder:"Write your note here...",maxLength:200,required:!0}),W.jsxs("div",{className:"text-xs text-gray-500 mt-1",children:[d.length,"/200 characters"]})]}),W.jsxs("div",{children:[W.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Color"}),W.jsx("div",{className:"flex gap-2",children:v.map(x=>W.jsx("button",{type:"button",onClick:()=>_(x.name),className:`w-8 h-8 rounded-full border-2 transition-all duration-200 ${x.class} ${g===x.name?"ring-2 ring-amber-500 ring-offset-2 scale-110":"hover:scale-105"}`,title:x.label},x.name))})]}),W.jsxs("div",{className:"flex gap-3 pt-4",children:[s&&W.jsxs(ko,{type:"button",variant:"destructive",size:"sm",onClick:s,className:"flex items-center gap-2",children:[W.jsx(LE,{className:"h-4 w-4"}),W.jsx("span",{className:"sm:block hidden",children:"Delete"})]}),W.jsx("div",{className:"flex-1"}),W.jsx(ko,{type:"button",variant:"outline",onClick:e,children:"Cancel"}),W.jsxs(ko,{type:"submit",className:"bg-amber-600 hover:bg-amber-700",disabled:!d.trim(),children:[o?"Update":"Create"," ",W.jsx("span",{className:"sm:block hidden",children:"Note"})]})]})]})]})}):null},Xx=({zoom:r,onZoomIn:e,onZoomOut:t,onReset:s})=>W.jsxs("div",{className:"absolute bottom-4 right-4 bg-white/90 backdrop-blur-sm p-2 rounded-lg shadow-lg z-10 flex flex-col gap-2",children:[W.jsx("button",{onClick:e,className:"p-2 hover:bg-gray-100 rounded-md transition-colors",title:"Zoom In",children:W.jsx(tx,{size:20})}),W.jsxs("div",{className:"text-xs text-center text-gray-600 px-2",children:[Math.round(r*100),"%"]}),W.jsx("button",{onClick:t,className:"p-2 hover:bg-gray-100 rounded-md transition-colors",title:"Zoom Out",children:W.jsx(rx,{size:20})}),W.jsx("button",{onClick:s,className:"p-2 hover:bg-gray-100 rounded-md transition-colors border-t border-gray-200 mt-1",title:"Reset View",children:W.jsx(XC,{size:16})})]}),Wx=({selectedCount:r,totalNotes:e})=>{const[t,s]=V.useState(!0);return t?W.jsx("button",{onClick:()=>s(!1),className:"bg-blue-500 hover:bg-blue-600 text-white p-3 rounded-full shadow-lg transition-colors",title:"Show info",children:W.jsx(_0,{size:20})}):W.jsxs("div",{className:"z-30 bg-white/95 backdrop-blur-sm p-4 rounded-lg shadow-lg max-w-sm",children:[W.jsxs("div",{className:"flex items-center justify-between mb-3",children:[W.jsxs("h2",{className:"font-semibold text-amber-900 flex items-center gap-2",children:[W.jsx(_0,{size:18}),"Collaboard"]}),W.jsx("button",{onClick:()=>s(!0),className:"p-1 hover:bg-gray-100 rounded-md transition-colors cursor-pointer",title:"Collapse",children:W.jsx(QC,{size:16})})]}),W.jsxs("div",{className:"space-y-2 text-sm",children:[W.jsxs("div",{className:"flex justify-between text-amber-800",children:[W.jsx("span",{children:"Total Notes:"}),W.jsx("span",{className:"font-medium",children:e})]}),r>0&&W.jsxs("div",{className:"flex justify-between text-blue-600",children:[W.jsx("span",{children:"Selected:"}),W.jsx("span",{className:"font-medium",children:r})]})]}),W.jsxs("div",{className:"mt-3 pt-3 border-t border-gray-200",children:[W.jsxs("p",{className:"text-xs text-amber-700 mb-2",children:[W.jsx("strong",{children:"Click"})," anywhere to create a note"]}),W.jsxs("p",{className:"text-xs text-amber-700 mb-2",children:[W.jsx("strong",{children:"Shift + drag"})," to select multiple notes"]}),W.jsxs("p",{className:"text-xs text-amber-700 mb-2",children:[W.jsx("strong",{children:"Drag selected notes"})," to move them together"]}),W.jsxs("p",{className:"text-xs text-amber-700",children:[W.jsx("strong",{children:"Mouse wheel:"})," zoom • ",W.jsx("strong",{children:"Middle-click:"})," ","pan"]})]})]})},Zx=({minZoom:r=.5,maxZoom:e=3,initialZoom:t=1}={})=>{const[s,o]=V.useState(t),[u,h]=V.useState({x:0,y:0}),d=V.useRef(!1),p=V.useRef({x:0,y:0}),g=V.useRef(0),_=V.useRef(s),v=V.useCallback($=>{$.preventDefault();const ie=$.deltaY>0?-.1:.1;o(N=>Math.min(e,Math.max(r,N+ie)))},[r,e]),T=V.useCallback($=>{($.button===1||$.ctrlKey)&&($.preventDefault(),d.current=!0,p.current={x:$.clientX,y:$.clientY})},[]),x=V.useCallback($=>{if(d.current){const ie=$.clientX-p.current.x,N=$.clientY-p.current.y;h(S=>({x:S.x+ie,y:S.y+N})),p.current={x:$.clientX,y:$.clientY}}},[]),C=V.useCallback(()=>{d.current=!1},[]),O=V.useCallback(()=>{o($=>Math.min(e,$+.2))},[e]),D=V.useCallback(()=>{o($=>Math.max(r,$-.2))},[r]),z=V.useCallback(()=>{o(t),h({x:0,y:0})},[t]),Y=V.useCallback($=>{if($.touches.length===1)d.current=!0,p.current={x:$.touches[0].clientX,y:$.touches[0].clientY};else if($.touches.length===2){const ie=$.touches[0],N=$.touches[1],S=Math.sqrt(Math.pow(N.clientX-ie.clientX,2)+Math.pow(N.clientY-ie.clientY,2));g.current=S,_.current=s}},[s]),Q=V.useCallback($=>{if($.touches.length===1&&d.current){const ie=$.touches[0],N=ie.clientX-p.current.x,S=ie.clientY-p.current.y;h(R=>({x:R.x+N,y:R.y+S})),p.current={x:ie.clientX,y:ie.clientY}}else if($.touches.length===2){const ie=$.touches[0],N=$.touches[1],R=Math.sqrt(Math.pow(N.clientX-ie.clientX,2)+Math.pow(N.clientY-ie.clientY,2))/g.current,M=Math.min(e,Math.max(r,_.current*R));o(M)}},[s,r,e]),oe=V.useCallback(()=>{d.current=!1,g.current=0},[]);return{zoom:s,panOffset:u,handleWheel:v,handleMouseDown:T,handleMouseMove:x,handleMouseUp:C,handleTouchStart:Y,handleTouchMove:Q,handleTouchEnd:oe,zoomIn:O,zoomOut:D,resetZoom:z}},Jx=({notes:r,zoom:e,panOffset:t})=>{const[s,o]=V.useState([]),[u,h]=V.useState(!1),[d,p]=V.useState([]),g=V.useRef(null),_=V.useRef(null),v=V.useCallback((Y,Q)=>{_.current=Q;const oe=Q.getBoundingClientRect(),$=(Y.clientX-oe.left-t.x)/e,ie=(Y.clientY-oe.top-t.y)/e;g.current={x:$,y:ie},h(!0),p([{x:$,y:ie}]),o([])},[e,t]),T=V.useCallback(Y=>{if(!u||!g.current||!_.current)return;const Q=_.current.getBoundingClientRect(),oe=(Y.clientX-Q.left-t.x)/e,$=(Y.clientY-Q.top-t.y)/e;p(ie=>[...ie,{x:oe,y:$}])},[u,e,t]),x=V.useCallback((Y,Q)=>{if(Q.length<3)return!1;let oe=!1;for(let $=0,ie=Q.length-1;$<Q.length;ie=$++){const N=Q[$].x,S=Q[$].y,R=Q[ie].x,M=Q[ie].y;S>Y.y!=M>Y.y&&Y.x<(R-N)*(Y.y-S)/(M-S)+N&&(oe=!oe)}return oe},[]),C=V.useCallback((Y,Q,oe=50)=>{for(let $=0;$<Q.length-1;$++){const ie=Q[$],N=Q[$+1],S=Y.x-ie.x,R=Y.y-ie.y,M=N.x-ie.x,L=N.y-ie.y,U=S*M+R*L,I=M*M+L*L;if(I===0)continue;const Ke=U/I;let xe,q;Ke<0?(xe=ie.x,q=ie.y):Ke>1?(xe=N.x,q=N.y):(xe=ie.x+Ke*M,q=ie.y+Ke*L);const ce=Y.x-xe,ne=Y.y-q;if(Math.sqrt(ce*ce+ne*ne)<=oe)return!0}return!1},[]),O=V.useCallback(()=>{if(!u)return;const Y=Math.min(...d.map(U=>U.x)),Q=Math.max(...d.map(U=>U.x)),oe=Math.min(...d.map(U=>U.y)),$=Math.max(...d.map(U=>U.y)),ie=20/e,N=Y-ie,S=Q+ie,R=oe-ie,M=$+ie,L=r.filter(U=>{const I={x:U.x,y:U.y},Ke=d.length>=3&&x(I,d),xe=U.x>=N&&U.x<=S&&U.y>=R&&U.y<=M,q=d.length>=2&&C(I,d,60/e);return Ke||xe||q});console.log("Selection completed:",{pathLength:d.length,selectedCount:L.length,boundingBox:{minX:N,maxX:S,minY:R,maxY:M}}),o(L.map(U=>U.id)),h(!1),p([]),g.current=null,_.current=null},[u,r,d,x,C,e]),D=V.useCallback(()=>{o([])},[]),z=V.useCallback((Y,Q)=>s.map(oe=>({id:oe,deltaX:Y,deltaY:Q})),[s]);return{selectedNoteIds:s,isSelecting:u,selectionPath:d,handleSelectionStart:v,handleSelectionMove:T,handleSelectionEnd:O,clearSelection:D,moveSelectedNotes:z}},eI=({selectedNoteIds:r,notes:e,zoom:t,onNotesMove:s})=>{const[o,u]=V.useState(!1),[h,d]=V.useState({x:0,y:0}),[p,g]=V.useState({}),[_,v]=V.useState(!1),T=V.useCallback(O=>{console.log("Starting group drag for",r.length,"notes"),u(!0),v(!1),d({x:O.clientX,y:O.clientY});const D={};r.forEach(z=>{const Y=e.find(Q=>Q.id===z);Y&&(D[z]={x:Y.x,y:Y.y})}),g(D)},[r,e]),x=V.useCallback(O=>{if(!o||r.length===0)return;const D=(O.clientX-h.x)/t,z=(O.clientY-h.y)/t;!_&&(Math.abs(D)>5||Math.abs(z)>5)&&v(!0);const Y=r.map(Q=>{const oe=p[Q];if(!oe){const $=e.find(ie=>ie.id===Q);return{id:Q,x:$?.x||0,y:$?.y||0}}return{id:Q,x:oe.x+D,y:oe.y+z}});s(Y)},[o,h,r,t,p,e,s,_]),C=V.useCallback(()=>{console.log("Stopping group drag"),u(!1),g({})},[]);return{isDraggingSelected:o,hasDraggedGroup:_,startDraggingSelected:T,handleSelectedNotesMove:x,stopDraggingSelected:C}},tI=()=>{};var C0={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XE=function(r){const e=[];let t=0;for(let s=0;s<r.length;s++){let o=r.charCodeAt(s);o<128?e[t++]=o:o<2048?(e[t++]=o>>6|192,e[t++]=o&63|128):(o&64512)===55296&&s+1<r.length&&(r.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(r.charCodeAt(++s)&1023),e[t++]=o>>18|240,e[t++]=o>>12&63|128,e[t++]=o>>6&63|128,e[t++]=o&63|128):(e[t++]=o>>12|224,e[t++]=o>>6&63|128,e[t++]=o&63|128)}return e},nI=function(r){const e=[];let t=0,s=0;for(;t<r.length;){const o=r[t++];if(o<128)e[s++]=String.fromCharCode(o);else if(o>191&&o<224){const u=r[t++];e[s++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=r[t++],h=r[t++],d=r[t++],p=((o&7)<<18|(u&63)<<12|(h&63)<<6|d&63)-65536;e[s++]=String.fromCharCode(55296+(p>>10)),e[s++]=String.fromCharCode(56320+(p&1023))}else{const u=r[t++],h=r[t++];e[s++]=String.fromCharCode((o&15)<<12|(u&63)<<6|h&63)}}return e.join("")},WE={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,e){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<r.length;o+=3){const u=r[o],h=o+1<r.length,d=h?r[o+1]:0,p=o+2<r.length,g=p?r[o+2]:0,_=u>>2,v=(u&3)<<4|d>>4;let T=(d&15)<<2|g>>6,x=g&63;p||(x=64,h||(T=64)),s.push(t[_],t[v],t[T],t[x])}return s.join("")},encodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(r):this.encodeByteArray(XE(r),e)},decodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(r):nI(this.decodeStringToByteArray(r,e))},decodeStringToByteArray(r,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<r.length;){const u=t[r.charAt(o++)],d=o<r.length?t[r.charAt(o)]:0;++o;const g=o<r.length?t[r.charAt(o)]:64;++o;const v=o<r.length?t[r.charAt(o)]:64;if(++o,u==null||d==null||g==null||v==null)throw new rI;const T=u<<2|d>>4;if(s.push(T),g!==64){const x=d<<4&240|g>>2;if(s.push(x),v!==64){const C=g<<6&192|v;s.push(C)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class rI extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const iI=function(r){const e=XE(r);return WE.encodeByteArray(e,!0)},Lh=function(r){return iI(r).replace(/\./g,"")},ZE=function(r){try{return WE.decodeString(r,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sI(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aI=()=>sI().__FIREBASE_DEFAULTS__,oI=()=>{if(typeof process>"u"||typeof C0>"u")return;const r=C0.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},lI=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=r&&ZE(r[1]);return e&&JSON.parse(e)},hf=()=>{try{return tI()||aI()||oI()||lI()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},JE=r=>{var e,t;return(t=(e=hf())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[r]},eT=r=>{const e=JE(r);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),s]:[e.substring(0,t),s]},tT=()=>{var r;return(r=hf())===null||r===void 0?void 0:r.config},nT=r=>{var e;return(e=hf())===null||e===void 0?void 0:e[`_${r}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uI{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,s)=>{t?this.reject(t):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,s))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ia(r){try{return(r.startsWith("http://")||r.startsWith("https://")?new URL(r).hostname:r).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Bp(r){return(await fetch(r,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rT(r,e){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},s=e||"demo-project",o=r.iat||0,u=r.sub||r.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const h=Object.assign({iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}}},r);return[Lh(JSON.stringify(t)),Lh(JSON.stringify(h)),""].join(".")}const hu={};function cI(){const r={prod:[],emulator:[]};for(const e of Object.keys(hu))hu[e]?r.emulator.push(e):r.prod.push(e);return r}function hI(r){let e=document.getElementById(r),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",r),t=!0),{created:t,element:e}}let x0=!1;function qp(r,e){if(typeof window>"u"||typeof document>"u"||!Ia(window.location.host)||hu[r]===e||hu[r]||x0)return;hu[r]=e;function t(T){return`__firebase__banner__${T}`}const s="__firebase__banner",u=cI().prod.length>0;function h(){const T=document.getElementById(s);T&&T.remove()}function d(T){T.style.display="flex",T.style.background="#7faaf0",T.style.position="fixed",T.style.bottom="5px",T.style.left="5px",T.style.padding=".5em",T.style.borderRadius="5px",T.style.alignItems="center"}function p(T,x){T.setAttribute("width","24"),T.setAttribute("id",x),T.setAttribute("height","24"),T.setAttribute("viewBox","0 0 24 24"),T.setAttribute("fill","none"),T.style.marginLeft="-6px"}function g(){const T=document.createElement("span");return T.style.cursor="pointer",T.style.marginLeft="16px",T.style.fontSize="24px",T.innerHTML=" &times;",T.onclick=()=>{x0=!0,h()},T}function _(T,x){T.setAttribute("id",x),T.innerText="Learn more",T.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",T.setAttribute("target","__blank"),T.style.paddingLeft="5px",T.style.textDecoration="underline"}function v(){const T=hI(s),x=t("text"),C=document.getElementById(x)||document.createElement("span"),O=t("learnmore"),D=document.getElementById(O)||document.createElement("a"),z=t("preprendIcon"),Y=document.getElementById(z)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(T.created){const Q=T.element;d(Q),_(D,O);const oe=g();p(Y,z),Q.append(Y,C,D,oe),document.body.appendChild(Q)}u?(C.innerText="Preview backend disconnected.",Y.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(Y.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,C.innerText="Preview backend running in this workspace."),C.setAttribute("id",x)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",v):v()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function fI(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Tn())}function dI(){var r;const e=(r=hf())===null||r===void 0?void 0:r.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function mI(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function pI(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function gI(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function yI(){const r=Tn();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function vI(){return!dI()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function _I(){try{return typeof indexedDB=="object"}catch{return!1}}function bI(){return new Promise((r,e)=>{try{let t=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),t||self.indexedDB.deleteDatabase(s),r(!0)},o.onupgradeneeded=()=>{t=!1},o.onerror=()=>{var u;e(((u=o.error)===null||u===void 0?void 0:u.message)||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EI="FirebaseError";class Jr extends Error{constructor(e,t,s){super(t),this.code=e,this.customData=s,this.name=EI,Object.setPrototypeOf(this,Jr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ku.prototype.create)}}class ku{constructor(e,t,s){this.service=e,this.serviceName=t,this.errors=s}create(e,...t){const s=t[0]||{},o=`${this.service}/${e}`,u=this.errors[e],h=u?TI(u,s):"Error",d=`${this.serviceName}: ${h} (${o}).`;return new Jr(o,d,s)}}function TI(r,e){return r.replace(wI,(t,s)=>{const o=e[s];return o!=null?String(o):`<${s}?>`})}const wI=/\{\$([^}]+)}/g;function SI(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}function Ea(r,e){if(r===e)return!0;const t=Object.keys(r),s=Object.keys(e);for(const o of t){if(!s.includes(o))return!1;const u=r[o],h=e[o];if(I0(u)&&I0(h)){if(!Ea(u,h))return!1}else if(u!==h)return!1}for(const o of s)if(!t.includes(o))return!1;return!0}function I0(r){return r!==null&&typeof r=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mu(r){const e=[];for(const[t,s]of Object.entries(r))Array.isArray(s)?s.forEach(o=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function su(r){const e={};return r.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[o,u]=s.split("=");e[decodeURIComponent(o)]=decodeURIComponent(u)}}),e}function au(r){const e=r.indexOf("?");if(!e)return"";const t=r.indexOf("#",e);return r.substring(e,t>0?t:void 0)}function AI(r,e){const t=new RI(r,e);return t.subscribe.bind(t)}class RI{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,s){let o;if(e===void 0&&t===void 0&&s===void 0)throw new Error("Missing Observer.");CI(e,["next","error","complete"])?o=e:o={next:e,error:t,complete:s},o.next===void 0&&(o.next=Lm),o.error===void 0&&(o.error=Lm),o.complete===void 0&&(o.complete=Lm);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function CI(r,e){if(typeof r!="object"||r===null)return!1;for(const t of e)if(t in r&&typeof r[t]=="function")return!0;return!1}function Lm(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mn(r){return r&&r._delegate?r._delegate:r}class xs{constructor(e,t,s){this.name=e,this.instanceFactory=t,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ga="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xI{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const s=new uI;if(this.instancesDeferred.set(t,s),this.isInitialized(t)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:t});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const s=this.normalizeInstanceIdentifier(e?.identifier),o=(t=e?.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(u){if(o)return null;throw u}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(DI(e))try{this.getOrInitializeService({instanceIdentifier:ga})}catch{}for(const[t,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(t);try{const u=this.getOrInitializeService({instanceIdentifier:o});s.resolve(u)}catch{}}}}clearInstance(e=ga){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ga){return this.instances.has(e)}getOptions(e=ga){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:t});for(const[u,h]of this.instancesDeferred.entries()){const d=this.normalizeInstanceIdentifier(u);s===d&&h.resolve(o)}return o}onInit(e,t){var s;const o=this.normalizeInstanceIdentifier(t),u=(s=this.onInitCallbacks.get(o))!==null&&s!==void 0?s:new Set;u.add(e),this.onInitCallbacks.set(o,u);const h=this.instances.get(o);return h&&e(h,o),()=>{u.delete(e)}}invokeOnInitCallbacks(e,t){const s=this.onInitCallbacks.get(t);if(s)for(const o of s)try{o(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:II(e),options:t}),this.instances.set(e,s),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=ga){return this.component?this.component.multipleInstances?e:ga:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function II(r){return r===ga?void 0:r}function DI(r){return r.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NI{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new xI(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ge;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(Ge||(Ge={}));const OI={debug:Ge.DEBUG,verbose:Ge.VERBOSE,info:Ge.INFO,warn:Ge.WARN,error:Ge.ERROR,silent:Ge.SILENT},kI=Ge.INFO,MI={[Ge.DEBUG]:"log",[Ge.VERBOSE]:"log",[Ge.INFO]:"info",[Ge.WARN]:"warn",[Ge.ERROR]:"error"},PI=(r,e,...t)=>{if(e<r.logLevel)return;const s=new Date().toISOString(),o=MI[e];if(o)console[o](`[${s}]  ${r.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Fp{constructor(e){this.name=e,this._logLevel=kI,this._logHandler=PI,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ge))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?OI[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ge.DEBUG,...e),this._logHandler(this,Ge.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ge.VERBOSE,...e),this._logHandler(this,Ge.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ge.INFO,...e),this._logHandler(this,Ge.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ge.WARN,...e),this._logHandler(this,Ge.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ge.ERROR,...e),this._logHandler(this,Ge.ERROR,...e)}}const VI=(r,e)=>e.some(t=>r instanceof t);let D0,N0;function LI(){return D0||(D0=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function UI(){return N0||(N0=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const iT=new WeakMap,ip=new WeakMap,sT=new WeakMap,Um=new WeakMap,Hp=new WeakMap;function zI(r){const e=new Promise((t,s)=>{const o=()=>{r.removeEventListener("success",u),r.removeEventListener("error",h)},u=()=>{t(ws(r.result)),o()},h=()=>{s(r.error),o()};r.addEventListener("success",u),r.addEventListener("error",h)});return e.then(t=>{t instanceof IDBCursor&&iT.set(t,r)}).catch(()=>{}),Hp.set(e,r),e}function jI(r){if(ip.has(r))return;const e=new Promise((t,s)=>{const o=()=>{r.removeEventListener("complete",u),r.removeEventListener("error",h),r.removeEventListener("abort",h)},u=()=>{t(),o()},h=()=>{s(r.error||new DOMException("AbortError","AbortError")),o()};r.addEventListener("complete",u),r.addEventListener("error",h),r.addEventListener("abort",h)});ip.set(r,e)}let sp={get(r,e,t){if(r instanceof IDBTransaction){if(e==="done")return ip.get(r);if(e==="objectStoreNames")return r.objectStoreNames||sT.get(r);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return ws(r[e])},set(r,e,t){return r[e]=t,!0},has(r,e){return r instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in r}};function BI(r){sp=r(sp)}function qI(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const s=r.call(zm(this),e,...t);return sT.set(s,e.sort?e.sort():[e]),ws(s)}:UI().includes(r)?function(...e){return r.apply(zm(this),e),ws(iT.get(this))}:function(...e){return ws(r.apply(zm(this),e))}}function FI(r){return typeof r=="function"?qI(r):(r instanceof IDBTransaction&&jI(r),VI(r,LI())?new Proxy(r,sp):r)}function ws(r){if(r instanceof IDBRequest)return zI(r);if(Um.has(r))return Um.get(r);const e=FI(r);return e!==r&&(Um.set(r,e),Hp.set(e,r)),e}const zm=r=>Hp.get(r);function HI(r,e,{blocked:t,upgrade:s,blocking:o,terminated:u}={}){const h=indexedDB.open(r,e),d=ws(h);return s&&h.addEventListener("upgradeneeded",p=>{s(ws(h.result),p.oldVersion,p.newVersion,ws(h.transaction),p)}),t&&h.addEventListener("blocked",p=>t(p.oldVersion,p.newVersion,p)),d.then(p=>{u&&p.addEventListener("close",()=>u()),o&&p.addEventListener("versionchange",g=>o(g.oldVersion,g.newVersion,g))}).catch(()=>{}),d}const GI=["get","getKey","getAll","getAllKeys","count"],YI=["put","add","delete","clear"],jm=new Map;function O0(r,e){if(!(r instanceof IDBDatabase&&!(e in r)&&typeof e=="string"))return;if(jm.get(e))return jm.get(e);const t=e.replace(/FromIndex$/,""),s=e!==t,o=YI.includes(t);if(!(t in(s?IDBIndex:IDBObjectStore).prototype)||!(o||GI.includes(t)))return;const u=async function(h,...d){const p=this.transaction(h,o?"readwrite":"readonly");let g=p.store;return s&&(g=g.index(d.shift())),(await Promise.all([g[t](...d),o&&p.done]))[0]};return jm.set(e,u),u}BI(r=>({...r,get:(e,t,s)=>O0(e,t)||r.get(e,t,s),has:(e,t)=>!!O0(e,t)||r.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KI{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(QI(t)){const s=t.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(t=>t).join(" ")}}function QI(r){const e=r.getComponent();return e?.type==="VERSION"}const ap="@firebase/app",k0="0.13.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ui=new Fp("@firebase/app"),$I="@firebase/app-compat",XI="@firebase/analytics-compat",WI="@firebase/analytics",ZI="@firebase/app-check-compat",JI="@firebase/app-check",e2="@firebase/auth",t2="@firebase/auth-compat",n2="@firebase/database",r2="@firebase/data-connect",i2="@firebase/database-compat",s2="@firebase/functions",a2="@firebase/functions-compat",o2="@firebase/installations",l2="@firebase/installations-compat",u2="@firebase/messaging",c2="@firebase/messaging-compat",h2="@firebase/performance",f2="@firebase/performance-compat",d2="@firebase/remote-config",m2="@firebase/remote-config-compat",p2="@firebase/storage",g2="@firebase/storage-compat",y2="@firebase/firestore",v2="@firebase/ai",_2="@firebase/firestore-compat",b2="firebase",E2="11.10.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const op="[DEFAULT]",T2={[ap]:"fire-core",[$I]:"fire-core-compat",[WI]:"fire-analytics",[XI]:"fire-analytics-compat",[JI]:"fire-app-check",[ZI]:"fire-app-check-compat",[e2]:"fire-auth",[t2]:"fire-auth-compat",[n2]:"fire-rtdb",[r2]:"fire-data-connect",[i2]:"fire-rtdb-compat",[s2]:"fire-fn",[a2]:"fire-fn-compat",[o2]:"fire-iid",[l2]:"fire-iid-compat",[u2]:"fire-fcm",[c2]:"fire-fcm-compat",[h2]:"fire-perf",[f2]:"fire-perf-compat",[d2]:"fire-rc",[m2]:"fire-rc-compat",[p2]:"fire-gcs",[g2]:"fire-gcs-compat",[y2]:"fire-fst",[_2]:"fire-fst-compat",[v2]:"fire-vertex","fire-js":"fire-js",[b2]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uh=new Map,w2=new Map,lp=new Map;function M0(r,e){try{r.container.addComponent(e)}catch(t){Ui.debug(`Component ${e.name} failed to register with FirebaseApp ${r.name}`,t)}}function Ta(r){const e=r.name;if(lp.has(e))return Ui.debug(`There were multiple attempts to register component ${e}.`),!1;lp.set(e,r);for(const t of Uh.values())M0(t,r);for(const t of w2.values())M0(t,r);return!0}function ff(r,e){const t=r.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),r.container.getProvider(e)}function Yn(r){return r==null?!1:r.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S2={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ss=new ku("app","Firebase",S2);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A2{constructor(e,t,s){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new xs("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ss.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Da=E2;function aT(r,e={}){let t=r;typeof e!="object"&&(e={name:e});const s=Object.assign({name:op,automaticDataCollectionEnabled:!0},e),o=s.name;if(typeof o!="string"||!o)throw Ss.create("bad-app-name",{appName:String(o)});if(t||(t=tT()),!t)throw Ss.create("no-options");const u=Uh.get(o);if(u){if(Ea(t,u.options)&&Ea(s,u.config))return u;throw Ss.create("duplicate-app",{appName:o})}const h=new NI(o);for(const p of lp.values())h.addComponent(p);const d=new A2(t,s,h);return Uh.set(o,d),d}function Gp(r=op){const e=Uh.get(r);if(!e&&r===op&&tT())return aT();if(!e)throw Ss.create("no-app",{appName:r});return e}function zr(r,e,t){var s;let o=(s=T2[r])!==null&&s!==void 0?s:r;t&&(o+=`-${t}`);const u=o.match(/\s|\//),h=e.match(/\s|\//);if(u||h){const d=[`Unable to register library "${o}" with version "${e}":`];u&&d.push(`library name "${o}" contains illegal characters (whitespace or "/")`),u&&h&&d.push("and"),h&&d.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ui.warn(d.join(" "));return}Ta(new xs(`${o}-version`,()=>({library:o,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R2="firebase-heartbeat-database",C2=1,bu="firebase-heartbeat-store";let Bm=null;function oT(){return Bm||(Bm=HI(R2,C2,{upgrade:(r,e)=>{switch(e){case 0:try{r.createObjectStore(bu)}catch(t){console.warn(t)}}}}).catch(r=>{throw Ss.create("idb-open",{originalErrorMessage:r.message})})),Bm}async function x2(r){try{const t=(await oT()).transaction(bu),s=await t.objectStore(bu).get(lT(r));return await t.done,s}catch(e){if(e instanceof Jr)Ui.warn(e.message);else{const t=Ss.create("idb-get",{originalErrorMessage:e?.message});Ui.warn(t.message)}}}async function P0(r,e){try{const s=(await oT()).transaction(bu,"readwrite");await s.objectStore(bu).put(e,lT(r)),await s.done}catch(t){if(t instanceof Jr)Ui.warn(t.message);else{const s=Ss.create("idb-set",{originalErrorMessage:t?.message});Ui.warn(s.message)}}}function lT(r){return`${r.name}!${r.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I2=1024,D2=30;class N2{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new k2(t),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var e,t;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),u=V0();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===u||this._heartbeatsCache.heartbeats.some(h=>h.date===u))return;if(this._heartbeatsCache.heartbeats.push({date:u,agent:o}),this._heartbeatsCache.heartbeats.length>D2){const h=M2(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(h,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(s){Ui.warn(s)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=V0(),{heartbeatsToSend:s,unsentEntries:o}=O2(this._heartbeatsCache.heartbeats),u=Lh(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=t,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),u}catch(t){return Ui.warn(t),""}}}function V0(){return new Date().toISOString().substring(0,10)}function O2(r,e=I2){const t=[];let s=r.slice();for(const o of r){const u=t.find(h=>h.agent===o.agent);if(u){if(u.dates.push(o.date),L0(t)>e){u.dates.pop();break}}else if(t.push({agent:o.agent,dates:[o.date]}),L0(t)>e){t.pop();break}s=s.slice(1)}return{heartbeatsToSend:t,unsentEntries:s}}class k2{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return _I()?bI().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await x2(this.app);return t?.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const o=await this.read();return P0(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const o=await this.read();return P0(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}else return}}function L0(r){return Lh(JSON.stringify({version:2,heartbeats:r})).length}function M2(r){if(r.length===0)return-1;let e=0,t=r[0].date;for(let s=1;s<r.length;s++)r[s].date<t&&(t=r[s].date,e=s);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function P2(r){Ta(new xs("platform-logger",e=>new KI(e),"PRIVATE")),Ta(new xs("heartbeat",e=>new N2(e),"PRIVATE")),zr(ap,k0,r),zr(ap,k0,"esm2017"),zr("fire-js","")}P2("");function Yp(r,e){var t={};for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&e.indexOf(s)<0&&(t[s]=r[s]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,s=Object.getOwnPropertySymbols(r);o<s.length;o++)e.indexOf(s[o])<0&&Object.prototype.propertyIsEnumerable.call(r,s[o])&&(t[s[o]]=r[s[o]]);return t}function uT(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const V2=uT,cT=new ku("auth","Firebase",uT());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zh=new Fp("@firebase/auth");function L2(r,...e){zh.logLevel<=Ge.WARN&&zh.warn(`Auth (${Da}): ${r}`,...e)}function Ah(r,...e){zh.logLevel<=Ge.ERROR&&zh.error(`Auth (${Da}): ${r}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function br(r,...e){throw Kp(r,...e)}function jr(r,...e){return Kp(r,...e)}function hT(r,e,t){const s=Object.assign(Object.assign({},V2()),{[e]:t});return new ku("auth","Firebase",s).create(e,{appName:r.name})}function Vi(r){return hT(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Kp(r,...e){if(typeof r!="string"){const t=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=r.name),r._errorFactory.create(t,...s)}return cT.create(r,...e)}function Ie(r,e,...t){if(!r)throw Kp(e,...t)}function ki(r){const e="INTERNAL ASSERTION FAILED: "+r;throw Ah(e),new Error(e)}function zi(r,e){r||ki(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function up(){var r;return typeof self<"u"&&((r=self.location)===null||r===void 0?void 0:r.href)||""}function U2(){return U0()==="http:"||U0()==="https:"}function U0(){var r;return typeof self<"u"&&((r=self.location)===null||r===void 0?void 0:r.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function z2(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(U2()||pI()||"connection"in navigator)?navigator.onLine:!0}function j2(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pu{constructor(e,t){this.shortDelay=e,this.longDelay=t,zi(t>e,"Short delay should be less than long delay!"),this.isMobile=fI()||gI()}get(){return z2()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qp(r,e){zi(r.emulator,"Emulator should always be set here");const{url:t}=r.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fT{static initialize(e,t,s){this.fetchImpl=e,t&&(this.headersImpl=t),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ki("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ki("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ki("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B2={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q2=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],F2=new Pu(3e4,6e4);function Vs(r,e){return r.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:r.tenantId}):e}async function Ls(r,e,t,s,o={}){return dT(r,o,async()=>{let u={},h={};s&&(e==="GET"?h=s:u={body:JSON.stringify(s)});const d=Mu(Object.assign({key:r.config.apiKey},h)).slice(1),p=await r._getAdditionalHeaders();p["Content-Type"]="application/json",r.languageCode&&(p["X-Firebase-Locale"]=r.languageCode);const g=Object.assign({method:e,headers:p},u);return mI()||(g.referrerPolicy="no-referrer"),r.emulatorConfig&&Ia(r.emulatorConfig.host)&&(g.credentials="include"),fT.fetch()(await mT(r,r.config.apiHost,t,d),g)})}async function dT(r,e,t){r._canInitEmulator=!1;const s=Object.assign(Object.assign({},B2),e);try{const o=new G2(r),u=await Promise.race([t(),o.promise]);o.clearNetworkTimeout();const h=await u.json();if("needConfirmation"in h)throw gh(r,"account-exists-with-different-credential",h);if(u.ok&&!("errorMessage"in h))return h;{const d=u.ok?h.errorMessage:h.error.message,[p,g]=d.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw gh(r,"credential-already-in-use",h);if(p==="EMAIL_EXISTS")throw gh(r,"email-already-in-use",h);if(p==="USER_DISABLED")throw gh(r,"user-disabled",h);const _=s[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(g)throw hT(r,_,g);br(r,_)}}catch(o){if(o instanceof Jr)throw o;br(r,"network-request-failed",{message:String(o)})}}async function Vu(r,e,t,s,o={}){const u=await Ls(r,e,t,s,o);return"mfaPendingCredential"in u&&br(r,"multi-factor-auth-required",{_serverResponse:u}),u}async function mT(r,e,t,s){const o=`${e}${t}?${s}`,u=r,h=u.config.emulator?Qp(r.config,o):`${r.config.apiScheme}://${o}`;return q2.includes(t)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(h).toString():h}function H2(r){switch(r){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class G2{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,s)=>{this.timer=setTimeout(()=>s(jr(this.auth,"network-request-failed")),F2.get())})}}function gh(r,e,t){const s={appName:r.name};t.email&&(s.email=t.email),t.phoneNumber&&(s.phoneNumber=t.phoneNumber);const o=jr(r,e,s);return o.customData._tokenResponse=t,o}function z0(r){return r!==void 0&&r.enterprise!==void 0}class Y2{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return H2(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function K2(r,e){return Ls(r,"GET","/v2/recaptchaConfig",Vs(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Q2(r,e){return Ls(r,"POST","/v1/accounts:delete",e)}async function jh(r,e){return Ls(r,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fu(r){if(r)try{const e=new Date(Number(r));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function $2(r,e=!1){const t=mn(r),s=await t.getIdToken(e),o=$p(s);Ie(o&&o.exp&&o.auth_time&&o.iat,t.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,h=u?.sign_in_provider;return{claims:o,token:s,authTime:fu(qm(o.auth_time)),issuedAtTime:fu(qm(o.iat)),expirationTime:fu(qm(o.exp)),signInProvider:h||null,signInSecondFactor:u?.sign_in_second_factor||null}}function qm(r){return Number(r)*1e3}function $p(r){const[e,t,s]=r.split(".");if(e===void 0||t===void 0||s===void 0)return Ah("JWT malformed, contained fewer than 3 sections"),null;try{const o=ZE(t);return o?JSON.parse(o):(Ah("Failed to decode base64 JWT payload"),null)}catch(o){return Ah("Caught error parsing JWT payload as JSON",o?.toString()),null}}function j0(r){const e=$p(r);return Ie(e,"internal-error"),Ie(typeof e.exp<"u","internal-error"),Ie(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Eu(r,e,t=!1){if(t)return e;try{return await e}catch(s){throw s instanceof Jr&&X2(s)&&r.auth.currentUser===r&&await r.auth.signOut(),s}}function X2({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W2{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const s=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),s}else{this.errorBackoff=3e4;const o=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,o)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cp{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=fu(this.lastLoginAt),this.creationTime=fu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Bh(r){var e;const t=r.auth,s=await r.getIdToken(),o=await Eu(r,jh(t,{idToken:s}));Ie(o?.users.length,t,"internal-error");const u=o.users[0];r._notifyReloadListener(u);const h=!((e=u.providerUserInfo)===null||e===void 0)&&e.length?pT(u.providerUserInfo):[],d=J2(r.providerData,h),p=r.isAnonymous,g=!(r.email&&u.passwordHash)&&!d?.length,_=p?g:!1,v={uid:u.localId,displayName:u.displayName||null,photoURL:u.photoUrl||null,email:u.email||null,emailVerified:u.emailVerified||!1,phoneNumber:u.phoneNumber||null,tenantId:u.tenantId||null,providerData:d,metadata:new cp(u.createdAt,u.lastLoginAt),isAnonymous:_};Object.assign(r,v)}async function Z2(r){const e=mn(r);await Bh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function J2(r,e){return[...r.filter(s=>!e.some(o=>o.providerId===s.providerId)),...e]}function pT(r){return r.map(e=>{var{providerId:t}=e,s=Yp(e,["providerId"]);return{providerId:t,uid:s.rawId||"",displayName:s.displayName||null,email:s.email||null,phoneNumber:s.phoneNumber||null,photoURL:s.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function eD(r,e){const t=await dT(r,{},async()=>{const s=Mu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:u}=r.config,h=await mT(r,o,"/v1/token",`key=${u}`),d=await r._getAdditionalHeaders();d["Content-Type"]="application/x-www-form-urlencoded";const p={method:"POST",headers:d,body:s};return r.emulatorConfig&&Ia(r.emulatorConfig.host)&&(p.credentials="include"),fT.fetch()(h,p)});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function tD(r,e){return Ls(r,"POST","/v2/accounts:revokeToken",Vs(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Po{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ie(e.idToken,"internal-error"),Ie(typeof e.idToken<"u","internal-error"),Ie(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):j0(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Ie(e.length!==0,"internal-error");const t=j0(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(Ie(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:s,refreshToken:o,expiresIn:u}=await eD(e,t);this.updateTokensAndExpiration(s,o,Number(u))}updateTokensAndExpiration(e,t,s){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,t){const{refreshToken:s,accessToken:o,expirationTime:u}=t,h=new Po;return s&&(Ie(typeof s=="string","internal-error",{appName:e}),h.refreshToken=s),o&&(Ie(typeof o=="string","internal-error",{appName:e}),h.accessToken=o),u&&(Ie(typeof u=="number","internal-error",{appName:e}),h.expirationTime=u),h}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Po,this.toJSON())}_performRefresh(){return ki("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ys(r,e){Ie(typeof r=="string"||typeof r>"u","internal-error",{appName:e})}class gr{constructor(e){var{uid:t,auth:s,stsTokenManager:o}=e,u=Yp(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new W2(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=s,this.stsTokenManager=o,this.accessToken=o.accessToken,this.displayName=u.displayName||null,this.email=u.email||null,this.emailVerified=u.emailVerified||!1,this.phoneNumber=u.phoneNumber||null,this.photoURL=u.photoURL||null,this.isAnonymous=u.isAnonymous||!1,this.tenantId=u.tenantId||null,this.providerData=u.providerData?[...u.providerData]:[],this.metadata=new cp(u.createdAt||void 0,u.lastLoginAt||void 0)}async getIdToken(e){const t=await Eu(this,this.stsTokenManager.getToken(this.auth,e));return Ie(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return $2(this,e)}reload(){return Z2(this)}_assign(e){this!==e&&(Ie(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new gr(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){Ie(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),t&&await Bh(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Yn(this.auth.app))return Promise.reject(Vi(this.auth));const e=await this.getIdToken();return await Eu(this,Q2(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var s,o,u,h,d,p,g,_;const v=(s=t.displayName)!==null&&s!==void 0?s:void 0,T=(o=t.email)!==null&&o!==void 0?o:void 0,x=(u=t.phoneNumber)!==null&&u!==void 0?u:void 0,C=(h=t.photoURL)!==null&&h!==void 0?h:void 0,O=(d=t.tenantId)!==null&&d!==void 0?d:void 0,D=(p=t._redirectEventId)!==null&&p!==void 0?p:void 0,z=(g=t.createdAt)!==null&&g!==void 0?g:void 0,Y=(_=t.lastLoginAt)!==null&&_!==void 0?_:void 0,{uid:Q,emailVerified:oe,isAnonymous:$,providerData:ie,stsTokenManager:N}=t;Ie(Q&&N,e,"internal-error");const S=Po.fromJSON(this.name,N);Ie(typeof Q=="string",e,"internal-error"),ys(v,e.name),ys(T,e.name),Ie(typeof oe=="boolean",e,"internal-error"),Ie(typeof $=="boolean",e,"internal-error"),ys(x,e.name),ys(C,e.name),ys(O,e.name),ys(D,e.name),ys(z,e.name),ys(Y,e.name);const R=new gr({uid:Q,auth:e,email:T,emailVerified:oe,displayName:v,isAnonymous:$,photoURL:C,phoneNumber:x,tenantId:O,stsTokenManager:S,createdAt:z,lastLoginAt:Y});return ie&&Array.isArray(ie)&&(R.providerData=ie.map(M=>Object.assign({},M))),D&&(R._redirectEventId=D),R}static async _fromIdTokenResponse(e,t,s=!1){const o=new Po;o.updateFromServerResponse(t);const u=new gr({uid:t.localId,auth:e,stsTokenManager:o,isAnonymous:s});return await Bh(u),u}static async _fromGetAccountInfoResponse(e,t,s){const o=t.users[0];Ie(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?pT(o.providerUserInfo):[],h=!(o.email&&o.passwordHash)&&!u?.length,d=new Po;d.updateFromIdToken(s);const p=new gr({uid:o.localId,auth:e,stsTokenManager:d,isAnonymous:h}),g={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new cp(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!u?.length};return Object.assign(p,g),p}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B0=new Map;function Mi(r){zi(r instanceof Function,"Expected a class definition");let e=B0.get(r);return e?(zi(e instanceof r,"Instance stored in cache mismatched with class"),e):(e=new r,B0.set(r,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gT{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}gT.type="NONE";const q0=gT;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rh(r,e,t){return`firebase:${r}:${e}:${t}`}class Vo{constructor(e,t,s){this.persistence=e,this.auth=t,this.userKey=s;const{config:o,name:u}=this.auth;this.fullUserKey=Rh(this.userKey,o.apiKey,u),this.fullPersistenceKey=Rh("persistence",o.apiKey,u),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await jh(this.auth,{idToken:e}).catch(()=>{});return t?gr._fromGetAccountInfoResponse(this.auth,t,e):null}return gr._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,s="authUser"){if(!t.length)return new Vo(Mi(q0),e,s);const o=(await Promise.all(t.map(async g=>{if(await g._isAvailable())return g}))).filter(g=>g);let u=o[0]||Mi(q0);const h=Rh(s,e.config.apiKey,e.name);let d=null;for(const g of t)try{const _=await g._get(h);if(_){let v;if(typeof _=="string"){const T=await jh(e,{idToken:_}).catch(()=>{});if(!T)break;v=await gr._fromGetAccountInfoResponse(e,T,_)}else v=gr._fromJSON(e,_);g!==u&&(d=v),u=g;break}}catch{}const p=o.filter(g=>g._shouldAllowMigration);return!u._shouldAllowMigration||!p.length?new Vo(u,e,s):(u=p[0],d&&await u._set(h,d.toJSON()),await Promise.all(t.map(async g=>{if(g!==u)try{await g._remove(h)}catch{}})),new Vo(u,e,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function F0(r){const e=r.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(bT(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(yT(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(TT(e))return"Blackberry";if(wT(e))return"Webos";if(vT(e))return"Safari";if((e.includes("chrome/")||_T(e))&&!e.includes("edge/"))return"Chrome";if(ET(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=r.match(t);if(s?.length===2)return s[1]}return"Other"}function yT(r=Tn()){return/firefox\//i.test(r)}function vT(r=Tn()){const e=r.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function _T(r=Tn()){return/crios\//i.test(r)}function bT(r=Tn()){return/iemobile/i.test(r)}function ET(r=Tn()){return/android/i.test(r)}function TT(r=Tn()){return/blackberry/i.test(r)}function wT(r=Tn()){return/webos/i.test(r)}function Xp(r=Tn()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function nD(r=Tn()){var e;return Xp(r)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function rD(){return yI()&&document.documentMode===10}function ST(r=Tn()){return Xp(r)||ET(r)||wT(r)||TT(r)||/windows phone/i.test(r)||bT(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AT(r,e=[]){let t;switch(r){case"Browser":t=F0(Tn());break;case"Worker":t=`${F0(Tn())}-${r}`;break;default:t=r}const s=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${Da}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iD{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const s=u=>new Promise((h,d)=>{try{const p=e(u);h(p)}catch(p){d(p)}});s.onAbort=t,this.queue.push(s);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const s of this.queue)await s(e),s.onAbort&&t.push(s.onAbort)}catch(s){t.reverse();for(const o of t)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sD(r,e={}){return Ls(r,"GET","/v2/passwordPolicy",Vs(r,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aD=6;class oD{constructor(e){var t,s,o,u;const h=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=h.minPasswordLength)!==null&&t!==void 0?t:aD,h.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=h.maxPasswordLength),h.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=h.containsLowercaseCharacter),h.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=h.containsUppercaseCharacter),h.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=h.containsNumericCharacter),h.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=h.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(o=(s=e.allowedNonAlphanumericCharacters)===null||s===void 0?void 0:s.join(""))!==null&&o!==void 0?o:"",this.forceUpgradeOnSignin=(u=e.forceUpgradeOnSignin)!==null&&u!==void 0?u:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,s,o,u,h,d;const p={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,p),this.validatePasswordCharacterOptions(e,p),p.isValid&&(p.isValid=(t=p.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),p.isValid&&(p.isValid=(s=p.meetsMaxPasswordLength)!==null&&s!==void 0?s:!0),p.isValid&&(p.isValid=(o=p.containsLowercaseLetter)!==null&&o!==void 0?o:!0),p.isValid&&(p.isValid=(u=p.containsUppercaseLetter)!==null&&u!==void 0?u:!0),p.isValid&&(p.isValid=(h=p.containsNumericCharacter)!==null&&h!==void 0?h:!0),p.isValid&&(p.isValid=(d=p.containsNonAlphanumericCharacter)!==null&&d!==void 0?d:!0),p}validatePasswordLengthOptions(e,t){const s=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;s&&(t.meetsMinPasswordLength=e.length>=s),o&&(t.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let s;for(let o=0;o<e.length;o++)s=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(t,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,t,s,o,u){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lD{constructor(e,t,s,o){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=s,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new H0(this),this.idTokenSubscription=new H0(this),this.beforeStateQueue=new iD(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=cT,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Mi(t)),this._initializationPromise=this.queue(async()=>{var s,o,u;if(!this._deleted&&(this.persistenceManager=await Vo.create(this,e),(s=this._resolvePersistenceManagerAvailable)===null||s===void 0||s.call(this),!this._deleted)){if(!((o=this._popupRedirectResolver)===null||o===void 0)&&o._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((u=this.currentUser)===null||u===void 0?void 0:u.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await jh(this,{idToken:e}),s=await gr._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(s)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(Yn(this.app)){const h=this.app.settings.authIdToken;return h?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(h).then(d,d))}):this.directlySetCurrentUser(null)}const s=await this.assertedPersistence.getCurrentUser();let o=s,u=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const h=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,d=o?._redirectEventId,p=await this.tryRedirectSignIn(e);(!h||h===d)&&p?.user&&(o=p.user,u=!0)}if(!o)return this.directlySetCurrentUser(null);if(!o._redirectEventId){if(u)try{await this.beforeStateQueue.runMiddleware(o)}catch(h){o=s,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(h))}return o?this.reloadAndSetCurrentUserOrClear(o):this.directlySetCurrentUser(null)}return Ie(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===o._redirectEventId?this.directlySetCurrentUser(o):this.reloadAndSetCurrentUserOrClear(o)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await Bh(e)}catch(t){if(t?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=j2()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Yn(this.app))return Promise.reject(Vi(this));const t=e?mn(e):null;return t&&Ie(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&Ie(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Yn(this.app)?Promise.reject(Vi(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Yn(this.app)?Promise.reject(Vi(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Mi(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await sD(this),t=new oD(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new ku("auth","Firebase",e())}onAuthStateChanged(e,t,s){return this.registerStateListener(this.authStateSubscription,e,t,s)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,s){return this.registerStateListener(this.idTokenSubscription,e,t,s)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(s.tenantId=this.tenantId),await tD(this,s)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,t){const s=await this.getOrInitRedirectPersistenceManager(t);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&Mi(e)||this._popupRedirectResolver;Ie(t,this,"argument-error"),this.redirectPersistenceManager=await Vo.create(this,[Mi(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,s;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((s=this.redirectUser)===null||s===void 0?void 0:s._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const s=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==s&&(this.lastNotifiedUid=s,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,s,o){if(this._deleted)return()=>{};const u=typeof t=="function"?t:t.next.bind(t);let h=!1;const d=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ie(d,this,"internal-error"),d.then(()=>{h||u(this.currentUser)}),typeof t=="function"){const p=e.addObserver(t,s,o);return()=>{h=!0,p()}}else{const p=e.addObserver(t);return()=>{h=!0,p()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ie(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=AT(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const s=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());s&&(t["X-Firebase-Client"]=s);const o=await this._getAppCheckToken();return o&&(t["X-Firebase-AppCheck"]=o),t}async _getAppCheckToken(){var e;if(Yn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return t?.error&&L2(`Error while retrieving App Check token: ${t.error}`),t?.token}}function Na(r){return mn(r)}class H0{constructor(e){this.auth=e,this.observer=null,this.addObserver=AI(t=>this.observer=t)}get next(){return Ie(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let df={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function uD(r){df=r}function RT(r){return df.loadJS(r)}function cD(){return df.recaptchaEnterpriseScript}function hD(){return df.gapiScript}function fD(r){return`__${r}${Math.floor(Math.random()*1e6)}`}class dD{constructor(){this.enterprise=new mD}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class mD{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const pD="recaptcha-enterprise",CT="NO_RECAPTCHA";class gD{constructor(e){this.type=pD,this.auth=Na(e)}async verify(e="verify",t=!1){async function s(u){if(!t){if(u.tenantId==null&&u._agentRecaptchaConfig!=null)return u._agentRecaptchaConfig.siteKey;if(u.tenantId!=null&&u._tenantRecaptchaConfigs[u.tenantId]!==void 0)return u._tenantRecaptchaConfigs[u.tenantId].siteKey}return new Promise(async(h,d)=>{K2(u,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(p=>{if(p.recaptchaKey===void 0)d(new Error("recaptcha Enterprise site key undefined"));else{const g=new Y2(p);return u.tenantId==null?u._agentRecaptchaConfig=g:u._tenantRecaptchaConfigs[u.tenantId]=g,h(g.siteKey)}}).catch(p=>{d(p)})})}function o(u,h,d){const p=window.grecaptcha;z0(p)?p.enterprise.ready(()=>{p.enterprise.execute(u,{action:e}).then(g=>{h(g)}).catch(()=>{h(CT)})}):d(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new dD().execute("siteKey",{action:"verify"}):new Promise((u,h)=>{s(this.auth).then(d=>{if(!t&&z0(window.grecaptcha))o(d,u,h);else{if(typeof window>"u"){h(new Error("RecaptchaVerifier is only supported in browser"));return}let p=cD();p.length!==0&&(p+=d),RT(p).then(()=>{o(d,u,h)}).catch(g=>{h(g)})}}).catch(d=>{h(d)})})}}async function G0(r,e,t,s=!1,o=!1){const u=new gD(r);let h;if(o)h=CT;else try{h=await u.verify(t)}catch{h=await u.verify(t,!0)}const d=Object.assign({},e);if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in d){const p=d.phoneEnrollmentInfo.phoneNumber,g=d.phoneEnrollmentInfo.recaptchaToken;Object.assign(d,{phoneEnrollmentInfo:{phoneNumber:p,recaptchaToken:g,captchaResponse:h,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in d){const p=d.phoneSignInInfo.recaptchaToken;Object.assign(d,{phoneSignInInfo:{recaptchaToken:p,captchaResponse:h,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return d}return s?Object.assign(d,{captchaResp:h}):Object.assign(d,{captchaResponse:h}),Object.assign(d,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(d,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),d}async function hp(r,e,t,s,o){var u;if(!((u=r._getRecaptchaConfig())===null||u===void 0)&&u.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const h=await G0(r,e,t,t==="getOobCode");return s(r,h)}else return s(r,e).catch(async h=>{if(h.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const d=await G0(r,e,t,t==="getOobCode");return s(r,d)}else return Promise.reject(h)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yD(r,e){const t=ff(r,"auth");if(t.isInitialized()){const o=t.getImmediate(),u=t.getOptions();if(Ea(u,e??{}))return o;br(o,"already-initialized")}return t.initialize({options:e})}function vD(r,e){const t=e?.persistence||[],s=(Array.isArray(t)?t:[t]).map(Mi);e?.errorMap&&r._updateErrorMap(e.errorMap),r._initializeWithPersistence(s,e?.popupRedirectResolver)}function _D(r,e,t){const s=Na(r);Ie(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const o=!1,u=xT(e),{host:h,port:d}=bD(e),p=d===null?"":`:${d}`,g={url:`${u}//${h}${p}/`},_=Object.freeze({host:h,port:d,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!s._canInitEmulator){Ie(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),Ie(Ea(g,s.config.emulator)&&Ea(_,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=g,s.emulatorConfig=_,s.settings.appVerificationDisabledForTesting=!0,Ia(h)?(Bp(`${u}//${h}${p}`),qp("Auth",!0)):ED()}function xT(r){const e=r.indexOf(":");return e<0?"":r.substr(0,e+1)}function bD(r){const e=xT(r),t=/(\/\/)?([^?#/]+)/.exec(r.substr(e.length));if(!t)return{host:"",port:null};const s=t[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(s);if(o){const u=o[1];return{host:u,port:Y0(s.substr(u.length+1))}}else{const[u,h]=s.split(":");return{host:u,port:Y0(h)}}}function Y0(r){if(!r)return null;const e=Number(r);return isNaN(e)?null:e}function ED(){function r(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wp{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return ki("not implemented")}_getIdTokenResponse(e){return ki("not implemented")}_linkToIdToken(e,t){return ki("not implemented")}_getReauthenticationResolver(e){return ki("not implemented")}}async function TD(r,e){return Ls(r,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wD(r,e){return Vu(r,"POST","/v1/accounts:signInWithPassword",Vs(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function SD(r,e){return Vu(r,"POST","/v1/accounts:signInWithEmailLink",Vs(r,e))}async function AD(r,e){return Vu(r,"POST","/v1/accounts:signInWithEmailLink",Vs(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tu extends Wp{constructor(e,t,s,o=null){super("password",s),this._email=e,this._password=t,this._tenantId=o}static _fromEmailAndPassword(e,t){return new Tu(e,t,"password")}static _fromEmailAndCode(e,t,s=null){return new Tu(e,t,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t?.email&&t?.password){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return hp(e,t,"signInWithPassword",wD);case"emailLink":return SD(e,{email:this._email,oobCode:this._password});default:br(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const s={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return hp(e,s,"signUpPassword",TD);case"emailLink":return AD(e,{idToken:t,email:this._email,oobCode:this._password});default:br(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Lo(r,e){return Vu(r,"POST","/v1/accounts:signInWithIdp",Vs(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RD="http://localhost";class wa extends Wp{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new wa(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):br("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:o}=t,u=Yp(t,["providerId","signInMethod"]);if(!s||!o)return null;const h=new wa(s,o);return h.idToken=u.idToken||void 0,h.accessToken=u.accessToken||void 0,h.secret=u.secret,h.nonce=u.nonce,h.pendingToken=u.pendingToken||null,h}_getIdTokenResponse(e){const t=this.buildRequest();return Lo(e,t)}_linkToIdToken(e,t){const s=this.buildRequest();return s.idToken=t,Lo(e,s)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Lo(e,t)}buildRequest(){const e={requestUri:RD,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Mu(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CD(r){switch(r){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function xD(r){const e=su(au(r)).link,t=e?su(au(e)).deep_link_id:null,s=su(au(r)).deep_link_id;return(s?su(au(s)).link:null)||s||t||e||r}class Zp{constructor(e){var t,s,o,u,h,d;const p=su(au(e)),g=(t=p.apiKey)!==null&&t!==void 0?t:null,_=(s=p.oobCode)!==null&&s!==void 0?s:null,v=CD((o=p.mode)!==null&&o!==void 0?o:null);Ie(g&&_&&v,"argument-error"),this.apiKey=g,this.operation=v,this.code=_,this.continueUrl=(u=p.continueUrl)!==null&&u!==void 0?u:null,this.languageCode=(h=p.lang)!==null&&h!==void 0?h:null,this.tenantId=(d=p.tenantId)!==null&&d!==void 0?d:null}static parseLink(e){const t=xD(e);try{return new Zp(t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $o{constructor(){this.providerId=$o.PROVIDER_ID}static credential(e,t){return Tu._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const s=Zp.parseLink(t);return Ie(s,"argument-error"),Tu._fromEmailAndCode(e,s.code,s.tenantId)}}$o.PROVIDER_ID="password";$o.EMAIL_PASSWORD_SIGN_IN_METHOD="password";$o.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IT{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lu extends IT{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vs extends Lu{constructor(){super("facebook.com")}static credential(e){return wa._fromParams({providerId:vs.PROVIDER_ID,signInMethod:vs.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return vs.credentialFromTaggedObject(e)}static credentialFromError(e){return vs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return vs.credential(e.oauthAccessToken)}catch{return null}}}vs.FACEBOOK_SIGN_IN_METHOD="facebook.com";vs.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _s extends Lu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return wa._fromParams({providerId:_s.PROVIDER_ID,signInMethod:_s.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return _s.credentialFromTaggedObject(e)}static credentialFromError(e){return _s.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:s}=e;if(!t&&!s)return null;try{return _s.credential(t,s)}catch{return null}}}_s.GOOGLE_SIGN_IN_METHOD="google.com";_s.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bs extends Lu{constructor(){super("github.com")}static credential(e){return wa._fromParams({providerId:bs.PROVIDER_ID,signInMethod:bs.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return bs.credentialFromTaggedObject(e)}static credentialFromError(e){return bs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return bs.credential(e.oauthAccessToken)}catch{return null}}}bs.GITHUB_SIGN_IN_METHOD="github.com";bs.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Es extends Lu{constructor(){super("twitter.com")}static credential(e,t){return wa._fromParams({providerId:Es.PROVIDER_ID,signInMethod:Es.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return Es.credentialFromTaggedObject(e)}static credentialFromError(e){return Es.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:s}=e;if(!t||!s)return null;try{return Es.credential(t,s)}catch{return null}}}Es.TWITTER_SIGN_IN_METHOD="twitter.com";Es.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ID(r,e){return Vu(r,"POST","/v1/accounts:signUp",Vs(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sa{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,s,o=!1){const u=await gr._fromIdTokenResponse(e,s,o),h=K0(s);return new Sa({user:u,providerId:h,_tokenResponse:s,operationType:t})}static async _forOperation(e,t,s){await e._updateTokensIfNecessary(s,!0);const o=K0(s);return new Sa({user:e,providerId:o,_tokenResponse:s,operationType:t})}}function K0(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qh extends Jr{constructor(e,t,s,o){var u;super(t.code,t.message),this.operationType=s,this.user=o,Object.setPrototypeOf(this,qh.prototype),this.customData={appName:e.name,tenantId:(u=e.tenantId)!==null&&u!==void 0?u:void 0,_serverResponse:t.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,t,s,o){return new qh(e,t,s,o)}}function DT(r,e,t,s){return(e==="reauthenticate"?t._getReauthenticationResolver(r):t._getIdTokenResponse(r)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?qh._fromErrorAndOperation(r,u,e,s):u})}async function DD(r,e,t=!1){const s=await Eu(r,e._linkToIdToken(r.auth,await r.getIdToken()),t);return Sa._forOperation(r,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ND(r,e,t=!1){const{auth:s}=r;if(Yn(s.app))return Promise.reject(Vi(s));const o="reauthenticate";try{const u=await Eu(r,DT(s,o,e,r),t);Ie(u.idToken,s,"internal-error");const h=$p(u.idToken);Ie(h,s,"internal-error");const{sub:d}=h;return Ie(r.uid===d,s,"user-mismatch"),Sa._forOperation(r,o,u)}catch(u){throw u?.code==="auth/user-not-found"&&br(s,"user-mismatch"),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function NT(r,e,t=!1){if(Yn(r.app))return Promise.reject(Vi(r));const s="signIn",o=await DT(r,s,e),u=await Sa._fromIdTokenResponse(r,s,o);return t||await r._updateCurrentUser(u.user),u}async function OD(r,e){return NT(Na(r),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function OT(r){const e=Na(r);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function kD(r,e,t){if(Yn(r.app))return Promise.reject(Vi(r));const s=Na(r),h=await hp(s,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",ID).catch(p=>{throw p.code==="auth/password-does-not-meet-requirements"&&OT(r),p}),d=await Sa._fromIdTokenResponse(s,"signIn",h);return await s._updateCurrentUser(d.user),d}function MD(r,e,t){return Yn(r.app)?Promise.reject(Vi(r)):OD(mn(r),$o.credential(e,t)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&OT(r),s})}function PD(r,e,t,s){return mn(r).onIdTokenChanged(e,t,s)}function VD(r,e,t){return mn(r).beforeAuthStateChanged(e,t)}function LD(r,e,t,s){return mn(r).onAuthStateChanged(e,t,s)}function UD(r){return mn(r).signOut()}const Fh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kT{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Fh,"1"),this.storage.removeItem(Fh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zD=1e3,jD=10;class MT extends kT{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=ST(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const s=this.storage.getItem(t),o=this.localCache[t];s!==o&&e(t,o,s)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((h,d,p)=>{this.notifyListeners(h,p)});return}const s=e.key;t?this.detachListener():this.stopPolling();const o=()=>{const h=this.storage.getItem(s);!t&&this.localCache[s]===h||this.notifyListeners(s,h)},u=this.storage.getItem(s);rD()&&u!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,jD):o()}notifyListeners(e,t){this.localCache[e]=t;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:s}),!0)})},zD)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}MT.type="LOCAL";const BD=MT;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PT extends kT{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}PT.type="SESSION";const VT=PT;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qD(r){return Promise.all(r.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mf{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(o=>o.isListeningto(e));if(t)return t;const s=new mf(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:s,eventType:o,data:u}=t.data,h=this.handlersMap[o];if(!h?.size)return;t.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const d=Array.from(h).map(async g=>g(t.origin,u)),p=await qD(d);t.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:p})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}mf.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jp(r="",e=10){let t="";for(let s=0;s<e;s++)t+=Math.floor(Math.random()*10);return r+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FD{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,s=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,h;return new Promise((d,p)=>{const g=Jp("",20);o.port1.start();const _=setTimeout(()=>{p(new Error("unsupported_event"))},s);h={messageChannel:o,onMessage(v){const T=v;if(T.data.eventId===g)switch(T.data.status){case"ack":clearTimeout(_),u=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),d(T.data.response);break;default:clearTimeout(_),clearTimeout(u),p(new Error("invalid_response"));break}}},this.handlers.add(h),o.port1.addEventListener("message",h.onMessage),this.target.postMessage({eventType:e,eventId:g,data:t},[o.port2])}).finally(()=>{h&&this.removeMessageHandler(h)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Br(){return window}function HD(r){Br().location.href=r}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LT(){return typeof Br().WorkerGlobalScope<"u"&&typeof Br().importScripts=="function"}async function GD(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function YD(){var r;return((r=navigator?.serviceWorker)===null||r===void 0?void 0:r.controller)||null}function KD(){return LT()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UT="firebaseLocalStorageDb",QD=1,Hh="firebaseLocalStorage",zT="fbase_key";class Uu{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function pf(r,e){return r.transaction([Hh],e?"readwrite":"readonly").objectStore(Hh)}function $D(){const r=indexedDB.deleteDatabase(UT);return new Uu(r).toPromise()}function fp(){const r=indexedDB.open(UT,QD);return new Promise((e,t)=>{r.addEventListener("error",()=>{t(r.error)}),r.addEventListener("upgradeneeded",()=>{const s=r.result;try{s.createObjectStore(Hh,{keyPath:zT})}catch(o){t(o)}}),r.addEventListener("success",async()=>{const s=r.result;s.objectStoreNames.contains(Hh)?e(s):(s.close(),await $D(),e(await fp()))})})}async function Q0(r,e,t){const s=pf(r,!0).put({[zT]:e,value:t});return new Uu(s).toPromise()}async function XD(r,e){const t=pf(r,!1).get(e),s=await new Uu(t).toPromise();return s===void 0?null:s.value}function $0(r,e){const t=pf(r,!0).delete(e);return new Uu(t).toPromise()}const WD=800,ZD=3;class jT{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await fp(),this.db)}async _withRetries(e){let t=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(t++>ZD)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return LT()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=mf._getInstance(KD()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await GD(),!this.activeServiceWorker)return;this.sender=new FD(this.activeServiceWorker);const s=await this.sender._send("ping",{},800);s&&!((e=s[0])===null||e===void 0)&&e.fulfilled&&!((t=s[0])===null||t===void 0)&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||YD()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await fp();return await Q0(e,Fh,"1"),await $0(e,Fh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(s=>Q0(s,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(s=>XD(s,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>$0(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const u=pf(o,!1).getAll();return new Uu(u).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],s=new Set;if(e.length!==0)for(const{fbase_key:o,value:u}of e)s.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),t.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!s.has(o)&&(this.notifyListeners(o,null),t.push(o));return t}notifyListeners(e,t){this.localCache[e]=t;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),WD)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}jT.type="LOCAL";const JD=jT;new Pu(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eN(r,e){return e?Mi(e):(Ie(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eg extends Wp{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Lo(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Lo(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Lo(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function tN(r){return NT(r.auth,new eg(r),r.bypassAuthState)}function nN(r){const{auth:e,user:t}=r;return Ie(t,e,"internal-error"),ND(t,new eg(r),r.bypassAuthState)}async function rN(r){const{auth:e,user:t}=r;return Ie(t,e,"internal-error"),DD(t,new eg(r),r.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BT{constructor(e,t,s,o,u=!1){this.auth=e,this.resolver=s,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:s,postBody:o,tenantId:u,error:h,type:d}=e;if(h){this.reject(h);return}const p={auth:this.auth,requestUri:t,sessionId:s,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(d)(p))}catch(g){this.reject(g)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return tN;case"linkViaPopup":case"linkViaRedirect":return rN;case"reauthViaPopup":case"reauthViaRedirect":return nN;default:br(this.auth,"internal-error")}}resolve(e){zi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){zi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iN=new Pu(2e3,1e4);class Mo extends BT{constructor(e,t,s,o,u){super(e,t,o,u),this.provider=s,this.authWindow=null,this.pollId=null,Mo.currentPopupAction&&Mo.currentPopupAction.cancel(),Mo.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ie(e,this.auth,"internal-error"),e}async onExecution(){zi(this.filter.length===1,"Popup operations only handle one event");const e=Jp();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(jr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(jr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Mo.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,s;if(!((s=(t=this.authWindow)===null||t===void 0?void 0:t.window)===null||s===void 0)&&s.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(jr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,iN.get())};e()}}Mo.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sN="pendingRedirect",Ch=new Map;class aN extends BT{constructor(e,t,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,s),this.eventId=null}async execute(){let e=Ch.get(this.auth._key());if(!e){try{const s=await oN(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(t){e=()=>Promise.reject(t)}Ch.set(this.auth._key(),e)}return this.bypassAuthState||Ch.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function oN(r,e){const t=cN(e),s=uN(r);if(!await s._isAvailable())return!1;const o=await s._get(t)==="true";return await s._remove(t),o}function lN(r,e){Ch.set(r._key(),e)}function uN(r){return Mi(r._redirectPersistence)}function cN(r){return Rh(sN,r.config.apiKey,r.name)}async function hN(r,e,t=!1){if(Yn(r.app))return Promise.reject(Vi(r));const s=Na(r),o=eN(s,e),h=await new aN(s,o,t).execute();return h&&!t&&(delete h.user._redirectEventId,await s._persistUserIfCurrent(h.user),await s._setRedirectUser(null,e)),h}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fN=10*60*1e3;class dN{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(t=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!mN(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var s;if(e.error&&!qT(e)){const o=((s=e.error.code)===null||s===void 0?void 0:s.split("auth/")[1])||"internal-error";t.onError(jr(this.auth,o))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const s=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=fN&&this.cachedEventUids.clear(),this.cachedEventUids.has(X0(e))}saveEventToCache(e){this.cachedEventUids.add(X0(e)),this.lastProcessedEventTime=Date.now()}}function X0(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(e=>e).join("-")}function qT({type:r,error:e}){return r==="unknown"&&e?.code==="auth/no-auth-event"}function mN(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return qT(r);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pN(r,e={}){return Ls(r,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gN=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,yN=/^https?/;async function vN(r){if(r.config.emulator)return;const{authorizedDomains:e}=await pN(r);for(const t of e)try{if(_N(t))return}catch{}br(r,"unauthorized-domain")}function _N(r){const e=up(),{protocol:t,hostname:s}=new URL(e);if(r.startsWith("chrome-extension://")){const h=new URL(r);return h.hostname===""&&s===""?t==="chrome-extension:"&&r.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&h.hostname===s}if(!yN.test(t))return!1;if(gN.test(r))return s===r;const o=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bN=new Pu(3e4,6e4);function W0(){const r=Br().___jsl;if(r?.H){for(const e of Object.keys(r.H))if(r.H[e].r=r.H[e].r||[],r.H[e].L=r.H[e].L||[],r.H[e].r=[...r.H[e].L],r.CP)for(let t=0;t<r.CP.length;t++)r.CP[t]=null}}function EN(r){return new Promise((e,t)=>{var s,o,u;function h(){W0(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{W0(),t(jr(r,"network-request-failed"))},timeout:bN.get()})}if(!((o=(s=Br().gapi)===null||s===void 0?void 0:s.iframes)===null||o===void 0)&&o.Iframe)e(gapi.iframes.getContext());else if(!((u=Br().gapi)===null||u===void 0)&&u.load)h();else{const d=fD("iframefcb");return Br()[d]=()=>{gapi.load?h():t(jr(r,"network-request-failed"))},RT(`${hD()}?onload=${d}`).catch(p=>t(p))}}).catch(e=>{throw xh=null,e})}let xh=null;function TN(r){return xh=xh||EN(r),xh}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wN=new Pu(5e3,15e3),SN="__/auth/iframe",AN="emulator/auth/iframe",RN={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},CN=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function xN(r){const e=r.config;Ie(e.authDomain,r,"auth-domain-config-required");const t=e.emulator?Qp(e,AN):`https://${r.config.authDomain}/${SN}`,s={apiKey:e.apiKey,appName:r.name,v:Da},o=CN.get(r.config.apiHost);o&&(s.eid=o);const u=r._getFrameworks();return u.length&&(s.fw=u.join(",")),`${t}?${Mu(s).slice(1)}`}async function IN(r){const e=await TN(r),t=Br().gapi;return Ie(t,r,"internal-error"),e.open({where:document.body,url:xN(r),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:RN,dontclear:!0},s=>new Promise(async(o,u)=>{await s.restyle({setHideOnLeave:!1});const h=jr(r,"network-request-failed"),d=Br().setTimeout(()=>{u(h)},wN.get());function p(){Br().clearTimeout(d),o(s)}s.ping(p).then(p,()=>{u(h)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DN={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},NN=500,ON=600,kN="_blank",MN="http://localhost";class Z0{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function PN(r,e,t,s=NN,o=ON){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),h=Math.max((window.screen.availWidth-s)/2,0).toString();let d="";const p=Object.assign(Object.assign({},DN),{width:s.toString(),height:o.toString(),top:u,left:h}),g=Tn().toLowerCase();t&&(d=_T(g)?kN:t),yT(g)&&(e=e||MN,p.scrollbars="yes");const _=Object.entries(p).reduce((T,[x,C])=>`${T}${x}=${C},`,"");if(nD(g)&&d!=="_self")return VN(e||"",d),new Z0(null);const v=window.open(e||"",d,_);Ie(v,r,"popup-blocked");try{v.focus()}catch{}return new Z0(v)}function VN(r,e){const t=document.createElement("a");t.href=r,t.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LN="__/auth/handler",UN="emulator/auth/handler",zN=encodeURIComponent("fac");async function J0(r,e,t,s,o,u){Ie(r.config.authDomain,r,"auth-domain-config-required"),Ie(r.config.apiKey,r,"invalid-api-key");const h={apiKey:r.config.apiKey,appName:r.name,authType:t,redirectUrl:s,v:Da,eventId:o};if(e instanceof IT){e.setDefaultLanguage(r.languageCode),h.providerId=e.providerId||"",SI(e.getCustomParameters())||(h.customParameters=JSON.stringify(e.getCustomParameters()));for(const[_,v]of Object.entries({}))h[_]=v}if(e instanceof Lu){const _=e.getScopes().filter(v=>v!=="");_.length>0&&(h.scopes=_.join(","))}r.tenantId&&(h.tid=r.tenantId);const d=h;for(const _ of Object.keys(d))d[_]===void 0&&delete d[_];const p=await r._getAppCheckToken(),g=p?`#${zN}=${encodeURIComponent(p)}`:"";return`${jN(r)}?${Mu(d).slice(1)}${g}`}function jN({config:r}){return r.emulator?Qp(r,UN):`https://${r.authDomain}/${LN}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fm="webStorageSupport";class BN{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=VT,this._completeRedirectFn=hN,this._overrideRedirectResult=lN}async _openPopup(e,t,s,o){var u;zi((u=this.eventManagers[e._key()])===null||u===void 0?void 0:u.manager,"_initialize() not called before _openPopup()");const h=await J0(e,t,s,up(),o);return PN(e,h,Jp())}async _openRedirect(e,t,s,o){await this._originValidation(e);const u=await J0(e,t,s,up(),o);return HD(u),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:o,promise:u}=this.eventManagers[t];return o?Promise.resolve(o):(zi(u,"If manager is not set, promise should be"),u)}const s=this.initAndGetManager(e);return this.eventManagers[t]={promise:s},s.catch(()=>{delete this.eventManagers[t]}),s}async initAndGetManager(e){const t=await IN(e),s=new dN(e);return t.register("authEvent",o=>(Ie(o?.authEvent,e,"invalid-auth-event"),{status:s.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=t,s}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Fm,{type:Fm},o=>{var u;const h=(u=o?.[0])===null||u===void 0?void 0:u[Fm];h!==void 0&&t(!!h),br(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=vN(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return ST()||vT()||Xp()}}const qN=BN;var eb="@firebase/auth",tb="1.10.8";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FN{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(s=>{e(s?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Ie(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HN(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function GN(r){Ta(new xs("auth",(e,{options:t})=>{const s=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),u=e.getProvider("app-check-internal"),{apiKey:h,authDomain:d}=s.options;Ie(h&&!h.includes(":"),"invalid-api-key",{appName:s.name});const p={apiKey:h,authDomain:d,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:AT(r)},g=new lD(s,o,u,p);return vD(g,t),g},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,s)=>{e.getProvider("auth-internal").initialize()})),Ta(new xs("auth-internal",e=>{const t=Na(e.getProvider("auth").getImmediate());return(s=>new FN(s))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),zr(eb,tb,HN(r)),zr(eb,tb,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YN=5*60,KN=nT("authIdTokenMaxAge")||YN;let nb=null;const QN=r=>async e=>{const t=e&&await e.getIdTokenResult(),s=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(s&&s>KN)return;const o=t?.token;nb!==o&&(nb=o,await fetch(r,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function $N(r=Gp()){const e=ff(r,"auth");if(e.isInitialized())return e.getImmediate();const t=yD(r,{popupRedirectResolver:qN,persistence:[JD,BD,VT]}),s=nT("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(s,location.origin);if(location.origin===u.origin){const h=QN(u.toString());VD(t,h,()=>h(t.currentUser)),PD(t,d=>h(d))}}const o=JE("auth");return o&&_D(t,`http://${o}`),t}function XN(){var r,e;return(e=(r=document.getElementsByTagName("head"))===null||r===void 0?void 0:r[0])!==null&&e!==void 0?e:document}uD({loadJS(r){return new Promise((e,t)=>{const s=document.createElement("script");s.setAttribute("src",r),s.onload=e,s.onerror=o=>{const u=jr("internal-error");u.customData=o,t(u)},s.type="text/javascript",s.charset="UTF-8",XN().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});GN("Browser");var WN="firebase",ZN="11.10.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */zr(WN,ZN,"app");var rb=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var As,FT;(function(){var r;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(N,S){function R(){}R.prototype=S.prototype,N.D=S.prototype,N.prototype=new R,N.prototype.constructor=N,N.C=function(M,L,U){for(var I=Array(arguments.length-2),Ke=2;Ke<arguments.length;Ke++)I[Ke-2]=arguments[Ke];return S.prototype[L].apply(M,I)}}function t(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(s,t),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(N,S,R){R||(R=0);var M=Array(16);if(typeof S=="string")for(var L=0;16>L;++L)M[L]=S.charCodeAt(R++)|S.charCodeAt(R++)<<8|S.charCodeAt(R++)<<16|S.charCodeAt(R++)<<24;else for(L=0;16>L;++L)M[L]=S[R++]|S[R++]<<8|S[R++]<<16|S[R++]<<24;S=N.g[0],R=N.g[1],L=N.g[2];var U=N.g[3],I=S+(U^R&(L^U))+M[0]+3614090360&4294967295;S=R+(I<<7&4294967295|I>>>25),I=U+(L^S&(R^L))+M[1]+3905402710&4294967295,U=S+(I<<12&4294967295|I>>>20),I=L+(R^U&(S^R))+M[2]+606105819&4294967295,L=U+(I<<17&4294967295|I>>>15),I=R+(S^L&(U^S))+M[3]+3250441966&4294967295,R=L+(I<<22&4294967295|I>>>10),I=S+(U^R&(L^U))+M[4]+4118548399&4294967295,S=R+(I<<7&4294967295|I>>>25),I=U+(L^S&(R^L))+M[5]+1200080426&4294967295,U=S+(I<<12&4294967295|I>>>20),I=L+(R^U&(S^R))+M[6]+2821735955&4294967295,L=U+(I<<17&4294967295|I>>>15),I=R+(S^L&(U^S))+M[7]+4249261313&4294967295,R=L+(I<<22&4294967295|I>>>10),I=S+(U^R&(L^U))+M[8]+1770035416&4294967295,S=R+(I<<7&4294967295|I>>>25),I=U+(L^S&(R^L))+M[9]+2336552879&4294967295,U=S+(I<<12&4294967295|I>>>20),I=L+(R^U&(S^R))+M[10]+4294925233&4294967295,L=U+(I<<17&4294967295|I>>>15),I=R+(S^L&(U^S))+M[11]+2304563134&4294967295,R=L+(I<<22&4294967295|I>>>10),I=S+(U^R&(L^U))+M[12]+1804603682&4294967295,S=R+(I<<7&4294967295|I>>>25),I=U+(L^S&(R^L))+M[13]+4254626195&4294967295,U=S+(I<<12&4294967295|I>>>20),I=L+(R^U&(S^R))+M[14]+2792965006&4294967295,L=U+(I<<17&4294967295|I>>>15),I=R+(S^L&(U^S))+M[15]+1236535329&4294967295,R=L+(I<<22&4294967295|I>>>10),I=S+(L^U&(R^L))+M[1]+4129170786&4294967295,S=R+(I<<5&4294967295|I>>>27),I=U+(R^L&(S^R))+M[6]+3225465664&4294967295,U=S+(I<<9&4294967295|I>>>23),I=L+(S^R&(U^S))+M[11]+643717713&4294967295,L=U+(I<<14&4294967295|I>>>18),I=R+(U^S&(L^U))+M[0]+3921069994&4294967295,R=L+(I<<20&4294967295|I>>>12),I=S+(L^U&(R^L))+M[5]+3593408605&4294967295,S=R+(I<<5&4294967295|I>>>27),I=U+(R^L&(S^R))+M[10]+38016083&4294967295,U=S+(I<<9&4294967295|I>>>23),I=L+(S^R&(U^S))+M[15]+3634488961&4294967295,L=U+(I<<14&4294967295|I>>>18),I=R+(U^S&(L^U))+M[4]+3889429448&4294967295,R=L+(I<<20&4294967295|I>>>12),I=S+(L^U&(R^L))+M[9]+568446438&4294967295,S=R+(I<<5&4294967295|I>>>27),I=U+(R^L&(S^R))+M[14]+3275163606&4294967295,U=S+(I<<9&4294967295|I>>>23),I=L+(S^R&(U^S))+M[3]+4107603335&4294967295,L=U+(I<<14&4294967295|I>>>18),I=R+(U^S&(L^U))+M[8]+1163531501&4294967295,R=L+(I<<20&4294967295|I>>>12),I=S+(L^U&(R^L))+M[13]+2850285829&4294967295,S=R+(I<<5&4294967295|I>>>27),I=U+(R^L&(S^R))+M[2]+4243563512&4294967295,U=S+(I<<9&4294967295|I>>>23),I=L+(S^R&(U^S))+M[7]+1735328473&4294967295,L=U+(I<<14&4294967295|I>>>18),I=R+(U^S&(L^U))+M[12]+2368359562&4294967295,R=L+(I<<20&4294967295|I>>>12),I=S+(R^L^U)+M[5]+4294588738&4294967295,S=R+(I<<4&4294967295|I>>>28),I=U+(S^R^L)+M[8]+2272392833&4294967295,U=S+(I<<11&4294967295|I>>>21),I=L+(U^S^R)+M[11]+1839030562&4294967295,L=U+(I<<16&4294967295|I>>>16),I=R+(L^U^S)+M[14]+4259657740&4294967295,R=L+(I<<23&4294967295|I>>>9),I=S+(R^L^U)+M[1]+2763975236&4294967295,S=R+(I<<4&4294967295|I>>>28),I=U+(S^R^L)+M[4]+1272893353&4294967295,U=S+(I<<11&4294967295|I>>>21),I=L+(U^S^R)+M[7]+4139469664&4294967295,L=U+(I<<16&4294967295|I>>>16),I=R+(L^U^S)+M[10]+3200236656&4294967295,R=L+(I<<23&4294967295|I>>>9),I=S+(R^L^U)+M[13]+681279174&4294967295,S=R+(I<<4&4294967295|I>>>28),I=U+(S^R^L)+M[0]+3936430074&4294967295,U=S+(I<<11&4294967295|I>>>21),I=L+(U^S^R)+M[3]+3572445317&4294967295,L=U+(I<<16&4294967295|I>>>16),I=R+(L^U^S)+M[6]+76029189&4294967295,R=L+(I<<23&4294967295|I>>>9),I=S+(R^L^U)+M[9]+3654602809&4294967295,S=R+(I<<4&4294967295|I>>>28),I=U+(S^R^L)+M[12]+3873151461&4294967295,U=S+(I<<11&4294967295|I>>>21),I=L+(U^S^R)+M[15]+530742520&4294967295,L=U+(I<<16&4294967295|I>>>16),I=R+(L^U^S)+M[2]+3299628645&4294967295,R=L+(I<<23&4294967295|I>>>9),I=S+(L^(R|~U))+M[0]+4096336452&4294967295,S=R+(I<<6&4294967295|I>>>26),I=U+(R^(S|~L))+M[7]+1126891415&4294967295,U=S+(I<<10&4294967295|I>>>22),I=L+(S^(U|~R))+M[14]+2878612391&4294967295,L=U+(I<<15&4294967295|I>>>17),I=R+(U^(L|~S))+M[5]+4237533241&4294967295,R=L+(I<<21&4294967295|I>>>11),I=S+(L^(R|~U))+M[12]+1700485571&4294967295,S=R+(I<<6&4294967295|I>>>26),I=U+(R^(S|~L))+M[3]+2399980690&4294967295,U=S+(I<<10&4294967295|I>>>22),I=L+(S^(U|~R))+M[10]+4293915773&4294967295,L=U+(I<<15&4294967295|I>>>17),I=R+(U^(L|~S))+M[1]+2240044497&4294967295,R=L+(I<<21&4294967295|I>>>11),I=S+(L^(R|~U))+M[8]+1873313359&4294967295,S=R+(I<<6&4294967295|I>>>26),I=U+(R^(S|~L))+M[15]+4264355552&4294967295,U=S+(I<<10&4294967295|I>>>22),I=L+(S^(U|~R))+M[6]+2734768916&4294967295,L=U+(I<<15&4294967295|I>>>17),I=R+(U^(L|~S))+M[13]+1309151649&4294967295,R=L+(I<<21&4294967295|I>>>11),I=S+(L^(R|~U))+M[4]+4149444226&4294967295,S=R+(I<<6&4294967295|I>>>26),I=U+(R^(S|~L))+M[11]+3174756917&4294967295,U=S+(I<<10&4294967295|I>>>22),I=L+(S^(U|~R))+M[2]+718787259&4294967295,L=U+(I<<15&4294967295|I>>>17),I=R+(U^(L|~S))+M[9]+3951481745&4294967295,N.g[0]=N.g[0]+S&4294967295,N.g[1]=N.g[1]+(L+(I<<21&4294967295|I>>>11))&4294967295,N.g[2]=N.g[2]+L&4294967295,N.g[3]=N.g[3]+U&4294967295}s.prototype.u=function(N,S){S===void 0&&(S=N.length);for(var R=S-this.blockSize,M=this.B,L=this.h,U=0;U<S;){if(L==0)for(;U<=R;)o(this,N,U),U+=this.blockSize;if(typeof N=="string"){for(;U<S;)if(M[L++]=N.charCodeAt(U++),L==this.blockSize){o(this,M),L=0;break}}else for(;U<S;)if(M[L++]=N[U++],L==this.blockSize){o(this,M),L=0;break}}this.h=L,this.o+=S},s.prototype.v=function(){var N=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);N[0]=128;for(var S=1;S<N.length-8;++S)N[S]=0;var R=8*this.o;for(S=N.length-8;S<N.length;++S)N[S]=R&255,R/=256;for(this.u(N),N=Array(16),S=R=0;4>S;++S)for(var M=0;32>M;M+=8)N[R++]=this.g[S]>>>M&255;return N};function u(N,S){var R=d;return Object.prototype.hasOwnProperty.call(R,N)?R[N]:R[N]=S(N)}function h(N,S){this.h=S;for(var R=[],M=!0,L=N.length-1;0<=L;L--){var U=N[L]|0;M&&U==S||(R[L]=U,M=!1)}this.g=R}var d={};function p(N){return-128<=N&&128>N?u(N,function(S){return new h([S|0],0>S?-1:0)}):new h([N|0],0>N?-1:0)}function g(N){if(isNaN(N)||!isFinite(N))return v;if(0>N)return D(g(-N));for(var S=[],R=1,M=0;N>=R;M++)S[M]=N/R|0,R*=4294967296;return new h(S,0)}function _(N,S){if(N.length==0)throw Error("number format error: empty string");if(S=S||10,2>S||36<S)throw Error("radix out of range: "+S);if(N.charAt(0)=="-")return D(_(N.substring(1),S));if(0<=N.indexOf("-"))throw Error('number format error: interior "-" character');for(var R=g(Math.pow(S,8)),M=v,L=0;L<N.length;L+=8){var U=Math.min(8,N.length-L),I=parseInt(N.substring(L,L+U),S);8>U?(U=g(Math.pow(S,U)),M=M.j(U).add(g(I))):(M=M.j(R),M=M.add(g(I)))}return M}var v=p(0),T=p(1),x=p(16777216);r=h.prototype,r.m=function(){if(O(this))return-D(this).m();for(var N=0,S=1,R=0;R<this.g.length;R++){var M=this.i(R);N+=(0<=M?M:4294967296+M)*S,S*=4294967296}return N},r.toString=function(N){if(N=N||10,2>N||36<N)throw Error("radix out of range: "+N);if(C(this))return"0";if(O(this))return"-"+D(this).toString(N);for(var S=g(Math.pow(N,6)),R=this,M="";;){var L=oe(R,S).g;R=z(R,L.j(S));var U=((0<R.g.length?R.g[0]:R.h)>>>0).toString(N);if(R=L,C(R))return U+M;for(;6>U.length;)U="0"+U;M=U+M}},r.i=function(N){return 0>N?0:N<this.g.length?this.g[N]:this.h};function C(N){if(N.h!=0)return!1;for(var S=0;S<N.g.length;S++)if(N.g[S]!=0)return!1;return!0}function O(N){return N.h==-1}r.l=function(N){return N=z(this,N),O(N)?-1:C(N)?0:1};function D(N){for(var S=N.g.length,R=[],M=0;M<S;M++)R[M]=~N.g[M];return new h(R,~N.h).add(T)}r.abs=function(){return O(this)?D(this):this},r.add=function(N){for(var S=Math.max(this.g.length,N.g.length),R=[],M=0,L=0;L<=S;L++){var U=M+(this.i(L)&65535)+(N.i(L)&65535),I=(U>>>16)+(this.i(L)>>>16)+(N.i(L)>>>16);M=I>>>16,U&=65535,I&=65535,R[L]=I<<16|U}return new h(R,R[R.length-1]&-2147483648?-1:0)};function z(N,S){return N.add(D(S))}r.j=function(N){if(C(this)||C(N))return v;if(O(this))return O(N)?D(this).j(D(N)):D(D(this).j(N));if(O(N))return D(this.j(D(N)));if(0>this.l(x)&&0>N.l(x))return g(this.m()*N.m());for(var S=this.g.length+N.g.length,R=[],M=0;M<2*S;M++)R[M]=0;for(M=0;M<this.g.length;M++)for(var L=0;L<N.g.length;L++){var U=this.i(M)>>>16,I=this.i(M)&65535,Ke=N.i(L)>>>16,xe=N.i(L)&65535;R[2*M+2*L]+=I*xe,Y(R,2*M+2*L),R[2*M+2*L+1]+=U*xe,Y(R,2*M+2*L+1),R[2*M+2*L+1]+=I*Ke,Y(R,2*M+2*L+1),R[2*M+2*L+2]+=U*Ke,Y(R,2*M+2*L+2)}for(M=0;M<S;M++)R[M]=R[2*M+1]<<16|R[2*M];for(M=S;M<2*S;M++)R[M]=0;return new h(R,0)};function Y(N,S){for(;(N[S]&65535)!=N[S];)N[S+1]+=N[S]>>>16,N[S]&=65535,S++}function Q(N,S){this.g=N,this.h=S}function oe(N,S){if(C(S))throw Error("division by zero");if(C(N))return new Q(v,v);if(O(N))return S=oe(D(N),S),new Q(D(S.g),D(S.h));if(O(S))return S=oe(N,D(S)),new Q(D(S.g),S.h);if(30<N.g.length){if(O(N)||O(S))throw Error("slowDivide_ only works with positive integers.");for(var R=T,M=S;0>=M.l(N);)R=$(R),M=$(M);var L=ie(R,1),U=ie(M,1);for(M=ie(M,2),R=ie(R,2);!C(M);){var I=U.add(M);0>=I.l(N)&&(L=L.add(R),U=I),M=ie(M,1),R=ie(R,1)}return S=z(N,L.j(S)),new Q(L,S)}for(L=v;0<=N.l(S);){for(R=Math.max(1,Math.floor(N.m()/S.m())),M=Math.ceil(Math.log(R)/Math.LN2),M=48>=M?1:Math.pow(2,M-48),U=g(R),I=U.j(S);O(I)||0<I.l(N);)R-=M,U=g(R),I=U.j(S);C(U)&&(U=T),L=L.add(U),N=z(N,I)}return new Q(L,N)}r.A=function(N){return oe(this,N).h},r.and=function(N){for(var S=Math.max(this.g.length,N.g.length),R=[],M=0;M<S;M++)R[M]=this.i(M)&N.i(M);return new h(R,this.h&N.h)},r.or=function(N){for(var S=Math.max(this.g.length,N.g.length),R=[],M=0;M<S;M++)R[M]=this.i(M)|N.i(M);return new h(R,this.h|N.h)},r.xor=function(N){for(var S=Math.max(this.g.length,N.g.length),R=[],M=0;M<S;M++)R[M]=this.i(M)^N.i(M);return new h(R,this.h^N.h)};function $(N){for(var S=N.g.length+1,R=[],M=0;M<S;M++)R[M]=N.i(M)<<1|N.i(M-1)>>>31;return new h(R,N.h)}function ie(N,S){var R=S>>5;S%=32;for(var M=N.g.length-R,L=[],U=0;U<M;U++)L[U]=0<S?N.i(U+R)>>>S|N.i(U+R+1)<<32-S:N.i(U+R);return new h(L,N.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,FT=s,h.prototype.add=h.prototype.add,h.prototype.multiply=h.prototype.j,h.prototype.modulo=h.prototype.A,h.prototype.compare=h.prototype.l,h.prototype.toNumber=h.prototype.m,h.prototype.toString=h.prototype.toString,h.prototype.getBits=h.prototype.i,h.fromNumber=g,h.fromString=_,As=h}).apply(typeof rb<"u"?rb:typeof self<"u"?self:typeof window<"u"?window:{});var yh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var HT,ou,GT,Ih,dp,YT,KT,QT;(function(){var r,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,y,b){return c==Array.prototype||c==Object.prototype||(c[y]=b.value),c};function t(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof yh=="object"&&yh];for(var y=0;y<c.length;++y){var b=c[y];if(b&&b.Math==Math)return b}throw Error("Cannot find global object")}var s=t(this);function o(c,y){if(y)e:{var b=s;c=c.split(".");for(var A=0;A<c.length-1;A++){var F=c[A];if(!(F in b))break e;b=b[F]}c=c[c.length-1],A=b[c],y=y(A),y!=A&&y!=null&&e(b,c,{configurable:!0,writable:!0,value:y})}}function u(c,y){c instanceof String&&(c+="");var b=0,A=!1,F={next:function(){if(!A&&b<c.length){var Z=b++;return{value:y(Z,c[Z]),done:!1}}return A=!0,{done:!0,value:void 0}}};return F[Symbol.iterator]=function(){return F},F}o("Array.prototype.values",function(c){return c||function(){return u(this,function(y,b){return b})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var h=h||{},d=this||self;function p(c){var y=typeof c;return y=y!="object"?y:c?Array.isArray(c)?"array":y:"null",y=="array"||y=="object"&&typeof c.length=="number"}function g(c){var y=typeof c;return y=="object"&&c!=null||y=="function"}function _(c,y,b){return c.call.apply(c.bind,arguments)}function v(c,y,b){if(!c)throw Error();if(2<arguments.length){var A=Array.prototype.slice.call(arguments,2);return function(){var F=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(F,A),c.apply(y,F)}}return function(){return c.apply(y,arguments)}}function T(c,y,b){return T=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?_:v,T.apply(null,arguments)}function x(c,y){var b=Array.prototype.slice.call(arguments,1);return function(){var A=b.slice();return A.push.apply(A,arguments),c.apply(this,A)}}function C(c,y){function b(){}b.prototype=y.prototype,c.aa=y.prototype,c.prototype=new b,c.prototype.constructor=c,c.Qb=function(A,F,Z){for(var fe=Array(arguments.length-2),Qe=2;Qe<arguments.length;Qe++)fe[Qe-2]=arguments[Qe];return y.prototype[F].apply(A,fe)}}function O(c){const y=c.length;if(0<y){const b=Array(y);for(let A=0;A<y;A++)b[A]=c[A];return b}return[]}function D(c,y){for(let b=1;b<arguments.length;b++){const A=arguments[b];if(p(A)){const F=c.length||0,Z=A.length||0;c.length=F+Z;for(let fe=0;fe<Z;fe++)c[F+fe]=A[fe]}else c.push(A)}}class z{constructor(y,b){this.i=y,this.j=b,this.h=0,this.g=null}get(){let y;return 0<this.h?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function Y(c){return/^[\s\xa0]*$/.test(c)}function Q(){var c=d.navigator;return c&&(c=c.userAgent)?c:""}function oe(c){return oe[" "](c),c}oe[" "]=function(){};var $=Q().indexOf("Gecko")!=-1&&!(Q().toLowerCase().indexOf("webkit")!=-1&&Q().indexOf("Edge")==-1)&&!(Q().indexOf("Trident")!=-1||Q().indexOf("MSIE")!=-1)&&Q().indexOf("Edge")==-1;function ie(c,y,b){for(const A in c)y.call(b,c[A],A,c)}function N(c,y){for(const b in c)y.call(void 0,c[b],b,c)}function S(c){const y={};for(const b in c)y[b]=c[b];return y}const R="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function M(c,y){let b,A;for(let F=1;F<arguments.length;F++){A=arguments[F];for(b in A)c[b]=A[b];for(let Z=0;Z<R.length;Z++)b=R[Z],Object.prototype.hasOwnProperty.call(A,b)&&(c[b]=A[b])}}function L(c){var y=1;c=c.split(":");const b=[];for(;0<y&&c.length;)b.push(c.shift()),y--;return c.length&&b.push(c.join(":")),b}function U(c){d.setTimeout(()=>{throw c},0)}function I(){var c=Re;let y=null;return c.g&&(y=c.g,c.g=c.g.next,c.g||(c.h=null),y.next=null),y}class Ke{constructor(){this.h=this.g=null}add(y,b){const A=xe.get();A.set(y,b),this.h?this.h.next=A:this.g=A,this.h=A}}var xe=new z(()=>new q,c=>c.reset());class q{constructor(){this.next=this.g=this.h=null}set(y,b){this.h=y,this.g=b,this.next=null}reset(){this.next=this.g=this.h=null}}let ce,ne=!1,Re=new Ke,P=()=>{const c=d.Promise.resolve(void 0);ce=()=>{c.then(J)}};var J=()=>{for(var c;c=I();){try{c.h.call(c.g)}catch(b){U(b)}var y=xe;y.j(c),100>y.h&&(y.h++,c.next=y.g,y.g=c)}ne=!1};function ue(){this.s=this.s,this.C=this.C}ue.prototype.s=!1,ue.prototype.ma=function(){this.s||(this.s=!0,this.N())},ue.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ee(c,y){this.type=c,this.g=this.target=y,this.defaultPrevented=!1}ee.prototype.h=function(){this.defaultPrevented=!0};var he=function(){if(!d.addEventListener||!Object.defineProperty)return!1;var c=!1,y=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const b=()=>{};d.addEventListener("test",b,y),d.removeEventListener("test",b,y)}catch{}return c}();function be(c,y){if(ee.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var b=this.type=c.type,A=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=y,y=c.relatedTarget){if($){e:{try{oe(y.nodeName);var F=!0;break e}catch{}F=!1}F||(y=null)}}else b=="mouseover"?y=c.fromElement:b=="mouseout"&&(y=c.toElement);this.relatedTarget=y,A?(this.clientX=A.clientX!==void 0?A.clientX:A.pageX,this.clientY=A.clientY!==void 0?A.clientY:A.pageY,this.screenX=A.screenX||0,this.screenY=A.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:me[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&be.aa.h.call(this)}}C(be,ee);var me={2:"touch",3:"pen",4:"mouse"};be.prototype.h=function(){be.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var Oe="closure_listenable_"+(1e6*Math.random()|0),ze=0;function Tt(c,y,b,A,F){this.listener=c,this.proxy=null,this.src=y,this.type=b,this.capture=!!A,this.ha=F,this.key=++ze,this.da=this.fa=!1}function Nt(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function rn(c){this.src=c,this.g={},this.h=0}rn.prototype.add=function(c,y,b,A,F){var Z=c.toString();c=this.g[Z],c||(c=this.g[Z]=[],this.h++);var fe=we(c,y,A,F);return-1<fe?(y=c[fe],b||(y.fa=!1)):(y=new Tt(y,this.src,Z,!!A,F),y.fa=b,c.push(y)),y};function sn(c,y){var b=y.type;if(b in c.g){var A=c.g[b],F=Array.prototype.indexOf.call(A,y,void 0),Z;(Z=0<=F)&&Array.prototype.splice.call(A,F,1),Z&&(Nt(y),c.g[b].length==0&&(delete c.g[b],c.h--))}}function we(c,y,b,A){for(var F=0;F<c.length;++F){var Z=c[F];if(!Z.da&&Z.listener==y&&Z.capture==!!b&&Z.ha==A)return F}return-1}var Be="closure_lm_"+(1e6*Math.random()|0),dt={};function Ct(c,y,b,A,F){if(Array.isArray(y)){for(var Z=0;Z<y.length;Z++)Ct(c,y[Z],b,A,F);return null}return b=La(b),c&&c[Oe]?c.K(y,b,g(A)?!!A.capture:!1,F):Ze(c,y,b,!1,A,F)}function Ze(c,y,b,A,F,Z){if(!y)throw Error("Invalid event type");var fe=g(F)?!!F.capture:!!F,Qe=Vn(c);if(Qe||(c[Be]=Qe=new rn(c)),b=Qe.add(y,b,A,fe,Z),b.proxy)return b;if(A=ti(),b.proxy=A,A.src=c,A.listener=b,c.addEventListener)he||(F=fe),F===void 0&&(F=!1),c.addEventListener(y.toString(),A,F);else if(c.attachEvent)c.attachEvent(ni(y.toString()),A);else if(c.addListener&&c.removeListener)c.addListener(A);else throw Error("addEventListener and attachEvent are unavailable.");return b}function ti(){function c(b){return y.call(c.src,c.listener,b)}const y=an;return c}function wt(c,y,b,A,F){if(Array.isArray(y))for(var Z=0;Z<y.length;Z++)wt(c,y[Z],b,A,F);else A=g(A)?!!A.capture:!!A,b=La(b),c&&c[Oe]?(c=c.i,y=String(y).toString(),y in c.g&&(Z=c.g[y],b=we(Z,b,A,F),-1<b&&(Nt(Z[b]),Array.prototype.splice.call(Z,b,1),Z.length==0&&(delete c.g[y],c.h--)))):c&&(c=Vn(c))&&(y=c.g[y.toString()],c=-1,y&&(c=we(y,b,A,F)),(b=-1<c?y[c]:null)&&qi(b))}function qi(c){if(typeof c!="number"&&c&&!c.da){var y=c.src;if(y&&y[Oe])sn(y.i,c);else{var b=c.type,A=c.proxy;y.removeEventListener?y.removeEventListener(b,A,c.capture):y.detachEvent?y.detachEvent(ni(b),A):y.addListener&&y.removeListener&&y.removeListener(A),(b=Vn(y))?(sn(b,c),b.h==0&&(b.src=null,y[Be]=null)):Nt(c)}}}function ni(c){return c in dt?dt[c]:dt[c]="on"+c}function an(c,y){if(c.da)c=!0;else{y=new be(y,this);var b=c.listener,A=c.ha||c.src;c.fa&&qi(c),c=b.call(A,y)}return c}function Vn(c){return c=c[Be],c instanceof rn?c:null}var Us="__closure_events_fn_"+(1e9*Math.random()>>>0);function La(c){return typeof c=="function"?c:(c[Us]||(c[Us]=function(y){return c.handleEvent(y)}),c[Us])}function ht(){ue.call(this),this.i=new rn(this),this.M=this,this.F=null}C(ht,ue),ht.prototype[Oe]=!0,ht.prototype.removeEventListener=function(c,y,b,A){wt(this,c,y,b,A)};function tt(c,y){var b,A=c.F;if(A)for(b=[];A;A=A.F)b.push(A);if(c=c.M,A=y.type||y,typeof y=="string")y=new ee(y,c);else if(y instanceof ee)y.target=y.target||c;else{var F=y;y=new ee(A,c),M(y,F)}if(F=!0,b)for(var Z=b.length-1;0<=Z;Z--){var fe=y.g=b[Z];F=gn(fe,A,!0,y)&&F}if(fe=y.g=c,F=gn(fe,A,!0,y)&&F,F=gn(fe,A,!1,y)&&F,b)for(Z=0;Z<b.length;Z++)fe=y.g=b[Z],F=gn(fe,A,!1,y)&&F}ht.prototype.N=function(){if(ht.aa.N.call(this),this.i){var c=this.i,y;for(y in c.g){for(var b=c.g[y],A=0;A<b.length;A++)Nt(b[A]);delete c.g[y],c.h--}}this.F=null},ht.prototype.K=function(c,y,b,A){return this.i.add(String(c),y,!1,b,A)},ht.prototype.L=function(c,y,b,A){return this.i.add(String(c),y,!0,b,A)};function gn(c,y,b,A){if(y=c.i.g[String(y)],!y)return!0;y=y.concat();for(var F=!0,Z=0;Z<y.length;++Z){var fe=y[Z];if(fe&&!fe.da&&fe.capture==b){var Qe=fe.listener,Gt=fe.ha||fe.src;fe.fa&&sn(c.i,fe),F=Qe.call(Gt,A)!==!1&&F}}return F&&!A.defaultPrevented}function Vt(c,y,b){if(typeof c=="function")b&&(c=T(c,b));else if(c&&typeof c.handleEvent=="function")c=T(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(y)?-1:d.setTimeout(c,y||0)}function or(c){c.g=Vt(()=>{c.g=null,c.i&&(c.i=!1,or(c))},c.l);const y=c.h;c.h=null,c.m.apply(null,y)}class Ua extends ue{constructor(y,b){super(),this.m=y,this.l=b,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:or(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function xn(c){ue.call(this),this.h=c,this.g={}}C(xn,ue);var ri=[];function ii(c){ie(c.g,function(y,b){this.g.hasOwnProperty(b)&&qi(y)},c),c.g={}}xn.prototype.N=function(){xn.aa.N.call(this),ii(this)},xn.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var In=d.JSON.stringify,si=d.JSON.parse,ai=class{stringify(c){return d.JSON.stringify(c,void 0)}parse(c){return d.JSON.parse(c,void 0)}};function oi(){}oi.prototype.h=null;function Dn(c){return c.h||(c.h=c.i())}function zs(){}var lr={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Kn(){ee.call(this,"d")}C(Kn,ee);function Fi(){ee.call(this,"c")}C(Fi,ee);var Se={},vt=null;function yt(){return vt=vt||new ht}Se.La="serverreachability";function Lt(c){ee.call(this,Se.La,c)}C(Lt,ee);function Ln(c){const y=yt();tt(y,new Lt(y))}Se.STAT_EVENT="statevent";function xt(c,y){ee.call(this,Se.STAT_EVENT,c),this.stat=y}C(xt,ee);function qe(c){const y=yt();tt(y,new xt(y,c))}Se.Ma="timingevent";function _t(c,y){ee.call(this,Se.Ma,c),this.size=y}C(_t,ee);function Je(c,y){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){c()},y)}function bt(){this.g=!0}bt.prototype.xa=function(){this.g=!1};function Hi(c,y,b,A,F,Z){c.info(function(){if(c.g)if(Z)for(var fe="",Qe=Z.split("&"),Gt=0;Gt<Qe.length;Gt++){var $e=Qe[Gt].split("=");if(1<$e.length){var Zt=$e[0];$e=$e[1];var Yt=Zt.split("_");fe=2<=Yt.length&&Yt[1]=="type"?fe+(Zt+"="+$e+"&"):fe+(Zt+"=redacted&")}}else fe=null;else fe=Z;return"XMLHTTP REQ ("+A+") [attempt "+F+"]: "+y+`
`+b+`
`+fe})}function ur(c,y,b,A,F,Z,fe){c.info(function(){return"XMLHTTP RESP ("+A+") [ attempt "+F+"]: "+y+`
`+b+`
`+Z+" "+fe})}function li(c,y,b,A){c.info(function(){return"XMLHTTP TEXT ("+y+"): "+js(c,b)+(A?" "+A:"")})}function Gu(c,y){c.info(function(){return"TIMEOUT: "+y})}bt.prototype.info=function(){};function js(c,y){if(!c.g)return y;if(!y)return null;try{var b=JSON.parse(y);if(b){for(c=0;c<b.length;c++)if(Array.isArray(b[c])){var A=b[c];if(!(2>A.length)){var F=A[1];if(Array.isArray(F)&&!(1>F.length)){var Z=F[0];if(Z!="noop"&&Z!="stop"&&Z!="close")for(var fe=1;fe<F.length;fe++)F[fe]=""}}}}return In(b)}catch{return y}}var Gi={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},ui={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Tr;function wr(){}C(wr,oi),wr.prototype.g=function(){return new XMLHttpRequest},wr.prototype.i=function(){return{}},Tr=new wr;function wn(c,y,b,A){this.j=c,this.i=y,this.l=b,this.R=A||1,this.U=new xn(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Ot}function Ot(){this.i=null,this.g="",this.h=!1}var el={},za={};function cr(c,y,b){c.L=1,c.v=Gs(Un(y)),c.m=b,c.P=!0,ci(c,null)}function ci(c,y){c.F=Date.now(),Bs(c),c.A=Un(c.v);var b=c.A,A=c.R;Array.isArray(A)||(A=[String(A)]),al(b.i,"t",A),c.C=0,b=c.j.J,c.h=new Ot,c.g=oc(c.j,b?y:null,!c.m),0<c.O&&(c.M=new Ua(T(c.Y,c,c.g),c.O)),y=c.U,b=c.g,A=c.ca;var F="readystatechange";Array.isArray(F)||(F&&(ri[0]=F.toString()),F=ri);for(var Z=0;Z<F.length;Z++){var fe=Ct(b,F[Z],A||y.handleEvent,!1,y.h||y);if(!fe)break;y.g[fe.key]=fe}y=c.H?S(c.H):{},c.m?(c.u||(c.u="POST"),y["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,y)):(c.u="GET",c.g.ea(c.A,c.u,null,y)),Ln(),Hi(c.i,c.u,c.A,c.l,c.R,c.m)}wn.prototype.ca=function(c){c=c.target;const y=this.M;y&&Wn(c)==3?y.j():this.Y(c)},wn.prototype.Y=function(c){try{if(c==this.g)e:{const Yt=Wn(this.g);var y=this.g.Ba();const vi=this.g.Z();if(!(3>Yt)&&(Yt!=3||this.g&&(this.h.h||this.g.oa()||Ju(this.g)))){this.J||Yt!=4||y==7||(y==8||0>=vi?Ln(3):Ln(2)),Yi(this);var b=this.g.Z();this.X=b;t:if(Yu(this)){var A=Ju(this.g);c="";var F=A.length,Z=Wn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){on(this),Sr(this);var fe="";break t}this.h.i=new d.TextDecoder}for(y=0;y<F;y++)this.h.h=!0,c+=this.h.i.decode(A[y],{stream:!(Z&&y==F-1)});A.length=0,this.h.g+=c,this.C=0,fe=this.h.g}else fe=this.g.oa();if(this.o=b==200,ur(this.i,this.u,this.A,this.l,this.R,Yt,b),this.o){if(this.T&&!this.K){t:{if(this.g){var Qe,Gt=this.g;if((Qe=Gt.g?Gt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Y(Qe)){var $e=Qe;break t}}$e=null}if(b=$e)li(this.i,this.l,b,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,qs(this,b);else{this.o=!1,this.s=3,qe(12),on(this),Sr(this);break e}}if(this.P){b=!0;let ln;for(;!this.J&&this.C<fe.length;)if(ln=Ku(this,fe),ln==za){Yt==4&&(this.s=4,qe(14),b=!1),li(this.i,this.l,null,"[Incomplete Response]");break}else if(ln==el){this.s=4,qe(15),li(this.i,this.l,fe,"[Invalid Chunk]"),b=!1;break}else li(this.i,this.l,ln,null),qs(this,ln);if(Yu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Yt!=4||fe.length!=0||this.h.h||(this.s=1,qe(16),b=!1),this.o=this.o&&b,!b)li(this.i,this.l,fe,"[Invalid Chunked Response]"),on(this),Sr(this);else if(0<fe.length&&!this.W){this.W=!0;var Zt=this.j;Zt.g==this&&Zt.ba&&!Zt.M&&(Zt.j.info("Great, no buffering proxy detected. Bytes received: "+fe.length),Js(Zt),Zt.M=!0,qe(11))}}else li(this.i,this.l,fe,null),qs(this,fe);Yt==4&&on(this),this.o&&!this.J&&(Yt==4?ic(this.j,this):(this.o=!1,Bs(this)))}else Mf(this.g),b==400&&0<fe.indexOf("Unknown SID")?(this.s=3,qe(12)):(this.s=0,qe(13)),on(this),Sr(this)}}}catch{}finally{}};function Yu(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function Ku(c,y){var b=c.C,A=y.indexOf(`
`,b);return A==-1?za:(b=Number(y.substring(b,A)),isNaN(b)?el:(A+=1,A+b>y.length?za:(y=y.slice(A,A+b),c.C=A+b,y)))}wn.prototype.cancel=function(){this.J=!0,on(this)};function Bs(c){c.S=Date.now()+c.I,Qu(c,c.I)}function Qu(c,y){if(c.B!=null)throw Error("WatchDog timer not null");c.B=Je(T(c.ba,c),y)}function Yi(c){c.B&&(d.clearTimeout(c.B),c.B=null)}wn.prototype.ba=function(){this.B=null;const c=Date.now();0<=c-this.S?(Gu(this.i,this.A),this.L!=2&&(Ln(),qe(17)),on(this),this.s=2,Sr(this)):Qu(this,this.S-c)};function Sr(c){c.j.G==0||c.J||ic(c.j,c)}function on(c){Yi(c);var y=c.M;y&&typeof y.ma=="function"&&y.ma(),c.M=null,ii(c.U),c.g&&(y=c.g,c.g=null,y.abort(),y.ma())}function qs(c,y){try{var b=c.j;if(b.G!=0&&(b.g==c||tl(b.h,c))){if(!c.K&&tl(b.h,c)&&b.G==3){try{var A=b.Da.g.parse(y)}catch{A=null}if(Array.isArray(A)&&A.length==3){var F=A;if(F[0]==0){e:if(!b.u){if(b.g)if(b.g.F+3e3<c.F)Wa(b),$a(b);else break e;hl(b),qe(18)}}else b.za=F[1],0<b.za-b.T&&37500>F[2]&&b.F&&b.v==0&&!b.C&&(b.C=Je(T(b.Za,b),6e3));if(1>=Ba(b.h)&&b.ca){try{b.ca()}catch{}b.ca=void 0}}else yi(b,11)}else if((c.K||b.g==c)&&Wa(b),!Y(y))for(F=b.Da.g.parse(y),y=0;y<F.length;y++){let $e=F[y];if(b.T=$e[0],$e=$e[1],b.G==2)if($e[0]=="c"){b.K=$e[1],b.ia=$e[2];const Zt=$e[3];Zt!=null&&(b.la=Zt,b.j.info("VER="+b.la));const Yt=$e[4];Yt!=null&&(b.Aa=Yt,b.j.info("SVER="+b.Aa));const vi=$e[5];vi!=null&&typeof vi=="number"&&0<vi&&(A=1.5*vi,b.L=A,b.j.info("backChannelRequestTimeoutMs_="+A)),A=b;const ln=c.g;if(ln){const Nr=ln.g?ln.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Nr){var Z=A.h;Z.g||Nr.indexOf("spdy")==-1&&Nr.indexOf("quic")==-1&&Nr.indexOf("h2")==-1||(Z.j=Z.l,Z.g=new Set,Z.h&&(qa(Z,Z.h),Z.h=null))}if(A.D){const dl=ln.g?ln.g.getResponseHeader("X-HTTP-Session-Id"):null;dl&&(A.ya=dl,ot(A.I,A.D,dl))}}b.G=3,b.l&&b.l.ua(),b.ba&&(b.R=Date.now()-c.F,b.j.info("Handshake RTT: "+b.R+"ms")),A=b;var fe=c;if(A.qa=ac(A,A.J?A.ia:null,A.W),fe.K){Sn(A.h,fe);var Qe=fe,Gt=A.L;Gt&&(Qe.I=Gt),Qe.B&&(Yi(Qe),Bs(Qe)),A.g=fe}else nc(A);0<b.i.length&&Xa(b)}else $e[0]!="stop"&&$e[0]!="close"||yi(b,7);else b.G==3&&($e[0]=="stop"||$e[0]=="close"?$e[0]=="stop"?yi(b,7):ul(b):$e[0]!="noop"&&b.l&&b.l.ta($e),b.v=0)}}Ln(4)}catch{}}var $u=class{constructor(c,y){this.g=c,this.map=y}};function hi(c){this.l=c||10,d.PerformanceNavigationTiming?(c=d.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function ja(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function Ba(c){return c.h?1:c.g?c.g.size:0}function tl(c,y){return c.h?c.h==y:c.g?c.g.has(y):!1}function qa(c,y){c.g?c.g.add(y):c.h=y}function Sn(c,y){c.h&&c.h==y?c.h=null:c.g&&c.g.has(y)&&c.g.delete(y)}hi.prototype.cancel=function(){if(this.i=nl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function nl(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let y=c.i;for(const b of c.g.values())y=y.concat(b.D);return y}return O(c.i)}function Df(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(p(c)){for(var y=[],b=c.length,A=0;A<b;A++)y.push(c[A]);return y}y=[],b=0;for(A in c)y[b++]=c[A];return y}function Fa(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(p(c)||typeof c=="string"){var y=[];c=c.length;for(var b=0;b<c;b++)y.push(b);return y}y=[],b=0;for(const A in c)y[b++]=A;return y}}}function rl(c,y){if(c.forEach&&typeof c.forEach=="function")c.forEach(y,void 0);else if(p(c)||typeof c=="string")Array.prototype.forEach.call(c,y,void 0);else for(var b=Fa(c),A=Df(c),F=A.length,Z=0;Z<F;Z++)y.call(void 0,A[Z],b&&b[Z],c)}var Fs=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Nf(c,y){if(c){c=c.split("&");for(var b=0;b<c.length;b++){var A=c[b].indexOf("="),F=null;if(0<=A){var Z=c[b].substring(0,A);F=c[b].substring(A+1)}else Z=c[b];y(Z,F?decodeURIComponent(F.replace(/\+/g," ")):"")}}}function Ut(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof Ut){this.h=c.h,Hs(this,c.j),this.o=c.o,this.g=c.g,Ki(this,c.s),this.l=c.l;var y=c.i,b=new di;b.i=y.i,y.g&&(b.g=new Map(y.g),b.h=y.h),fi(this,b),this.m=c.m}else c&&(y=String(c).match(Fs))?(this.h=!1,Hs(this,y[1]||"",!0),this.o=Qn(y[2]||""),this.g=Qn(y[3]||"",!0),Ki(this,y[4]),this.l=Qn(y[5]||"",!0),fi(this,y[6]||"",!0),this.m=Qn(y[7]||"")):(this.h=!1,this.i=new di(null,this.h))}Ut.prototype.toString=function(){var c=[],y=this.j;y&&c.push(Ys(y,il,!0),":");var b=this.g;return(b||y=="file")&&(c.push("//"),(y=this.o)&&c.push(Ys(y,il,!0),"@"),c.push(encodeURIComponent(String(b)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),b=this.s,b!=null&&c.push(":",String(b))),(b=this.l)&&(this.g&&b.charAt(0)!="/"&&c.push("/"),c.push(Ys(b,b.charAt(0)=="/"?Of:sl,!0))),(b=this.i.toString())&&c.push("?",b),(b=this.m)&&c.push("#",Ys(b,Ha)),c.join("")};function Un(c){return new Ut(c)}function Hs(c,y,b){c.j=b?Qn(y,!0):y,c.j&&(c.j=c.j.replace(/:$/,""))}function Ki(c,y){if(y){if(y=Number(y),isNaN(y)||0>y)throw Error("Bad port number "+y);c.s=y}else c.s=null}function fi(c,y,b){y instanceof di?(c.i=y,Wu(c.i,c.h)):(b||(y=Ys(y,kf)),c.i=new di(y,c.h))}function ot(c,y,b){c.i.set(y,b)}function Gs(c){return ot(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function Qn(c,y){return c?y?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function Ys(c,y,b){return typeof c=="string"?(c=encodeURI(c).replace(y,Xu),b&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function Xu(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var il=/[#\/\?@]/g,sl=/[#\?:]/g,Of=/[#\?]/g,kf=/[#\?@]/g,Ha=/#/g;function di(c,y){this.h=this.g=null,this.i=c||null,this.j=!!y}function $n(c){c.g||(c.g=new Map,c.h=0,c.i&&Nf(c.i,function(y,b){c.add(decodeURIComponent(y.replace(/\+/g," ")),b)}))}r=di.prototype,r.add=function(c,y){$n(this),this.i=null,c=Ar(this,c);var b=this.g.get(c);return b||this.g.set(c,b=[]),b.push(y),this.h+=1,this};function mi(c,y){$n(c),y=Ar(c,y),c.g.has(y)&&(c.i=null,c.h-=c.g.get(y).length,c.g.delete(y))}function pi(c,y){return $n(c),y=Ar(c,y),c.g.has(y)}r.forEach=function(c,y){$n(this),this.g.forEach(function(b,A){b.forEach(function(F){c.call(y,F,A,this)},this)},this)},r.na=function(){$n(this);const c=Array.from(this.g.values()),y=Array.from(this.g.keys()),b=[];for(let A=0;A<y.length;A++){const F=c[A];for(let Z=0;Z<F.length;Z++)b.push(y[A])}return b},r.V=function(c){$n(this);let y=[];if(typeof c=="string")pi(this,c)&&(y=y.concat(this.g.get(Ar(this,c))));else{c=Array.from(this.g.values());for(let b=0;b<c.length;b++)y=y.concat(c[b])}return y},r.set=function(c,y){return $n(this),this.i=null,c=Ar(this,c),pi(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[y]),this.h+=1,this},r.get=function(c,y){return c?(c=this.V(c),0<c.length?String(c[0]):y):y};function al(c,y,b){mi(c,y),0<b.length&&(c.i=null,c.g.set(Ar(c,y),O(b)),c.h+=b.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],y=Array.from(this.g.keys());for(var b=0;b<y.length;b++){var A=y[b];const Z=encodeURIComponent(String(A)),fe=this.V(A);for(A=0;A<fe.length;A++){var F=Z;fe[A]!==""&&(F+="="+encodeURIComponent(String(fe[A]))),c.push(F)}}return this.i=c.join("&")};function Ar(c,y){return y=String(y),c.j&&(y=y.toLowerCase()),y}function Wu(c,y){y&&!c.j&&($n(c),c.i=null,c.g.forEach(function(b,A){var F=A.toLowerCase();A!=F&&(mi(this,A),al(this,F,b))},c)),c.j=y}function Ks(c,y){const b=new bt;if(d.Image){const A=new Image;A.onload=x(Xn,b,"TestLoadImage: loaded",!0,y,A),A.onerror=x(Xn,b,"TestLoadImage: error",!1,y,A),A.onabort=x(Xn,b,"TestLoadImage: abort",!1,y,A),A.ontimeout=x(Xn,b,"TestLoadImage: timeout",!1,y,A),d.setTimeout(function(){A.ontimeout&&A.ontimeout()},1e4),A.src=c}else y(!1)}function hr(c,y){const b=new bt,A=new AbortController,F=setTimeout(()=>{A.abort(),Xn(b,"TestPingServer: timeout",!1,y)},1e4);fetch(c,{signal:A.signal}).then(Z=>{clearTimeout(F),Z.ok?Xn(b,"TestPingServer: ok",!0,y):Xn(b,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(F),Xn(b,"TestPingServer: error",!1,y)})}function Xn(c,y,b,A,F){try{F&&(F.onload=null,F.onerror=null,F.onabort=null,F.ontimeout=null),A(b)}catch{}}function Qs(){this.g=new ai}function Rr(c,y,b){const A=b||"";try{rl(c,function(F,Z){let fe=F;g(F)&&(fe=In(F)),y.push(A+Z+"="+encodeURIComponent(fe))})}catch(F){throw y.push(A+"type="+encodeURIComponent("_badmap")),F}}function Qi(c){this.l=c.Ub||null,this.j=c.eb||!1}C(Qi,oi),Qi.prototype.g=function(){return new gi(this.l,this.j)},Qi.prototype.i=function(c){return function(){return c}}({});function gi(c,y){ht.call(this),this.D=c,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}C(gi,ht),r=gi.prototype,r.open=function(c,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=y,this.readyState=1,xr(this)},r.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const y={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(y.body=c),(this.D||d).fetch(new Request(this.A,y)).then(this.Sa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Cr(this)),this.readyState=0},r.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,xr(this)),this.g&&(this.readyState=3,xr(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;ol(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function ol(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}r.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var y=c.value?c.value:new Uint8Array(0);(y=this.v.decode(y,{stream:!c.done}))&&(this.response=this.responseText+=y)}c.done?Cr(this):xr(this),this.readyState==3&&ol(this)}},r.Ra=function(c){this.g&&(this.response=this.responseText=c,Cr(this))},r.Qa=function(c){this.g&&(this.response=c,Cr(this))},r.ga=function(){this.g&&Cr(this)};function Cr(c){c.readyState=4,c.l=null,c.j=null,c.v=null,xr(c)}r.setRequestHeader=function(c,y){this.u.append(c,y)},r.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],y=this.h.entries();for(var b=y.next();!b.done;)b=b.value,c.push(b[0]+": "+b[1]),b=y.next();return c.join(`\r
`)};function xr(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(gi.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function ll(c){let y="";return ie(c,function(b,A){y+=A,y+=":",y+=b,y+=`\r
`}),y}function Wt(c,y,b){e:{for(A in b){var A=!1;break e}A=!0}A||(b=ll(b),typeof c=="string"?b!=null&&encodeURIComponent(String(b)):ot(c,y,b))}function rt(c){ht.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}C(rt,ht);var Ga=/^https?$/i,$s=["POST","PUT"];r=rt.prototype,r.Ha=function(c){this.J=c},r.ea=function(c,y,b,A){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);y=y?y.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Tr.g(),this.v=this.o?Dn(this.o):Dn(Tr),this.g.onreadystatechange=T(this.Ea,this);try{this.B=!0,this.g.open(y,String(c),!0),this.B=!1}catch(Z){Zu(this,Z);return}if(c=b||"",b=new Map(this.headers),A)if(Object.getPrototypeOf(A)===Object.prototype)for(var F in A)b.set(F,A[F]);else if(typeof A.keys=="function"&&typeof A.get=="function")for(const Z of A.keys())b.set(Z,A.get(Z));else throw Error("Unknown input type for opt_headers: "+String(A));A=Array.from(b.keys()).find(Z=>Z.toLowerCase()=="content-type"),F=d.FormData&&c instanceof d.FormData,!(0<=Array.prototype.indexOf.call($s,y,void 0))||A||F||b.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Z,fe]of b)this.g.setRequestHeader(Z,fe);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Xs(this),this.u=!0,this.g.send(c),this.u=!1}catch(Z){Zu(this,Z)}};function Zu(c,y){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=y,c.m=5,Ya(c),Ir(c)}function Ya(c){c.A||(c.A=!0,tt(c,"complete"),tt(c,"error"))}r.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,tt(this,"complete"),tt(this,"abort"),Ir(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ir(this,!0)),rt.aa.N.call(this)},r.Ea=function(){this.s||(this.B||this.u||this.j?Ka(this):this.bb())},r.bb=function(){Ka(this)};function Ka(c){if(c.h&&typeof h<"u"&&(!c.v[1]||Wn(c)!=4||c.Z()!=2)){if(c.u&&Wn(c)==4)Vt(c.Ea,0,c);else if(tt(c,"readystatechange"),Wn(c)==4){c.h=!1;try{const fe=c.Z();e:switch(fe){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break e;default:y=!1}var b;if(!(b=y)){var A;if(A=fe===0){var F=String(c.D).match(Fs)[1]||null;!F&&d.self&&d.self.location&&(F=d.self.location.protocol.slice(0,-1)),A=!Ga.test(F?F.toLowerCase():"")}b=A}if(b)tt(c,"complete"),tt(c,"success");else{c.m=6;try{var Z=2<Wn(c)?c.g.statusText:""}catch{Z=""}c.l=Z+" ["+c.Z()+"]",Ya(c)}}finally{Ir(c)}}}}function Ir(c,y){if(c.g){Xs(c);const b=c.g,A=c.v[0]?()=>{}:null;c.g=null,c.v=null,y||tt(c,"ready");try{b.onreadystatechange=A}catch{}}}function Xs(c){c.I&&(d.clearTimeout(c.I),c.I=null)}r.isActive=function(){return!!this.g};function Wn(c){return c.g?c.g.readyState:0}r.Z=function(){try{return 2<Wn(this)?this.g.status:-1}catch{return-1}},r.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.Oa=function(c){if(this.g){var y=this.g.responseText;return c&&y.indexOf(c)==0&&(y=y.substring(c.length)),si(y)}};function Ju(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function Mf(c){const y={};c=(c.g&&2<=Wn(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let A=0;A<c.length;A++){if(Y(c[A]))continue;var b=L(c[A]);const F=b[0];if(b=b[1],typeof b!="string")continue;b=b.trim();const Z=y[F]||[];y[F]=Z,Z.push(b)}N(y,function(A){return A.join(", ")})}r.Ba=function(){return this.m},r.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ws(c,y,b){return b&&b.internalChannelParams&&b.internalChannelParams[c]||y}function Qa(c){this.Aa=0,this.i=[],this.j=new bt,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Ws("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Ws("baseRetryDelayMs",5e3,c),this.cb=Ws("retryDelaySeedMs",1e4,c),this.Wa=Ws("forwardChannelMaxRetries",2,c),this.wa=Ws("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new hi(c&&c.concurrentRequestLimit),this.Da=new Qs,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}r=Qa.prototype,r.la=8,r.G=1,r.connect=function(c,y,b,A){qe(0),this.W=c,this.H=y||{},b&&A!==void 0&&(this.H.OSID=b,this.H.OAID=A),this.F=this.X,this.I=ac(this,null,this.W),Xa(this)};function ul(c){if(ec(c),c.G==3){var y=c.U++,b=Un(c.I);if(ot(b,"SID",c.K),ot(b,"RID",y),ot(b,"TYPE","terminate"),Zs(c,b),y=new wn(c,c.j,y),y.L=2,y.v=Gs(Un(b)),b=!1,d.navigator&&d.navigator.sendBeacon)try{b=d.navigator.sendBeacon(y.v.toString(),"")}catch{}!b&&d.Image&&(new Image().src=y.v,b=!0),b||(y.g=oc(y.j,null),y.g.ea(y.v)),y.F=Date.now(),Bs(y)}sc(c)}function $a(c){c.g&&(Js(c),c.g.cancel(),c.g=null)}function ec(c){$a(c),c.u&&(d.clearTimeout(c.u),c.u=null),Wa(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&d.clearTimeout(c.s),c.s=null)}function Xa(c){if(!ja(c.h)&&!c.s){c.s=!0;var y=c.Ga;ce||P(),ne||(ce(),ne=!0),Re.add(y,c),c.B=0}}function Pf(c,y){return Ba(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=y.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=Je(T(c.Ga,c,y),fl(c,c.B)),c.B++,!0)}r.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;const F=new wn(this,this.j,c);let Z=this.o;if(this.S&&(Z?(Z=S(Z),M(Z,this.S)):Z=this.S),this.m!==null||this.O||(F.H=Z,Z=null),this.P)e:{for(var y=0,b=0;b<this.i.length;b++){t:{var A=this.i[b];if("__data__"in A.map&&(A=A.map.__data__,typeof A=="string")){A=A.length;break t}A=void 0}if(A===void 0)break;if(y+=A,4096<y){y=b;break e}if(y===4096||b===this.i.length-1){y=b+1;break e}}y=1e3}else y=1e3;y=tc(this,F,y),b=Un(this.I),ot(b,"RID",c),ot(b,"CVER",22),this.D&&ot(b,"X-HTTP-Session-Id",this.D),Zs(this,b),Z&&(this.O?y="headers="+encodeURIComponent(String(ll(Z)))+"&"+y:this.m&&Wt(b,this.m,Z)),qa(this.h,F),this.Ua&&ot(b,"TYPE","init"),this.P?(ot(b,"$req",y),ot(b,"SID","null"),F.T=!0,cr(F,b,null)):cr(F,b,y),this.G=2}}else this.G==3&&(c?cl(this,c):this.i.length==0||ja(this.h)||cl(this))};function cl(c,y){var b;y?b=y.l:b=c.U++;const A=Un(c.I);ot(A,"SID",c.K),ot(A,"RID",b),ot(A,"AID",c.T),Zs(c,A),c.m&&c.o&&Wt(A,c.m,c.o),b=new wn(c,c.j,b,c.B+1),c.m===null&&(b.H=c.o),y&&(c.i=y.D.concat(c.i)),y=tc(c,b,1e3),b.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),qa(c.h,b),cr(b,A,y)}function Zs(c,y){c.H&&ie(c.H,function(b,A){ot(y,A,b)}),c.l&&rl({},function(b,A){ot(y,A,b)})}function tc(c,y,b){b=Math.min(c.i.length,b);var A=c.l?T(c.l.Na,c.l,c):null;e:{var F=c.i;let Z=-1;for(;;){const fe=["count="+b];Z==-1?0<b?(Z=F[0].g,fe.push("ofs="+Z)):Z=0:fe.push("ofs="+Z);let Qe=!0;for(let Gt=0;Gt<b;Gt++){let $e=F[Gt].g;const Zt=F[Gt].map;if($e-=Z,0>$e)Z=Math.max(0,F[Gt].g-100),Qe=!1;else try{Rr(Zt,fe,"req"+$e+"_")}catch{A&&A(Zt)}}if(Qe){A=fe.join("&");break e}}}return c=c.i.splice(0,b),y.D=c,A}function nc(c){if(!c.g&&!c.u){c.Y=1;var y=c.Fa;ce||P(),ne||(ce(),ne=!0),Re.add(y,c),c.v=0}}function hl(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=Je(T(c.Fa,c),fl(c,c.v)),c.v++,!0)}r.Fa=function(){if(this.u=null,rc(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=Je(T(this.ab,this),c)}},r.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,qe(10),$a(this),rc(this))};function Js(c){c.A!=null&&(d.clearTimeout(c.A),c.A=null)}function rc(c){c.g=new wn(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var y=Un(c.qa);ot(y,"RID","rpc"),ot(y,"SID",c.K),ot(y,"AID",c.T),ot(y,"CI",c.F?"0":"1"),!c.F&&c.ja&&ot(y,"TO",c.ja),ot(y,"TYPE","xmlhttp"),Zs(c,y),c.m&&c.o&&Wt(y,c.m,c.o),c.L&&(c.g.I=c.L);var b=c.g;c=c.ia,b.L=1,b.v=Gs(Un(y)),b.m=null,b.P=!0,ci(b,c)}r.Za=function(){this.C!=null&&(this.C=null,$a(this),hl(this),qe(19))};function Wa(c){c.C!=null&&(d.clearTimeout(c.C),c.C=null)}function ic(c,y){var b=null;if(c.g==y){Wa(c),Js(c),c.g=null;var A=2}else if(tl(c.h,y))b=y.D,Sn(c.h,y),A=1;else return;if(c.G!=0){if(y.o)if(A==1){b=y.m?y.m.length:0,y=Date.now()-y.F;var F=c.B;A=yt(),tt(A,new _t(A,b)),Xa(c)}else nc(c);else if(F=y.s,F==3||F==0&&0<y.X||!(A==1&&Pf(c,y)||A==2&&hl(c)))switch(b&&0<b.length&&(y=c.h,y.i=y.i.concat(b)),F){case 1:yi(c,5);break;case 4:yi(c,10);break;case 3:yi(c,6);break;default:yi(c,2)}}}function fl(c,y){let b=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(b*=2),b*y}function yi(c,y){if(c.j.info("Error code "+y),y==2){var b=T(c.fb,c),A=c.Xa;const F=!A;A=new Ut(A||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||Hs(A,"https"),Gs(A),F?Ks(A.toString(),b):hr(A.toString(),b)}else qe(2);c.G=0,c.l&&c.l.sa(y),sc(c),ec(c)}r.fb=function(c){c?(this.j.info("Successfully pinged google.com"),qe(2)):(this.j.info("Failed to ping google.com"),qe(1))};function sc(c){if(c.G=0,c.ka=[],c.l){const y=nl(c.h);(y.length!=0||c.i.length!=0)&&(D(c.ka,y),D(c.ka,c.i),c.h.i.length=0,O(c.i),c.i.length=0),c.l.ra()}}function ac(c,y,b){var A=b instanceof Ut?Un(b):new Ut(b);if(A.g!="")y&&(A.g=y+"."+A.g),Ki(A,A.s);else{var F=d.location;A=F.protocol,y=y?y+"."+F.hostname:F.hostname,F=+F.port;var Z=new Ut(null);A&&Hs(Z,A),y&&(Z.g=y),F&&Ki(Z,F),b&&(Z.l=b),A=Z}return b=c.D,y=c.ya,b&&y&&ot(A,b,y),ot(A,"VER",c.la),Zs(c,A),A}function oc(c,y,b){if(y&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return y=c.Ca&&!c.pa?new rt(new Qi({eb:b})):new rt(c.pa),y.Ha(c.J),y}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function lc(){}r=lc.prototype,r.ua=function(){},r.ta=function(){},r.sa=function(){},r.ra=function(){},r.isActive=function(){return!0},r.Na=function(){};function Za(){}Za.prototype.g=function(c,y){return new An(c,y)};function An(c,y){ht.call(this),this.g=new Qa(y),this.l=c,this.h=y&&y.messageUrlParams||null,c=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(c?c["X-WebChannel-Content-Type"]=y.messageContentType:c={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.va&&(c?c["X-WebChannel-Client-Profile"]=y.va:c={"X-WebChannel-Client-Profile":y.va}),this.g.S=c,(c=y&&y.Sb)&&!Y(c)&&(this.g.m=c),this.v=y&&y.supportsCrossDomainXhr||!1,this.u=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!Y(y)&&(this.g.D=y,c=this.h,c!==null&&y in c&&(c=this.h,y in c&&delete c[y])),this.j=new Dr(this)}C(An,ht),An.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},An.prototype.close=function(){ul(this.g)},An.prototype.o=function(c){var y=this.g;if(typeof c=="string"){var b={};b.__data__=c,c=b}else this.u&&(b={},b.__data__=In(c),c=b);y.i.push(new $u(y.Ya++,c)),y.G==3&&Xa(y)},An.prototype.N=function(){this.g.l=null,delete this.j,ul(this.g),delete this.g,An.aa.N.call(this)};function uc(c){Kn.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var y=c.__sm__;if(y){e:{for(const b in y){c=b;break e}c=void 0}(this.i=c)&&(c=this.i,y=y!==null&&c in y?y[c]:void 0),this.data=y}else this.data=c}C(uc,Kn);function cc(){Fi.call(this),this.status=1}C(cc,Fi);function Dr(c){this.g=c}C(Dr,lc),Dr.prototype.ua=function(){tt(this.g,"a")},Dr.prototype.ta=function(c){tt(this.g,new uc(c))},Dr.prototype.sa=function(c){tt(this.g,new cc)},Dr.prototype.ra=function(){tt(this.g,"b")},Za.prototype.createWebChannel=Za.prototype.g,An.prototype.send=An.prototype.o,An.prototype.open=An.prototype.m,An.prototype.close=An.prototype.close,QT=function(){return new Za},KT=function(){return yt()},YT=Se,dp={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Gi.NO_ERROR=0,Gi.TIMEOUT=8,Gi.HTTP_ERROR=6,Ih=Gi,ui.COMPLETE="complete",GT=ui,zs.EventType=lr,lr.OPEN="a",lr.CLOSE="b",lr.ERROR="c",lr.MESSAGE="d",ht.prototype.listen=ht.prototype.K,ou=zs,rt.prototype.listenOnce=rt.prototype.L,rt.prototype.getLastError=rt.prototype.Ka,rt.prototype.getLastErrorCode=rt.prototype.Ba,rt.prototype.getStatus=rt.prototype.Z,rt.prototype.getResponseJson=rt.prototype.Oa,rt.prototype.getResponseText=rt.prototype.oa,rt.prototype.send=rt.prototype.ea,rt.prototype.setWithCredentials=rt.prototype.Ha,HT=rt}).apply(typeof yh<"u"?yh:typeof self<"u"?self:typeof window<"u"?window:{});const ib="@firebase/firestore",sb="4.8.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}bn.UNAUTHENTICATED=new bn(null),bn.GOOGLE_CREDENTIALS=new bn("google-credentials-uid"),bn.FIRST_PARTY=new bn("first-party-uid"),bn.MOCK_USER=new bn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Xo="11.10.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Aa=new Fp("@firebase/firestore");function Io(){return Aa.logLevel}function pe(r,...e){if(Aa.logLevel<=Ge.DEBUG){const t=e.map(tg);Aa.debug(`Firestore (${Xo}): ${r}`,...t)}}function ji(r,...e){if(Aa.logLevel<=Ge.ERROR){const t=e.map(tg);Aa.error(`Firestore (${Xo}): ${r}`,...t)}}function Is(r,...e){if(Aa.logLevel<=Ge.WARN){const t=e.map(tg);Aa.warn(`Firestore (${Xo}): ${r}`,...t)}}function tg(r){if(typeof r=="string")return r;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(t){return JSON.stringify(t)}(r)}catch{return r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function De(r,e,t){let s="Unexpected state";typeof e=="string"?s=e:t=e,$T(r,s,t)}function $T(r,e,t){let s=`FIRESTORE (${Xo}) INTERNAL ASSERTION FAILED: ${e} (ID: ${r.toString(16)})`;if(t!==void 0)try{s+=" CONTEXT: "+JSON.stringify(t)}catch{s+=" CONTEXT: "+t}throw ji(s),new Error(s)}function it(r,e,t,s){let o="Unexpected state";typeof t=="string"?o=t:s=t,r||$T(e,o,s)}function Me(r,e){return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ae={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ge extends Jr{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rs{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XT{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class JN{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(bn.UNAUTHENTICATED))}shutdown(){}}class eO{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class tO{constructor(e){this.t=e,this.currentUser=bn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){it(this.o===void 0,42304);let s=this.i;const o=p=>this.i!==s?(s=this.i,t(p)):Promise.resolve();let u=new Rs;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new Rs,e.enqueueRetryable(()=>o(this.currentUser))};const h=()=>{const p=u;e.enqueueRetryable(async()=>{await p.promise,await o(this.currentUser)})},d=p=>{pe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),h())};this.t.onInit(p=>d(p)),setTimeout(()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?d(p):(pe("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new Rs)}},0),h()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(s=>this.i!==e?(pe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(it(typeof s.accessToken=="string",31837,{l:s}),new XT(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return it(e===null||typeof e=="string",2055,{h:e}),new bn(e)}}class nO{constructor(e,t,s){this.P=e,this.T=t,this.I=s,this.type="FirstParty",this.user=bn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class rO{constructor(e,t,s){this.P=e,this.T=t,this.I=s}getToken(){return Promise.resolve(new nO(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable(()=>t(bn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class ab{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class iO{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Yn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){it(this.o===void 0,3512);const s=u=>{u.error!=null&&pe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const h=u.token!==this.m;return this.m=u.token,pe("FirebaseAppCheckTokenProvider",`Received ${h?"new":"existing"} token.`),h?t(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable(()=>s(u))};const o=u=>{pe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(u=>o(u)),setTimeout(()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?o(u):pe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new ab(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(it(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new ab(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sO(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(r);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let s=0;s<r;s++)t[s]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WT(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ng{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=sO(40);for(let u=0;u<o.length;++u)s.length<20&&o[u]<t&&(s+=e.charAt(o[u]%62))}return s}}function Ue(r,e){return r<e?-1:r>e?1:0}function mp(r,e){let t=0;for(;t<r.length&&t<e.length;){const s=r.codePointAt(t),o=e.codePointAt(t);if(s!==o){if(s<128&&o<128)return Ue(s,o);{const u=WT(),h=aO(u.encode(ob(r,t)),u.encode(ob(e,t)));return h!==0?h:Ue(s,o)}}t+=s>65535?2:1}return Ue(r.length,e.length)}function ob(r,e){return r.codePointAt(e)>65535?r.substring(e,e+2):r.substring(e,e+1)}function aO(r,e){for(let t=0;t<r.length&&t<e.length;++t)if(r[t]!==e[t])return Ue(r[t],e[t]);return Ue(r.length,e.length)}function zo(r,e,t){return r.length===e.length&&r.every((s,o)=>t(s,e[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lb="__name__";class Ur{constructor(e,t,s){t===void 0?t=0:t>e.length&&De(637,{offset:t,range:e.length}),s===void 0?s=e.length-t:s>e.length-t&&De(1746,{length:s,range:e.length-t}),this.segments=e,this.offset=t,this.len=s}get length(){return this.len}isEqual(e){return Ur.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Ur?e.forEach(s=>{t.push(s)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,s=this.limit();t<s;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const s=Math.min(e.length,t.length);for(let o=0;o<s;o++){const u=Ur.compareSegments(e.get(o),t.get(o));if(u!==0)return u}return Ue(e.length,t.length)}static compareSegments(e,t){const s=Ur.isNumericId(e),o=Ur.isNumericId(t);return s&&!o?-1:!s&&o?1:s&&o?Ur.extractNumericId(e).compare(Ur.extractNumericId(t)):mp(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return As.fromString(e.substring(4,e.length-2))}}class pt extends Ur{construct(e,t,s){return new pt(e,t,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const s of e){if(s.indexOf("//")>=0)throw new ge(ae.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);t.push(...s.split("/").filter(o=>o.length>0))}return new pt(t)}static emptyPath(){return new pt([])}}const oO=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class dn extends Ur{construct(e,t,s){return new dn(e,t,s)}static isValidIdentifier(e){return oO.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),dn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===lb}static keyField(){return new dn([lb])}static fromServerFormat(e){const t=[];let s="",o=0;const u=()=>{if(s.length===0)throw new ge(ae.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(s),s=""};let h=!1;for(;o<e.length;){const d=e[o];if(d==="\\"){if(o+1===e.length)throw new ge(ae.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[o+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new ge(ae.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=p,o+=2}else d==="`"?(h=!h,o++):d!=="."||h?(s+=d,o++):(u(),o++)}if(u(),h)throw new ge(ae.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new dn(t)}static emptyPath(){return new dn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Te{constructor(e){this.path=e}static fromPath(e){return new Te(pt.fromString(e))}static fromName(e){return new Te(pt.fromString(e).popFirst(5))}static empty(){return new Te(pt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&pt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return pt.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Te(new pt(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZT(r,e,t){if(!t)throw new ge(ae.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function lO(r,e,t,s){if(e===!0&&s===!0)throw new ge(ae.INVALID_ARGUMENT,`${r} and ${t} cannot be used together.`)}function ub(r){if(!Te.isDocumentKey(r))throw new ge(ae.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function cb(r){if(Te.isDocumentKey(r))throw new ge(ae.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function JT(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}function gf(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const e=function(s){return s.constructor?s.constructor.name:null}(r);return e?`a custom ${e} object`:"an object"}}return typeof r=="function"?"a function":De(12329,{type:typeof r})}function qr(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new ge(ae.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=gf(r);throw new ge(ae.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return r}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ft(r,e){const t={typeString:r};return e&&(t.value=e),t}function zu(r,e){if(!JT(r))throw new ge(ae.INVALID_ARGUMENT,"JSON must be an object");let t;for(const s in e)if(e[s]){const o=e[s].typeString,u="value"in e[s]?{value:e[s].value}:void 0;if(!(s in r)){t=`JSON missing required field: '${s}'`;break}const h=r[s];if(o&&typeof h!==o){t=`JSON field '${s}' must be a ${o}.`;break}if(u!==void 0&&h!==u.value){t=`Expected '${s}' field to equal '${u.value}'`;break}}if(t)throw new ge(ae.INVALID_ARGUMENT,t);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hb=-62135596800,fb=1e6;class gt{static now(){return gt.fromMillis(Date.now())}static fromDate(e){return gt.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),s=Math.floor((e-1e3*t)*fb);return new gt(t,s)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new ge(ae.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new ge(ae.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<hb)throw new ge(ae.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ge(ae.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/fb}_compareTo(e){return this.seconds===e.seconds?Ue(this.nanoseconds,e.nanoseconds):Ue(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:gt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(zu(e,gt._jsonSchema))return new gt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-hb;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}gt._jsonSchemaVersion="firestore/timestamp/1.0",gt._jsonSchema={type:Ft("string",gt._jsonSchemaVersion),seconds:Ft("number"),nanoseconds:Ft("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ke{static fromTimestamp(e){return new ke(e)}static min(){return new ke(new gt(0,0))}static max(){return new ke(new gt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wu=-1;function uO(r,e){const t=r.toTimestamp().seconds,s=r.toTimestamp().nanoseconds+1,o=ke.fromTimestamp(s===1e9?new gt(t+1,0):new gt(t,s));return new Ds(o,Te.empty(),e)}function cO(r){return new Ds(r.readTime,r.key,wu)}class Ds{constructor(e,t,s){this.readTime=e,this.documentKey=t,this.largestBatchId=s}static min(){return new Ds(ke.min(),Te.empty(),wu)}static max(){return new Ds(ke.max(),Te.empty(),wu)}}function hO(r,e){let t=r.readTime.compareTo(e.readTime);return t!==0?t:(t=Te.comparator(r.documentKey,e.documentKey),t!==0?t:Ue(r.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fO="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class dO{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Wo(r){if(r.code!==ae.FAILED_PRECONDITION||r.message!==fO)throw r;pe("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class le{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&De(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new le((s,o)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(s,o)},this.catchCallback=u=>{this.wrapFailure(t,u).next(s,o)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof le?t:le.resolve(t)}catch(t){return le.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):le.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):le.reject(t)}static resolve(e){return new le((t,s)=>{t(e)})}static reject(e){return new le((t,s)=>{s(e)})}static waitFor(e){return new le((t,s)=>{let o=0,u=0,h=!1;e.forEach(d=>{++o,d.next(()=>{++u,h&&u===o&&t()},p=>s(p))}),h=!0,u===o&&t()})}static or(e){let t=le.resolve(!1);for(const s of e)t=t.next(o=>o?le.resolve(o):s());return t}static forEach(e,t){const s=[];return e.forEach((o,u)=>{s.push(t.call(this,o,u))}),this.waitFor(s)}static mapArray(e,t){return new le((s,o)=>{const u=e.length,h=new Array(u);let d=0;for(let p=0;p<u;p++){const g=p;t(e[g]).next(_=>{h[g]=_,++d,d===u&&s(h)},_=>o(_))}})}static doWhile(e,t){return new le((s,o)=>{const u=()=>{e()===!0?t().next(()=>{u()},o):s()};u()})}}function mO(r){const e=r.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function Zo(r){return r.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yf{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=s=>this._e(s),this.ae=s=>t.writeSequenceNumber(s))}_e(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ae&&this.ae(e),e}}yf.ue=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rg=-1;function vf(r){return r==null}function Gh(r){return r===0&&1/r==-1/0}function pO(r){return typeof r=="number"&&Number.isInteger(r)&&!Gh(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ew="";function gO(r){let e="";for(let t=0;t<r.length;t++)e.length>0&&(e=db(e)),e=yO(r.get(t),e);return db(e)}function yO(r,e){let t=e;const s=r.length;for(let o=0;o<s;o++){const u=r.charAt(o);switch(u){case"\0":t+="";break;case ew:t+="";break;default:t+=u}}return t}function db(r){return r+ew+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mb(r){let e=0;for(const t in r)Object.prototype.hasOwnProperty.call(r,t)&&e++;return e}function Oa(r,e){for(const t in r)Object.prototype.hasOwnProperty.call(r,t)&&e(t,r[t])}function tw(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rt{constructor(e,t){this.comparator=e,this.root=t||fn.EMPTY}insert(e,t){return new Rt(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,fn.BLACK,null,null))}remove(e){return new Rt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,fn.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const s=this.comparator(e,t.key);if(s===0)return t.value;s<0?t=t.left:s>0&&(t=t.right)}return null}indexOf(e){let t=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(e,s.key);if(o===0)return t+s.left.size;o<0?s=s.left:(t+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,s)=>(e(t,s),!1))}toString(){const e=[];return this.inorderTraversal((t,s)=>(e.push(`${t}:${s}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new vh(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new vh(this.root,e,this.comparator,!1)}getReverseIterator(){return new vh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new vh(this.root,e,this.comparator,!0)}}class vh{constructor(e,t,s,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=t?s(e.key,t):1,t&&o&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(u===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class fn{constructor(e,t,s,o,u){this.key=e,this.value=t,this.color=s??fn.RED,this.left=o??fn.EMPTY,this.right=u??fn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,s,o,u){return new fn(e??this.key,t??this.value,s??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,s){let o=this;const u=s(e,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(e,t,s),null):u===0?o.copy(null,t,null,null,null):o.copy(null,null,null,null,o.right.insert(e,t,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return fn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let s,o=this;if(t(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,t),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),t(e,o.key)===0){if(o.right.isEmpty())return fn.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,t))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,fn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,fn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw De(43730,{key:this.key,value:this.value});if(this.right.isRed())throw De(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw De(27949);return e+(this.isRed()?0:1)}}fn.EMPTY=null,fn.RED=!0,fn.BLACK=!1;fn.EMPTY=new class{constructor(){this.size=0}get key(){throw De(57766)}get value(){throw De(16141)}get color(){throw De(16727)}get left(){throw De(29726)}get right(){throw De(36894)}copy(e,t,s,o,u){return this}insert(e,t,s){return new fn(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xt{constructor(e){this.comparator=e,this.data=new Rt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,s)=>(e(t),!1))}forEachInRange(e,t){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,e[1])>=0)return;t(o.key)}}forEachWhile(e,t){let s;for(s=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new pb(this.data.getIterator())}getIteratorFrom(e){return new pb(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(s=>{t=t.add(s)}),t}isEqual(e){if(!(e instanceof Xt)||this.size!==e.size)return!1;const t=this.data.getIterator(),s=e.data.getIterator();for(;t.hasNext();){const o=t.getNext().key,u=s.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Xt(this.comparator);return t.data=e,t}}class pb{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yr{constructor(e){this.fields=e,e.sort(dn.comparator)}static empty(){return new yr([])}unionWith(e){let t=new Xt(dn.comparator);for(const s of this.fields)t=t.add(s);for(const s of e)t=t.add(s);return new yr(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return zo(this.fields,e.fields,(t,s)=>t.isEqual(s))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nw extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pn{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new nw("Invalid base64 string: "+u):u}}(e);return new pn(t)}static fromUint8Array(e){const t=function(o){let u="";for(let h=0;h<o.length;++h)u+=String.fromCharCode(o[h]);return u}(e);return new pn(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){const s=new Uint8Array(t.length);for(let o=0;o<t.length;o++)s[o]=t.charCodeAt(o);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ue(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}pn.EMPTY_BYTE_STRING=new pn("");const vO=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ns(r){if(it(!!r,39018),typeof r=="string"){let e=0;const t=vO.exec(r);if(it(!!t,46558,{timestamp:r}),t[1]){let o=t[1];o=(o+"000000000").substr(0,9),e=Number(o)}const s=new Date(r);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:Pt(r.seconds),nanos:Pt(r.nanos)}}function Pt(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function Os(r){return typeof r=="string"?pn.fromBase64String(r):pn.fromUint8Array(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rw="server_timestamp",iw="__type__",sw="__previous_value__",aw="__local_write_time__";function ig(r){var e,t;return((t=(((e=r?.mapValue)===null||e===void 0?void 0:e.fields)||{})[iw])===null||t===void 0?void 0:t.stringValue)===rw}function _f(r){const e=r.mapValue.fields[sw];return ig(e)?_f(e):e}function Su(r){const e=Ns(r.mapValue.fields[aw].timestampValue);return new gt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _O{constructor(e,t,s,o,u,h,d,p,g,_){this.databaseId=e,this.appId=t,this.persistenceKey=s,this.host=o,this.ssl=u,this.forceLongPolling=h,this.autoDetectLongPolling=d,this.longPollingOptions=p,this.useFetchStreams=g,this.isUsingEmulator=_}}const Yh="(default)";class Au{constructor(e,t){this.projectId=e,this.database=t||Yh}static empty(){return new Au("","")}get isDefaultDatabase(){return this.database===Yh}isEqual(e){return e instanceof Au&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ow="__type__",bO="__max__",_h={mapValue:{}},lw="__vector__",Kh="value";function ks(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?ig(r)?4:TO(r)?9007199254740991:EO(r)?10:11:De(28295,{value:r})}function Qr(r,e){if(r===e)return!0;const t=ks(r);if(t!==ks(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return Su(r).isEqual(Su(e));case 3:return function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const h=Ns(o.timestampValue),d=Ns(u.timestampValue);return h.seconds===d.seconds&&h.nanos===d.nanos}(r,e);case 5:return r.stringValue===e.stringValue;case 6:return function(o,u){return Os(o.bytesValue).isEqual(Os(u.bytesValue))}(r,e);case 7:return r.referenceValue===e.referenceValue;case 8:return function(o,u){return Pt(o.geoPointValue.latitude)===Pt(u.geoPointValue.latitude)&&Pt(o.geoPointValue.longitude)===Pt(u.geoPointValue.longitude)}(r,e);case 2:return function(o,u){if("integerValue"in o&&"integerValue"in u)return Pt(o.integerValue)===Pt(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const h=Pt(o.doubleValue),d=Pt(u.doubleValue);return h===d?Gh(h)===Gh(d):isNaN(h)&&isNaN(d)}return!1}(r,e);case 9:return zo(r.arrayValue.values||[],e.arrayValue.values||[],Qr);case 10:case 11:return function(o,u){const h=o.mapValue.fields||{},d=u.mapValue.fields||{};if(mb(h)!==mb(d))return!1;for(const p in h)if(h.hasOwnProperty(p)&&(d[p]===void 0||!Qr(h[p],d[p])))return!1;return!0}(r,e);default:return De(52216,{left:r})}}function Ru(r,e){return(r.values||[]).find(t=>Qr(t,e))!==void 0}function jo(r,e){if(r===e)return 0;const t=ks(r),s=ks(e);if(t!==s)return Ue(t,s);switch(t){case 0:case 9007199254740991:return 0;case 1:return Ue(r.booleanValue,e.booleanValue);case 2:return function(u,h){const d=Pt(u.integerValue||u.doubleValue),p=Pt(h.integerValue||h.doubleValue);return d<p?-1:d>p?1:d===p?0:isNaN(d)?isNaN(p)?0:-1:1}(r,e);case 3:return gb(r.timestampValue,e.timestampValue);case 4:return gb(Su(r),Su(e));case 5:return mp(r.stringValue,e.stringValue);case 6:return function(u,h){const d=Os(u),p=Os(h);return d.compareTo(p)}(r.bytesValue,e.bytesValue);case 7:return function(u,h){const d=u.split("/"),p=h.split("/");for(let g=0;g<d.length&&g<p.length;g++){const _=Ue(d[g],p[g]);if(_!==0)return _}return Ue(d.length,p.length)}(r.referenceValue,e.referenceValue);case 8:return function(u,h){const d=Ue(Pt(u.latitude),Pt(h.latitude));return d!==0?d:Ue(Pt(u.longitude),Pt(h.longitude))}(r.geoPointValue,e.geoPointValue);case 9:return yb(r.arrayValue,e.arrayValue);case 10:return function(u,h){var d,p,g,_;const v=u.fields||{},T=h.fields||{},x=(d=v[Kh])===null||d===void 0?void 0:d.arrayValue,C=(p=T[Kh])===null||p===void 0?void 0:p.arrayValue,O=Ue(((g=x?.values)===null||g===void 0?void 0:g.length)||0,((_=C?.values)===null||_===void 0?void 0:_.length)||0);return O!==0?O:yb(x,C)}(r.mapValue,e.mapValue);case 11:return function(u,h){if(u===_h.mapValue&&h===_h.mapValue)return 0;if(u===_h.mapValue)return 1;if(h===_h.mapValue)return-1;const d=u.fields||{},p=Object.keys(d),g=h.fields||{},_=Object.keys(g);p.sort(),_.sort();for(let v=0;v<p.length&&v<_.length;++v){const T=mp(p[v],_[v]);if(T!==0)return T;const x=jo(d[p[v]],g[_[v]]);if(x!==0)return x}return Ue(p.length,_.length)}(r.mapValue,e.mapValue);default:throw De(23264,{le:t})}}function gb(r,e){if(typeof r=="string"&&typeof e=="string"&&r.length===e.length)return Ue(r,e);const t=Ns(r),s=Ns(e),o=Ue(t.seconds,s.seconds);return o!==0?o:Ue(t.nanos,s.nanos)}function yb(r,e){const t=r.values||[],s=e.values||[];for(let o=0;o<t.length&&o<s.length;++o){const u=jo(t[o],s[o]);if(u)return u}return Ue(t.length,s.length)}function Bo(r){return pp(r)}function pp(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?function(t){const s=Ns(t);return`time(${s.seconds},${s.nanos})`}(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?function(t){return Os(t).toBase64()}(r.bytesValue):"referenceValue"in r?function(t){return Te.fromName(t).toString()}(r.referenceValue):"geoPointValue"in r?function(t){return`geo(${t.latitude},${t.longitude})`}(r.geoPointValue):"arrayValue"in r?function(t){let s="[",o=!0;for(const u of t.values||[])o?o=!1:s+=",",s+=pp(u);return s+"]"}(r.arrayValue):"mapValue"in r?function(t){const s=Object.keys(t.fields||{}).sort();let o="{",u=!0;for(const h of s)u?u=!1:o+=",",o+=`${h}:${pp(t.fields[h])}`;return o+"}"}(r.mapValue):De(61005,{value:r})}function Dh(r){switch(ks(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=_f(r);return e?16+Dh(e):16;case 5:return 2*r.stringValue.length;case 6:return Os(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return function(s){return(s.values||[]).reduce((o,u)=>o+Dh(u),0)}(r.arrayValue);case 10:case 11:return function(s){let o=0;return Oa(s.fields,(u,h)=>{o+=u.length+Dh(h)}),o}(r.mapValue);default:throw De(13486,{value:r})}}function vb(r,e){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${e.path.canonicalString()}`}}function gp(r){return!!r&&"integerValue"in r}function sg(r){return!!r&&"arrayValue"in r}function _b(r){return!!r&&"nullValue"in r}function bb(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function Nh(r){return!!r&&"mapValue"in r}function EO(r){var e,t;return((t=(((e=r?.mapValue)===null||e===void 0?void 0:e.fields)||{})[ow])===null||t===void 0?void 0:t.stringValue)===lw}function du(r){if(r.geoPointValue)return{geoPointValue:Object.assign({},r.geoPointValue)};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:Object.assign({},r.timestampValue)};if(r.mapValue){const e={mapValue:{fields:{}}};return Oa(r.mapValue.fields,(t,s)=>e.mapValue.fields[t]=du(s)),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(r.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=du(r.arrayValue.values[t]);return e}return Object.assign({},r)}function TO(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===bO}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sr{constructor(e){this.value=e}static empty(){return new sr({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let s=0;s<e.length-1;++s)if(t=(t.mapValue.fields||{})[e.get(s)],!Nh(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=du(t)}setAll(e){let t=dn.emptyPath(),s={},o=[];e.forEach((h,d)=>{if(!t.isImmediateParentOf(d)){const p=this.getFieldsMap(t);this.applyChanges(p,s,o),s={},o=[],t=d.popLast()}h?s[d.lastSegment()]=du(h):o.push(d.lastSegment())});const u=this.getFieldsMap(t);this.applyChanges(u,s,o)}delete(e){const t=this.field(e.popLast());Nh(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Qr(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let s=0;s<e.length;++s){let o=t.mapValue.fields[e.get(s)];Nh(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},t.mapValue.fields[e.get(s)]=o),t=o}return t.mapValue.fields}applyChanges(e,t,s){Oa(t,(o,u)=>e[o]=u);for(const o of s)delete e[o]}clone(){return new sr(du(this.value))}}function uw(r){const e=[];return Oa(r.fields,(t,s)=>{const o=new dn([t]);if(Nh(s)){const u=uw(s.mapValue).fields;if(u.length===0)e.push(o);else for(const h of u)e.push(o.child(h))}else e.push(o)}),new yr(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class En{constructor(e,t,s,o,u,h,d){this.key=e,this.documentType=t,this.version=s,this.readTime=o,this.createTime=u,this.data=h,this.documentState=d}static newInvalidDocument(e){return new En(e,0,ke.min(),ke.min(),ke.min(),sr.empty(),0)}static newFoundDocument(e,t,s,o){return new En(e,1,t,ke.min(),s,o,0)}static newNoDocument(e,t){return new En(e,2,t,ke.min(),ke.min(),sr.empty(),0)}static newUnknownDocument(e,t){return new En(e,3,t,ke.min(),ke.min(),sr.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(ke.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=sr.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=sr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ke.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof En&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new En(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qh{constructor(e,t){this.position=e,this.inclusive=t}}function Eb(r,e,t){let s=0;for(let o=0;o<r.position.length;o++){const u=e[o],h=r.position[o];if(u.field.isKeyField()?s=Te.comparator(Te.fromName(h.referenceValue),t.key):s=jo(h,t.data.field(u.field)),u.dir==="desc"&&(s*=-1),s!==0)break}return s}function Tb(r,e){if(r===null)return e===null;if(e===null||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let t=0;t<r.position.length;t++)if(!Qr(r.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $h{constructor(e,t="asc"){this.field=e,this.dir=t}}function wO(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cw{}class qt extends cw{constructor(e,t,s){super(),this.field=e,this.op=t,this.value=s}static create(e,t,s){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,s):new AO(e,t,s):t==="array-contains"?new xO(e,s):t==="in"?new IO(e,s):t==="not-in"?new DO(e,s):t==="array-contains-any"?new NO(e,s):new qt(e,t,s)}static createKeyFieldInFilter(e,t,s){return t==="in"?new RO(e,s):new CO(e,s)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(jo(t,this.value)):t!==null&&ks(this.value)===ks(t)&&this.matchesComparison(jo(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return De(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Er extends cw{constructor(e,t){super(),this.filters=e,this.op=t,this.he=null}static create(e,t){return new Er(e,t)}matches(e){return hw(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.he!==null||(this.he=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.he}getFilters(){return Object.assign([],this.filters)}}function hw(r){return r.op==="and"}function fw(r){return SO(r)&&hw(r)}function SO(r){for(const e of r.filters)if(e instanceof Er)return!1;return!0}function yp(r){if(r instanceof qt)return r.field.canonicalString()+r.op.toString()+Bo(r.value);if(fw(r))return r.filters.map(e=>yp(e)).join(",");{const e=r.filters.map(t=>yp(t)).join(",");return`${r.op}(${e})`}}function dw(r,e){return r instanceof qt?function(s,o){return o instanceof qt&&s.op===o.op&&s.field.isEqual(o.field)&&Qr(s.value,o.value)}(r,e):r instanceof Er?function(s,o){return o instanceof Er&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce((u,h,d)=>u&&dw(h,o.filters[d]),!0):!1}(r,e):void De(19439)}function mw(r){return r instanceof qt?function(t){return`${t.field.canonicalString()} ${t.op} ${Bo(t.value)}`}(r):r instanceof Er?function(t){return t.op.toString()+" {"+t.getFilters().map(mw).join(" ,")+"}"}(r):"Filter"}class AO extends qt{constructor(e,t,s){super(e,t,s),this.key=Te.fromName(s.referenceValue)}matches(e){const t=Te.comparator(e.key,this.key);return this.matchesComparison(t)}}class RO extends qt{constructor(e,t){super(e,"in",t),this.keys=pw("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class CO extends qt{constructor(e,t){super(e,"not-in",t),this.keys=pw("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function pw(r,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(s=>Te.fromName(s.referenceValue))}class xO extends qt{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return sg(t)&&Ru(t.arrayValue,this.value)}}class IO extends qt{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&Ru(this.value.arrayValue,t)}}class DO extends qt{constructor(e,t){super(e,"not-in",t)}matches(e){if(Ru(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!Ru(this.value.arrayValue,t)}}class NO extends qt{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!sg(t)||!t.arrayValue.values)&&t.arrayValue.values.some(s=>Ru(this.value.arrayValue,s))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OO{constructor(e,t=null,s=[],o=[],u=null,h=null,d=null){this.path=e,this.collectionGroup=t,this.orderBy=s,this.filters=o,this.limit=u,this.startAt=h,this.endAt=d,this.Pe=null}}function wb(r,e=null,t=[],s=[],o=null,u=null,h=null){return new OO(r,e,t,s,o,u,h)}function ag(r){const e=Me(r);if(e.Pe===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(s=>yp(s)).join(","),t+="|ob:",t+=e.orderBy.map(s=>function(u){return u.field.canonicalString()+u.dir}(s)).join(","),vf(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(s=>Bo(s)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(s=>Bo(s)).join(",")),e.Pe=t}return e.Pe}function og(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<r.orderBy.length;t++)if(!wO(r.orderBy[t],e.orderBy[t]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let t=0;t<r.filters.length;t++)if(!dw(r.filters[t],e.filters[t]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!Tb(r.startAt,e.startAt)&&Tb(r.endAt,e.endAt)}function vp(r){return Te.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ju{constructor(e,t=null,s=[],o=[],u=null,h="F",d=null,p=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=s,this.filters=o,this.limit=u,this.limitType=h,this.startAt=d,this.endAt=p,this.Te=null,this.Ie=null,this.de=null,this.startAt,this.endAt}}function kO(r,e,t,s,o,u,h,d){return new ju(r,e,t,s,o,u,h,d)}function lg(r){return new ju(r)}function Sb(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function gw(r){return r.collectionGroup!==null}function mu(r){const e=Me(r);if(e.Te===null){e.Te=[];const t=new Set;for(const u of e.explicitOrderBy)e.Te.push(u),t.add(u.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(h){let d=new Xt(dn.comparator);return h.filters.forEach(p=>{p.getFlattenedFilters().forEach(g=>{g.isInequality()&&(d=d.add(g.field))})}),d})(e).forEach(u=>{t.has(u.canonicalString())||u.isKeyField()||e.Te.push(new $h(u,s))}),t.has(dn.keyField().canonicalString())||e.Te.push(new $h(dn.keyField(),s))}return e.Te}function Fr(r){const e=Me(r);return e.Ie||(e.Ie=MO(e,mu(r))),e.Ie}function MO(r,e){if(r.limitType==="F")return wb(r.path,r.collectionGroup,e,r.filters,r.limit,r.startAt,r.endAt);{e=e.map(o=>{const u=o.dir==="desc"?"asc":"desc";return new $h(o.field,u)});const t=r.endAt?new Qh(r.endAt.position,r.endAt.inclusive):null,s=r.startAt?new Qh(r.startAt.position,r.startAt.inclusive):null;return wb(r.path,r.collectionGroup,e,r.filters,r.limit,t,s)}}function _p(r,e){const t=r.filters.concat([e]);return new ju(r.path,r.collectionGroup,r.explicitOrderBy.slice(),t,r.limit,r.limitType,r.startAt,r.endAt)}function bp(r,e,t){return new ju(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,t,r.startAt,r.endAt)}function bf(r,e){return og(Fr(r),Fr(e))&&r.limitType===e.limitType}function yw(r){return`${ag(Fr(r))}|lt:${r.limitType}`}function Do(r){return`Query(target=${function(t){let s=t.path.canonicalString();return t.collectionGroup!==null&&(s+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(s+=`, filters: [${t.filters.map(o=>mw(o)).join(", ")}]`),vf(t.limit)||(s+=", limit: "+t.limit),t.orderBy.length>0&&(s+=`, orderBy: [${t.orderBy.map(o=>function(h){return`${h.field.canonicalString()} (${h.dir})`}(o)).join(", ")}]`),t.startAt&&(s+=", startAt: ",s+=t.startAt.inclusive?"b:":"a:",s+=t.startAt.position.map(o=>Bo(o)).join(",")),t.endAt&&(s+=", endAt: ",s+=t.endAt.inclusive?"a:":"b:",s+=t.endAt.position.map(o=>Bo(o)).join(",")),`Target(${s})`}(Fr(r))}; limitType=${r.limitType})`}function Ef(r,e){return e.isFoundDocument()&&function(s,o){const u=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(u):Te.isDocumentKey(s.path)?s.path.isEqual(u):s.path.isImmediateParentOf(u)}(r,e)&&function(s,o){for(const u of mu(s))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0}(r,e)&&function(s,o){for(const u of s.filters)if(!u.matches(o))return!1;return!0}(r,e)&&function(s,o){return!(s.startAt&&!function(h,d,p){const g=Eb(h,d,p);return h.inclusive?g<=0:g<0}(s.startAt,mu(s),o)||s.endAt&&!function(h,d,p){const g=Eb(h,d,p);return h.inclusive?g>=0:g>0}(s.endAt,mu(s),o))}(r,e)}function PO(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function vw(r){return(e,t)=>{let s=!1;for(const o of mu(r)){const u=VO(o,e,t);if(u!==0)return u;s=s||o.field.isKeyField()}return 0}}function VO(r,e,t){const s=r.field.isKeyField()?Te.comparator(e.key,t.key):function(u,h,d){const p=h.data.field(u),g=d.data.field(u);return p!==null&&g!==null?jo(p,g):De(42886)}(r.field,e,t);switch(r.dir){case"asc":return s;case"desc":return-1*s;default:return De(19790,{direction:r.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ka{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),s=this.inner[t];if(s!==void 0){for(const[o,u]of s)if(this.equalsFn(o,e))return u}}has(e){return this.get(e)!==void 0}set(e,t){const s=this.mapKeyFn(e),o=this.inner[s];if(o===void 0)return this.inner[s]=[[e,t]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return void(o[u]=[e,t]);o.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),s=this.inner[t];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return s.length===1?delete this.inner[t]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(e){Oa(this.inner,(t,s)=>{for(const[o,u]of s)e(o,u)})}isEmpty(){return tw(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LO=new Rt(Te.comparator);function Bi(){return LO}const _w=new Rt(Te.comparator);function lu(...r){let e=_w;for(const t of r)e=e.insert(t.key,t);return e}function bw(r){let e=_w;return r.forEach((t,s)=>e=e.insert(t,s.overlayedDocument)),e}function ya(){return pu()}function Ew(){return pu()}function pu(){return new ka(r=>r.toString(),(r,e)=>r.isEqual(e))}const UO=new Rt(Te.comparator),zO=new Xt(Te.comparator);function Ye(...r){let e=zO;for(const t of r)e=e.add(t);return e}const jO=new Xt(Ue);function BO(){return jO}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ug(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Gh(e)?"-0":e}}function Tw(r){return{integerValue:""+r}}function qO(r,e){return pO(e)?Tw(e):ug(r,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tf{constructor(){this._=void 0}}function FO(r,e,t){return r instanceof Xh?function(o,u){const h={fields:{[iw]:{stringValue:rw},[aw]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&ig(u)&&(u=_f(u)),u&&(h.fields[sw]=u),{mapValue:h}}(t,e):r instanceof Cu?Sw(r,e):r instanceof xu?Aw(r,e):function(o,u){const h=ww(o,u),d=Ab(h)+Ab(o.Ee);return gp(h)&&gp(o.Ee)?Tw(d):ug(o.serializer,d)}(r,e)}function HO(r,e,t){return r instanceof Cu?Sw(r,e):r instanceof xu?Aw(r,e):t}function ww(r,e){return r instanceof Wh?function(s){return gp(s)||function(u){return!!u&&"doubleValue"in u}(s)}(e)?e:{integerValue:0}:null}class Xh extends Tf{}class Cu extends Tf{constructor(e){super(),this.elements=e}}function Sw(r,e){const t=Rw(e);for(const s of r.elements)t.some(o=>Qr(o,s))||t.push(s);return{arrayValue:{values:t}}}class xu extends Tf{constructor(e){super(),this.elements=e}}function Aw(r,e){let t=Rw(e);for(const s of r.elements)t=t.filter(o=>!Qr(o,s));return{arrayValue:{values:t}}}class Wh extends Tf{constructor(e,t){super(),this.serializer=e,this.Ee=t}}function Ab(r){return Pt(r.integerValue||r.doubleValue)}function Rw(r){return sg(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}function GO(r,e){return r.field.isEqual(e.field)&&function(s,o){return s instanceof Cu&&o instanceof Cu||s instanceof xu&&o instanceof xu?zo(s.elements,o.elements,Qr):s instanceof Wh&&o instanceof Wh?Qr(s.Ee,o.Ee):s instanceof Xh&&o instanceof Xh}(r.transform,e.transform)}class YO{constructor(e,t){this.version=e,this.transformResults=t}}class _r{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new _r}static exists(e){return new _r(void 0,e)}static updateTime(e){return new _r(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Oh(r,e){return r.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(r.updateTime):r.exists===void 0||r.exists===e.isFoundDocument()}class wf{}function Cw(r,e){if(!r.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return r.isNoDocument()?new cg(r.key,_r.none()):new Bu(r.key,r.data,_r.none());{const t=r.data,s=sr.empty();let o=new Xt(dn.comparator);for(let u of e.fields)if(!o.has(u)){let h=t.field(u);h===null&&u.length>1&&(u=u.popLast(),h=t.field(u)),h===null?s.delete(u):s.set(u,h),o=o.add(u)}return new Ma(r.key,s,new yr(o.toArray()),_r.none())}}function KO(r,e,t){r instanceof Bu?function(o,u,h){const d=o.value.clone(),p=Cb(o.fieldTransforms,u,h.transformResults);d.setAll(p),u.convertToFoundDocument(h.version,d).setHasCommittedMutations()}(r,e,t):r instanceof Ma?function(o,u,h){if(!Oh(o.precondition,u))return void u.convertToUnknownDocument(h.version);const d=Cb(o.fieldTransforms,u,h.transformResults),p=u.data;p.setAll(xw(o)),p.setAll(d),u.convertToFoundDocument(h.version,p).setHasCommittedMutations()}(r,e,t):function(o,u,h){u.convertToNoDocument(h.version).setHasCommittedMutations()}(0,e,t)}function gu(r,e,t,s){return r instanceof Bu?function(u,h,d,p){if(!Oh(u.precondition,h))return d;const g=u.value.clone(),_=xb(u.fieldTransforms,p,h);return g.setAll(_),h.convertToFoundDocument(h.version,g).setHasLocalMutations(),null}(r,e,t,s):r instanceof Ma?function(u,h,d,p){if(!Oh(u.precondition,h))return d;const g=xb(u.fieldTransforms,p,h),_=h.data;return _.setAll(xw(u)),_.setAll(g),h.convertToFoundDocument(h.version,_).setHasLocalMutations(),d===null?null:d.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map(v=>v.field))}(r,e,t,s):function(u,h,d){return Oh(u.precondition,h)?(h.convertToNoDocument(h.version).setHasLocalMutations(),null):d}(r,e,t)}function QO(r,e){let t=null;for(const s of r.fieldTransforms){const o=e.data.field(s.field),u=ww(s.transform,o||null);u!=null&&(t===null&&(t=sr.empty()),t.set(s.field,u))}return t||null}function Rb(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&!!function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&zo(s,o,(u,h)=>GO(u,h))}(r.fieldTransforms,e.fieldTransforms)&&(r.type===0?r.value.isEqual(e.value):r.type!==1||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask))}class Bu extends wf{constructor(e,t,s,o=[]){super(),this.key=e,this.value=t,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Ma extends wf{constructor(e,t,s,o,u=[]){super(),this.key=e,this.data=t,this.fieldMask=s,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function xw(r){const e=new Map;return r.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const s=r.data.field(t);e.set(t,s)}}),e}function Cb(r,e,t){const s=new Map;it(r.length===t.length,32656,{Ae:t.length,Re:r.length});for(let o=0;o<t.length;o++){const u=r[o],h=u.transform,d=e.data.field(u.field);s.set(u.field,HO(h,d,t[o]))}return s}function xb(r,e,t){const s=new Map;for(const o of r){const u=o.transform,h=t.data.field(o.field);s.set(o.field,FO(u,h,e))}return s}class cg extends wf{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class $O extends wf{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XO{constructor(e,t,s,o){this.batchId=e,this.localWriteTime=t,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(e,t){const s=t.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(e.key)&&KO(u,e,s[o])}}applyToLocalView(e,t){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(t=gu(s,e,t,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(t=gu(s,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const s=Ew();return this.mutations.forEach(o=>{const u=e.get(o.key),h=u.overlayedDocument;let d=this.applyToLocalView(h,u.mutatedFields);d=t.has(o.key)?null:d;const p=Cw(h,d);p!==null&&s.set(o.key,p),h.isValidDocument()||h.convertToNoDocument(ke.min())}),s}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Ye())}isEqual(e){return this.batchId===e.batchId&&zo(this.mutations,e.mutations,(t,s)=>Rb(t,s))&&zo(this.baseMutations,e.baseMutations,(t,s)=>Rb(t,s))}}class hg{constructor(e,t,s,o){this.batch=e,this.commitVersion=t,this.mutationResults=s,this.docVersions=o}static from(e,t,s){it(e.mutations.length===s.length,58842,{Ve:e.mutations.length,me:s.length});let o=function(){return UO}();const u=e.mutations;for(let h=0;h<u.length;h++)o=o.insert(u[h].key,s[h].version);return new hg(e,t,s,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WO{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZO{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Bt,We;function JO(r){switch(r){case ae.OK:return De(64938);case ae.CANCELLED:case ae.UNKNOWN:case ae.DEADLINE_EXCEEDED:case ae.RESOURCE_EXHAUSTED:case ae.INTERNAL:case ae.UNAVAILABLE:case ae.UNAUTHENTICATED:return!1;case ae.INVALID_ARGUMENT:case ae.NOT_FOUND:case ae.ALREADY_EXISTS:case ae.PERMISSION_DENIED:case ae.FAILED_PRECONDITION:case ae.ABORTED:case ae.OUT_OF_RANGE:case ae.UNIMPLEMENTED:case ae.DATA_LOSS:return!0;default:return De(15467,{code:r})}}function Iw(r){if(r===void 0)return ji("GRPC error has no .code"),ae.UNKNOWN;switch(r){case Bt.OK:return ae.OK;case Bt.CANCELLED:return ae.CANCELLED;case Bt.UNKNOWN:return ae.UNKNOWN;case Bt.DEADLINE_EXCEEDED:return ae.DEADLINE_EXCEEDED;case Bt.RESOURCE_EXHAUSTED:return ae.RESOURCE_EXHAUSTED;case Bt.INTERNAL:return ae.INTERNAL;case Bt.UNAVAILABLE:return ae.UNAVAILABLE;case Bt.UNAUTHENTICATED:return ae.UNAUTHENTICATED;case Bt.INVALID_ARGUMENT:return ae.INVALID_ARGUMENT;case Bt.NOT_FOUND:return ae.NOT_FOUND;case Bt.ALREADY_EXISTS:return ae.ALREADY_EXISTS;case Bt.PERMISSION_DENIED:return ae.PERMISSION_DENIED;case Bt.FAILED_PRECONDITION:return ae.FAILED_PRECONDITION;case Bt.ABORTED:return ae.ABORTED;case Bt.OUT_OF_RANGE:return ae.OUT_OF_RANGE;case Bt.UNIMPLEMENTED:return ae.UNIMPLEMENTED;case Bt.DATA_LOSS:return ae.DATA_LOSS;default:return De(39323,{code:r})}}(We=Bt||(Bt={}))[We.OK=0]="OK",We[We.CANCELLED=1]="CANCELLED",We[We.UNKNOWN=2]="UNKNOWN",We[We.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",We[We.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",We[We.NOT_FOUND=5]="NOT_FOUND",We[We.ALREADY_EXISTS=6]="ALREADY_EXISTS",We[We.PERMISSION_DENIED=7]="PERMISSION_DENIED",We[We.UNAUTHENTICATED=16]="UNAUTHENTICATED",We[We.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",We[We.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",We[We.ABORTED=10]="ABORTED",We[We.OUT_OF_RANGE=11]="OUT_OF_RANGE",We[We.UNIMPLEMENTED=12]="UNIMPLEMENTED",We[We.INTERNAL=13]="INTERNAL",We[We.UNAVAILABLE=14]="UNAVAILABLE",We[We.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ek=new As([4294967295,4294967295],0);function Ib(r){const e=WT().encode(r),t=new FT;return t.update(e),new Uint8Array(t.digest())}function Db(r){const e=new DataView(r.buffer),t=e.getUint32(0,!0),s=e.getUint32(4,!0),o=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new As([t,s],0),new As([o,u],0)]}class fg{constructor(e,t,s){if(this.bitmap=e,this.padding=t,this.hashCount=s,t<0||t>=8)throw new uu(`Invalid padding: ${t}`);if(s<0)throw new uu(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new uu(`Invalid hash count: ${s}`);if(e.length===0&&t!==0)throw new uu(`Invalid padding when bitmap length is 0: ${t}`);this.fe=8*e.length-t,this.ge=As.fromNumber(this.fe)}pe(e,t,s){let o=e.add(t.multiply(As.fromNumber(s)));return o.compare(ek)===1&&(o=new As([o.getBits(0),o.getBits(1)],0)),o.modulo(this.ge).toNumber()}ye(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.fe===0)return!1;const t=Ib(e),[s,o]=Db(t);for(let u=0;u<this.hashCount;u++){const h=this.pe(s,o,u);if(!this.ye(h))return!1}return!0}static create(e,t,s){const o=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),h=new fg(u,o,t);return s.forEach(d=>h.insert(d)),h}insert(e){if(this.fe===0)return;const t=Ib(e),[s,o]=Db(t);for(let u=0;u<this.hashCount;u++){const h=this.pe(s,o,u);this.we(h)}}we(e){const t=Math.floor(e/8),s=e%8;this.bitmap[t]|=1<<s}}class uu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sf{constructor(e,t,s,o,u){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,t,s){const o=new Map;return o.set(e,qu.createSynthesizedTargetChangeForCurrentChange(e,t,s)),new Sf(ke.min(),o,new Rt(Ue),Bi(),Ye())}}class qu{constructor(e,t,s,o,u){this.resumeToken=e,this.current=t,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,t,s){return new qu(s,t,Ye(),Ye(),Ye())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kh{constructor(e,t,s,o){this.Se=e,this.removedTargetIds=t,this.key=s,this.be=o}}class Dw{constructor(e,t){this.targetId=e,this.De=t}}class Nw{constructor(e,t,s=pn.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=t,this.resumeToken=s,this.cause=o}}class Nb{constructor(){this.ve=0,this.Ce=Ob(),this.Fe=pn.EMPTY_BYTE_STRING,this.Me=!1,this.xe=!0}get current(){return this.Me}get resumeToken(){return this.Fe}get Oe(){return this.ve!==0}get Ne(){return this.xe}Be(e){e.approximateByteSize()>0&&(this.xe=!0,this.Fe=e)}Le(){let e=Ye(),t=Ye(),s=Ye();return this.Ce.forEach((o,u)=>{switch(u){case 0:e=e.add(o);break;case 2:t=t.add(o);break;case 1:s=s.add(o);break;default:De(38017,{changeType:u})}}),new qu(this.Fe,this.Me,e,t,s)}ke(){this.xe=!1,this.Ce=Ob()}qe(e,t){this.xe=!0,this.Ce=this.Ce.insert(e,t)}Qe(e){this.xe=!0,this.Ce=this.Ce.remove(e)}$e(){this.ve+=1}Ue(){this.ve-=1,it(this.ve>=0,3241,{ve:this.ve})}Ke(){this.xe=!0,this.Me=!0}}class tk{constructor(e){this.We=e,this.Ge=new Map,this.ze=Bi(),this.je=bh(),this.Je=bh(),this.He=new Rt(Ue)}Ye(e){for(const t of e.Se)e.be&&e.be.isFoundDocument()?this.Ze(t,e.be):this.Xe(t,e.key,e.be);for(const t of e.removedTargetIds)this.Xe(t,e.key,e.be)}et(e){this.forEachTarget(e,t=>{const s=this.tt(t);switch(e.state){case 0:this.nt(t)&&s.Be(e.resumeToken);break;case 1:s.Ue(),s.Oe||s.ke(),s.Be(e.resumeToken);break;case 2:s.Ue(),s.Oe||this.removeTarget(t);break;case 3:this.nt(t)&&(s.Ke(),s.Be(e.resumeToken));break;case 4:this.nt(t)&&(this.rt(t),s.Be(e.resumeToken));break;default:De(56790,{state:e.state})}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Ge.forEach((s,o)=>{this.nt(o)&&t(o)})}it(e){const t=e.targetId,s=e.De.count,o=this.st(t);if(o){const u=o.target;if(vp(u))if(s===0){const h=new Te(u.path);this.Xe(t,h,En.newNoDocument(h,ke.min()))}else it(s===1,20013,{expectedCount:s});else{const h=this.ot(t);if(h!==s){const d=this._t(e),p=d?this.ut(d,e,h):1;if(p!==0){this.rt(t);const g=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.He=this.He.insert(t,g)}}}}}_t(e){const t=e.De.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:u=0}=t;let h,d;try{h=Os(s).toUint8Array()}catch(p){if(p instanceof nw)return Is("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{d=new fg(h,o,u)}catch(p){return Is(p instanceof uu?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return d.fe===0?null:d}ut(e,t,s){return t.De.count===s-this.ht(e,t.targetId)?0:2}ht(e,t){const s=this.We.getRemoteKeysForTarget(t);let o=0;return s.forEach(u=>{const h=this.We.lt(),d=`projects/${h.projectId}/databases/${h.database}/documents/${u.path.canonicalString()}`;e.mightContain(d)||(this.Xe(t,u,null),o++)}),o}Pt(e){const t=new Map;this.Ge.forEach((u,h)=>{const d=this.st(h);if(d){if(u.current&&vp(d.target)){const p=new Te(d.target.path);this.Tt(p).has(h)||this.It(h,p)||this.Xe(h,p,En.newNoDocument(p,e))}u.Ne&&(t.set(h,u.Le()),u.ke())}});let s=Ye();this.Je.forEach((u,h)=>{let d=!0;h.forEachWhile(p=>{const g=this.st(p);return!g||g.purpose==="TargetPurposeLimboResolution"||(d=!1,!1)}),d&&(s=s.add(u))}),this.ze.forEach((u,h)=>h.setReadTime(e));const o=new Sf(e,t,this.He,this.ze,s);return this.ze=Bi(),this.je=bh(),this.Je=bh(),this.He=new Rt(Ue),o}Ze(e,t){if(!this.nt(e))return;const s=this.It(e,t.key)?2:0;this.tt(e).qe(t.key,s),this.ze=this.ze.insert(t.key,t),this.je=this.je.insert(t.key,this.Tt(t.key).add(e)),this.Je=this.Je.insert(t.key,this.dt(t.key).add(e))}Xe(e,t,s){if(!this.nt(e))return;const o=this.tt(e);this.It(e,t)?o.qe(t,1):o.Qe(t),this.Je=this.Je.insert(t,this.dt(t).delete(e)),this.Je=this.Je.insert(t,this.dt(t).add(e)),s&&(this.ze=this.ze.insert(t,s))}removeTarget(e){this.Ge.delete(e)}ot(e){const t=this.tt(e).Le();return this.We.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}$e(e){this.tt(e).$e()}tt(e){let t=this.Ge.get(e);return t||(t=new Nb,this.Ge.set(e,t)),t}dt(e){let t=this.Je.get(e);return t||(t=new Xt(Ue),this.Je=this.Je.insert(e,t)),t}Tt(e){let t=this.je.get(e);return t||(t=new Xt(Ue),this.je=this.je.insert(e,t)),t}nt(e){const t=this.st(e)!==null;return t||pe("WatchChangeAggregator","Detected inactive target",e),t}st(e){const t=this.Ge.get(e);return t&&t.Oe?null:this.We.Et(e)}rt(e){this.Ge.set(e,new Nb),this.We.getRemoteKeysForTarget(e).forEach(t=>{this.Xe(e,t,null)})}It(e,t){return this.We.getRemoteKeysForTarget(e).has(t)}}function bh(){return new Rt(Te.comparator)}function Ob(){return new Rt(Te.comparator)}const nk={asc:"ASCENDING",desc:"DESCENDING"},rk={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},ik={and:"AND",or:"OR"};class sk{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function Ep(r,e){return r.useProto3Json||vf(e)?e:{value:e}}function Zh(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Ow(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function ak(r,e){return Zh(r,e.toTimestamp())}function Hr(r){return it(!!r,49232),ke.fromTimestamp(function(t){const s=Ns(t);return new gt(s.seconds,s.nanos)}(r))}function dg(r,e){return Tp(r,e).canonicalString()}function Tp(r,e){const t=function(o){return new pt(["projects",o.projectId,"databases",o.database])}(r).child("documents");return e===void 0?t:t.child(e)}function kw(r){const e=pt.fromString(r);return it(Uw(e),10190,{key:e.toString()}),e}function wp(r,e){return dg(r.databaseId,e.path)}function Hm(r,e){const t=kw(e);if(t.get(1)!==r.databaseId.projectId)throw new ge(ae.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+r.databaseId.projectId);if(t.get(3)!==r.databaseId.database)throw new ge(ae.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+r.databaseId.database);return new Te(Pw(t))}function Mw(r,e){return dg(r.databaseId,e)}function ok(r){const e=kw(r);return e.length===4?pt.emptyPath():Pw(e)}function Sp(r){return new pt(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function Pw(r){return it(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function kb(r,e,t){return{name:wp(r,e),fields:t.value.mapValue.fields}}function lk(r,e){let t;if("targetChange"in e){e.targetChange;const s=function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:De(39313,{state:g})}(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],u=function(g,_){return g.useProto3Json?(it(_===void 0||typeof _=="string",58123),pn.fromBase64String(_||"")):(it(_===void 0||_ instanceof Buffer||_ instanceof Uint8Array,16193),pn.fromUint8Array(_||new Uint8Array))}(r,e.targetChange.resumeToken),h=e.targetChange.cause,d=h&&function(g){const _=g.code===void 0?ae.UNKNOWN:Iw(g.code);return new ge(_,g.message||"")}(h);t=new Nw(s,o,u,d||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const o=Hm(r,s.document.name),u=Hr(s.document.updateTime),h=s.document.createTime?Hr(s.document.createTime):ke.min(),d=new sr({mapValue:{fields:s.document.fields}}),p=En.newFoundDocument(o,u,h,d),g=s.targetIds||[],_=s.removedTargetIds||[];t=new kh(g,_,p.key,p)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const o=Hm(r,s.document),u=s.readTime?Hr(s.readTime):ke.min(),h=En.newNoDocument(o,u),d=s.removedTargetIds||[];t=new kh([],d,h.key,h)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const o=Hm(r,s.document),u=s.removedTargetIds||[];t=new kh([],u,o,null)}else{if(!("filter"in e))return De(11601,{At:e});{e.filter;const s=e.filter;s.targetId;const{count:o=0,unchangedNames:u}=s,h=new ZO(o,u),d=s.targetId;t=new Dw(d,h)}}return t}function uk(r,e){let t;if(e instanceof Bu)t={update:kb(r,e.key,e.value)};else if(e instanceof cg)t={delete:wp(r,e.key)};else if(e instanceof Ma)t={update:kb(r,e.key,e.data),updateMask:vk(e.fieldMask)};else{if(!(e instanceof $O))return De(16599,{Rt:e.type});t={verify:wp(r,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(s=>function(u,h){const d=h.transform;if(d instanceof Xh)return{fieldPath:h.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(d instanceof Cu)return{fieldPath:h.field.canonicalString(),appendMissingElements:{values:d.elements}};if(d instanceof xu)return{fieldPath:h.field.canonicalString(),removeAllFromArray:{values:d.elements}};if(d instanceof Wh)return{fieldPath:h.field.canonicalString(),increment:d.Ee};throw De(20930,{transform:h.transform})}(0,s))),e.precondition.isNone||(t.currentDocument=function(o,u){return u.updateTime!==void 0?{updateTime:ak(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:De(27497)}(r,e.precondition)),t}function ck(r,e){return r&&r.length>0?(it(e!==void 0,14353),r.map(t=>function(o,u){let h=o.updateTime?Hr(o.updateTime):Hr(u);return h.isEqual(ke.min())&&(h=Hr(u)),new YO(h,o.transformResults||[])}(t,e))):[]}function hk(r,e){return{documents:[Mw(r,e.path)]}}function fk(r,e){const t={structuredQuery:{}},s=e.path;let o;e.collectionGroup!==null?(o=s,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=s.popLast(),t.structuredQuery.from=[{collectionId:s.lastSegment()}]),t.parent=Mw(r,o);const u=function(g){if(g.length!==0)return Lw(Er.create(g,"and"))}(e.filters);u&&(t.structuredQuery.where=u);const h=function(g){if(g.length!==0)return g.map(_=>function(T){return{field:No(T.field),direction:pk(T.dir)}}(_))}(e.orderBy);h&&(t.structuredQuery.orderBy=h);const d=Ep(r,e.limit);return d!==null&&(t.structuredQuery.limit=d),e.startAt&&(t.structuredQuery.startAt=function(g){return{before:g.inclusive,values:g.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(g){return{before:!g.inclusive,values:g.position}}(e.endAt)),{Vt:t,parent:o}}function dk(r){let e=ok(r.parent);const t=r.structuredQuery,s=t.from?t.from.length:0;let o=null;if(s>0){it(s===1,65062);const _=t.from[0];_.allDescendants?o=_.collectionId:e=e.child(_.collectionId)}let u=[];t.where&&(u=function(v){const T=Vw(v);return T instanceof Er&&fw(T)?T.getFilters():[T]}(t.where));let h=[];t.orderBy&&(h=function(v){return v.map(T=>function(C){return new $h(Oo(C.field),function(D){switch(D){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(C.direction))}(T))}(t.orderBy));let d=null;t.limit&&(d=function(v){let T;return T=typeof v=="object"?v.value:v,vf(T)?null:T}(t.limit));let p=null;t.startAt&&(p=function(v){const T=!!v.before,x=v.values||[];return new Qh(x,T)}(t.startAt));let g=null;return t.endAt&&(g=function(v){const T=!v.before,x=v.values||[];return new Qh(x,T)}(t.endAt)),kO(e,o,h,u,d,"F",p,g)}function mk(r,e){const t=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return De(28987,{purpose:o})}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function Vw(r){return r.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const s=Oo(t.unaryFilter.field);return qt.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=Oo(t.unaryFilter.field);return qt.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=Oo(t.unaryFilter.field);return qt.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const h=Oo(t.unaryFilter.field);return qt.create(h,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return De(61313);default:return De(60726)}}(r):r.fieldFilter!==void 0?function(t){return qt.create(Oo(t.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return De(58110);default:return De(50506)}}(t.fieldFilter.op),t.fieldFilter.value)}(r):r.compositeFilter!==void 0?function(t){return Er.create(t.compositeFilter.filters.map(s=>Vw(s)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return De(1026)}}(t.compositeFilter.op))}(r):De(30097,{filter:r})}function pk(r){return nk[r]}function gk(r){return rk[r]}function yk(r){return ik[r]}function No(r){return{fieldPath:r.canonicalString()}}function Oo(r){return dn.fromServerFormat(r.fieldPath)}function Lw(r){return r instanceof qt?function(t){if(t.op==="=="){if(bb(t.value))return{unaryFilter:{field:No(t.field),op:"IS_NAN"}};if(_b(t.value))return{unaryFilter:{field:No(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(bb(t.value))return{unaryFilter:{field:No(t.field),op:"IS_NOT_NAN"}};if(_b(t.value))return{unaryFilter:{field:No(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:No(t.field),op:gk(t.op),value:t.value}}}(r):r instanceof Er?function(t){const s=t.getFilters().map(o=>Lw(o));return s.length===1?s[0]:{compositeFilter:{op:yk(t.op),filters:s}}}(r):De(54877,{filter:r})}function vk(r){const e=[];return r.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function Uw(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ts{constructor(e,t,s,o,u=ke.min(),h=ke.min(),d=pn.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=t,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=h,this.resumeToken=d,this.expectedCount=p}withSequenceNumber(e){return new Ts(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Ts(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Ts(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Ts(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _k{constructor(e){this.gt=e}}function bk(r){const e=dk({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?bp(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ek{constructor(){this.Dn=new Tk}addToCollectionParentIndex(e,t){return this.Dn.add(t),le.resolve()}getCollectionParents(e,t){return le.resolve(this.Dn.getEntries(t))}addFieldIndex(e,t){return le.resolve()}deleteFieldIndex(e,t){return le.resolve()}deleteAllFieldIndexes(e){return le.resolve()}createTargetIndexes(e,t){return le.resolve()}getDocumentsMatchingTarget(e,t){return le.resolve(null)}getIndexType(e,t){return le.resolve(0)}getFieldIndexes(e,t){return le.resolve([])}getNextCollectionGroupToUpdate(e){return le.resolve(null)}getMinOffset(e,t){return le.resolve(Ds.min())}getMinOffsetFromCollectionGroup(e,t){return le.resolve(Ds.min())}updateCollectionGroup(e,t,s){return le.resolve()}updateIndexEntries(e,t){return le.resolve()}}class Tk{constructor(){this.index={}}add(e){const t=e.lastSegment(),s=e.popLast(),o=this.index[t]||new Xt(pt.comparator),u=!o.has(s);return this.index[t]=o.add(s),u}has(e){const t=e.lastSegment(),s=e.popLast(),o=this.index[t];return o&&o.has(s)}getEntries(e){return(this.index[e]||new Xt(pt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mb={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},zw=41943040;class Pn{static withCacheSize(e){return new Pn(e,Pn.DEFAULT_COLLECTION_PERCENTILE,Pn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Pn.DEFAULT_COLLECTION_PERCENTILE=10,Pn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Pn.DEFAULT=new Pn(zw,Pn.DEFAULT_COLLECTION_PERCENTILE,Pn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Pn.DISABLED=new Pn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qo{constructor(e){this._r=e}next(){return this._r+=2,this._r}static ar(){return new qo(0)}static ur(){return new qo(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pb="LruGarbageCollector",wk=1048576;function Vb([r,e],[t,s]){const o=Ue(r,t);return o===0?Ue(e,s):o}class Sk{constructor(e){this.Tr=e,this.buffer=new Xt(Vb),this.Ir=0}dr(){return++this.Ir}Er(e){const t=[e,this.dr()];if(this.buffer.size<this.Tr)this.buffer=this.buffer.add(t);else{const s=this.buffer.last();Vb(t,s)<0&&(this.buffer=this.buffer.delete(s).add(t))}}get maxValue(){return this.buffer.last()[0]}}class Ak{constructor(e,t,s){this.garbageCollector=e,this.asyncQueue=t,this.localStore=s,this.Ar=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Rr(6e4)}stop(){this.Ar&&(this.Ar.cancel(),this.Ar=null)}get started(){return this.Ar!==null}Rr(e){pe(Pb,`Garbage collection scheduled in ${e}ms`),this.Ar=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Ar=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){Zo(t)?pe(Pb,"Ignoring IndexedDB error during garbage collection: ",t):await Wo(t)}await this.Rr(3e5)})}}class Rk{constructor(e,t){this.Vr=e,this.params=t}calculateTargetCount(e,t){return this.Vr.mr(e).next(s=>Math.floor(t/100*s))}nthSequenceNumber(e,t){if(t===0)return le.resolve(yf.ue);const s=new Sk(t);return this.Vr.forEachTarget(e,o=>s.Er(o.sequenceNumber)).next(()=>this.Vr.gr(e,o=>s.Er(o))).next(()=>s.maxValue)}removeTargets(e,t,s){return this.Vr.removeTargets(e,t,s)}removeOrphanedDocuments(e,t){return this.Vr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(pe("LruGarbageCollector","Garbage collection skipped; disabled"),le.resolve(Mb)):this.getCacheSize(e).next(s=>s<this.params.cacheSizeCollectionThreshold?(pe("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Mb):this.pr(e,t))}getCacheSize(e){return this.Vr.getCacheSize(e)}pr(e,t){let s,o,u,h,d,p,g;const _=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(v=>(v>this.params.maximumSequenceNumbersToCollect?(pe("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${v}`),o=this.params.maximumSequenceNumbersToCollect):o=v,h=Date.now(),this.nthSequenceNumber(e,o))).next(v=>(s=v,d=Date.now(),this.removeTargets(e,s,t))).next(v=>(u=v,p=Date.now(),this.removeOrphanedDocuments(e,s))).next(v=>(g=Date.now(),Io()<=Ge.DEBUG&&pe("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${h-_}ms
	Determined least recently used ${o} in `+(d-h)+`ms
	Removed ${u} targets in `+(p-d)+`ms
	Removed ${v} documents in `+(g-p)+`ms
Total Duration: ${g-_}ms`),le.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:v})))}}function Ck(r,e){return new Rk(r,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xk{constructor(){this.changes=new ka(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,En.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const s=this.changes.get(t);return s!==void 0?le.resolve(s):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ik{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dk{constructor(e,t,s,o){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=s,this.indexManager=o}getDocument(e,t){let s=null;return this.documentOverlayCache.getOverlay(e,t).next(o=>(s=o,this.remoteDocumentCache.getEntry(e,t))).next(o=>(s!==null&&gu(s.mutation,o,yr.empty(),gt.now()),o))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(s=>this.getLocalViewOfDocuments(e,s,Ye()).next(()=>s))}getLocalViewOfDocuments(e,t,s=Ye()){const o=ya();return this.populateOverlays(e,o,t).next(()=>this.computeViews(e,t,o,s).next(u=>{let h=lu();return u.forEach((d,p)=>{h=h.insert(d,p.overlayedDocument)}),h}))}getOverlayedDocuments(e,t){const s=ya();return this.populateOverlays(e,s,t).next(()=>this.computeViews(e,t,s,Ye()))}populateOverlays(e,t,s){const o=[];return s.forEach(u=>{t.has(u)||o.push(u)}),this.documentOverlayCache.getOverlays(e,o).next(u=>{u.forEach((h,d)=>{t.set(h,d)})})}computeViews(e,t,s,o){let u=Bi();const h=pu(),d=function(){return pu()}();return t.forEach((p,g)=>{const _=s.get(g.key);o.has(g.key)&&(_===void 0||_.mutation instanceof Ma)?u=u.insert(g.key,g):_!==void 0?(h.set(g.key,_.mutation.getFieldMask()),gu(_.mutation,g,_.mutation.getFieldMask(),gt.now())):h.set(g.key,yr.empty())}),this.recalculateAndSaveOverlays(e,u).next(p=>(p.forEach((g,_)=>h.set(g,_)),t.forEach((g,_)=>{var v;return d.set(g,new Ik(_,(v=h.get(g))!==null&&v!==void 0?v:null))}),d))}recalculateAndSaveOverlays(e,t){const s=pu();let o=new Rt((h,d)=>h-d),u=Ye();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(h=>{for(const d of h)d.keys().forEach(p=>{const g=t.get(p);if(g===null)return;let _=s.get(p)||yr.empty();_=d.applyToLocalView(g,_),s.set(p,_);const v=(o.get(d.batchId)||Ye()).add(p);o=o.insert(d.batchId,v)})}).next(()=>{const h=[],d=o.getReverseIterator();for(;d.hasNext();){const p=d.getNext(),g=p.key,_=p.value,v=Ew();_.forEach(T=>{if(!u.has(T)){const x=Cw(t.get(T),s.get(T));x!==null&&v.set(T,x),u=u.add(T)}}),h.push(this.documentOverlayCache.saveOverlays(e,g,v))}return le.waitFor(h)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(s=>this.recalculateAndSaveOverlays(e,s))}getDocumentsMatchingQuery(e,t,s,o){return function(h){return Te.isDocumentKey(h.path)&&h.collectionGroup===null&&h.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):gw(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,s,o):this.getDocumentsMatchingCollectionQuery(e,t,s,o)}getNextDocuments(e,t,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,s,o).next(u=>{const h=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,s.largestBatchId,o-u.size):le.resolve(ya());let d=wu,p=u;return h.next(g=>le.forEach(g,(_,v)=>(d<v.largestBatchId&&(d=v.largestBatchId),u.get(_)?le.resolve():this.remoteDocumentCache.getEntry(e,_).next(T=>{p=p.insert(_,T)}))).next(()=>this.populateOverlays(e,g,u)).next(()=>this.computeViews(e,p,g,Ye())).next(_=>({batchId:d,changes:bw(_)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Te(t)).next(s=>{let o=lu();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o})}getDocumentsMatchingCollectionGroupQuery(e,t,s,o){const u=t.collectionGroup;let h=lu();return this.indexManager.getCollectionParents(e,u).next(d=>le.forEach(d,p=>{const g=function(v,T){return new ju(T,null,v.explicitOrderBy.slice(),v.filters.slice(),v.limit,v.limitType,v.startAt,v.endAt)}(t,p.child(u));return this.getDocumentsMatchingCollectionQuery(e,g,s,o).next(_=>{_.forEach((v,T)=>{h=h.insert(v,T)})})}).next(()=>h))}getDocumentsMatchingCollectionQuery(e,t,s,o){let u;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,s.largestBatchId).next(h=>(u=h,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,s,u,o))).next(h=>{u.forEach((p,g)=>{const _=g.getKey();h.get(_)===null&&(h=h.insert(_,En.newInvalidDocument(_)))});let d=lu();return h.forEach((p,g)=>{const _=u.get(p);_!==void 0&&gu(_.mutation,g,yr.empty(),gt.now()),Ef(t,g)&&(d=d.insert(p,g))}),d})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nk{constructor(e){this.serializer=e,this.Br=new Map,this.Lr=new Map}getBundleMetadata(e,t){return le.resolve(this.Br.get(t))}saveBundleMetadata(e,t){return this.Br.set(t.id,function(o){return{id:o.id,version:o.version,createTime:Hr(o.createTime)}}(t)),le.resolve()}getNamedQuery(e,t){return le.resolve(this.Lr.get(t))}saveNamedQuery(e,t){return this.Lr.set(t.name,function(o){return{name:o.name,query:bk(o.bundledQuery),readTime:Hr(o.readTime)}}(t)),le.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ok{constructor(){this.overlays=new Rt(Te.comparator),this.kr=new Map}getOverlay(e,t){return le.resolve(this.overlays.get(t))}getOverlays(e,t){const s=ya();return le.forEach(t,o=>this.getOverlay(e,o).next(u=>{u!==null&&s.set(o,u)})).next(()=>s)}saveOverlays(e,t,s){return s.forEach((o,u)=>{this.wt(e,t,u)}),le.resolve()}removeOverlaysForBatchId(e,t,s){const o=this.kr.get(s);return o!==void 0&&(o.forEach(u=>this.overlays=this.overlays.remove(u)),this.kr.delete(s)),le.resolve()}getOverlaysForCollection(e,t,s){const o=ya(),u=t.length+1,h=new Te(t.child("")),d=this.overlays.getIteratorFrom(h);for(;d.hasNext();){const p=d.getNext().value,g=p.getKey();if(!t.isPrefixOf(g.path))break;g.path.length===u&&p.largestBatchId>s&&o.set(p.getKey(),p)}return le.resolve(o)}getOverlaysForCollectionGroup(e,t,s,o){let u=new Rt((g,_)=>g-_);const h=this.overlays.getIterator();for(;h.hasNext();){const g=h.getNext().value;if(g.getKey().getCollectionGroup()===t&&g.largestBatchId>s){let _=u.get(g.largestBatchId);_===null&&(_=ya(),u=u.insert(g.largestBatchId,_)),_.set(g.getKey(),g)}}const d=ya(),p=u.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach((g,_)=>d.set(g,_)),!(d.size()>=o)););return le.resolve(d)}wt(e,t,s){const o=this.overlays.get(s.key);if(o!==null){const h=this.kr.get(o.largestBatchId).delete(s.key);this.kr.set(o.largestBatchId,h)}this.overlays=this.overlays.insert(s.key,new WO(t,s));let u=this.kr.get(t);u===void 0&&(u=Ye(),this.kr.set(t,u)),this.kr.set(t,u.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kk{constructor(){this.sessionToken=pn.EMPTY_BYTE_STRING}getSessionToken(e){return le.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,le.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mg{constructor(){this.qr=new Xt(nn.Qr),this.$r=new Xt(nn.Ur)}isEmpty(){return this.qr.isEmpty()}addReference(e,t){const s=new nn(e,t);this.qr=this.qr.add(s),this.$r=this.$r.add(s)}Kr(e,t){e.forEach(s=>this.addReference(s,t))}removeReference(e,t){this.Wr(new nn(e,t))}Gr(e,t){e.forEach(s=>this.removeReference(s,t))}zr(e){const t=new Te(new pt([])),s=new nn(t,e),o=new nn(t,e+1),u=[];return this.$r.forEachInRange([s,o],h=>{this.Wr(h),u.push(h.key)}),u}jr(){this.qr.forEach(e=>this.Wr(e))}Wr(e){this.qr=this.qr.delete(e),this.$r=this.$r.delete(e)}Jr(e){const t=new Te(new pt([])),s=new nn(t,e),o=new nn(t,e+1);let u=Ye();return this.$r.forEachInRange([s,o],h=>{u=u.add(h.key)}),u}containsKey(e){const t=new nn(e,0),s=this.qr.firstAfterOrEqual(t);return s!==null&&e.isEqual(s.key)}}class nn{constructor(e,t){this.key=e,this.Hr=t}static Qr(e,t){return Te.comparator(e.key,t.key)||Ue(e.Hr,t.Hr)}static Ur(e,t){return Ue(e.Hr,t.Hr)||Te.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mk{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.er=1,this.Yr=new Xt(nn.Qr)}checkEmpty(e){return le.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,s,o){const u=this.er;this.er++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const h=new XO(u,t,s,o);this.mutationQueue.push(h);for(const d of o)this.Yr=this.Yr.add(new nn(d.key,u)),this.indexManager.addToCollectionParentIndex(e,d.key.path.popLast());return le.resolve(h)}lookupMutationBatch(e,t){return le.resolve(this.Zr(t))}getNextMutationBatchAfterBatchId(e,t){const s=t+1,o=this.Xr(s),u=o<0?0:o;return le.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return le.resolve(this.mutationQueue.length===0?rg:this.er-1)}getAllMutationBatches(e){return le.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const s=new nn(t,0),o=new nn(t,Number.POSITIVE_INFINITY),u=[];return this.Yr.forEachInRange([s,o],h=>{const d=this.Zr(h.Hr);u.push(d)}),le.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,t){let s=new Xt(Ue);return t.forEach(o=>{const u=new nn(o,0),h=new nn(o,Number.POSITIVE_INFINITY);this.Yr.forEachInRange([u,h],d=>{s=s.add(d.Hr)})}),le.resolve(this.ei(s))}getAllMutationBatchesAffectingQuery(e,t){const s=t.path,o=s.length+1;let u=s;Te.isDocumentKey(u)||(u=u.child(""));const h=new nn(new Te(u),0);let d=new Xt(Ue);return this.Yr.forEachWhile(p=>{const g=p.key.path;return!!s.isPrefixOf(g)&&(g.length===o&&(d=d.add(p.Hr)),!0)},h),le.resolve(this.ei(d))}ei(e){const t=[];return e.forEach(s=>{const o=this.Zr(s);o!==null&&t.push(o)}),t}removeMutationBatch(e,t){it(this.ti(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Yr;return le.forEach(t.mutations,o=>{const u=new nn(o.key,t.batchId);return s=s.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(()=>{this.Yr=s})}rr(e){}containsKey(e,t){const s=new nn(t,0),o=this.Yr.firstAfterOrEqual(s);return le.resolve(t.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,le.resolve()}ti(e,t){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const t=this.Xr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pk{constructor(e){this.ni=e,this.docs=function(){return new Rt(Te.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const s=t.key,o=this.docs.get(s),u=o?o.size:0,h=this.ni(t);return this.docs=this.docs.insert(s,{document:t.mutableCopy(),size:h}),this.size+=h-u,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const s=this.docs.get(t);return le.resolve(s?s.document.mutableCopy():En.newInvalidDocument(t))}getEntries(e,t){let s=Bi();return t.forEach(o=>{const u=this.docs.get(o);s=s.insert(o,u?u.document.mutableCopy():En.newInvalidDocument(o))}),le.resolve(s)}getDocumentsMatchingQuery(e,t,s,o){let u=Bi();const h=t.path,d=new Te(h.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(d);for(;p.hasNext();){const{key:g,value:{document:_}}=p.getNext();if(!h.isPrefixOf(g.path))break;g.path.length>h.length+1||hO(cO(_),s)<=0||(o.has(_.key)||Ef(t,_))&&(u=u.insert(_.key,_.mutableCopy()))}return le.resolve(u)}getAllFromCollectionGroup(e,t,s,o){De(9500)}ri(e,t){return le.forEach(this.docs,s=>t(s))}newChangeBuffer(e){return new Vk(this)}getSize(e){return le.resolve(this.size)}}class Vk extends xk{constructor(e){super(),this.Or=e}applyChanges(e){const t=[];return this.changes.forEach((s,o)=>{o.isValidDocument()?t.push(this.Or.addEntry(e,o)):this.Or.removeEntry(s)}),le.waitFor(t)}getFromCache(e,t){return this.Or.getEntry(e,t)}getAllFromCache(e,t){return this.Or.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lk{constructor(e){this.persistence=e,this.ii=new ka(t=>ag(t),og),this.lastRemoteSnapshotVersion=ke.min(),this.highestTargetId=0,this.si=0,this.oi=new mg,this.targetCount=0,this._i=qo.ar()}forEachTarget(e,t){return this.ii.forEach((s,o)=>t(o)),le.resolve()}getLastRemoteSnapshotVersion(e){return le.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return le.resolve(this.si)}allocateTargetId(e){return this.highestTargetId=this._i.next(),le.resolve(this.highestTargetId)}setTargetsMetadata(e,t,s){return s&&(this.lastRemoteSnapshotVersion=s),t>this.si&&(this.si=t),le.resolve()}hr(e){this.ii.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this._i=new qo(t),this.highestTargetId=t),e.sequenceNumber>this.si&&(this.si=e.sequenceNumber)}addTargetData(e,t){return this.hr(t),this.targetCount+=1,le.resolve()}updateTargetData(e,t){return this.hr(t),le.resolve()}removeTargetData(e,t){return this.ii.delete(t.target),this.oi.zr(t.targetId),this.targetCount-=1,le.resolve()}removeTargets(e,t,s){let o=0;const u=[];return this.ii.forEach((h,d)=>{d.sequenceNumber<=t&&s.get(d.targetId)===null&&(this.ii.delete(h),u.push(this.removeMatchingKeysForTargetId(e,d.targetId)),o++)}),le.waitFor(u).next(()=>o)}getTargetCount(e){return le.resolve(this.targetCount)}getTargetData(e,t){const s=this.ii.get(t)||null;return le.resolve(s)}addMatchingKeys(e,t,s){return this.oi.Kr(t,s),le.resolve()}removeMatchingKeys(e,t,s){this.oi.Gr(t,s);const o=this.persistence.referenceDelegate,u=[];return o&&t.forEach(h=>{u.push(o.markPotentiallyOrphaned(e,h))}),le.waitFor(u)}removeMatchingKeysForTargetId(e,t){return this.oi.zr(t),le.resolve()}getMatchingKeysForTargetId(e,t){const s=this.oi.Jr(t);return le.resolve(s)}containsKey(e,t){return le.resolve(this.oi.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jw{constructor(e,t){this.ai={},this.overlays={},this.ui=new yf(0),this.ci=!1,this.ci=!0,this.li=new kk,this.referenceDelegate=e(this),this.hi=new Lk(this),this.indexManager=new Ek,this.remoteDocumentCache=function(o){return new Pk(o)}(s=>this.referenceDelegate.Pi(s)),this.serializer=new _k(t),this.Ti=new Nk(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ci=!1,Promise.resolve()}get started(){return this.ci}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new Ok,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let s=this.ai[e.toKey()];return s||(s=new Mk(t,this.referenceDelegate),this.ai[e.toKey()]=s),s}getGlobalsCache(){return this.li}getTargetCache(){return this.hi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ti}runTransaction(e,t,s){pe("MemoryPersistence","Starting transaction:",e);const o=new Uk(this.ui.next());return this.referenceDelegate.Ii(),s(o).next(u=>this.referenceDelegate.di(o).next(()=>u)).toPromise().then(u=>(o.raiseOnCommittedEvent(),u))}Ei(e,t){return le.or(Object.values(this.ai).map(s=>()=>s.containsKey(e,t)))}}class Uk extends dO{constructor(e){super(),this.currentSequenceNumber=e}}class pg{constructor(e){this.persistence=e,this.Ai=new mg,this.Ri=null}static Vi(e){return new pg(e)}get mi(){if(this.Ri)return this.Ri;throw De(60996)}addReference(e,t,s){return this.Ai.addReference(s,t),this.mi.delete(s.toString()),le.resolve()}removeReference(e,t,s){return this.Ai.removeReference(s,t),this.mi.add(s.toString()),le.resolve()}markPotentiallyOrphaned(e,t){return this.mi.add(t.toString()),le.resolve()}removeTarget(e,t){this.Ai.zr(t.targetId).forEach(o=>this.mi.add(o.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,t.targetId).next(o=>{o.forEach(u=>this.mi.add(u.toString()))}).next(()=>s.removeTargetData(e,t))}Ii(){this.Ri=new Set}di(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return le.forEach(this.mi,s=>{const o=Te.fromPath(s);return this.fi(e,o).next(u=>{u||t.removeEntry(o,ke.min())})}).next(()=>(this.Ri=null,t.apply(e)))}updateLimboDocument(e,t){return this.fi(e,t).next(s=>{s?this.mi.delete(t.toString()):this.mi.add(t.toString())})}Pi(e){return 0}fi(e,t){return le.or([()=>le.resolve(this.Ai.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ei(e,t)])}}class Jh{constructor(e,t){this.persistence=e,this.gi=new ka(s=>gO(s.path),(s,o)=>s.isEqual(o)),this.garbageCollector=Ck(this,t)}static Vi(e,t){return new Jh(e,t)}Ii(){}di(e){return le.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}mr(e){const t=this.yr(e);return this.persistence.getTargetCache().getTargetCount(e).next(s=>t.next(o=>s+o))}yr(e){let t=0;return this.gr(e,s=>{t++}).next(()=>t)}gr(e,t){return le.forEach(this.gi,(s,o)=>this.Sr(e,s,o).next(u=>u?le.resolve():t(o)))}removeTargets(e,t,s){return this.persistence.getTargetCache().removeTargets(e,t,s)}removeOrphanedDocuments(e,t){let s=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.ri(e,h=>this.Sr(e,h,t).next(d=>{d||(s++,u.removeEntry(h,ke.min()))})).next(()=>u.apply(e)).next(()=>s)}markPotentiallyOrphaned(e,t){return this.gi.set(t,e.currentSequenceNumber),le.resolve()}removeTarget(e,t){const s=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,t,s){return this.gi.set(s,e.currentSequenceNumber),le.resolve()}removeReference(e,t,s){return this.gi.set(s,e.currentSequenceNumber),le.resolve()}updateLimboDocument(e,t){return this.gi.set(t,e.currentSequenceNumber),le.resolve()}Pi(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=Dh(e.data.value)),t}Sr(e,t,s){return le.or([()=>this.persistence.Ei(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const o=this.gi.get(t);return le.resolve(o!==void 0&&o>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gg{constructor(e,t,s,o){this.targetId=e,this.fromCache=t,this.Is=s,this.ds=o}static Es(e,t){let s=Ye(),o=Ye();for(const u of t.docChanges)switch(u.type){case 0:s=s.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new gg(e,t.fromCache,s,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zk{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jk{constructor(){this.As=!1,this.Rs=!1,this.Vs=100,this.fs=function(){return vI()?8:mO(Tn())>0?6:4}()}initialize(e,t){this.gs=e,this.indexManager=t,this.As=!0}getDocumentsMatchingQuery(e,t,s,o){const u={result:null};return this.ps(e,t).next(h=>{u.result=h}).next(()=>{if(!u.result)return this.ys(e,t,o,s).next(h=>{u.result=h})}).next(()=>{if(u.result)return;const h=new zk;return this.ws(e,t,h).next(d=>{if(u.result=d,this.Rs)return this.Ss(e,t,h,d.size)})}).next(()=>u.result)}Ss(e,t,s,o){return s.documentReadCount<this.Vs?(Io()<=Ge.DEBUG&&pe("QueryEngine","SDK will not create cache indexes for query:",Do(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),le.resolve()):(Io()<=Ge.DEBUG&&pe("QueryEngine","Query:",Do(t),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.fs*o?(Io()<=Ge.DEBUG&&pe("QueryEngine","The SDK decides to create cache indexes for query:",Do(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Fr(t))):le.resolve())}ps(e,t){if(Sb(t))return le.resolve(null);let s=Fr(t);return this.indexManager.getIndexType(e,s).next(o=>o===0?null:(t.limit!==null&&o===1&&(t=bp(t,null,"F"),s=Fr(t)),this.indexManager.getDocumentsMatchingTarget(e,s).next(u=>{const h=Ye(...u);return this.gs.getDocuments(e,h).next(d=>this.indexManager.getMinOffset(e,s).next(p=>{const g=this.bs(t,d);return this.Ds(t,g,h,p.readTime)?this.ps(e,bp(t,null,"F")):this.vs(e,g,t,p)}))})))}ys(e,t,s,o){return Sb(t)||o.isEqual(ke.min())?le.resolve(null):this.gs.getDocuments(e,s).next(u=>{const h=this.bs(t,u);return this.Ds(t,h,s,o)?le.resolve(null):(Io()<=Ge.DEBUG&&pe("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Do(t)),this.vs(e,h,t,uO(o,wu)).next(d=>d))})}bs(e,t){let s=new Xt(vw(e));return t.forEach((o,u)=>{Ef(e,u)&&(s=s.add(u))}),s}Ds(e,t,s,o){if(e.limit===null)return!1;if(s.size!==t.size)return!0;const u=e.limitType==="F"?t.last():t.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}ws(e,t,s){return Io()<=Ge.DEBUG&&pe("QueryEngine","Using full collection scan to execute query:",Do(t)),this.gs.getDocumentsMatchingQuery(e,t,Ds.min(),s)}vs(e,t,s,o){return this.gs.getDocumentsMatchingQuery(e,s,o).next(u=>(t.forEach(h=>{u=u.insert(h.key,h)}),u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yg="LocalStore",Bk=3e8;class qk{constructor(e,t,s,o){this.persistence=e,this.Cs=t,this.serializer=o,this.Fs=new Rt(Ue),this.Ms=new ka(u=>ag(u),og),this.xs=new Map,this.Os=e.getRemoteDocumentCache(),this.hi=e.getTargetCache(),this.Ti=e.getBundleCache(),this.Ns(s)}Ns(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Dk(this.Os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Os.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Fs))}}function Fk(r,e,t,s){return new qk(r,e,t,s)}async function Bw(r,e){const t=Me(r);return await t.persistence.runTransaction("Handle user change","readonly",s=>{let o;return t.mutationQueue.getAllMutationBatches(s).next(u=>(o=u,t.Ns(e),t.mutationQueue.getAllMutationBatches(s))).next(u=>{const h=[],d=[];let p=Ye();for(const g of o){h.push(g.batchId);for(const _ of g.mutations)p=p.add(_.key)}for(const g of u){d.push(g.batchId);for(const _ of g.mutations)p=p.add(_.key)}return t.localDocuments.getDocuments(s,p).next(g=>({Bs:g,removedBatchIds:h,addedBatchIds:d}))})})}function Hk(r,e){const t=Me(r);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const o=e.batch.keys(),u=t.Os.newChangeBuffer({trackRemovals:!0});return function(d,p,g,_){const v=g.batch,T=v.keys();let x=le.resolve();return T.forEach(C=>{x=x.next(()=>_.getEntry(p,C)).next(O=>{const D=g.docVersions.get(C);it(D!==null,48541),O.version.compareTo(D)<0&&(v.applyToRemoteDocument(O,g),O.isValidDocument()&&(O.setReadTime(g.commitVersion),_.addEntry(O)))})}),x.next(()=>d.mutationQueue.removeMutationBatch(p,v))}(t,s,e,u).next(()=>u.apply(s)).next(()=>t.mutationQueue.performConsistencyCheck(s)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(s,o,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(d){let p=Ye();for(let g=0;g<d.mutationResults.length;++g)d.mutationResults[g].transformResults.length>0&&(p=p.add(d.batch.mutations[g].key));return p}(e))).next(()=>t.localDocuments.getDocuments(s,o))})}function qw(r){const e=Me(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.hi.getLastRemoteSnapshotVersion(t))}function Gk(r,e){const t=Me(r),s=e.snapshotVersion;let o=t.Fs;return t.persistence.runTransaction("Apply remote event","readwrite-primary",u=>{const h=t.Os.newChangeBuffer({trackRemovals:!0});o=t.Fs;const d=[];e.targetChanges.forEach((_,v)=>{const T=o.get(v);if(!T)return;d.push(t.hi.removeMatchingKeys(u,_.removedDocuments,v).next(()=>t.hi.addMatchingKeys(u,_.addedDocuments,v)));let x=T.withSequenceNumber(u.currentSequenceNumber);e.targetMismatches.get(v)!==null?x=x.withResumeToken(pn.EMPTY_BYTE_STRING,ke.min()).withLastLimboFreeSnapshotVersion(ke.min()):_.resumeToken.approximateByteSize()>0&&(x=x.withResumeToken(_.resumeToken,s)),o=o.insert(v,x),function(O,D,z){return O.resumeToken.approximateByteSize()===0||D.snapshotVersion.toMicroseconds()-O.snapshotVersion.toMicroseconds()>=Bk?!0:z.addedDocuments.size+z.modifiedDocuments.size+z.removedDocuments.size>0}(T,x,_)&&d.push(t.hi.updateTargetData(u,x))});let p=Bi(),g=Ye();if(e.documentUpdates.forEach(_=>{e.resolvedLimboDocuments.has(_)&&d.push(t.persistence.referenceDelegate.updateLimboDocument(u,_))}),d.push(Yk(u,h,e.documentUpdates).next(_=>{p=_.Ls,g=_.ks})),!s.isEqual(ke.min())){const _=t.hi.getLastRemoteSnapshotVersion(u).next(v=>t.hi.setTargetsMetadata(u,u.currentSequenceNumber,s));d.push(_)}return le.waitFor(d).next(()=>h.apply(u)).next(()=>t.localDocuments.getLocalViewOfDocuments(u,p,g)).next(()=>p)}).then(u=>(t.Fs=o,u))}function Yk(r,e,t){let s=Ye(),o=Ye();return t.forEach(u=>s=s.add(u)),e.getEntries(r,s).next(u=>{let h=Bi();return t.forEach((d,p)=>{const g=u.get(d);p.isFoundDocument()!==g.isFoundDocument()&&(o=o.add(d)),p.isNoDocument()&&p.version.isEqual(ke.min())?(e.removeEntry(d,p.readTime),h=h.insert(d,p)):!g.isValidDocument()||p.version.compareTo(g.version)>0||p.version.compareTo(g.version)===0&&g.hasPendingWrites?(e.addEntry(p),h=h.insert(d,p)):pe(yg,"Ignoring outdated watch update for ",d,". Current version:",g.version," Watch version:",p.version)}),{Ls:h,ks:o}})}function Kk(r,e){const t=Me(r);return t.persistence.runTransaction("Get next mutation batch","readonly",s=>(e===void 0&&(e=rg),t.mutationQueue.getNextMutationBatchAfterBatchId(s,e)))}function Qk(r,e){const t=Me(r);return t.persistence.runTransaction("Allocate target","readwrite",s=>{let o;return t.hi.getTargetData(s,e).next(u=>u?(o=u,le.resolve(o)):t.hi.allocateTargetId(s).next(h=>(o=new Ts(e,h,"TargetPurposeListen",s.currentSequenceNumber),t.hi.addTargetData(s,o).next(()=>o))))}).then(s=>{const o=t.Fs.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(t.Fs=t.Fs.insert(s.targetId,s),t.Ms.set(e,s.targetId)),s})}async function Ap(r,e,t){const s=Me(r),o=s.Fs.get(e),u=t?"readwrite":"readwrite-primary";try{t||await s.persistence.runTransaction("Release target",u,h=>s.persistence.referenceDelegate.removeTarget(h,o))}catch(h){if(!Zo(h))throw h;pe(yg,`Failed to update sequence numbers for target ${e}: ${h}`)}s.Fs=s.Fs.remove(e),s.Ms.delete(o.target)}function Lb(r,e,t){const s=Me(r);let o=ke.min(),u=Ye();return s.persistence.runTransaction("Execute query","readwrite",h=>function(p,g,_){const v=Me(p),T=v.Ms.get(_);return T!==void 0?le.resolve(v.Fs.get(T)):v.hi.getTargetData(g,_)}(s,h,Fr(e)).next(d=>{if(d)return o=d.lastLimboFreeSnapshotVersion,s.hi.getMatchingKeysForTargetId(h,d.targetId).next(p=>{u=p})}).next(()=>s.Cs.getDocumentsMatchingQuery(h,e,t?o:ke.min(),t?u:Ye())).next(d=>($k(s,PO(e),d),{documents:d,qs:u})))}function $k(r,e,t){let s=r.xs.get(e)||ke.min();t.forEach((o,u)=>{u.readTime.compareTo(s)>0&&(s=u.readTime)}),r.xs.set(e,s)}class Ub{constructor(){this.activeTargetIds=BO()}Gs(e){this.activeTargetIds=this.activeTargetIds.add(e)}zs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Xk{constructor(){this.Fo=new Ub,this.Mo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,s){}addLocalQueryTarget(e,t=!0){return t&&this.Fo.Gs(e),this.Mo[e]||"not-current"}updateQueryState(e,t,s){this.Mo[e]=t}removeLocalQueryTarget(e){this.Fo.zs(e)}isLocalQueryTarget(e){return this.Fo.activeTargetIds.has(e)}clearQueryState(e){delete this.Mo[e]}getAllActiveQueryTargets(){return this.Fo.activeTargetIds}isActiveQueryTarget(e){return this.Fo.activeTargetIds.has(e)}start(){return this.Fo=new Ub,Promise.resolve()}handleUserChange(e,t,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wk{xo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zb="ConnectivityMonitor";class jb{constructor(){this.Oo=()=>this.No(),this.Bo=()=>this.Lo(),this.ko=[],this.qo()}xo(e){this.ko.push(e)}shutdown(){window.removeEventListener("online",this.Oo),window.removeEventListener("offline",this.Bo)}qo(){window.addEventListener("online",this.Oo),window.addEventListener("offline",this.Bo)}No(){pe(zb,"Network connectivity changed: AVAILABLE");for(const e of this.ko)e(0)}Lo(){pe(zb,"Network connectivity changed: UNAVAILABLE");for(const e of this.ko)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Eh=null;function Rp(){return Eh===null?Eh=function(){return 268435456+Math.round(2147483648*Math.random())}():Eh++,"0x"+Eh.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gm="RestConnection",Zk={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Jk{get Qo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.$o=t+"://"+e.host,this.Uo=`projects/${s}/databases/${o}`,this.Ko=this.databaseId.database===Yh?`project_id=${s}`:`project_id=${s}&database_id=${o}`}Wo(e,t,s,o,u){const h=Rp(),d=this.Go(e,t.toUriEncodedString());pe(Gm,`Sending RPC '${e}' ${h}:`,d,s);const p={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.Ko};this.zo(p,o,u);const{host:g}=new URL(d),_=Ia(g);return this.jo(e,d,p,s,_).then(v=>(pe(Gm,`Received RPC '${e}' ${h}: `,v),v),v=>{throw Is(Gm,`RPC '${e}' ${h} failed with error: `,v,"url: ",d,"request:",s),v})}Jo(e,t,s,o,u,h){return this.Wo(e,t,s,o,u)}zo(e,t,s){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Xo}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((o,u)=>e[u]=o),s&&s.headers.forEach((o,u)=>e[u]=o)}Go(e,t){const s=Zk[e];return`${this.$o}/v1/${t}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eM{constructor(e){this.Ho=e.Ho,this.Yo=e.Yo}Zo(e){this.Xo=e}e_(e){this.t_=e}n_(e){this.r_=e}onMessage(e){this.i_=e}close(){this.Yo()}send(e){this.Ho(e)}s_(){this.Xo()}o_(){this.t_()}__(e){this.r_(e)}a_(e){this.i_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _n="WebChannelConnection";class tM extends Jk{constructor(e){super(e),this.u_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}jo(e,t,s,o,u){const h=Rp();return new Promise((d,p)=>{const g=new HT;g.setWithCredentials(!0),g.listenOnce(GT.COMPLETE,()=>{try{switch(g.getLastErrorCode()){case Ih.NO_ERROR:const v=g.getResponseJson();pe(_n,`XHR for RPC '${e}' ${h} received:`,JSON.stringify(v)),d(v);break;case Ih.TIMEOUT:pe(_n,`RPC '${e}' ${h} timed out`),p(new ge(ae.DEADLINE_EXCEEDED,"Request time out"));break;case Ih.HTTP_ERROR:const T=g.getStatus();if(pe(_n,`RPC '${e}' ${h} failed with status:`,T,"response text:",g.getResponseText()),T>0){let x=g.getResponseJson();Array.isArray(x)&&(x=x[0]);const C=x?.error;if(C&&C.status&&C.message){const O=function(z){const Y=z.toLowerCase().replace(/_/g,"-");return Object.values(ae).indexOf(Y)>=0?Y:ae.UNKNOWN}(C.status);p(new ge(O,C.message))}else p(new ge(ae.UNKNOWN,"Server responded with status "+g.getStatus()))}else p(new ge(ae.UNAVAILABLE,"Connection failed."));break;default:De(9055,{c_:e,streamId:h,l_:g.getLastErrorCode(),h_:g.getLastError()})}}finally{pe(_n,`RPC '${e}' ${h} completed.`)}});const _=JSON.stringify(o);pe(_n,`RPC '${e}' ${h} sending request:`,o),g.send(t,"POST",_,s,15)})}P_(e,t,s){const o=Rp(),u=[this.$o,"/","google.firestore.v1.Firestore","/",e,"/channel"],h=QT(),d=KT(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(p.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(p.useFetchStreams=!0),this.zo(p.initMessageHeaders,t,s),p.encodeInitMessageHeaders=!0;const _=u.join("");pe(_n,`Creating RPC '${e}' stream ${o}: ${_}`,p);const v=h.createWebChannel(_,p);this.T_(v);let T=!1,x=!1;const C=new eM({Ho:D=>{x?pe(_n,`Not sending because RPC '${e}' stream ${o} is closed:`,D):(T||(pe(_n,`Opening RPC '${e}' stream ${o} transport.`),v.open(),T=!0),pe(_n,`RPC '${e}' stream ${o} sending:`,D),v.send(D))},Yo:()=>v.close()}),O=(D,z,Y)=>{D.listen(z,Q=>{try{Y(Q)}catch(oe){setTimeout(()=>{throw oe},0)}})};return O(v,ou.EventType.OPEN,()=>{x||(pe(_n,`RPC '${e}' stream ${o} transport opened.`),C.s_())}),O(v,ou.EventType.CLOSE,()=>{x||(x=!0,pe(_n,`RPC '${e}' stream ${o} transport closed`),C.__(),this.I_(v))}),O(v,ou.EventType.ERROR,D=>{x||(x=!0,Is(_n,`RPC '${e}' stream ${o} transport errored. Name:`,D.name,"Message:",D.message),C.__(new ge(ae.UNAVAILABLE,"The operation could not be completed")))}),O(v,ou.EventType.MESSAGE,D=>{var z;if(!x){const Y=D.data[0];it(!!Y,16349);const Q=Y,oe=Q?.error||((z=Q[0])===null||z===void 0?void 0:z.error);if(oe){pe(_n,`RPC '${e}' stream ${o} received error:`,oe);const $=oe.status;let ie=function(R){const M=Bt[R];if(M!==void 0)return Iw(M)}($),N=oe.message;ie===void 0&&(ie=ae.INTERNAL,N="Unknown error status: "+$+" with message "+oe.message),x=!0,C.__(new ge(ie,N)),v.close()}else pe(_n,`RPC '${e}' stream ${o} received:`,Y),C.a_(Y)}}),O(d,YT.STAT_EVENT,D=>{D.stat===dp.PROXY?pe(_n,`RPC '${e}' stream ${o} detected buffering proxy`):D.stat===dp.NOPROXY&&pe(_n,`RPC '${e}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{C.o_()},0),C}terminate(){this.u_.forEach(e=>e.close()),this.u_=[]}T_(e){this.u_.push(e)}I_(e){this.u_=this.u_.filter(t=>t===e)}}function Ym(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Af(r){return new sk(r,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fw{constructor(e,t,s=1e3,o=1.5,u=6e4){this.Fi=e,this.timerId=t,this.d_=s,this.E_=o,this.A_=u,this.R_=0,this.V_=null,this.m_=Date.now(),this.reset()}reset(){this.R_=0}f_(){this.R_=this.A_}g_(e){this.cancel();const t=Math.floor(this.R_+this.p_()),s=Math.max(0,Date.now()-this.m_),o=Math.max(0,t-s);o>0&&pe("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.R_} ms, delay with jitter: ${t} ms, last attempt: ${s} ms ago)`),this.V_=this.Fi.enqueueAfterDelay(this.timerId,o,()=>(this.m_=Date.now(),e())),this.R_*=this.E_,this.R_<this.d_&&(this.R_=this.d_),this.R_>this.A_&&(this.R_=this.A_)}y_(){this.V_!==null&&(this.V_.skipDelay(),this.V_=null)}cancel(){this.V_!==null&&(this.V_.cancel(),this.V_=null)}p_(){return(Math.random()-.5)*this.R_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bb="PersistentStream";class Hw{constructor(e,t,s,o,u,h,d,p){this.Fi=e,this.w_=s,this.S_=o,this.connection=u,this.authCredentialsProvider=h,this.appCheckCredentialsProvider=d,this.listener=p,this.state=0,this.b_=0,this.D_=null,this.v_=null,this.stream=null,this.C_=0,this.F_=new Fw(e,t)}M_(){return this.state===1||this.state===5||this.x_()}x_(){return this.state===2||this.state===3}start(){this.C_=0,this.state!==4?this.auth():this.O_()}async stop(){this.M_()&&await this.close(0)}N_(){this.state=0,this.F_.reset()}B_(){this.x_()&&this.D_===null&&(this.D_=this.Fi.enqueueAfterDelay(this.w_,6e4,()=>this.L_()))}k_(e){this.q_(),this.stream.send(e)}async L_(){if(this.x_())return this.close(0)}q_(){this.D_&&(this.D_.cancel(),this.D_=null)}Q_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,t){this.q_(),this.Q_(),this.F_.cancel(),this.b_++,e!==4?this.F_.reset():t&&t.code===ae.RESOURCE_EXHAUSTED?(ji(t.toString()),ji("Using maximum backoff delay to prevent overloading the backend."),this.F_.f_()):t&&t.code===ae.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.U_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.n_(t)}U_(){}auth(){this.state=1;const e=this.K_(this.b_),t=this.b_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,o])=>{this.b_===t&&this.W_(s,o)},s=>{e(()=>{const o=new ge(ae.UNKNOWN,"Fetching auth token failed: "+s.message);return this.G_(o)})})}W_(e,t){const s=this.K_(this.b_);this.stream=this.z_(e,t),this.stream.Zo(()=>{s(()=>this.listener.Zo())}),this.stream.e_(()=>{s(()=>(this.state=2,this.v_=this.Fi.enqueueAfterDelay(this.S_,1e4,()=>(this.x_()&&(this.state=3),Promise.resolve())),this.listener.e_()))}),this.stream.n_(o=>{s(()=>this.G_(o))}),this.stream.onMessage(o=>{s(()=>++this.C_==1?this.j_(o):this.onNext(o))})}O_(){this.state=5,this.F_.g_(async()=>{this.state=0,this.start()})}G_(e){return pe(Bb,`close with error: ${e}`),this.stream=null,this.close(4,e)}K_(e){return t=>{this.Fi.enqueueAndForget(()=>this.b_===e?t():(pe(Bb,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class nM extends Hw{constructor(e,t,s,o,u,h){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,s,o,h),this.serializer=u}z_(e,t){return this.connection.P_("Listen",e,t)}j_(e){return this.onNext(e)}onNext(e){this.F_.reset();const t=lk(this.serializer,e),s=function(u){if(!("targetChange"in u))return ke.min();const h=u.targetChange;return h.targetIds&&h.targetIds.length?ke.min():h.readTime?Hr(h.readTime):ke.min()}(e);return this.listener.J_(t,s)}H_(e){const t={};t.database=Sp(this.serializer),t.addTarget=function(u,h){let d;const p=h.target;if(d=vp(p)?{documents:hk(u,p)}:{query:fk(u,p).Vt},d.targetId=h.targetId,h.resumeToken.approximateByteSize()>0){d.resumeToken=Ow(u,h.resumeToken);const g=Ep(u,h.expectedCount);g!==null&&(d.expectedCount=g)}else if(h.snapshotVersion.compareTo(ke.min())>0){d.readTime=Zh(u,h.snapshotVersion.toTimestamp());const g=Ep(u,h.expectedCount);g!==null&&(d.expectedCount=g)}return d}(this.serializer,e);const s=mk(this.serializer,e);s&&(t.labels=s),this.k_(t)}Y_(e){const t={};t.database=Sp(this.serializer),t.removeTarget=e,this.k_(t)}}class rM extends Hw{constructor(e,t,s,o,u,h){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,s,o,h),this.serializer=u}get Z_(){return this.C_>0}start(){this.lastStreamToken=void 0,super.start()}U_(){this.Z_&&this.X_([])}z_(e,t){return this.connection.P_("Write",e,t)}j_(e){return it(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,it(!e.writeResults||e.writeResults.length===0,55816),this.listener.ea()}onNext(e){it(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.F_.reset();const t=ck(e.writeResults,e.commitTime),s=Hr(e.commitTime);return this.listener.ta(s,t)}na(){const e={};e.database=Sp(this.serializer),this.k_(e)}X_(e){const t={streamToken:this.lastStreamToken,writes:e.map(s=>uk(this.serializer,s))};this.k_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iM{}class sM extends iM{constructor(e,t,s,o){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=s,this.serializer=o,this.ra=!1}ia(){if(this.ra)throw new ge(ae.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,t,s,o){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,h])=>this.connection.Wo(e,Tp(t,s),o,u,h)).catch(u=>{throw u.name==="FirebaseError"?(u.code===ae.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new ge(ae.UNKNOWN,u.toString())})}Jo(e,t,s,o,u){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([h,d])=>this.connection.Jo(e,Tp(t,s),o,h,d,u)).catch(h=>{throw h.name==="FirebaseError"?(h.code===ae.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new ge(ae.UNKNOWN,h.toString())})}terminate(){this.ra=!0,this.connection.terminate()}}class aM{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.sa=0,this.oa=null,this._a=!0}aa(){this.sa===0&&(this.ua("Unknown"),this.oa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.oa=null,this.ca("Backend didn't respond within 10 seconds."),this.ua("Offline"),Promise.resolve())))}la(e){this.state==="Online"?this.ua("Unknown"):(this.sa++,this.sa>=1&&(this.ha(),this.ca(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ua("Offline")))}set(e){this.ha(),this.sa=0,e==="Online"&&(this._a=!1),this.ua(e)}ua(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ca(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this._a?(ji(t),this._a=!1):pe("OnlineStateTracker",t)}ha(){this.oa!==null&&(this.oa.cancel(),this.oa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ra="RemoteStore";class oM{constructor(e,t,s,o,u){this.localStore=e,this.datastore=t,this.asyncQueue=s,this.remoteSyncer={},this.Pa=[],this.Ta=new Map,this.Ia=new Set,this.da=[],this.Ea=u,this.Ea.xo(h=>{s.enqueueAndForget(async()=>{Pa(this)&&(pe(Ra,"Restarting streams for network reachability change."),await async function(p){const g=Me(p);g.Ia.add(4),await Fu(g),g.Aa.set("Unknown"),g.Ia.delete(4),await Rf(g)}(this))})}),this.Aa=new aM(s,o)}}async function Rf(r){if(Pa(r))for(const e of r.da)await e(!0)}async function Fu(r){for(const e of r.da)await e(!1)}function Gw(r,e){const t=Me(r);t.Ta.has(e.targetId)||(t.Ta.set(e.targetId,e),Eg(t)?bg(t):Jo(t).x_()&&_g(t,e))}function vg(r,e){const t=Me(r),s=Jo(t);t.Ta.delete(e),s.x_()&&Yw(t,e),t.Ta.size===0&&(s.x_()?s.B_():Pa(t)&&t.Aa.set("Unknown"))}function _g(r,e){if(r.Ra.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ke.min())>0){const t=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Jo(r).H_(e)}function Yw(r,e){r.Ra.$e(e),Jo(r).Y_(e)}function bg(r){r.Ra=new tk({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),Et:e=>r.Ta.get(e)||null,lt:()=>r.datastore.serializer.databaseId}),Jo(r).start(),r.Aa.aa()}function Eg(r){return Pa(r)&&!Jo(r).M_()&&r.Ta.size>0}function Pa(r){return Me(r).Ia.size===0}function Kw(r){r.Ra=void 0}async function lM(r){r.Aa.set("Online")}async function uM(r){r.Ta.forEach((e,t)=>{_g(r,e)})}async function cM(r,e){Kw(r),Eg(r)?(r.Aa.la(e),bg(r)):r.Aa.set("Unknown")}async function hM(r,e,t){if(r.Aa.set("Online"),e instanceof Nw&&e.state===2&&e.cause)try{await async function(o,u){const h=u.cause;for(const d of u.targetIds)o.Ta.has(d)&&(await o.remoteSyncer.rejectListen(d,h),o.Ta.delete(d),o.Ra.removeTarget(d))}(r,e)}catch(s){pe(Ra,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await ef(r,s)}else if(e instanceof kh?r.Ra.Ye(e):e instanceof Dw?r.Ra.it(e):r.Ra.et(e),!t.isEqual(ke.min()))try{const s=await qw(r.localStore);t.compareTo(s)>=0&&await function(u,h){const d=u.Ra.Pt(h);return d.targetChanges.forEach((p,g)=>{if(p.resumeToken.approximateByteSize()>0){const _=u.Ta.get(g);_&&u.Ta.set(g,_.withResumeToken(p.resumeToken,h))}}),d.targetMismatches.forEach((p,g)=>{const _=u.Ta.get(p);if(!_)return;u.Ta.set(p,_.withResumeToken(pn.EMPTY_BYTE_STRING,_.snapshotVersion)),Yw(u,p);const v=new Ts(_.target,p,g,_.sequenceNumber);_g(u,v)}),u.remoteSyncer.applyRemoteEvent(d)}(r,t)}catch(s){pe(Ra,"Failed to raise snapshot:",s),await ef(r,s)}}async function ef(r,e,t){if(!Zo(e))throw e;r.Ia.add(1),await Fu(r),r.Aa.set("Offline"),t||(t=()=>qw(r.localStore)),r.asyncQueue.enqueueRetryable(async()=>{pe(Ra,"Retrying IndexedDB access"),await t(),r.Ia.delete(1),await Rf(r)})}function Qw(r,e){return e().catch(t=>ef(r,t,e))}async function Cf(r){const e=Me(r),t=Ms(e);let s=e.Pa.length>0?e.Pa[e.Pa.length-1].batchId:rg;for(;fM(e);)try{const o=await Kk(e.localStore,s);if(o===null){e.Pa.length===0&&t.B_();break}s=o.batchId,dM(e,o)}catch(o){await ef(e,o)}$w(e)&&Xw(e)}function fM(r){return Pa(r)&&r.Pa.length<10}function dM(r,e){r.Pa.push(e);const t=Ms(r);t.x_()&&t.Z_&&t.X_(e.mutations)}function $w(r){return Pa(r)&&!Ms(r).M_()&&r.Pa.length>0}function Xw(r){Ms(r).start()}async function mM(r){Ms(r).na()}async function pM(r){const e=Ms(r);for(const t of r.Pa)e.X_(t.mutations)}async function gM(r,e,t){const s=r.Pa.shift(),o=hg.from(s,e,t);await Qw(r,()=>r.remoteSyncer.applySuccessfulWrite(o)),await Cf(r)}async function yM(r,e){e&&Ms(r).Z_&&await async function(s,o){if(function(h){return JO(h)&&h!==ae.ABORTED}(o.code)){const u=s.Pa.shift();Ms(s).N_(),await Qw(s,()=>s.remoteSyncer.rejectFailedWrite(u.batchId,o)),await Cf(s)}}(r,e),$w(r)&&Xw(r)}async function qb(r,e){const t=Me(r);t.asyncQueue.verifyOperationInProgress(),pe(Ra,"RemoteStore received new credentials");const s=Pa(t);t.Ia.add(3),await Fu(t),s&&t.Aa.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.Ia.delete(3),await Rf(t)}async function vM(r,e){const t=Me(r);e?(t.Ia.delete(2),await Rf(t)):e||(t.Ia.add(2),await Fu(t),t.Aa.set("Unknown"))}function Jo(r){return r.Va||(r.Va=function(t,s,o){const u=Me(t);return u.ia(),new nM(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(r.datastore,r.asyncQueue,{Zo:lM.bind(null,r),e_:uM.bind(null,r),n_:cM.bind(null,r),J_:hM.bind(null,r)}),r.da.push(async e=>{e?(r.Va.N_(),Eg(r)?bg(r):r.Aa.set("Unknown")):(await r.Va.stop(),Kw(r))})),r.Va}function Ms(r){return r.ma||(r.ma=function(t,s,o){const u=Me(t);return u.ia(),new rM(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(r.datastore,r.asyncQueue,{Zo:()=>Promise.resolve(),e_:mM.bind(null,r),n_:yM.bind(null,r),ea:pM.bind(null,r),ta:gM.bind(null,r)}),r.da.push(async e=>{e?(r.ma.N_(),await Cf(r)):(await r.ma.stop(),r.Pa.length>0&&(pe(Ra,`Stopping write stream with ${r.Pa.length} pending writes`),r.Pa=[]))})),r.ma}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tg{constructor(e,t,s,o,u){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=s,this.op=o,this.removalCallback=u,this.deferred=new Rs,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(h=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,s,o,u){const h=Date.now()+s,d=new Tg(e,t,h,o,u);return d.start(s),d}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ge(ae.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function wg(r,e){if(ji("AsyncQueue",`${e}: ${r}`),Zo(r))return new ge(ae.UNAVAILABLE,`${e}: ${r}`);throw r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uo{static emptySet(e){return new Uo(e.comparator)}constructor(e){this.comparator=e?(t,s)=>e(t,s)||Te.comparator(t.key,s.key):(t,s)=>Te.comparator(t.key,s.key),this.keyedMap=lu(),this.sortedSet=new Rt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,s)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Uo)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;t.hasNext();){const o=t.getNext().key,u=s.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const s=new Uo;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=t,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fb{constructor(){this.fa=new Rt(Te.comparator)}track(e){const t=e.doc.key,s=this.fa.get(t);s?e.type!==0&&s.type===3?this.fa=this.fa.insert(t,e):e.type===3&&s.type!==1?this.fa=this.fa.insert(t,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.fa=this.fa.insert(t,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.fa=this.fa.insert(t,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.fa=this.fa.remove(t):e.type===1&&s.type===2?this.fa=this.fa.insert(t,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.fa=this.fa.insert(t,{type:2,doc:e.doc}):De(63341,{At:e,ga:s}):this.fa=this.fa.insert(t,e)}pa(){const e=[];return this.fa.inorderTraversal((t,s)=>{e.push(s)}),e}}class Fo{constructor(e,t,s,o,u,h,d,p,g){this.query=e,this.docs=t,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=u,this.fromCache=h,this.syncStateChanged=d,this.excludesMetadataChanges=p,this.hasCachedResults=g}static fromInitialDocuments(e,t,s,o,u){const h=[];return t.forEach(d=>{h.push({type:0,doc:d})}),new Fo(e,t,Uo.emptySet(t),h,s,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&bf(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,s=e.docChanges;if(t.length!==s.length)return!1;for(let o=0;o<t.length;o++)if(t[o].type!==s[o].type||!t[o].doc.isEqual(s[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _M{constructor(){this.ya=void 0,this.wa=[]}Sa(){return this.wa.some(e=>e.ba())}}class bM{constructor(){this.queries=Hb(),this.onlineState="Unknown",this.Da=new Set}terminate(){(function(t,s){const o=Me(t),u=o.queries;o.queries=Hb(),u.forEach((h,d)=>{for(const p of d.wa)p.onError(s)})})(this,new ge(ae.ABORTED,"Firestore shutting down"))}}function Hb(){return new ka(r=>yw(r),bf)}async function Ww(r,e){const t=Me(r);let s=3;const o=e.query;let u=t.queries.get(o);u?!u.Sa()&&e.ba()&&(s=2):(u=new _M,s=e.ba()?0:1);try{switch(s){case 0:u.ya=await t.onListen(o,!0);break;case 1:u.ya=await t.onListen(o,!1);break;case 2:await t.onFirstRemoteStoreListen(o)}}catch(h){const d=wg(h,`Initialization of query '${Do(e.query)}' failed`);return void e.onError(d)}t.queries.set(o,u),u.wa.push(e),e.va(t.onlineState),u.ya&&e.Ca(u.ya)&&Sg(t)}async function Zw(r,e){const t=Me(r),s=e.query;let o=3;const u=t.queries.get(s);if(u){const h=u.wa.indexOf(e);h>=0&&(u.wa.splice(h,1),u.wa.length===0?o=e.ba()?0:1:!u.Sa()&&e.ba()&&(o=2))}switch(o){case 0:return t.queries.delete(s),t.onUnlisten(s,!0);case 1:return t.queries.delete(s),t.onUnlisten(s,!1);case 2:return t.onLastRemoteStoreUnlisten(s);default:return}}function EM(r,e){const t=Me(r);let s=!1;for(const o of e){const u=o.query,h=t.queries.get(u);if(h){for(const d of h.wa)d.Ca(o)&&(s=!0);h.ya=o}}s&&Sg(t)}function TM(r,e,t){const s=Me(r),o=s.queries.get(e);if(o)for(const u of o.wa)u.onError(t);s.queries.delete(e)}function Sg(r){r.Da.forEach(e=>{e.next()})}var Cp,Gb;(Gb=Cp||(Cp={})).Fa="default",Gb.Cache="cache";class Jw{constructor(e,t,s){this.query=e,this.Ma=t,this.xa=!1,this.Oa=null,this.onlineState="Unknown",this.options=s||{}}Ca(e){if(!this.options.includeMetadataChanges){const s=[];for(const o of e.docChanges)o.type!==3&&s.push(o);e=new Fo(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.xa?this.Na(e)&&(this.Ma.next(e),t=!0):this.Ba(e,this.onlineState)&&(this.La(e),t=!0),this.Oa=e,t}onError(e){this.Ma.error(e)}va(e){this.onlineState=e;let t=!1;return this.Oa&&!this.xa&&this.Ba(this.Oa,e)&&(this.La(this.Oa),t=!0),t}Ba(e,t){if(!e.fromCache||!this.ba())return!0;const s=t!=="Offline";return(!this.options.ka||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Na(e){if(e.docChanges.length>0)return!0;const t=this.Oa&&this.Oa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}La(e){e=Fo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.xa=!0,this.Ma.next(e)}ba(){return this.options.source!==Cp.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eS{constructor(e){this.key=e}}class tS{constructor(e){this.key=e}}class wM{constructor(e,t){this.query=e,this.Ha=t,this.Ya=null,this.hasCachedResults=!1,this.current=!1,this.Za=Ye(),this.mutatedKeys=Ye(),this.Xa=vw(e),this.eu=new Uo(this.Xa)}get tu(){return this.Ha}nu(e,t){const s=t?t.ru:new Fb,o=t?t.eu:this.eu;let u=t?t.mutatedKeys:this.mutatedKeys,h=o,d=!1;const p=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,g=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal((_,v)=>{const T=o.get(_),x=Ef(this.query,v)?v:null,C=!!T&&this.mutatedKeys.has(T.key),O=!!x&&(x.hasLocalMutations||this.mutatedKeys.has(x.key)&&x.hasCommittedMutations);let D=!1;T&&x?T.data.isEqual(x.data)?C!==O&&(s.track({type:3,doc:x}),D=!0):this.iu(T,x)||(s.track({type:2,doc:x}),D=!0,(p&&this.Xa(x,p)>0||g&&this.Xa(x,g)<0)&&(d=!0)):!T&&x?(s.track({type:0,doc:x}),D=!0):T&&!x&&(s.track({type:1,doc:T}),D=!0,(p||g)&&(d=!0)),D&&(x?(h=h.add(x),u=O?u.add(_):u.delete(_)):(h=h.delete(_),u=u.delete(_)))}),this.query.limit!==null)for(;h.size>this.query.limit;){const _=this.query.limitType==="F"?h.last():h.first();h=h.delete(_.key),u=u.delete(_.key),s.track({type:1,doc:_})}return{eu:h,ru:s,Ds:d,mutatedKeys:u}}iu(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,s,o){const u=this.eu;this.eu=e.eu,this.mutatedKeys=e.mutatedKeys;const h=e.ru.pa();h.sort((_,v)=>function(x,C){const O=D=>{switch(D){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return De(20277,{At:D})}};return O(x)-O(C)}(_.type,v.type)||this.Xa(_.doc,v.doc)),this.su(s),o=o!=null&&o;const d=t&&!o?this.ou():[],p=this.Za.size===0&&this.current&&!o?1:0,g=p!==this.Ya;return this.Ya=p,h.length!==0||g?{snapshot:new Fo(this.query,e.eu,u,h,e.mutatedKeys,p===0,g,!1,!!s&&s.resumeToken.approximateByteSize()>0),_u:d}:{_u:d}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({eu:this.eu,ru:new Fb,mutatedKeys:this.mutatedKeys,Ds:!1},!1)):{_u:[]}}au(e){return!this.Ha.has(e)&&!!this.eu.has(e)&&!this.eu.get(e).hasLocalMutations}su(e){e&&(e.addedDocuments.forEach(t=>this.Ha=this.Ha.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Ha=this.Ha.delete(t)),this.current=e.current)}ou(){if(!this.current)return[];const e=this.Za;this.Za=Ye(),this.eu.forEach(s=>{this.au(s.key)&&(this.Za=this.Za.add(s.key))});const t=[];return e.forEach(s=>{this.Za.has(s)||t.push(new tS(s))}),this.Za.forEach(s=>{e.has(s)||t.push(new eS(s))}),t}uu(e){this.Ha=e.qs,this.Za=Ye();const t=this.nu(e.documents);return this.applyChanges(t,!0)}cu(){return Fo.fromInitialDocuments(this.query,this.eu,this.mutatedKeys,this.Ya===0,this.hasCachedResults)}}const Ag="SyncEngine";class SM{constructor(e,t,s){this.query=e,this.targetId=t,this.view=s}}class AM{constructor(e){this.key=e,this.lu=!1}}class RM{constructor(e,t,s,o,u,h){this.localStore=e,this.remoteStore=t,this.eventManager=s,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=h,this.hu={},this.Pu=new ka(d=>yw(d),bf),this.Tu=new Map,this.Iu=new Set,this.du=new Rt(Te.comparator),this.Eu=new Map,this.Au=new mg,this.Ru={},this.Vu=new Map,this.mu=qo.ur(),this.onlineState="Unknown",this.fu=void 0}get isPrimaryClient(){return this.fu===!0}}async function CM(r,e,t=!0){const s=oS(r);let o;const u=s.Pu.get(e);return u?(s.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.cu()):o=await nS(s,e,t,!0),o}async function xM(r,e){const t=oS(r);await nS(t,e,!0,!1)}async function nS(r,e,t,s){const o=await Qk(r.localStore,Fr(e)),u=o.targetId,h=r.sharedClientState.addLocalQueryTarget(u,t);let d;return s&&(d=await IM(r,e,u,h==="current",o.resumeToken)),r.isPrimaryClient&&t&&Gw(r.remoteStore,o),d}async function IM(r,e,t,s,o){r.gu=(v,T,x)=>async function(O,D,z,Y){let Q=D.view.nu(z);Q.Ds&&(Q=await Lb(O.localStore,D.query,!1).then(({documents:N})=>D.view.nu(N,Q)));const oe=Y&&Y.targetChanges.get(D.targetId),$=Y&&Y.targetMismatches.get(D.targetId)!=null,ie=D.view.applyChanges(Q,O.isPrimaryClient,oe,$);return Kb(O,D.targetId,ie._u),ie.snapshot}(r,v,T,x);const u=await Lb(r.localStore,e,!0),h=new wM(e,u.qs),d=h.nu(u.documents),p=qu.createSynthesizedTargetChangeForCurrentChange(t,s&&r.onlineState!=="Offline",o),g=h.applyChanges(d,r.isPrimaryClient,p);Kb(r,t,g._u);const _=new SM(e,t,h);return r.Pu.set(e,_),r.Tu.has(t)?r.Tu.get(t).push(e):r.Tu.set(t,[e]),g.snapshot}async function DM(r,e,t){const s=Me(r),o=s.Pu.get(e),u=s.Tu.get(o.targetId);if(u.length>1)return s.Tu.set(o.targetId,u.filter(h=>!bf(h,e))),void s.Pu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await Ap(s.localStore,o.targetId,!1).then(()=>{s.sharedClientState.clearQueryState(o.targetId),t&&vg(s.remoteStore,o.targetId),xp(s,o.targetId)}).catch(Wo)):(xp(s,o.targetId),await Ap(s.localStore,o.targetId,!0))}async function NM(r,e){const t=Me(r),s=t.Pu.get(e),o=t.Tu.get(s.targetId);t.isPrimaryClient&&o.length===1&&(t.sharedClientState.removeLocalQueryTarget(s.targetId),vg(t.remoteStore,s.targetId))}async function OM(r,e,t){const s=zM(r);try{const o=await function(h,d){const p=Me(h),g=gt.now(),_=d.reduce((x,C)=>x.add(C.key),Ye());let v,T;return p.persistence.runTransaction("Locally write mutations","readwrite",x=>{let C=Bi(),O=Ye();return p.Os.getEntries(x,_).next(D=>{C=D,C.forEach((z,Y)=>{Y.isValidDocument()||(O=O.add(z))})}).next(()=>p.localDocuments.getOverlayedDocuments(x,C)).next(D=>{v=D;const z=[];for(const Y of d){const Q=QO(Y,v.get(Y.key).overlayedDocument);Q!=null&&z.push(new Ma(Y.key,Q,uw(Q.value.mapValue),_r.exists(!0)))}return p.mutationQueue.addMutationBatch(x,g,z,d)}).next(D=>{T=D;const z=D.applyToLocalDocumentSet(v,O);return p.documentOverlayCache.saveOverlays(x,D.batchId,z)})}).then(()=>({batchId:T.batchId,changes:bw(v)}))}(s.localStore,e);s.sharedClientState.addPendingMutation(o.batchId),function(h,d,p){let g=h.Ru[h.currentUser.toKey()];g||(g=new Rt(Ue)),g=g.insert(d,p),h.Ru[h.currentUser.toKey()]=g}(s,o.batchId,t),await Hu(s,o.changes),await Cf(s.remoteStore)}catch(o){const u=wg(o,"Failed to persist write");t.reject(u)}}async function rS(r,e){const t=Me(r);try{const s=await Gk(t.localStore,e);e.targetChanges.forEach((o,u)=>{const h=t.Eu.get(u);h&&(it(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?h.lu=!0:o.modifiedDocuments.size>0?it(h.lu,14607):o.removedDocuments.size>0&&(it(h.lu,42227),h.lu=!1))}),await Hu(t,s,e)}catch(s){await Wo(s)}}function Yb(r,e,t){const s=Me(r);if(s.isPrimaryClient&&t===0||!s.isPrimaryClient&&t===1){const o=[];s.Pu.forEach((u,h)=>{const d=h.view.va(e);d.snapshot&&o.push(d.snapshot)}),function(h,d){const p=Me(h);p.onlineState=d;let g=!1;p.queries.forEach((_,v)=>{for(const T of v.wa)T.va(d)&&(g=!0)}),g&&Sg(p)}(s.eventManager,e),o.length&&s.hu.J_(o),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function kM(r,e,t){const s=Me(r);s.sharedClientState.updateQueryState(e,"rejected",t);const o=s.Eu.get(e),u=o&&o.key;if(u){let h=new Rt(Te.comparator);h=h.insert(u,En.newNoDocument(u,ke.min()));const d=Ye().add(u),p=new Sf(ke.min(),new Map,new Rt(Ue),h,d);await rS(s,p),s.du=s.du.remove(u),s.Eu.delete(e),Rg(s)}else await Ap(s.localStore,e,!1).then(()=>xp(s,e,t)).catch(Wo)}async function MM(r,e){const t=Me(r),s=e.batch.batchId;try{const o=await Hk(t.localStore,e);sS(t,s,null),iS(t,s),t.sharedClientState.updateMutationState(s,"acknowledged"),await Hu(t,o)}catch(o){await Wo(o)}}async function PM(r,e,t){const s=Me(r);try{const o=await function(h,d){const p=Me(h);return p.persistence.runTransaction("Reject batch","readwrite-primary",g=>{let _;return p.mutationQueue.lookupMutationBatch(g,d).next(v=>(it(v!==null,37113),_=v.keys(),p.mutationQueue.removeMutationBatch(g,v))).next(()=>p.mutationQueue.performConsistencyCheck(g)).next(()=>p.documentOverlayCache.removeOverlaysForBatchId(g,_,d)).next(()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,_)).next(()=>p.localDocuments.getDocuments(g,_))})}(s.localStore,e);sS(s,e,t),iS(s,e),s.sharedClientState.updateMutationState(e,"rejected",t),await Hu(s,o)}catch(o){await Wo(o)}}function iS(r,e){(r.Vu.get(e)||[]).forEach(t=>{t.resolve()}),r.Vu.delete(e)}function sS(r,e,t){const s=Me(r);let o=s.Ru[s.currentUser.toKey()];if(o){const u=o.get(e);u&&(t?u.reject(t):u.resolve(),o=o.remove(e)),s.Ru[s.currentUser.toKey()]=o}}function xp(r,e,t=null){r.sharedClientState.removeLocalQueryTarget(e);for(const s of r.Tu.get(e))r.Pu.delete(s),t&&r.hu.pu(s,t);r.Tu.delete(e),r.isPrimaryClient&&r.Au.zr(e).forEach(s=>{r.Au.containsKey(s)||aS(r,s)})}function aS(r,e){r.Iu.delete(e.path.canonicalString());const t=r.du.get(e);t!==null&&(vg(r.remoteStore,t),r.du=r.du.remove(e),r.Eu.delete(t),Rg(r))}function Kb(r,e,t){for(const s of t)s instanceof eS?(r.Au.addReference(s.key,e),VM(r,s)):s instanceof tS?(pe(Ag,"Document no longer in limbo: "+s.key),r.Au.removeReference(s.key,e),r.Au.containsKey(s.key)||aS(r,s.key)):De(19791,{yu:s})}function VM(r,e){const t=e.key,s=t.path.canonicalString();r.du.get(t)||r.Iu.has(s)||(pe(Ag,"New document in limbo: "+t),r.Iu.add(s),Rg(r))}function Rg(r){for(;r.Iu.size>0&&r.du.size<r.maxConcurrentLimboResolutions;){const e=r.Iu.values().next().value;r.Iu.delete(e);const t=new Te(pt.fromString(e)),s=r.mu.next();r.Eu.set(s,new AM(t)),r.du=r.du.insert(t,s),Gw(r.remoteStore,new Ts(Fr(lg(t.path)),s,"TargetPurposeLimboResolution",yf.ue))}}async function Hu(r,e,t){const s=Me(r),o=[],u=[],h=[];s.Pu.isEmpty()||(s.Pu.forEach((d,p)=>{h.push(s.gu(p,e,t).then(g=>{var _;if((g||t)&&s.isPrimaryClient){const v=g?!g.fromCache:(_=t?.targetChanges.get(p.targetId))===null||_===void 0?void 0:_.current;s.sharedClientState.updateQueryState(p.targetId,v?"current":"not-current")}if(g){o.push(g);const v=gg.Es(p.targetId,g);u.push(v)}}))}),await Promise.all(h),s.hu.J_(o),await async function(p,g){const _=Me(p);try{await _.persistence.runTransaction("notifyLocalViewChanges","readwrite",v=>le.forEach(g,T=>le.forEach(T.Is,x=>_.persistence.referenceDelegate.addReference(v,T.targetId,x)).next(()=>le.forEach(T.ds,x=>_.persistence.referenceDelegate.removeReference(v,T.targetId,x)))))}catch(v){if(!Zo(v))throw v;pe(yg,"Failed to update sequence numbers: "+v)}for(const v of g){const T=v.targetId;if(!v.fromCache){const x=_.Fs.get(T),C=x.snapshotVersion,O=x.withLastLimboFreeSnapshotVersion(C);_.Fs=_.Fs.insert(T,O)}}}(s.localStore,u))}async function LM(r,e){const t=Me(r);if(!t.currentUser.isEqual(e)){pe(Ag,"User change. New user:",e.toKey());const s=await Bw(t.localStore,e);t.currentUser=e,function(u,h){u.Vu.forEach(d=>{d.forEach(p=>{p.reject(new ge(ae.CANCELLED,h))})}),u.Vu.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await Hu(t,s.Bs)}}function UM(r,e){const t=Me(r),s=t.Eu.get(e);if(s&&s.lu)return Ye().add(s.key);{let o=Ye();const u=t.Tu.get(e);if(!u)return o;for(const h of u){const d=t.Pu.get(h);o=o.unionWith(d.view.tu)}return o}}function oS(r){const e=Me(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=rS.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=UM.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=kM.bind(null,e),e.hu.J_=EM.bind(null,e.eventManager),e.hu.pu=TM.bind(null,e.eventManager),e}function zM(r){const e=Me(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=MM.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=PM.bind(null,e),e}class tf{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Af(e.databaseInfo.databaseId),this.sharedClientState=this.bu(e),this.persistence=this.Du(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Cu(e,this.localStore),this.indexBackfillerScheduler=this.Fu(e,this.localStore)}Cu(e,t){return null}Fu(e,t){return null}vu(e){return Fk(this.persistence,new jk,e.initialUser,this.serializer)}Du(e){return new jw(pg.Vi,this.serializer)}bu(e){return new Xk}async terminate(){var e,t;(e=this.gcScheduler)===null||e===void 0||e.stop(),(t=this.indexBackfillerScheduler)===null||t===void 0||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}tf.provider={build:()=>new tf};class jM extends tf{constructor(e){super(),this.cacheSizeBytes=e}Cu(e,t){it(this.persistence.referenceDelegate instanceof Jh,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new Ak(s,e.asyncQueue,t)}Du(e){const t=this.cacheSizeBytes!==void 0?Pn.withCacheSize(this.cacheSizeBytes):Pn.DEFAULT;return new jw(s=>Jh.Vi(s,t),this.serializer)}}class Ip{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>Yb(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=LM.bind(null,this.syncEngine),await vM(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new bM}()}createDatastore(e){const t=Af(e.databaseInfo.databaseId),s=function(u){return new tM(u)}(e.databaseInfo);return function(u,h,d,p){return new sM(u,h,d,p)}(e.authCredentials,e.appCheckCredentials,s,t)}createRemoteStore(e){return function(s,o,u,h,d){return new oM(s,o,u,h,d)}(this.localStore,this.datastore,e.asyncQueue,t=>Yb(this.syncEngine,t,0),function(){return jb.C()?new jb:new Wk}())}createSyncEngine(e,t){return function(o,u,h,d,p,g,_){const v=new RM(o,u,h,d,p,g);return _&&(v.fu=!0),v}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(o){const u=Me(o);pe(Ra,"RemoteStore shutting down."),u.Ia.add(5),await Fu(u),u.Ea.shutdown(),u.Aa.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(t=this.eventManager)===null||t===void 0||t.terminate()}}Ip.provider={build:()=>new Ip};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lS{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.xu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.xu(this.observer.error,e):ji("Uncaught Error in snapshot listener:",e.toString()))}Ou(){this.muted=!0}xu(e,t){setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ps="FirestoreClient";class BM{constructor(e,t,s,o,u){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=s,this.databaseInfo=o,this.user=bn.UNAUTHENTICATED,this.clientId=ng.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(s,async h=>{pe(Ps,"Received user=",h.uid),await this.authCredentialListener(h),this.user=h}),this.appCheckCredentials.start(s,h=>(pe(Ps,"Received new app check token=",h),this.appCheckCredentialListener(h,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Rs;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const s=wg(t,"Failed to shutdown persistence");e.reject(s)}}),e.promise}}async function Km(r,e){r.asyncQueue.verifyOperationInProgress(),pe(Ps,"Initializing OfflineComponentProvider");const t=r.configuration;await e.initialize(t);let s=t.initialUser;r.setCredentialChangeListener(async o=>{s.isEqual(o)||(await Bw(e.localStore,o),s=o)}),e.persistence.setDatabaseDeletedListener(()=>{Is("Terminating Firestore due to IndexedDb database deletion"),r.terminate().then(()=>{pe("Terminating Firestore due to IndexedDb database deletion completed successfully")}).catch(o=>{Is("Terminating Firestore due to IndexedDb database deletion failed",o)})}),r._offlineComponents=e}async function Qb(r,e){r.asyncQueue.verifyOperationInProgress();const t=await qM(r);pe(Ps,"Initializing OnlineComponentProvider"),await e.initialize(t,r.configuration),r.setCredentialChangeListener(s=>qb(e.remoteStore,s)),r.setAppCheckTokenChangeListener((s,o)=>qb(e.remoteStore,o)),r._onlineComponents=e}async function qM(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){pe(Ps,"Using user provided OfflineComponentProvider");try{await Km(r,r._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function(o){return o.name==="FirebaseError"?o.code===ae.FAILED_PRECONDITION||o.code===ae.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11}(t))throw t;Is("Error using user provided cache. Falling back to memory cache: "+t),await Km(r,new tf)}}else pe(Ps,"Using default OfflineComponentProvider"),await Km(r,new jM(void 0));return r._offlineComponents}async function uS(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(pe(Ps,"Using user provided OnlineComponentProvider"),await Qb(r,r._uninitializedComponentsProvider._online)):(pe(Ps,"Using default OnlineComponentProvider"),await Qb(r,new Ip))),r._onlineComponents}function FM(r){return uS(r).then(e=>e.syncEngine)}async function Dp(r){const e=await uS(r),t=e.eventManager;return t.onListen=CM.bind(null,e.syncEngine),t.onUnlisten=DM.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=xM.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=NM.bind(null,e.syncEngine),t}function HM(r,e,t={}){const s=new Rs;return r.asyncQueue.enqueueAndForget(async()=>function(u,h,d,p,g){const _=new lS({next:T=>{_.Ou(),h.enqueueAndForget(()=>Zw(u,v)),T.fromCache&&p.source==="server"?g.reject(new ge(ae.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):g.resolve(T)},error:T=>g.reject(T)}),v=new Jw(d,_,{includeMetadataChanges:!0,ka:!0});return Ww(u,v)}(await Dp(r),r.asyncQueue,e,t,s)),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cS(r){const e={};return r.timeoutSeconds!==void 0&&(e.timeoutSeconds=r.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $b=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hS="firestore.googleapis.com",Xb=!0;class Wb{constructor(e){var t,s;if(e.host===void 0){if(e.ssl!==void 0)throw new ge(ae.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=hS,this.ssl=Xb}else this.host=e.host,this.ssl=(t=e.ssl)!==null&&t!==void 0?t:Xb;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=zw;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<wk)throw new ge(ae.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}lO("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=cS((s=e.experimentalLongPollingOptions)!==null&&s!==void 0?s:{}),function(u){if(u.timeoutSeconds!==void 0){if(isNaN(u.timeoutSeconds))throw new ge(ae.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (must not be NaN)`);if(u.timeoutSeconds<5)throw new ge(ae.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (minimum allowed value is 5)`);if(u.timeoutSeconds>30)throw new ge(ae.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(s,o){return s.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class xf{constructor(e,t,s,o){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Wb({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ge(ae.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ge(ae.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Wb(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(s){if(!s)return new JN;switch(s.type){case"firstParty":return new rO(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new ge(ae.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const s=$b.get(t);s&&(pe("ComponentProvider","Removing Datastore"),$b.delete(t),s.terminate())}(this),Promise.resolve()}}function GM(r,e,t,s={}){var o;r=qr(r,xf);const u=Ia(e),h=r._getSettings(),d=Object.assign(Object.assign({},h),{emulatorOptions:r._getEmulatorOptions()}),p=`${e}:${t}`;u&&(Bp(`https://${p}`),qp("Firestore",!0)),h.host!==hS&&h.host!==p&&Is("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const g=Object.assign(Object.assign({},h),{host:p,ssl:u,emulatorOptions:s});if(!Ea(g,d)&&(r._setSettings(g),s.mockUserToken)){let _,v;if(typeof s.mockUserToken=="string")_=s.mockUserToken,v=bn.MOCK_USER;else{_=rT(s.mockUserToken,(o=r._app)===null||o===void 0?void 0:o.options.projectId);const T=s.mockUserToken.sub||s.mockUserToken.user_id;if(!T)throw new ge(ae.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");v=new bn(T)}r._authCredentials=new eO(new XT(_,v))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Va{constructor(e,t,s){this.converter=t,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new Va(this.firestore,e,this._query)}}class Ht{constructor(e,t,s){this.converter=t,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Cs(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Ht(this.firestore,e,this._key)}toJSON(){return{type:Ht._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,s){if(zu(t,Ht._jsonSchema))return new Ht(e,s||null,new Te(pt.fromString(t.referencePath)))}}Ht._jsonSchemaVersion="firestore/documentReference/1.0",Ht._jsonSchema={type:Ft("string",Ht._jsonSchemaVersion),referencePath:Ft("string")};class Cs extends Va{constructor(e,t,s){super(e,t,lg(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Ht(this.firestore,null,new Te(e))}withConverter(e){return new Cs(this.firestore,e,this._path)}}function Zb(r,e,...t){if(r=mn(r),ZT("collection","path",e),r instanceof xf){const s=pt.fromString(e,...t);return cb(s),new Cs(r,null,s)}{if(!(r instanceof Ht||r instanceof Cs))throw new ge(ae.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(pt.fromString(e,...t));return cb(s),new Cs(r.firestore,null,s)}}function Ho(r,e,...t){if(r=mn(r),arguments.length===1&&(e=ng.newId()),ZT("doc","path",e),r instanceof xf){const s=pt.fromString(e,...t);return ub(s),new Ht(r,null,new Te(s))}{if(!(r instanceof Ht||r instanceof Cs))throw new ge(ae.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(pt.fromString(e,...t));return ub(s),new Ht(r.firestore,r instanceof Cs?r.converter:null,new Te(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jb="AsyncQueue";class eE{constructor(e=Promise.resolve()){this.Zu=[],this.Xu=!1,this.ec=[],this.tc=null,this.nc=!1,this.rc=!1,this.sc=[],this.F_=new Fw(this,"async_queue_retry"),this.oc=()=>{const s=Ym();s&&pe(Jb,"Visibility state changed to "+s.visibilityState),this.F_.y_()},this._c=e;const t=Ym();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.oc)}get isShuttingDown(){return this.Xu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.ac(),this.uc(e)}enterRestrictedMode(e){if(!this.Xu){this.Xu=!0,this.rc=e||!1;const t=Ym();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.oc)}}enqueue(e){if(this.ac(),this.Xu)return new Promise(()=>{});const t=new Rs;return this.uc(()=>this.Xu&&this.rc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Zu.push(e),this.cc()))}async cc(){if(this.Zu.length!==0){try{await this.Zu[0](),this.Zu.shift(),this.F_.reset()}catch(e){if(!Zo(e))throw e;pe(Jb,"Operation failed with retryable error: "+e)}this.Zu.length>0&&this.F_.g_(()=>this.cc())}}uc(e){const t=this._c.then(()=>(this.nc=!0,e().catch(s=>{throw this.tc=s,this.nc=!1,ji("INTERNAL UNHANDLED ERROR: ",tE(s)),s}).then(s=>(this.nc=!1,s))));return this._c=t,t}enqueueAfterDelay(e,t,s){this.ac(),this.sc.indexOf(e)>-1&&(t=0);const o=Tg.createAndSchedule(this,e,t,s,u=>this.lc(u));return this.ec.push(o),o}ac(){this.tc&&De(47125,{hc:tE(this.tc)})}verifyOperationInProgress(){}async Pc(){let e;do e=this._c,await e;while(e!==this._c)}Tc(e){for(const t of this.ec)if(t.timerId===e)return!0;return!1}Ic(e){return this.Pc().then(()=>{this.ec.sort((t,s)=>t.targetTimeMs-s.targetTimeMs);for(const t of this.ec)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Pc()})}dc(e){this.sc.push(e)}lc(e){const t=this.ec.indexOf(e);this.ec.splice(t,1)}}function tE(r){let e=r.message||"";return r.stack&&(e=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nE(r){return function(t,s){if(typeof t!="object"||t===null)return!1;const o=t;for(const u of s)if(u in o&&typeof o[u]=="function")return!0;return!1}(r,["next","error","complete"])}class Ca extends xf{constructor(e,t,s,o){super(e,t,s,o),this.type="firestore",this._queue=new eE,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new eE(e),this._firestoreClient=void 0,await e}}}function YM(r,e){const t=typeof r=="object"?r:Gp(),s=typeof r=="string"?r:Yh,o=ff(t,"firestore").getImmediate({identifier:s});if(!o._initialized){const u=eT("firestore");u&&GM(o,...u)}return o}function Cg(r){if(r._terminated)throw new ge(ae.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||KM(r),r._firestoreClient}function KM(r){var e,t,s;const o=r._freezeSettings(),u=function(d,p,g,_){return new _O(d,p,g,_.host,_.ssl,_.experimentalForceLongPolling,_.experimentalAutoDetectLongPolling,cS(_.experimentalLongPollingOptions),_.useFetchStreams,_.isUsingEmulator)}(r._databaseId,((e=r._app)===null||e===void 0?void 0:e.options.appId)||"",r._persistenceKey,o);r._componentsProvider||!((t=o.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((s=o.localCache)===null||s===void 0)&&s._onlineComponentProvider)&&(r._componentsProvider={_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider}),r._firestoreClient=new BM(r._authCredentials,r._appCheckCredentials,r._queue,u,r._componentsProvider&&function(d){const p=d?._online.build();return{_offline:d?._offline.build(p),_online:p}}(r._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ar{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ar(pn.fromBase64String(e))}catch(t){throw new ge(ae.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new ar(pn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:ar._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(zu(e,ar._jsonSchema))return ar.fromBase64String(e.bytes)}}ar._jsonSchemaVersion="firestore/bytes/1.0",ar._jsonSchema={type:Ft("string",ar._jsonSchemaVersion),bytes:Ft("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xg{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new ge(ae.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new dn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fS{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gr{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new ge(ae.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new ge(ae.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Ue(this._lat,e._lat)||Ue(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Gr._jsonSchemaVersion}}static fromJSON(e){if(zu(e,Gr._jsonSchema))return new Gr(e.latitude,e.longitude)}}Gr._jsonSchemaVersion="firestore/geoPoint/1.0",Gr._jsonSchema={type:Ft("string",Gr._jsonSchemaVersion),latitude:Ft("number"),longitude:Ft("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yr{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(s,o){if(s.length!==o.length)return!1;for(let u=0;u<s.length;++u)if(s[u]!==o[u])return!1;return!0}(this._values,e._values)}toJSON(){return{type:Yr._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(zu(e,Yr._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(t=>typeof t=="number"))return new Yr(e.vectorValues);throw new ge(ae.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Yr._jsonSchemaVersion="firestore/vectorValue/1.0",Yr._jsonSchema={type:Ft("string",Yr._jsonSchemaVersion),vectorValues:Ft("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QM=/^__.*__$/;class $M{constructor(e,t,s){this.data=e,this.fieldMask=t,this.fieldTransforms=s}toMutation(e,t){return this.fieldMask!==null?new Ma(e,this.data,this.fieldMask,t,this.fieldTransforms):new Bu(e,this.data,t,this.fieldTransforms)}}function dS(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw De(40011,{Ec:r})}}class Ig{constructor(e,t,s,o,u,h){this.settings=e,this.databaseId=t,this.serializer=s,this.ignoreUndefinedProperties=o,u===void 0&&this.Ac(),this.fieldTransforms=u||[],this.fieldMask=h||[]}get path(){return this.settings.path}get Ec(){return this.settings.Ec}Rc(e){return new Ig(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Vc(e){var t;const s=(t=this.path)===null||t===void 0?void 0:t.child(e),o=this.Rc({path:s,mc:!1});return o.fc(e),o}gc(e){var t;const s=(t=this.path)===null||t===void 0?void 0:t.child(e),o=this.Rc({path:s,mc:!1});return o.Ac(),o}yc(e){return this.Rc({path:void 0,mc:!0})}wc(e){return nf(e,this.settings.methodName,this.settings.Sc||!1,this.path,this.settings.bc)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}Ac(){if(this.path)for(let e=0;e<this.path.length;e++)this.fc(this.path.get(e))}fc(e){if(e.length===0)throw this.wc("Document fields must not be empty");if(dS(this.Ec)&&QM.test(e))throw this.wc('Document fields cannot begin and end with "__"')}}class XM{constructor(e,t,s){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=s||Af(e)}Dc(e,t,s,o=!1){return new Ig({Ec:e,methodName:t,bc:s,path:dn.emptyPath(),mc:!1,Sc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Dg(r){const e=r._freezeSettings(),t=Af(r._databaseId);return new XM(r._databaseId,!!e.ignoreUndefinedProperties,t)}function mS(r,e,t,s,o,u={}){const h=r.Dc(u.merge||u.mergeFields?2:0,e,t,o);yS("Data must be an object, but it was:",h,s);const d=pS(s,h);let p,g;if(u.merge)p=new yr(h.fieldMask),g=h.fieldTransforms;else if(u.mergeFields){const _=[];for(const v of u.mergeFields){const T=ZM(e,v,t);if(!h.contains(T))throw new ge(ae.INVALID_ARGUMENT,`Field '${T}' is specified in your field mask but missing from your input data.`);eP(_,T)||_.push(T)}p=new yr(_),g=h.fieldTransforms.filter(v=>p.covers(v.field))}else p=null,g=h.fieldTransforms;return new $M(new sr(d),p,g)}function WM(r,e,t,s=!1){return Ng(t,r.Dc(s?4:3,e))}function Ng(r,e){if(gS(r=mn(r)))return yS("Unsupported field value:",e,r),pS(r,e);if(r instanceof fS)return function(s,o){if(!dS(o.Ec))throw o.wc(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.wc(`${s._methodName}() is not currently supported inside arrays`);const u=s._toFieldTransform(o);u&&o.fieldTransforms.push(u)}(r,e),null;if(r===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.mc&&e.Ec!==4)throw e.wc("Nested arrays are not supported");return function(s,o){const u=[];let h=0;for(const d of s){let p=Ng(d,o.yc(h));p==null&&(p={nullValue:"NULL_VALUE"}),u.push(p),h++}return{arrayValue:{values:u}}}(r,e)}return function(s,o){if((s=mn(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return qO(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const u=gt.fromDate(s);return{timestampValue:Zh(o.serializer,u)}}if(s instanceof gt){const u=new gt(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:Zh(o.serializer,u)}}if(s instanceof Gr)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof ar)return{bytesValue:Ow(o.serializer,s._byteString)};if(s instanceof Ht){const u=o.databaseId,h=s.firestore._databaseId;if(!h.isEqual(u))throw o.wc(`Document reference is for database ${h.projectId}/${h.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:dg(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof Yr)return function(h,d){return{mapValue:{fields:{[ow]:{stringValue:lw},[Kh]:{arrayValue:{values:h.toArray().map(g=>{if(typeof g!="number")throw d.wc("VectorValues must only contain numeric values.");return ug(d.serializer,g)})}}}}}}(s,o);throw o.wc(`Unsupported field value: ${gf(s)}`)}(r,e)}function pS(r,e){const t={};return tw(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Oa(r,(s,o)=>{const u=Ng(o,e.Vc(s));u!=null&&(t[s]=u)}),{mapValue:{fields:t}}}function gS(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof gt||r instanceof Gr||r instanceof ar||r instanceof Ht||r instanceof fS||r instanceof Yr)}function yS(r,e,t){if(!gS(t)||!JT(t)){const s=gf(t);throw s==="an object"?e.wc(r+" a custom object"):e.wc(r+" "+s)}}function ZM(r,e,t){if((e=mn(e))instanceof xg)return e._internalPath;if(typeof e=="string")return vS(r,e);throw nf("Field path arguments must be of type string or ",r,!1,void 0,t)}const JM=new RegExp("[~\\*/\\[\\]]");function vS(r,e,t){if(e.search(JM)>=0)throw nf(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,t);try{return new xg(...e.split("."))._internalPath}catch{throw nf(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,t)}}function nf(r,e,t,s,o){const u=s&&!s.isEmpty(),h=o!==void 0;let d=`Function ${e}() called with invalid data`;t&&(d+=" (via `toFirestore()`)"),d+=". ";let p="";return(u||h)&&(p+=" (found",u&&(p+=` in field ${s}`),h&&(p+=` in document ${o}`),p+=")"),new ge(ae.INVALID_ARGUMENT,d+r+p)}function eP(r,e){return r.some(t=>t.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _S{constructor(e,t,s,o,u){this._firestore=e,this._userDataWriter=t,this._key=s,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new Ht(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new tP(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Og("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class tP extends _S{data(){return super.data()}}function Og(r,e){return typeof e=="string"?vS(r,e):e instanceof xg?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bS(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new ge(ae.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class kg{}class nP extends kg{}function rP(r,e,...t){let s=[];e instanceof kg&&s.push(e),s=s.concat(t),function(u){const h=u.filter(p=>p instanceof Mg).length,d=u.filter(p=>p instanceof If).length;if(h>1||h>0&&d>0)throw new ge(ae.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(s);for(const o of s)r=o._apply(r);return r}class If extends nP{constructor(e,t,s){super(),this._field=e,this._op=t,this._value=s,this.type="where"}static _create(e,t,s){return new If(e,t,s)}_apply(e){const t=this._parse(e);return ES(e._query,t),new Va(e.firestore,e.converter,_p(e._query,t))}_parse(e){const t=Dg(e.firestore);return function(u,h,d,p,g,_,v){let T;if(g.isKeyField()){if(_==="array-contains"||_==="array-contains-any")throw new ge(ae.INVALID_ARGUMENT,`Invalid Query. You can't perform '${_}' queries on documentId().`);if(_==="in"||_==="not-in"){iE(v,_);const C=[];for(const O of v)C.push(rE(p,u,O));T={arrayValue:{values:C}}}else T=rE(p,u,v)}else _!=="in"&&_!=="not-in"&&_!=="array-contains-any"||iE(v,_),T=WM(d,h,v,_==="in"||_==="not-in");return qt.create(g,_,T)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}function iP(r,e,t){const s=e,o=Og("where",r);return If._create(o,s,t)}class Mg extends kg{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new Mg(e,t)}_parse(e){const t=this._queryConstraints.map(s=>s._parse(e)).filter(s=>s.getFilters().length>0);return t.length===1?t[0]:Er.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:(function(o,u){let h=o;const d=u.getFlattenedFilters();for(const p of d)ES(h,p),h=_p(h,p)}(e._query,t),new Va(e.firestore,e.converter,_p(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function rE(r,e,t){if(typeof(t=mn(t))=="string"){if(t==="")throw new ge(ae.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!gw(e)&&t.indexOf("/")!==-1)throw new ge(ae.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const s=e.path.child(pt.fromString(t));if(!Te.isDocumentKey(s))throw new ge(ae.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return vb(r,new Te(s))}if(t instanceof Ht)return vb(r,t._key);throw new ge(ae.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${gf(t)}.`)}function iE(r,e){if(!Array.isArray(r)||r.length===0)throw new ge(ae.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function ES(r,e){const t=function(o,u){for(const h of o)for(const d of h.getFlattenedFilters())if(u.indexOf(d.op)>=0)return d.op;return null}(r.filters,function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(t!==null)throw t===e.op?new ge(ae.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ge(ae.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class sP{convertValue(e,t="none"){switch(ks(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Pt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Os(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw De(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const s={};return Oa(e,(o,u)=>{s[o]=this.convertValue(u,t)}),s}convertVectorValue(e){var t,s,o;const u=(o=(s=(t=e.fields)===null||t===void 0?void 0:t[Kh].arrayValue)===null||s===void 0?void 0:s.values)===null||o===void 0?void 0:o.map(h=>Pt(h.doubleValue));return new Yr(u)}convertGeoPoint(e){return new Gr(Pt(e.latitude),Pt(e.longitude))}convertArray(e,t){return(e.values||[]).map(s=>this.convertValue(s,t))}convertServerTimestamp(e,t){switch(t){case"previous":const s=_f(e);return s==null?null:this.convertValue(s,t);case"estimate":return this.convertTimestamp(Su(e));default:return null}}convertTimestamp(e){const t=Ns(e);return new gt(t.seconds,t.nanos)}convertDocumentKey(e,t){const s=pt.fromString(e);it(Uw(s),9688,{name:e});const o=new Au(s.get(1),s.get(3)),u=new Te(s.popFirst(5));return o.isEqual(t)||ji(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TS(r,e,t){let s;return s=r?t&&(t.merge||t.mergeFields)?r.toFirestore(e,t):r.toFirestore(e):e,s}class cu{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class va extends _S{constructor(e,t,s,o,u,h){super(e,t,s,o,h),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Mh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const s=this._document.data.field(Og("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ge(ae.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,t={};return t.type=va._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?t:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t)}}va._jsonSchemaVersion="firestore/documentSnapshot/1.0",va._jsonSchema={type:Ft("string",va._jsonSchemaVersion),bundleSource:Ft("string","DocumentSnapshot"),bundleName:Ft("string"),bundle:Ft("string")};class Mh extends va{data(e={}){return super.data(e)}}class _a{constructor(e,t,s,o){this._firestore=e,this._userDataWriter=t,this._snapshot=o,this.metadata=new cu(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(s=>{e.call(t,new Mh(this._firestore,this._userDataWriter,s.key,s,new cu(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new ge(ae.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(o,u){if(o._snapshot.oldDocs.isEmpty()){let h=0;return o._snapshot.docChanges.map(d=>{const p=new Mh(o._firestore,o._userDataWriter,d.doc.key,d.doc,new cu(o._snapshot.mutatedKeys.has(d.doc.key),o._snapshot.fromCache),o.query.converter);return d.doc,{type:"added",doc:p,oldIndex:-1,newIndex:h++}})}{let h=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(d=>u||d.type!==3).map(d=>{const p=new Mh(o._firestore,o._userDataWriter,d.doc.key,d.doc,new cu(o._snapshot.mutatedKeys.has(d.doc.key),o._snapshot.fromCache),o.query.converter);let g=-1,_=-1;return d.type!==0&&(g=h.indexOf(d.doc.key),h=h.delete(d.doc.key)),d.type!==1&&(h=h.add(d.doc),_=h.indexOf(d.doc.key)),{type:aP(d.type),doc:p,oldIndex:g,newIndex:_}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ge(ae.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=_a._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=ng.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const t=[],s=[],o=[];return this.docs.forEach(u=>{u._document!==null&&(t.push(u._document),s.push(this._userDataWriter.convertObjectMap(u._document.data.value.mapValue.fields,"previous")),o.push(u.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function aP(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return De(61501,{type:r})}}_a._jsonSchemaVersion="firestore/querySnapshot/1.0",_a._jsonSchema={type:Ft("string",_a._jsonSchemaVersion),bundleSource:Ft("string","QuerySnapshot"),bundleName:Ft("string"),bundle:Ft("string")};class Pg extends sP{constructor(e){super(),this.firestore=e}convertBytes(e){return new ar(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Ht(this.firestore,null,t)}}function oP(r){r=qr(r,Va);const e=qr(r.firestore,Ca),t=Cg(e),s=new Pg(e);return bS(r._query),HM(t,r._query).then(o=>new _a(e,s,r,o))}function rf(r,e,t){r=qr(r,Ht);const s=qr(r.firestore,Ca),o=TS(r.converter,e,t);return Vg(s,[mS(Dg(s),"setDoc",r._key,o,r.converter!==null,t).toMutation(r._key,_r.none())])}function lP(r){return Vg(qr(r.firestore,Ca),[new cg(r._key,_r.none())])}function uP(r,e){const t=qr(r.firestore,Ca),s=Ho(r),o=TS(r.converter,e);return Vg(t,[mS(Dg(r.firestore),"addDoc",s._key,o,r.converter!==null,{}).toMutation(s._key,_r.exists(!1))]).then(()=>s)}function cP(r,...e){var t,s,o;r=mn(r);let u={includeMetadataChanges:!1,source:"default"},h=0;typeof e[h]!="object"||nE(e[h])||(u=e[h++]);const d={includeMetadataChanges:u.includeMetadataChanges,source:u.source};if(nE(e[h])){const v=e[h];e[h]=(t=v.next)===null||t===void 0?void 0:t.bind(v),e[h+1]=(s=v.error)===null||s===void 0?void 0:s.bind(v),e[h+2]=(o=v.complete)===null||o===void 0?void 0:o.bind(v)}let p,g,_;if(r instanceof Ht)g=qr(r.firestore,Ca),_=lg(r._key.path),p={next:v=>{e[h]&&e[h](hP(g,r,v))},error:e[h+1],complete:e[h+2]};else{const v=qr(r,Va);g=qr(v.firestore,Ca),_=v._query;const T=new Pg(g);p={next:x=>{e[h]&&e[h](new _a(g,T,v,x))},error:e[h+1],complete:e[h+2]},bS(r._query)}return function(T,x,C,O){const D=new lS(O),z=new Jw(x,D,C);return T.asyncQueue.enqueueAndForget(async()=>Ww(await Dp(T),z)),()=>{D.Ou(),T.asyncQueue.enqueueAndForget(async()=>Zw(await Dp(T),z))}}(Cg(g),_,d,p)}function Vg(r,e){return function(s,o){const u=new Rs;return s.asyncQueue.enqueueAndForget(async()=>OM(await FM(s),o,u)),u.promise}(Cg(r),e)}function hP(r,e,t){const s=t.docs.get(e._key),o=new Pg(r);return new va(r,o,e._key,s,new cu(t.hasPendingWrites,t.fromCache),e.converter)}(function(e,t=!0){(function(o){Xo=o})(Da),Ta(new xs("firestore",(s,{instanceIdentifier:o,options:u})=>{const h=s.getProvider("app").getImmediate(),d=new Ca(new tO(s.getProvider("auth-internal")),new iO(h,s.getProvider("app-check-internal")),function(g,_){if(!Object.prototype.hasOwnProperty.apply(g.options,["projectId"]))throw new ge(ae.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Au(g.options.projectId,_)}(h,o),h);return u=Object.assign({useFetchStreams:t},u),d._setSettings(u),d},"PUBLIC").setMultipleInstances(!0)),zr(ib,sb,e),zr(ib,sb,"esm2017")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wS="firebasestorage.googleapis.com",fP="storageBucket",dP=2*60*1e3,mP=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ei extends Jr{constructor(e,t,s=0){super(Qm(e),`Firebase Storage: ${t} (${Qm(e)})`),this.status_=s,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,ei.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Qm(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var $r;(function(r){r.UNKNOWN="unknown",r.OBJECT_NOT_FOUND="object-not-found",r.BUCKET_NOT_FOUND="bucket-not-found",r.PROJECT_NOT_FOUND="project-not-found",r.QUOTA_EXCEEDED="quota-exceeded",r.UNAUTHENTICATED="unauthenticated",r.UNAUTHORIZED="unauthorized",r.UNAUTHORIZED_APP="unauthorized-app",r.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",r.INVALID_CHECKSUM="invalid-checksum",r.CANCELED="canceled",r.INVALID_EVENT_NAME="invalid-event-name",r.INVALID_URL="invalid-url",r.INVALID_DEFAULT_BUCKET="invalid-default-bucket",r.NO_DEFAULT_BUCKET="no-default-bucket",r.CANNOT_SLICE_BLOB="cannot-slice-blob",r.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",r.NO_DOWNLOAD_URL="no-download-url",r.INVALID_ARGUMENT="invalid-argument",r.INVALID_ARGUMENT_COUNT="invalid-argument-count",r.APP_DELETED="app-deleted",r.INVALID_ROOT_OPERATION="invalid-root-operation",r.INVALID_FORMAT="invalid-format",r.INTERNAL_ERROR="internal-error",r.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})($r||($r={}));function Qm(r){return"storage/"+r}function pP(){const r="An unknown error occurred, please check the error payload for server response.";return new ei($r.UNKNOWN,r)}function gP(){return new ei($r.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function yP(){return new ei($r.CANCELED,"User canceled the upload/download.")}function vP(r){return new ei($r.INVALID_URL,"Invalid URL '"+r+"'.")}function _P(r){return new ei($r.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+r+"'.")}function sE(r){return new ei($r.INVALID_ARGUMENT,r)}function SS(){return new ei($r.APP_DELETED,"The Firebase app was deleted.")}function bP(r){return new ei($r.INVALID_ROOT_OPERATION,"The operation '"+r+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vr{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let s;try{s=vr.makeFromUrl(e,t)}catch{return new vr(e,"")}if(s.path==="")return s;throw _P(e)}static makeFromUrl(e,t){let s=null;const o="([A-Za-z0-9.\\-_]+)";function u(oe){oe.path.charAt(oe.path.length-1)==="/"&&(oe.path_=oe.path_.slice(0,-1))}const h="(/(.*))?$",d=new RegExp("^gs://"+o+h,"i"),p={bucket:1,path:3};function g(oe){oe.path_=decodeURIComponent(oe.path)}const _="v[A-Za-z0-9_]+",v=t.replace(/[.]/g,"\\."),T="(/([^?#]*).*)?$",x=new RegExp(`^https?://${v}/${_}/b/${o}/o${T}`,"i"),C={bucket:1,path:3},O=t===wS?"(?:storage.googleapis.com|storage.cloud.google.com)":t,D="([^?#]*)",z=new RegExp(`^https?://${O}/${o}/${D}`,"i"),Q=[{regex:d,indices:p,postModify:u},{regex:x,indices:C,postModify:g},{regex:z,indices:{bucket:1,path:2},postModify:g}];for(let oe=0;oe<Q.length;oe++){const $=Q[oe],ie=$.regex.exec(e);if(ie){const N=ie[$.indices.bucket];let S=ie[$.indices.path];S||(S=""),s=new vr(N,S),$.postModify(s);break}}if(s==null)throw vP(e);return s}}class EP{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TP(r,e,t){let s=1,o=null,u=null,h=!1,d=0;function p(){return d===2}let g=!1;function _(...D){g||(g=!0,e.apply(null,D))}function v(D){o=setTimeout(()=>{o=null,r(x,p())},D)}function T(){u&&clearTimeout(u)}function x(D,...z){if(g){T();return}if(D){T(),_.call(null,D,...z);return}if(p()||h){T(),_.call(null,D,...z);return}s<64&&(s*=2);let Q;d===1?(d=2,Q=0):Q=(s+Math.random())*1e3,v(Q)}let C=!1;function O(D){C||(C=!0,T(),!g&&(o!==null?(D||(d=2),clearTimeout(o),v(0)):D||(d=1)))}return v(0),u=setTimeout(()=>{h=!0,O(!0)},t),O}function wP(r){r(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SP(r){return r!==void 0}function aE(r,e,t,s){if(s<e)throw sE(`Invalid value for '${r}'. Expected ${e} or greater.`);if(s>t)throw sE(`Invalid value for '${r}'. Expected ${t} or less.`)}function AP(r){const e=encodeURIComponent;let t="?";for(const s in r)if(r.hasOwnProperty(s)){const o=e(s)+"="+e(r[s]);t=t+o+"&"}return t=t.slice(0,-1),t}var sf;(function(r){r[r.NO_ERROR=0]="NO_ERROR",r[r.NETWORK_ERROR=1]="NETWORK_ERROR",r[r.ABORT=2]="ABORT"})(sf||(sf={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RP(r,e){const t=r>=500&&r<600,o=[408,429].indexOf(r)!==-1,u=e.indexOf(r)!==-1;return t||o||u}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CP{constructor(e,t,s,o,u,h,d,p,g,_,v,T=!0,x=!1){this.url_=e,this.method_=t,this.headers_=s,this.body_=o,this.successCodes_=u,this.additionalRetryCodes_=h,this.callback_=d,this.errorCallback_=p,this.timeout_=g,this.progressCallback_=_,this.connectionFactory_=v,this.retry=T,this.isUsingEmulator=x,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((C,O)=>{this.resolve_=C,this.reject_=O,this.start_()})}start_(){const e=(s,o)=>{if(o){s(!1,new Th(!1,null,!0));return}const u=this.connectionFactory_();this.pendingConnection_=u;const h=d=>{const p=d.loaded,g=d.lengthComputable?d.total:-1;this.progressCallback_!==null&&this.progressCallback_(p,g)};this.progressCallback_!==null&&u.addUploadProgressListener(h),u.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&u.removeUploadProgressListener(h),this.pendingConnection_=null;const d=u.getErrorCode()===sf.NO_ERROR,p=u.getStatus();if(!d||RP(p,this.additionalRetryCodes_)&&this.retry){const _=u.getErrorCode()===sf.ABORT;s(!1,new Th(!1,null,_));return}const g=this.successCodes_.indexOf(p)!==-1;s(!0,new Th(g,u))})},t=(s,o)=>{const u=this.resolve_,h=this.reject_,d=o.connection;if(o.wasSuccessCode)try{const p=this.callback_(d,d.getResponse());SP(p)?u(p):u()}catch(p){h(p)}else if(d!==null){const p=pP();p.serverResponse=d.getErrorText(),this.errorCallback_?h(this.errorCallback_(d,p)):h(p)}else if(o.canceled){const p=this.appDelete_?SS():yP();h(p)}else{const p=gP();h(p)}};this.canceled_?t(!1,new Th(!1,null,!0)):this.backoffId_=TP(e,t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&wP(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Th{constructor(e,t,s){this.wasSuccessCode=e,this.connection=t,this.canceled=!!s}}function xP(r,e){e!==null&&e.length>0&&(r.Authorization="Firebase "+e)}function IP(r,e){r["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function DP(r,e){e&&(r["X-Firebase-GMPID"]=e)}function NP(r,e){e!==null&&(r["X-Firebase-AppCheck"]=e)}function OP(r,e,t,s,o,u,h=!0,d=!1){const p=AP(r.urlParams),g=r.url+p,_=Object.assign({},r.headers);return DP(_,e),xP(_,t),IP(_,u),NP(_,s),new CP(g,r.method,_,r.body,r.successCodes,r.additionalRetryCodes,r.handler,r.errorHandler,r.timeout,r.progressCallback,o,h,d)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kP(r){if(r.length===0)return null;const e=r.lastIndexOf("/");return e===-1?"":r.slice(0,e)}function MP(r){const e=r.lastIndexOf("/",r.length-2);return e===-1?r:r.slice(e+1)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class af{constructor(e,t){this._service=e,t instanceof vr?this._location=t:this._location=vr.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new af(e,t)}get root(){const e=new vr(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return MP(this._location.path)}get storage(){return this._service}get parent(){const e=kP(this._location.path);if(e===null)return null;const t=new vr(this._location.bucket,e);return new af(this._service,t)}_throwIfRoot(e){if(this._location.path==="")throw bP(e)}}function oE(r,e){const t=e?.[fP];return t==null?null:vr.makeFromBucketSpec(t,r)}function PP(r,e,t,s={}){r.host=`${e}:${t}`;const o=Ia(e);o&&(Bp(`https://${r.host}/b`),qp("Storage",!0)),r._isUsingEmulator=!0,r._protocol=o?"https":"http";const{mockUserToken:u}=s;u&&(r._overrideAuthToken=typeof u=="string"?u:rT(u,r.app.options.projectId))}class VP{constructor(e,t,s,o,u,h=!1){this.app=e,this._authProvider=t,this._appCheckProvider=s,this._url=o,this._firebaseVersion=u,this._isUsingEmulator=h,this._bucket=null,this._host=wS,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=dP,this._maxUploadRetryTime=mP,this._requests=new Set,o!=null?this._bucket=vr.makeFromBucketSpec(o,this._host):this._bucket=oE(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=vr.makeFromBucketSpec(this._url,e):this._bucket=oE(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){aE("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){aE("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const t=await e.getToken();if(t!==null)return t.accessToken}return null}async _getAppCheckToken(){if(Yn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new af(this,e)}_makeRequest(e,t,s,o,u=!0){if(this._deleted)return new EP(SS());{const h=OP(e,this._appId,s,o,t,this._firebaseVersion,u,this._isUsingEmulator);return this._requests.add(h),h.getPromise().then(()=>this._requests.delete(h),()=>this._requests.delete(h)),h}}async makeRequestWithTokens(e,t){const[s,o]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,t,s,o).getPromise()}}const lE="@firebase/storage",uE="0.13.14";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AS="storage";function LP(r=Gp(),e){r=mn(r);const s=ff(r,AS).getImmediate({identifier:e}),o=eT("storage");return o&&UP(s,...o),s}function UP(r,e,t,s={}){PP(r,e,t,s)}function zP(r,{instanceIdentifier:e}){const t=r.getProvider("app").getImmediate(),s=r.getProvider("auth-internal"),o=r.getProvider("app-check-internal");return new VP(t,s,o,e,Da)}function jP(){Ta(new xs(AS,zP,"PUBLIC").setMultipleInstances(!0)),zr(lE,uE,""),zr(lE,uE,"esm2017")}jP();const BP={apiKey:"AIzaSyBHJKi9IKqqDHPdYjh0d9qrMDL7Hz9DgzY",authDomain:"noteboard-app-e4216.firebaseapp.com",projectId:"noteboard-app-e4216",storageBucket:"noteboard-app-e4216.firebasestorage.app",messagingSenderId:"473408759235",appId:"1:473408759235:web:727c2fe72443f8e0d84976"},Lg=aT(BP),Iu=$N(Lg),ba=YM(Lg);LP(Lg);const RS=()=>{const r=async()=>{try{await UD(Iu)}catch(e){console.error("Error logging out:",e)}};return W.jsx("div",{children:W.jsxs(ko,{onClick:r,className:"fixed top-4 right-4 cursor-pointer z-50 bg-red-500 hover:bg-red-600 w-26 h-10 ",children:[W.jsx(YC,{size:20}),"Logout"]})})},qP=()=>{const{id:r}=VR(),e=Pp(),[t,s]=V.useState([]),[o,u]=V.useState(!1),[h,d]=V.useState(null),[p,g]=V.useState({x:0,y:0}),[_,v]=V.useState(!0),[T,x]=V.useState(!1),C=V.useRef(null),O=V.useRef(null),D=V.useRef([]),{zoom:z,panOffset:Y,handleWheel:Q,handleMouseDown:oe,handleMouseMove:$,handleMouseUp:ie,handleTouchStart:N,handleTouchMove:S,handleTouchEnd:R,zoomIn:M,zoomOut:L,resetZoom:U}=Zx(),{selectedNoteIds:I,isSelecting:Ke,selectionPath:xe,handleSelectionStart:q,handleSelectionMove:ce,handleSelectionEnd:ne,clearSelection:Re}=Jx({notes:t,zoom:z,panOffset:Y}),{isDraggingSelected:P,hasDraggedGroup:J,startDraggingSelected:ue,handleSelectedNotesMove:ee,stopDraggingSelected:he}=eI({selectedNoteIds:I,notes:t,zoom:z,onNotesMove:we=>{s(Be=>Be.map(dt=>{const Ct=we.find(Ze=>Ze.id===dt.id);return Ct?{...dt,x:Ct.x,y:Ct.y}:dt}))}});V.useEffect(()=>{if(!r)return;v(!0);const we=Ho(ba,"boards",r),Be=cP(we,dt=>{if(dt.exists()){const Ze=dt.data().notes||[];!T&&!P&&(s(Ze),D.current=Ze)}else s([]),D.current=[],rf(we,{notes:[]},{merge:!0});v(!1)},dt=>{console.error("Error loading board:",dt),v(!1)});return()=>Be()},[r,T,P]);const be=V.useCallback(we=>{O.current&&clearTimeout(O.current),O.current=setTimeout(async()=>{if(r)try{const Be=Ho(ba,"boards",r);await rf(Be,{notes:we},{merge:!0}),D.current=we}catch(Be){console.error("Error saving notes:",Be)}},100)},[r]);V.useEffect(()=>{if(!r||_)return;JSON.stringify(t)!==JSON.stringify(D.current)&&be(t)},[t,r,_,be]),V.useEffect(()=>()=>{O.current&&clearTimeout(O.current)},[]),V.useEffect(()=>{const we=C.current;if(!we)return;const Be=wt=>{$(wt),ce(wt),ee(wt)},dt=()=>{ie(),ne(),he(),x(!1),O.current&&clearTimeout(O.current),be(t)},Ct=wt=>{S(wt)},Ze=()=>{R(),ne(),he(),x(!1),O.current&&clearTimeout(O.current),be(t)},ti=wt=>{N(wt)};return we.addEventListener("wheel",Q,{passive:!1}),document.addEventListener("mousemove",Be),document.addEventListener("mouseup",dt),document.addEventListener("touchstart",ti,{passive:!1}),document.addEventListener("touchmove",Ct,{passive:!1}),document.addEventListener("touchend",Ze),()=>{we.removeEventListener("wheel",Q),document.removeEventListener("mousemove",Be),document.removeEventListener("mouseup",dt),document.removeEventListener("touchstart",ti),document.removeEventListener("touchmove",Ct),document.removeEventListener("touchend",Ze)}},[Q,$,ie,N,S,R,ce,ne,ee,he,t,be]);const me=we=>{if(we.target.closest(".sticky-note")||Ke)return;if(I.length>0&&!we.shiftKey){Re();return}if(we.shiftKey)return;const dt=we.currentTarget.getBoundingClientRect(),Ct=(we.clientX-dt.left-Y.x)/z,Ze=(we.clientY-dt.top-Y.y)/z;g({x:Ct*z+Y.x,y:Ze*z+Y.y}),d(null),u(!0)},Oe=we=>{const Be=we.target,dt=we.currentTarget,Ze=Be.closest(".sticky-note")?.getAttribute("data-note-id");if(we.shiftKey){we.preventDefault(),q(we,dt);return}if(Ze&&I.includes(Ze)&&I.length>1){we.preventDefault(),x(!0),ue(we);return}Ze&&I.length>0&&Re(),(we.button===1||we.ctrlKey)&&oe(we)},ze=we=>{P||(d(we),g({x:we.x*z+Y.x,y:we.y*z+Y.y}),u(!0))},Tt=(we,Be,dt)=>{x(!0),s(t.map(Ct=>Ct.id===we?{...Ct,x:Be,y:dt}:Ct))},Nt=we=>{if(h)s(t.map(Be=>Be.id===h.id?{...Be,...we}:Be));else{const Be={id:Date.now().toString(),...we,x:(p.x-Y.x)/z,y:(p.y-Y.y)/z,rotation:Math.random()*10-5};s([...t,Be])}u(!1),d(null)},rn=we=>{s(t.filter(Be=>Be.id!==we)),u(!1),d(null)},sn=we=>{const Be=`${window.location.origin}/noteboard-app/boards/${we}`;navigator.clipboard.writeText(Be),iu.success("Share link copied to clipboard!")};return W.jsxs("div",{className:"min-h-screen bg-cork bg-cover bg-center relative overflow-hidden",children:[W.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-amber-100/20 to-amber-800/20"}),W.jsxs("div",{className:"flex justify-center gap-4 fixed top-4 left-4 z-50",children:[W.jsx(Wx,{selectedCount:I.length,totalNotes:t.length}),W.jsxs("button",{className:"flex items-center h-10 gap-2 px-4 py-2 bg-white/90 backdrop-blur-sm rounded-lg shadow-lg hover:bg-gray-200 transition-colors border border-gray-300",onClick:()=>sn(r),children:[W.jsx(HC,{className:"h-4 w-4"}),W.jsx("span",{className:"sm:block hidden",children:"Share"})]}),W.jsxs("button",{onClick:()=>e("/"),className:"flex items-center h-10 gap-2 px-4 py-2 bg-white/90 backdrop-blur-sm rounded-lg shadow-lg hover:bg-gray-200 transition-colors border border-gray-300",children:[W.jsx(BC,{className:"h-4 w-4"}),W.jsx("span",{className:"sm:block hidden",children:"Back to Boards"})]})]}),W.jsx(RS,{}),W.jsx("div",{ref:C,children:W.jsx(MC,{notes:t,selectedNoteIds:I,isSelecting:Ke,selectionPath:xe,zoom:z,panOffset:Y,hasDraggedGroup:J,onBoardClick:me,onBoardMouseDown:Oe,onNoteClick:ze,onNotePositionChange:Tt})}),W.jsx(Xx,{zoom:z,onZoomIn:M,onZoomOut:L,onReset:U}),W.jsx($x,{isOpen:o,onClose:()=>u(!1),onSave:Nt,onDelete:h?()=>rn(h.id):void 0,initialData:h})]})},FP=()=>{const[r,e]=V.useState(!1),[t,s]=V.useState(""),[o,u]=V.useState(""),[h,d]=V.useState(""),[p,g]=V.useState(""),[_,v]=V.useState(!1),T=async O=>{v(!0),g("");try{if(O){const D=await kD(Iu,t,o);await rf(Ho(ba,"users",D.user.uid),{email:t,id:D.user.uid}),await rf(Ho(ba,"noteboards",D.user.uid),{userId:D.user.uid,noteboards:[]}),alert(`User created: ${t}`)}else await MD(Iu,t,o)}catch(D){console.error("Full error object:",D),g(x(D?.code||"unknown"))}finally{v(!1)}},x=O=>{switch(O){case"auth/email-already-in-use":return"Email already in use";case"auth/invalid-email":return"Invalid email address";case"auth/weak-password":return"Password should be at least 6 characters";case"auth/user-not-found":return"Email not found";case"auth/wrong-password":return"Incorrect password";default:return"Authentication failed. Please try again."}},C=O=>{if(O.preventDefault(),g(""),r&&o!==h){g("Passwords do not match");return}if(!t||!o){g("Please fill in all fields");return}T(r)};return W.jsxs("div",{className:"flex flex-col h-screen items-center justify-center px-6 py-8 mx-auto md:h-screen lg:py-0 relative",children:[W.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-amber-200/20 to-amber-900/20 pointer-events-none"}),W.jsxs("div",{className:"w-full bg-yellow-200 border-yellow-300 shadow-yellow-200/50 rounded-lg shadow md:mt-0 sm:max-w-md xl:p-0 relative z-10 rotate-1",children:[W.jsx("div",{className:"transform -translate-y-1/2 w-26 h-8 m-auto bg-white/60 rounded-sm shadow-sm border border-gray-200"}),W.jsxs("div",{className:"p-6 space-y-4 md:space-y-6 sm:p-8",children:[W.jsx("h1",{className:"text-xl font-bold leading-tight tracking-tight text-gray-900 md:text-2xl dark:text-white",children:r?"Create an account":"Sign in to your account"}),W.jsxs("form",{className:"space-y-4 md:space-y-6",onSubmit:C,children:[W.jsxs("div",{children:[W.jsx("label",{htmlFor:"email",className:"block mb-2 text-sm font-medium text-gray-900 dark:text-white",children:"Your email"}),W.jsx("input",{type:"email",name:"email",id:"email",value:t,onChange:O=>s(O.target.value),className:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-primary-600 focus:border-primary-600 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500",placeholder:"name@company.com",required:!0})]}),W.jsxs("div",{children:[W.jsx("label",{htmlFor:"password",className:"block mb-2 text-sm font-medium text-gray-900 dark:text-white",children:"Password"}),W.jsx("input",{type:"password",name:"password",id:"password",value:o,onChange:O=>u(O.target.value),placeholder:"••••••••",className:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-primary-600 focus:border-primary-600 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500",required:!0})]}),r&&W.jsxs("div",{children:[W.jsx("label",{htmlFor:"confirm-password",className:"block mb-2 text-sm font-medium text-gray-900 dark:text-white",children:"Confirm password"}),W.jsx("input",{type:"password",name:"confirm-password",id:"confirm-password",value:h,onChange:O=>d(O.target.value),placeholder:"••••••••",className:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-primary-600 focus:border-primary-600 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500",required:!0})]}),p&&W.jsx("div",{className:"text-red-500 text-sm",children:p}),r&&W.jsxs("div",{className:"flex items-start",children:[W.jsx("div",{className:"flex items-center h-5",children:W.jsx("input",{id:"terms","aria-describedby":"terms",type:"checkbox",className:"w-4 h-4 border border-gray-300 rounded bg-gray-50 focus:ring-3 focus:ring-primary-300 dark:bg-gray-700 dark:border-gray-600 dark:focus:ring-primary-600 dark:ring-offset-gray-800",required:!0})}),W.jsx("div",{className:"ml-3 text-sm",children:W.jsxs("label",{htmlFor:"terms",className:"font-light text-gray-500 dark:text-gray-300",children:["I accept the"," ",W.jsx("a",{className:"font-medium text-primary-600 hover:underline dark:text-primary-500",href:"#",children:"Terms and Conditions"})]})})]}),W.jsx(ko,{type:"submit",disabled:_,className:"w-full text-white bg-green-400 hover:bg-green-500 focus:ring-4 focus:outline-none focus:ring-green-300 font-medium rounded-lg text-sm px-5 py-2.5 text-center cursor-pointer disabled:opacity-50",children:_?r?"Creating account...":"Signing in...":r?"Create an account":"Sign in"}),W.jsxs("p",{className:"text-sm font-light text-gray-500 dark:text-gray-400 mt-2",children:[r?"Already have an account? ":"Don't have an account? ",W.jsx("button",{type:"button",onClick:()=>{e(!r),g(""),s(""),u(""),d("")},className:"font-medium text-primary-600 hover:underline dark:text-primary-500 cursor-pointer",children:r?"Sign in here":"Sign up here"})]})]})]})]})]})};function HP(){const[r,e]=V.useState(""),[t,s]=V.useState(!1),[o,u]=V.useState([]),[h,d]=V.useState(!0),p=Pp(),g=Iu.currentUser;V.useEffect(()=>{if(!g)return;d(!0),(async()=>{const C=rP(Zb(ba,"boards"),iP("userId","==",g.uid)),O=await oP(C),D=[];O.forEach(z=>{const Y=z.data();D.push({_id:z.id,name:Y.name,_creationTime:Y._creationTime?.toMillis?.()||Date.now(),shareId:Y.shareId})}),u(D),d(!1)})()},[g]);const _=async x=>{if(x.preventDefault(),!(!r.trim()||!g)){s(!0);try{const C=await uP(Zb(ba,"boards"),{name:r.trim(),userId:g.uid,_creationTime:gt.now(),shareId:crypto.randomUUID(),notes:[]});p(`/boards/${C.id}`),iu.success("Board created successfully!"),u(O=>[...O,{_id:C.id,name:r.trim(),_creationTime:Date.now(),shareId:""}])}catch{iu.error("Failed to create board")}finally{s(!1),e("")}}},v=x=>{const C=`${window.location.origin}/noteboard-app/boards/${x}`;navigator.clipboard.writeText(C),iu.success("Share link copied to clipboard!")},T=x=>{const C=Ho(ba,"boards",x);lP(C),iu.success("Board deleted successfully!"),u(o.filter(O=>O._id!==x))};return W.jsxs("div",{className:"space-y-6 flex flex-col items-center justify-center h-screen",children:[W.jsx(RS,{}),W.jsx("h1",{className:"!text-5xl font-bold text-center text-blue-600",children:"Collaboard"}),W.jsxs("p",{className:"text-gray-500 text-center mb-10",children:["Welcome Back ",g?.email]}),W.jsxs("form",{onSubmit:_,className:"flex gap-2 max-w-md mx-auto",children:[W.jsx("input",{type:"text",value:r,onChange:x=>e(x.target.value),placeholder:"Board name...",className:"flex-1 px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",disabled:t}),W.jsx("button",{type:"submit",disabled:!r.trim()||t,className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed cursor-pointer",children:t?"Creating...":"Create Board"})]}),W.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:o.map(x=>W.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-sm border border-gray-200 hover:shadow-md transition-shadow",children:[W.jsxs("div",{className:"flex justify-between items-center",children:[W.jsx("h3",{className:"text-lg font-semibold mb-2",children:x.name}),W.jsx("button",{className:"text-gray-500 hover:text-gray-700",onClick:()=>T(x._id),children:W.jsx(LE,{className:"w-5 h-5 text-red-500 mb-2 cursor-pointer hover:text-red-800"})})]}),W.jsxs("p",{className:"text-sm text-gray-500 mb-4",children:["Created ",new Date(x._creationTime).toLocaleDateString()]}),W.jsxs("div",{className:"flex gap-2",children:[W.jsx("button",{onClick:()=>p(`/boards/${x._id}`),className:"flex-1 px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700 cursor-pointer",children:"Open"}),W.jsx("button",{onClick:()=>v(x._id),className:"px-4 py-2 bg-gray-200 text-gray-700 rounded hover:bg-gray-300 cursor-pointer",children:"Share"})]})]},x._id))}),o.length===0&&!h&&W.jsx("div",{className:"text-center py-12",children:W.jsx("p",{className:"text-gray-500",children:"No boards yet. Create your first board above!"})})]})}const GP=new rR,YP=()=>{const[r,e]=V.useState(null);return V.useEffect(()=>{const t=LD(Iu,s=>{e(s)});return()=>t()},[]),r?W.jsxs(sR,{client:GP,children:[W.jsx(MA,{}),W.jsx(EC,{basename:"/noteboard-app",children:W.jsxs(WR,{children:[W.jsx(Jm,{path:"/",element:W.jsx(HP,{})}),W.jsx(Jm,{path:"/boards/:id",element:W.jsx(qP,{})})]})})]}):W.jsx(FP,{})};sA.createRoot(document.getElementById("root")).render(W.jsx(YP,{}));
