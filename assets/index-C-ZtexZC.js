(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const h of u.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&s(h)}).observe(document,{childList:!0,subtree:!0});function t(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(o){if(o.ep)return;o.ep=!0;const u=t(o);fetch(o.href,u)}})();function cE(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var Rm={exports:{}},Jl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $_;function W1(){if($_)return Jl;$_=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(s,o,u){var h=null;if(u!==void 0&&(h=""+u),o.key!==void 0&&(h=""+o.key),"key"in o){u={};for(var d in o)d!=="key"&&(u[d]=o[d])}else u=o;return o=u.ref,{$$typeof:r,type:s,key:h,ref:o!==void 0?o:null,props:u}}return Jl.Fragment=e,Jl.jsx=t,Jl.jsxs=t,Jl}var Y_;function Z1(){return Y_||(Y_=1,Rm.exports=W1()),Rm.exports}var X=Z1(),Cm={exports:{}},eu={},Im={exports:{}},xm={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var X_;function J1(){return X_||(X_=1,function(r){function e(q,ue){var te=q.length;q.push(ue);e:for(;0<te;){var Ie=te-1>>>1,P=q[Ie];if(0<o(P,ue))q[Ie]=ue,q[te]=P,te=Ie;else break e}}function t(q){return q.length===0?null:q[0]}function s(q){if(q.length===0)return null;var ue=q[0],te=q.pop();if(te!==ue){q[0]=te;e:for(var Ie=0,P=q.length,Z=P>>>1;Ie<Z;){var oe=2*(Ie+1)-1,J=q[oe],fe=oe+1,we=q[fe];if(0>o(J,te))fe<P&&0>o(we,J)?(q[Ie]=we,q[fe]=te,Ie=fe):(q[Ie]=J,q[oe]=te,Ie=oe);else if(fe<P&&0>o(we,te))q[Ie]=we,q[fe]=te,Ie=fe;else break e}}return ue}function o(q,ue){var te=q.sortIndex-ue.sortIndex;return te!==0?te:q.id-ue.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;r.unstable_now=function(){return u.now()}}else{var h=Date,d=h.now();r.unstable_now=function(){return h.now()-d}}var p=[],g=[],_=1,v=null,T=3,I=!1,C=!1,M=!1,x=!1,j=typeof setTimeout=="function"?setTimeout:null,Q=typeof clearTimeout=="function"?clearTimeout:null,Y=typeof setImmediate<"u"?setImmediate:null;function le(q){for(var ue=t(g);ue!==null;){if(ue.callback===null)s(g);else if(ue.startTime<=q)s(g),ue.sortIndex=ue.expirationTime,e(p,ue);else break;ue=t(g)}}function re(q){if(M=!1,le(q),!C)if(t(p)!==null)C=!0,ce||(ce=!0,L());else{var ue=t(g);ue!==null&&Re(re,ue.startTime-q)}}var ce=!1,k=-1,A=5,R=-1;function O(){return x?!0:!(r.unstable_now()-R<A)}function V(){if(x=!1,ce){var q=r.unstable_now();R=q;var ue=!0;try{e:{C=!1,M&&(M=!1,Q(k),k=-1),I=!0;var te=T;try{t:{for(le(q),v=t(p);v!==null&&!(v.expirationTime>q&&O());){var Ie=v.callback;if(typeof Ie=="function"){v.callback=null,T=v.priorityLevel;var P=Ie(v.expirationTime<=q);if(q=r.unstable_now(),typeof P=="function"){v.callback=P,le(q),ue=!0;break t}v===t(p)&&s(p),le(q)}else s(p);v=t(p)}if(v!==null)ue=!0;else{var Z=t(g);Z!==null&&Re(re,Z.startTime-q),ue=!1}}break e}finally{v=null,T=te,I=!1}ue=void 0}}finally{ue?L():ce=!1}}}var L;if(typeof Y=="function")L=function(){Y(V)};else if(typeof MessageChannel<"u"){var D=new MessageChannel,Qe=D.port2;D.port1.onmessage=V,L=function(){Qe.postMessage(null)}}else L=function(){j(V,0)};function Re(q,ue){k=j(function(){q(r.unstable_now())},ue)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(q){q.callback=null},r.unstable_forceFrameRate=function(q){0>q||125<q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<q?Math.floor(1e3/q):5},r.unstable_getCurrentPriorityLevel=function(){return T},r.unstable_next=function(q){switch(T){case 1:case 2:case 3:var ue=3;break;default:ue=T}var te=T;T=ue;try{return q()}finally{T=te}},r.unstable_requestPaint=function(){x=!0},r.unstable_runWithPriority=function(q,ue){switch(q){case 1:case 2:case 3:case 4:case 5:break;default:q=3}var te=T;T=q;try{return ue()}finally{T=te}},r.unstable_scheduleCallback=function(q,ue,te){var Ie=r.unstable_now();switch(typeof te=="object"&&te!==null?(te=te.delay,te=typeof te=="number"&&0<te?Ie+te:Ie):te=Ie,q){case 1:var P=-1;break;case 2:P=250;break;case 5:P=1073741823;break;case 4:P=1e4;break;default:P=5e3}return P=te+P,q={id:_++,callback:ue,priorityLevel:q,startTime:te,expirationTime:P,sortIndex:-1},te>Ie?(q.sortIndex=te,e(g,q),t(p)===null&&q===t(g)&&(M?(Q(k),k=-1):M=!0,Re(re,te-Ie))):(q.sortIndex=P,e(p,q),C||I||(C=!0,ce||(ce=!0,L()))),q},r.unstable_shouldYield=O,r.unstable_wrapCallback=function(q){var ue=T;return function(){var te=T;T=ue;try{return q.apply(this,arguments)}finally{T=te}}}}(xm)),xm}var W_;function eA(){return W_||(W_=1,Im.exports=J1()),Im.exports}var Dm={exports:{}},Ve={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Z_;function tA(){if(Z_)return Ve;Z_=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),h=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),_=Symbol.for("react.lazy"),v=Symbol.iterator;function T(P){return P===null||typeof P!="object"?null:(P=v&&P[v]||P["@@iterator"],typeof P=="function"?P:null)}var I={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},C=Object.assign,M={};function x(P,Z,oe){this.props=P,this.context=Z,this.refs=M,this.updater=oe||I}x.prototype.isReactComponent={},x.prototype.setState=function(P,Z){if(typeof P!="object"&&typeof P!="function"&&P!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,P,Z,"setState")},x.prototype.forceUpdate=function(P){this.updater.enqueueForceUpdate(this,P,"forceUpdate")};function j(){}j.prototype=x.prototype;function Q(P,Z,oe){this.props=P,this.context=Z,this.refs=M,this.updater=oe||I}var Y=Q.prototype=new j;Y.constructor=Q,C(Y,x.prototype),Y.isPureReactComponent=!0;var le=Array.isArray,re={H:null,A:null,T:null,S:null,V:null},ce=Object.prototype.hasOwnProperty;function k(P,Z,oe,J,fe,we){return oe=we.ref,{$$typeof:r,type:P,key:Z,ref:oe!==void 0?oe:null,props:we}}function A(P,Z){return k(P.type,Z,void 0,void 0,void 0,P.props)}function R(P){return typeof P=="object"&&P!==null&&P.$$typeof===r}function O(P){var Z={"=":"=0",":":"=2"};return"$"+P.replace(/[=:]/g,function(oe){return Z[oe]})}var V=/\/+/g;function L(P,Z){return typeof P=="object"&&P!==null&&P.key!=null?O(""+P.key):Z.toString(36)}function D(){}function Qe(P){switch(P.status){case"fulfilled":return P.value;case"rejected":throw P.reason;default:switch(typeof P.status=="string"?P.then(D,D):(P.status="pending",P.then(function(Z){P.status==="pending"&&(P.status="fulfilled",P.value=Z)},function(Z){P.status==="pending"&&(P.status="rejected",P.reason=Z)})),P.status){case"fulfilled":return P.value;case"rejected":throw P.reason}}throw P}function Re(P,Z,oe,J,fe){var we=typeof P;(we==="undefined"||we==="boolean")&&(P=null);var me=!1;if(P===null)me=!0;else switch(we){case"bigint":case"string":case"number":me=!0;break;case"object":switch(P.$$typeof){case r:case e:me=!0;break;case _:return me=P._init,Re(me(P._payload),Z,oe,J,fe)}}if(me)return fe=fe(P),me=J===""?"."+L(P,0):J,le(fe)?(oe="",me!=null&&(oe=me.replace(V,"$&/")+"/"),Re(fe,Z,oe,"",function(Tt){return Tt})):fe!=null&&(R(fe)&&(fe=A(fe,oe+(fe.key==null||P&&P.key===fe.key?"":(""+fe.key).replace(V,"$&/")+"/")+me)),Z.push(fe)),1;me=0;var Oe=J===""?".":J+":";if(le(P))for(var je=0;je<P.length;je++)J=P[je],we=Oe+L(J,je),me+=Re(J,Z,oe,we,fe);else if(je=T(P),typeof je=="function")for(P=je.call(P),je=0;!(J=P.next()).done;)J=J.value,we=Oe+L(J,je++),me+=Re(J,Z,oe,we,fe);else if(we==="object"){if(typeof P.then=="function")return Re(Qe(P),Z,oe,J,fe);throw Z=String(P),Error("Objects are not valid as a React child (found: "+(Z==="[object Object]"?"object with keys {"+Object.keys(P).join(", ")+"}":Z)+"). If you meant to render a collection of children, use an array instead.")}return me}function q(P,Z,oe){if(P==null)return P;var J=[],fe=0;return Re(P,J,"","",function(we){return Z.call(oe,we,fe++)}),J}function ue(P){if(P._status===-1){var Z=P._result;Z=Z(),Z.then(function(oe){(P._status===0||P._status===-1)&&(P._status=1,P._result=oe)},function(oe){(P._status===0||P._status===-1)&&(P._status=2,P._result=oe)}),P._status===-1&&(P._status=0,P._result=Z)}if(P._status===1)return P._result.default;throw P._result}var te=typeof reportError=="function"?reportError:function(P){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Z=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof P=="object"&&P!==null&&typeof P.message=="string"?String(P.message):String(P),error:P});if(!window.dispatchEvent(Z))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",P);return}console.error(P)};function Ie(){}return Ve.Children={map:q,forEach:function(P,Z,oe){q(P,function(){Z.apply(this,arguments)},oe)},count:function(P){var Z=0;return q(P,function(){Z++}),Z},toArray:function(P){return q(P,function(Z){return Z})||[]},only:function(P){if(!R(P))throw Error("React.Children.only expected to receive a single React element child.");return P}},Ve.Component=x,Ve.Fragment=t,Ve.Profiler=o,Ve.PureComponent=Q,Ve.StrictMode=s,Ve.Suspense=p,Ve.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=re,Ve.__COMPILER_RUNTIME={__proto__:null,c:function(P){return re.H.useMemoCache(P)}},Ve.cache=function(P){return function(){return P.apply(null,arguments)}},Ve.cloneElement=function(P,Z,oe){if(P==null)throw Error("The argument must be a React element, but you passed "+P+".");var J=C({},P.props),fe=P.key,we=void 0;if(Z!=null)for(me in Z.ref!==void 0&&(we=void 0),Z.key!==void 0&&(fe=""+Z.key),Z)!ce.call(Z,me)||me==="key"||me==="__self"||me==="__source"||me==="ref"&&Z.ref===void 0||(J[me]=Z[me]);var me=arguments.length-2;if(me===1)J.children=oe;else if(1<me){for(var Oe=Array(me),je=0;je<me;je++)Oe[je]=arguments[je+2];J.children=Oe}return k(P.type,fe,void 0,void 0,we,J)},Ve.createContext=function(P){return P={$$typeof:h,_currentValue:P,_currentValue2:P,_threadCount:0,Provider:null,Consumer:null},P.Provider=P,P.Consumer={$$typeof:u,_context:P},P},Ve.createElement=function(P,Z,oe){var J,fe={},we=null;if(Z!=null)for(J in Z.key!==void 0&&(we=""+Z.key),Z)ce.call(Z,J)&&J!=="key"&&J!=="__self"&&J!=="__source"&&(fe[J]=Z[J]);var me=arguments.length-2;if(me===1)fe.children=oe;else if(1<me){for(var Oe=Array(me),je=0;je<me;je++)Oe[je]=arguments[je+2];fe.children=Oe}if(P&&P.defaultProps)for(J in me=P.defaultProps,me)fe[J]===void 0&&(fe[J]=me[J]);return k(P,we,void 0,void 0,null,fe)},Ve.createRef=function(){return{current:null}},Ve.forwardRef=function(P){return{$$typeof:d,render:P}},Ve.isValidElement=R,Ve.lazy=function(P){return{$$typeof:_,_payload:{_status:-1,_result:P},_init:ue}},Ve.memo=function(P,Z){return{$$typeof:g,type:P,compare:Z===void 0?null:Z}},Ve.startTransition=function(P){var Z=re.T,oe={};re.T=oe;try{var J=P(),fe=re.S;fe!==null&&fe(oe,J),typeof J=="object"&&J!==null&&typeof J.then=="function"&&J.then(Ie,te)}catch(we){te(we)}finally{re.T=Z}},Ve.unstable_useCacheRefresh=function(){return re.H.useCacheRefresh()},Ve.use=function(P){return re.H.use(P)},Ve.useActionState=function(P,Z,oe){return re.H.useActionState(P,Z,oe)},Ve.useCallback=function(P,Z){return re.H.useCallback(P,Z)},Ve.useContext=function(P){return re.H.useContext(P)},Ve.useDebugValue=function(){},Ve.useDeferredValue=function(P,Z){return re.H.useDeferredValue(P,Z)},Ve.useEffect=function(P,Z,oe){var J=re.H;if(typeof oe=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return J.useEffect(P,Z)},Ve.useId=function(){return re.H.useId()},Ve.useImperativeHandle=function(P,Z,oe){return re.H.useImperativeHandle(P,Z,oe)},Ve.useInsertionEffect=function(P,Z){return re.H.useInsertionEffect(P,Z)},Ve.useLayoutEffect=function(P,Z){return re.H.useLayoutEffect(P,Z)},Ve.useMemo=function(P,Z){return re.H.useMemo(P,Z)},Ve.useOptimistic=function(P,Z){return re.H.useOptimistic(P,Z)},Ve.useReducer=function(P,Z,oe){return re.H.useReducer(P,Z,oe)},Ve.useRef=function(P){return re.H.useRef(P)},Ve.useState=function(P){return re.H.useState(P)},Ve.useSyncExternalStore=function(P,Z,oe){return re.H.useSyncExternalStore(P,Z,oe)},Ve.useTransition=function(){return re.H.useTransition()},Ve.version="19.1.0",Ve}var J_;function Np(){return J_||(J_=1,Dm.exports=tA()),Dm.exports}var Nm={exports:{}},pn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var e0;function nA(){if(e0)return pn;e0=1;var r=Np();function e(p){var g="https://react.dev/errors/"+p;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var _=2;_<arguments.length;_++)g+="&args[]="+encodeURIComponent(arguments[_])}return"Minified React error #"+p+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var s={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(p,g,_){var v=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:v==null?null:""+v,children:p,containerInfo:g,implementation:_}}var h=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function d(p,g){if(p==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return pn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,pn.createPortal=function(p,g){var _=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(e(299));return u(p,g,null,_)},pn.flushSync=function(p){var g=h.T,_=s.p;try{if(h.T=null,s.p=2,p)return p()}finally{h.T=g,s.p=_,s.d.f()}},pn.preconnect=function(p,g){typeof p=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,s.d.C(p,g))},pn.prefetchDNS=function(p){typeof p=="string"&&s.d.D(p)},pn.preinit=function(p,g){if(typeof p=="string"&&g&&typeof g.as=="string"){var _=g.as,v=d(_,g.crossOrigin),T=typeof g.integrity=="string"?g.integrity:void 0,I=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;_==="style"?s.d.S(p,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:v,integrity:T,fetchPriority:I}):_==="script"&&s.d.X(p,{crossOrigin:v,integrity:T,fetchPriority:I,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},pn.preinitModule=function(p,g){if(typeof p=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var _=d(g.as,g.crossOrigin);s.d.M(p,{crossOrigin:_,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&s.d.M(p)},pn.preload=function(p,g){if(typeof p=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var _=g.as,v=d(_,g.crossOrigin);s.d.L(p,_,{crossOrigin:v,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},pn.preloadModule=function(p,g){if(typeof p=="string")if(g){var _=d(g.as,g.crossOrigin);s.d.m(p,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:_,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else s.d.m(p)},pn.requestFormReset=function(p){s.d.r(p)},pn.unstable_batchedUpdates=function(p,g){return p(g)},pn.useFormState=function(p,g,_){return h.H.useFormState(p,g,_)},pn.useFormStatus=function(){return h.H.useHostTransitionStatus()},pn.version="19.1.0",pn}var t0;function hE(){if(t0)return Nm.exports;t0=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),Nm.exports=nA(),Nm.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var n0;function rA(){if(n0)return eu;n0=1;var r=eA(),e=Np(),t=hE();function s(n){var i="https://react.dev/errors/"+n;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)i+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+n+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function u(n){var i=n,a=n;if(n.alternate)for(;i.return;)i=i.return;else{n=i;do i=n,(i.flags&4098)!==0&&(a=i.return),n=i.return;while(n)}return i.tag===3?a:null}function h(n){if(n.tag===13){var i=n.memoizedState;if(i===null&&(n=n.alternate,n!==null&&(i=n.memoizedState)),i!==null)return i.dehydrated}return null}function d(n){if(u(n)!==n)throw Error(s(188))}function p(n){var i=n.alternate;if(!i){if(i=u(n),i===null)throw Error(s(188));return i!==n?null:n}for(var a=n,l=i;;){var f=a.return;if(f===null)break;var m=f.alternate;if(m===null){if(l=f.return,l!==null){a=l;continue}break}if(f.child===m.child){for(m=f.child;m;){if(m===a)return d(f),n;if(m===l)return d(f),i;m=m.sibling}throw Error(s(188))}if(a.return!==l.return)a=f,l=m;else{for(var E=!1,w=f.child;w;){if(w===a){E=!0,a=f,l=m;break}if(w===l){E=!0,l=f,a=m;break}w=w.sibling}if(!E){for(w=m.child;w;){if(w===a){E=!0,a=m,l=f;break}if(w===l){E=!0,l=m,a=f;break}w=w.sibling}if(!E)throw Error(s(189))}}if(a.alternate!==l)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?n:i}function g(n){var i=n.tag;if(i===5||i===26||i===27||i===6)return n;for(n=n.child;n!==null;){if(i=g(n),i!==null)return i;n=n.sibling}return null}var _=Object.assign,v=Symbol.for("react.element"),T=Symbol.for("react.transitional.element"),I=Symbol.for("react.portal"),C=Symbol.for("react.fragment"),M=Symbol.for("react.strict_mode"),x=Symbol.for("react.profiler"),j=Symbol.for("react.provider"),Q=Symbol.for("react.consumer"),Y=Symbol.for("react.context"),le=Symbol.for("react.forward_ref"),re=Symbol.for("react.suspense"),ce=Symbol.for("react.suspense_list"),k=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),R=Symbol.for("react.activity"),O=Symbol.for("react.memo_cache_sentinel"),V=Symbol.iterator;function L(n){return n===null||typeof n!="object"?null:(n=V&&n[V]||n["@@iterator"],typeof n=="function"?n:null)}var D=Symbol.for("react.client.reference");function Qe(n){if(n==null)return null;if(typeof n=="function")return n.$$typeof===D?null:n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case C:return"Fragment";case x:return"Profiler";case M:return"StrictMode";case re:return"Suspense";case ce:return"SuspenseList";case R:return"Activity"}if(typeof n=="object")switch(n.$$typeof){case I:return"Portal";case Y:return(n.displayName||"Context")+".Provider";case Q:return(n._context.displayName||"Context")+".Consumer";case le:var i=n.render;return n=n.displayName,n||(n=i.displayName||i.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case k:return i=n.displayName||null,i!==null?i:Qe(n.type)||"Memo";case A:i=n._payload,n=n._init;try{return Qe(n(i))}catch{}}return null}var Re=Array.isArray,q=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ue=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,te={pending:!1,data:null,method:null,action:null},Ie=[],P=-1;function Z(n){return{current:n}}function oe(n){0>P||(n.current=Ie[P],Ie[P]=null,P--)}function J(n,i){P++,Ie[P]=n.current,n.current=i}var fe=Z(null),we=Z(null),me=Z(null),Oe=Z(null);function je(n,i){switch(J(me,i),J(we,n),J(fe,null),i.nodeType){case 9:case 11:n=(n=i.documentElement)&&(n=n.namespaceURI)?T_(n):0;break;default:if(n=i.tagName,i=i.namespaceURI)i=T_(i),n=w_(i,n);else switch(n){case"svg":n=1;break;case"math":n=2;break;default:n=0}}oe(fe),J(fe,n)}function Tt(){oe(fe),oe(we),oe(me)}function be(n){n.memoizedState!==null&&J(Oe,n);var i=fe.current,a=w_(i,n.type);i!==a&&(J(we,n),J(fe,a))}function Pe(n){we.current===n&&(oe(fe),oe(we)),Oe.current===n&&(oe(Oe),$l._currentValue=te)}var $e=Object.prototype.hasOwnProperty,gt=r.unstable_scheduleCallback,Rt=r.unstable_cancelCallback,Ps=r.unstable_shouldYield,Vs=r.unstable_requestPaint,Yt=r.unstable_now,Va=r.unstable_getCurrentPriorityLevel,bn=r.unstable_ImmediatePriority,zi=r.unstable_UserBlockingPriority,Jr=r.unstable_NormalPriority,nn=r.unstable_LowPriority,Mn=r.unstable_IdlePriority,Ls=r.log,La=r.unstable_setDisableYieldValue,ht=null,tt=null;function dn(n){if(typeof Ls=="function"&&La(n),tt&&typeof tt.setStrictMode=="function")try{tt.setStrictMode(ht,n)}catch{}}var Mt=Math.clz32?Math.clz32:Rn,sr=Math.log,Ua=Math.LN2;function Rn(n){return n>>>=0,n===0?32:31-(sr(n)/Ua|0)|0}var ei=256,ti=4194304;function Cn(n){var i=n&42;if(i!==0)return i;switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return n&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return n}}function ni(n,i,a){var l=n.pendingLanes;if(l===0)return 0;var f=0,m=n.suspendedLanes,E=n.pingedLanes;n=n.warmLanes;var w=l&134217727;return w!==0?(l=w&~m,l!==0?f=Cn(l):(E&=w,E!==0?f=Cn(E):a||(a=w&~n,a!==0&&(f=Cn(a))))):(w=l&~m,w!==0?f=Cn(w):E!==0?f=Cn(E):a||(a=l&~n,a!==0&&(f=Cn(a)))),f===0?0:i!==0&&i!==f&&(i&m)===0&&(m=f&-f,a=i&-i,m>=a||m===32&&(a&4194048)!==0)?i:f}function ri(n,i){return(n.pendingLanes&~(n.suspendedLanes&~n.pingedLanes)&i)===0}function ii(n,i){switch(n){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function In(){var n=ei;return ei<<=1,(ei&4194048)===0&&(ei=256),n}function Us(){var n=ti;return ti<<=1,(ti&62914560)===0&&(ti=4194304),n}function ar(n){for(var i=[],a=0;31>a;a++)i.push(n);return i}function Gn(n,i){n.pendingLanes|=i,i!==268435456&&(n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0)}function ji(n,i,a,l,f,m){var E=n.pendingLanes;n.pendingLanes=a,n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0,n.expiredLanes&=a,n.entangledLanes&=a,n.errorRecoveryDisabledLanes&=a,n.shellSuspendCounter=0;var w=n.entanglements,N=n.expirationTimes,G=n.hiddenUpdates;for(a=E&~a;0<a;){var ee=31-Mt(a),ie=1<<ee;w[ee]=0,N[ee]=-1;var K=G[ee];if(K!==null)for(G[ee]=null,ee=0;ee<K.length;ee++){var $=K[ee];$!==null&&($.lane&=-536870913)}a&=~ie}l!==0&&Se(n,l,0),m!==0&&f===0&&n.tag!==0&&(n.suspendedLanes|=m&~(E&~i))}function Se(n,i,a){n.pendingLanes|=i,n.suspendedLanes&=~i;var l=31-Mt(i);n.entangledLanes|=i,n.entanglements[l]=n.entanglements[l]|1073741824|a&4194090}function vt(n,i){var a=n.entangledLanes|=i;for(n=n.entanglements;a;){var l=31-Mt(a),f=1<<l;f&i|n[l]&i&&(n[l]|=i),a&=~f}}function yt(n){switch(n){case 2:n=1;break;case 8:n=4;break;case 32:n=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:n=128;break;case 268435456:n=134217728;break;default:n=0}return n}function Pt(n){return n&=-n,2<n?8<n?(n&134217727)!==0?32:268435456:8:2}function Pn(){var n=ue.p;return n!==0?n:(n=window.event,n===void 0?32:q_(n.type))}function Ct(n,i){var a=ue.p;try{return ue.p=n,i()}finally{ue.p=a}}var qe=Math.random().toString(36).slice(2),_t="__reactFiber$"+qe,Je="__reactProps$"+qe,bt="__reactContainer$"+qe,Bi="__reactEvents$"+qe,or="__reactListeners$"+qe,si="__reactHandles$"+qe,Gu="__reactResources$"+qe,zs="__reactMarker$"+qe;function qi(n){delete n[_t],delete n[Je],delete n[Bi],delete n[or],delete n[si]}function ai(n){var i=n[_t];if(i)return i;for(var a=n.parentNode;a;){if(i=a[bt]||a[_t]){if(a=i.alternate,i.child!==null||a!==null&&a.child!==null)for(n=C_(n);n!==null;){if(a=n[_t])return a;n=C_(n)}return i}n=a,a=n.parentNode}return null}function br(n){if(n=n[_t]||n[bt]){var i=n.tag;if(i===5||i===6||i===13||i===26||i===27||i===3)return n}return null}function Er(n){var i=n.tag;if(i===5||i===26||i===27||i===6)return n.stateNode;throw Error(s(33))}function En(n){var i=n[Gu];return i||(i=n[Gu]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function Dt(n){n[zs]=!0}var el=new Set,za={};function lr(n,i){oi(n,i),oi(n+"Capture",i)}function oi(n,i){for(za[n]=i,n=0;n<i.length;n++)el.add(i[n])}var Ku=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Qu={},js={};function $u(n){return $e.call(js,n)?!0:$e.call(Qu,n)?!1:Ku.test(n)?js[n]=!0:(Qu[n]=!0,!1)}function Fi(n,i,a){if($u(i))if(a===null)n.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":n.removeAttribute(i);return;case"boolean":var l=i.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){n.removeAttribute(i);return}}n.setAttribute(i,""+a)}}function Tr(n,i,a){if(a===null)n.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(i);return}n.setAttribute(i,""+a)}}function rn(n,i,a,l){if(l===null)n.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(a);return}n.setAttributeNS(i,a,""+l)}}var Bs,Yu;function li(n){if(Bs===void 0)try{throw Error()}catch(a){var i=a.stack.trim().match(/\n( *(at )?)/);Bs=i&&i[1]||"",Yu=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Bs+n+Yu}var ja=!1;function Ba(n,i){if(!n||ja)return"";ja=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(i){var ie=function(){throw Error()};if(Object.defineProperty(ie.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ie,[])}catch($){var K=$}Reflect.construct(n,[],ie)}else{try{ie.call()}catch($){K=$}n.call(ie.prototype)}}else{try{throw Error()}catch($){K=$}(ie=n())&&typeof ie.catch=="function"&&ie.catch(function(){})}}catch($){if($&&K&&typeof $.stack=="string")return[$.stack,K.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var m=l.DetermineComponentFrameRoot(),E=m[0],w=m[1];if(E&&w){var N=E.split(`
`),G=w.split(`
`);for(f=l=0;l<N.length&&!N[l].includes("DetermineComponentFrameRoot");)l++;for(;f<G.length&&!G[f].includes("DetermineComponentFrameRoot");)f++;if(l===N.length||f===G.length)for(l=N.length-1,f=G.length-1;1<=l&&0<=f&&N[l]!==G[f];)f--;for(;1<=l&&0<=f;l--,f--)if(N[l]!==G[f]){if(l!==1||f!==1)do if(l--,f--,0>f||N[l]!==G[f]){var ee=`
`+N[l].replace(" at new "," at ");return n.displayName&&ee.includes("<anonymous>")&&(ee=ee.replace("<anonymous>",n.displayName)),ee}while(1<=l&&0<=f);break}}}finally{ja=!1,Error.prepareStackTrace=a}return(a=n?n.displayName||n.name:"")?li(a):""}function tl(n){switch(n.tag){case 26:case 27:case 5:return li(n.type);case 16:return li("Lazy");case 13:return li("Suspense");case 19:return li("SuspenseList");case 0:case 15:return Ba(n.type,!1);case 11:return Ba(n.type.render,!1);case 1:return Ba(n.type,!0);case 31:return li("Activity");default:return""}}function qa(n){try{var i="";do i+=tl(n),n=n.return;while(n);return i}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function Tn(n){switch(typeof n){case"bigint":case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function nl(n){var i=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function Df(n){var i=nl(n)?"checked":"value",a=Object.getOwnPropertyDescriptor(n.constructor.prototype,i),l=""+n[i];if(!n.hasOwnProperty(i)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var f=a.get,m=a.set;return Object.defineProperty(n,i,{configurable:!0,get:function(){return f.call(this)},set:function(E){l=""+E,m.call(this,E)}}),Object.defineProperty(n,i,{enumerable:a.enumerable}),{getValue:function(){return l},setValue:function(E){l=""+E},stopTracking:function(){n._valueTracker=null,delete n[i]}}}}function Fa(n){n._valueTracker||(n._valueTracker=Df(n))}function rl(n){if(!n)return!1;var i=n._valueTracker;if(!i)return!0;var a=i.getValue(),l="";return n&&(l=nl(n)?n.checked?"true":"false":n.value),n=l,n!==a?(i.setValue(n),!0):!1}function qs(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}var Nf=/[\n"\\]/g;function Vt(n){return n.replace(Nf,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function Vn(n,i,a,l,f,m,E,w){n.name="",E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?n.type=E:n.removeAttribute("type"),i!=null?E==="number"?(i===0&&n.value===""||n.value!=i)&&(n.value=""+Tn(i)):n.value!==""+Tn(i)&&(n.value=""+Tn(i)):E!=="submit"&&E!=="reset"||n.removeAttribute("value"),i!=null?Hi(n,E,Tn(i)):a!=null?Hi(n,E,Tn(a)):l!=null&&n.removeAttribute("value"),f==null&&m!=null&&(n.defaultChecked=!!m),f!=null&&(n.checked=f&&typeof f!="function"&&typeof f!="symbol"),w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"?n.name=""+Tn(w):n.removeAttribute("name")}function Fs(n,i,a,l,f,m,E,w){if(m!=null&&typeof m!="function"&&typeof m!="symbol"&&typeof m!="boolean"&&(n.type=m),i!=null||a!=null){if(!(m!=="submit"&&m!=="reset"||i!=null))return;a=a!=null?""+Tn(a):"",i=i!=null?""+Tn(i):a,w||i===n.value||(n.value=i),n.defaultValue=i}l=l??f,l=typeof l!="function"&&typeof l!="symbol"&&!!l,n.checked=w?n.checked:!!l,n.defaultChecked=!!l,E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"&&(n.name=E)}function Hi(n,i,a){i==="number"&&qs(n.ownerDocument)===n||n.defaultValue===""+a||(n.defaultValue=""+a)}function ui(n,i,a,l){if(n=n.options,i){i={};for(var f=0;f<a.length;f++)i["$"+a[f]]=!0;for(a=0;a<n.length;a++)f=i.hasOwnProperty("$"+n[a].value),n[a].selected!==f&&(n[a].selected=f),f&&l&&(n[a].defaultSelected=!0)}else{for(a=""+Tn(a),i=null,f=0;f<n.length;f++){if(n[f].value===a){n[f].selected=!0,l&&(n[f].defaultSelected=!0);return}i!==null||n[f].disabled||(i=n[f])}i!==null&&(i.selected=!0)}}function ot(n,i,a){if(i!=null&&(i=""+Tn(i),i!==n.value&&(n.value=i),a==null)){n.defaultValue!==i&&(n.defaultValue=i);return}n.defaultValue=a!=null?""+Tn(a):""}function Hs(n,i,a,l){if(i==null){if(l!=null){if(a!=null)throw Error(s(92));if(Re(l)){if(1<l.length)throw Error(s(93));l=l[0]}a=l}a==null&&(a=""),i=a}a=Tn(i),n.defaultValue=a,l=n.textContent,l===a&&l!==""&&l!==null&&(n.value=l)}function Kn(n,i){if(i){var a=n.firstChild;if(a&&a===n.lastChild&&a.nodeType===3){a.nodeValue=i;return}}n.textContent=i}var Gs=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Xu(n,i,a){var l=i.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?n.setProperty(i,""):i==="float"?n.cssFloat="":n[i]="":l?n.setProperty(i,a):typeof a!="number"||a===0||Gs.has(i)?i==="float"?n.cssFloat=a:n[i]=(""+a).trim():n[i]=a+"px"}function il(n,i,a){if(i!=null&&typeof i!="object")throw Error(s(62));if(n=n.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||i!=null&&i.hasOwnProperty(l)||(l.indexOf("--")===0?n.setProperty(l,""):l==="float"?n.cssFloat="":n[l]="");for(var f in i)l=i[f],i.hasOwnProperty(f)&&a[f]!==l&&Xu(n,f,l)}else for(var m in i)i.hasOwnProperty(m)&&Xu(n,m,i[m])}function sl(n){if(n.indexOf("-")===-1)return!1;switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Of=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),kf=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ha(n){return kf.test(""+n)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":n}var ci=null;function Qn(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var hi=null,fi=null;function al(n){var i=br(n);if(i&&(n=i.stateNode)){var a=n[Je]||null;e:switch(n=i.stateNode,i.type){case"input":if(Vn(n,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),i=a.name,a.type==="radio"&&i!=null){for(a=n;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+Vt(""+i)+'"][type="radio"]'),i=0;i<a.length;i++){var l=a[i];if(l!==n&&l.form===n.form){var f=l[Je]||null;if(!f)throw Error(s(90));Vn(l,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(i=0;i<a.length;i++)l=a[i],l.form===n.form&&rl(l)}break e;case"textarea":ot(n,a.value,a.defaultValue);break e;case"select":i=a.value,i!=null&&ui(n,!!a.multiple,i,!1)}}}var wr=!1;function Wu(n,i,a){if(wr)return n(i,a);wr=!0;try{var l=n(i);return l}finally{if(wr=!1,(hi!==null||fi!==null)&&(Hc(),hi&&(i=hi,n=fi,fi=hi=null,al(i),n)))for(i=0;i<n.length;i++)al(n[i])}}function Ks(n,i){var a=n.stateNode;if(a===null)return null;var l=a[Je]||null;if(l===null)return null;a=l[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(n=n.type,l=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!l;break e;default:n=!1}if(n)return null;if(a&&typeof a!="function")throw Error(s(231,i,typeof a));return a}var ur=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),$n=!1;if(ur)try{var Qs={};Object.defineProperty(Qs,"passive",{get:function(){$n=!0}}),window.addEventListener("test",Qs,Qs),window.removeEventListener("test",Qs,Qs)}catch{$n=!1}var Sr=null,Gi=null,di=null;function ol(){if(di)return di;var n,i=Gi,a=i.length,l,f="value"in Sr?Sr.value:Sr.textContent,m=f.length;for(n=0;n<a&&i[n]===f[n];n++);var E=a-n;for(l=1;l<=E&&i[a-l]===f[m-l];l++);return di=f.slice(n,1<l?1-l:void 0)}function Ar(n){var i=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&i===13&&(n=13)):n=i,n===10&&(n=13),32<=n||n===13?n:0}function Rr(){return!0}function ll(){return!1}function Xt(n){function i(a,l,f,m,E){this._reactName=a,this._targetInst=f,this.type=l,this.nativeEvent=m,this.target=E,this.currentTarget=null;for(var w in n)n.hasOwnProperty(w)&&(a=n[w],this[w]=a?a(m):m[w]);return this.isDefaultPrevented=(m.defaultPrevented!=null?m.defaultPrevented:m.returnValue===!1)?Rr:ll,this.isPropagationStopped=ll,this}return _(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Rr)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Rr)},persist:function(){},isPersistent:Rr}),i}var rt={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ga=Xt(rt),$s=_({},rt,{view:0,detail:0}),Zu=Xt($s),Ka,Qa,Cr,Ys=_({},$s,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Zs,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==Cr&&(Cr&&n.type==="mousemove"?(Ka=n.screenX-Cr.screenX,Qa=n.screenY-Cr.screenY):Qa=Ka=0,Cr=n),Ka)},movementY:function(n){return"movementY"in n?n.movementY:Qa}}),Yn=Xt(Ys),Ju=_({},Ys,{dataTransfer:0}),Mf=Xt(Ju),Xs=_({},$s,{relatedTarget:0}),$a=Xt(Xs),ul=_({},rt,{animationName:0,elapsedTime:0,pseudoElement:0}),Ya=Xt(ul),ec=_({},rt,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),Xa=Xt(ec),Pf=_({},rt,{data:0}),cl=Xt(Pf),Ws={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},tc={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},nc={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function hl(n){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(n):(n=nc[n])?!!i[n]:!1}function Zs(){return hl}var rc=_({},$s,{key:function(n){if(n.key){var i=Ws[n.key]||n.key;if(i!=="Unidentified")return i}return n.type==="keypress"?(n=Ar(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?tc[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Zs,charCode:function(n){return n.type==="keypress"?Ar(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?Ar(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),Wa=Xt(rc),ic=_({},Ys,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),fl=Xt(ic),mi=_({},$s,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Zs}),sc=Xt(mi),ac=_({},rt,{propertyName:0,elapsedTime:0,pseudoElement:0}),oc=Xt(ac),lc=_({},Ys,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),Za=Xt(lc),wn=_({},rt,{newState:0,oldState:0}),uc=Xt(wn),cc=[9,13,27,32],Ir=ur&&"CompositionEvent"in window,c=null;ur&&"documentMode"in document&&(c=document.documentMode);var y=ur&&"TextEvent"in window&&!c,b=ur&&(!Ir||c&&8<c&&11>=c),S=" ",F=!1;function W(n,i){switch(n){case"keyup":return cc.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function he(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var Ye=!1;function Ft(n,i){switch(n){case"compositionend":return he(i);case"keypress":return i.which!==32?null:(F=!0,S);case"textInput":return n=i.data,n===S&&F?null:n;default:return null}}function Xe(n,i){if(Ye)return n==="compositionend"||!Ir&&W(n,i)?(n=ol(),di=Gi=Sr=null,Ye=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return b&&i.locale!=="ko"?null:i.data;default:return null}}var Wt={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ht(n){var i=n&&n.nodeName&&n.nodeName.toLowerCase();return i==="input"?!!Wt[n.type]:i==="textarea"}function pi(n,i,a,l){hi?fi?fi.push(l):fi=[l]:hi=l,i=Xc(i,"onChange"),0<i.length&&(a=new Ga("onChange","change",null,a,l),n.push({event:a,listeners:i}))}var sn=null,xr=null;function dl(n){y_(n,0)}function hc(n){var i=Er(n);if(rl(i))return n}function Ug(n,i){if(n==="change")return i}var zg=!1;if(ur){var Vf;if(ur){var Lf="oninput"in document;if(!Lf){var jg=document.createElement("div");jg.setAttribute("oninput","return;"),Lf=typeof jg.oninput=="function"}Vf=Lf}else Vf=!1;zg=Vf&&(!document.documentMode||9<document.documentMode)}function Bg(){sn&&(sn.detachEvent("onpropertychange",qg),xr=sn=null)}function qg(n){if(n.propertyName==="value"&&hc(xr)){var i=[];pi(i,xr,n,Qn(n)),Wu(dl,i)}}function CS(n,i,a){n==="focusin"?(Bg(),sn=i,xr=a,sn.attachEvent("onpropertychange",qg)):n==="focusout"&&Bg()}function IS(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return hc(xr)}function xS(n,i){if(n==="click")return hc(i)}function DS(n,i){if(n==="input"||n==="change")return hc(i)}function NS(n,i){return n===i&&(n!==0||1/n===1/i)||n!==n&&i!==i}var Ln=typeof Object.is=="function"?Object.is:NS;function ml(n,i){if(Ln(n,i))return!0;if(typeof n!="object"||n===null||typeof i!="object"||i===null)return!1;var a=Object.keys(n),l=Object.keys(i);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var f=a[l];if(!$e.call(i,f)||!Ln(n[f],i[f]))return!1}return!0}function Fg(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function Hg(n,i){var a=Fg(n);n=0;for(var l;a;){if(a.nodeType===3){if(l=n+a.textContent.length,n<=i&&l>=i)return{node:a,offset:i-n};n=l}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=Fg(a)}}function Gg(n,i){return n&&i?n===i?!0:n&&n.nodeType===3?!1:i&&i.nodeType===3?Gg(n,i.parentNode):"contains"in n?n.contains(i):n.compareDocumentPosition?!!(n.compareDocumentPosition(i)&16):!1:!1}function Kg(n){n=n!=null&&n.ownerDocument!=null&&n.ownerDocument.defaultView!=null?n.ownerDocument.defaultView:window;for(var i=qs(n.document);i instanceof n.HTMLIFrameElement;){try{var a=typeof i.contentWindow.location.href=="string"}catch{a=!1}if(a)n=i.contentWindow;else break;i=qs(n.document)}return i}function Uf(n){var i=n&&n.nodeName&&n.nodeName.toLowerCase();return i&&(i==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||i==="textarea"||n.contentEditable==="true")}var OS=ur&&"documentMode"in document&&11>=document.documentMode,Ja=null,zf=null,pl=null,jf=!1;function Qg(n,i,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;jf||Ja==null||Ja!==qs(l)||(l=Ja,"selectionStart"in l&&Uf(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),pl&&ml(pl,l)||(pl=l,l=Xc(zf,"onSelect"),0<l.length&&(i=new Ga("onSelect","select",null,i,a),n.push({event:i,listeners:l}),i.target=Ja)))}function Js(n,i){var a={};return a[n.toLowerCase()]=i.toLowerCase(),a["Webkit"+n]="webkit"+i,a["Moz"+n]="moz"+i,a}var eo={animationend:Js("Animation","AnimationEnd"),animationiteration:Js("Animation","AnimationIteration"),animationstart:Js("Animation","AnimationStart"),transitionrun:Js("Transition","TransitionRun"),transitionstart:Js("Transition","TransitionStart"),transitioncancel:Js("Transition","TransitionCancel"),transitionend:Js("Transition","TransitionEnd")},Bf={},$g={};ur&&($g=document.createElement("div").style,"AnimationEvent"in window||(delete eo.animationend.animation,delete eo.animationiteration.animation,delete eo.animationstart.animation),"TransitionEvent"in window||delete eo.transitionend.transition);function ea(n){if(Bf[n])return Bf[n];if(!eo[n])return n;var i=eo[n],a;for(a in i)if(i.hasOwnProperty(a)&&a in $g)return Bf[n]=i[a];return n}var Yg=ea("animationend"),Xg=ea("animationiteration"),Wg=ea("animationstart"),kS=ea("transitionrun"),MS=ea("transitionstart"),PS=ea("transitioncancel"),Zg=ea("transitionend"),Jg=new Map,qf="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");qf.push("scrollEnd");function cr(n,i){Jg.set(n,i),lr(i,[n])}var ey=new WeakMap;function Xn(n,i){if(typeof n=="object"&&n!==null){var a=ey.get(n);return a!==void 0?a:(i={value:n,source:i,stack:qa(i)},ey.set(n,i),i)}return{value:n,source:i,stack:qa(i)}}var Wn=[],to=0,Ff=0;function fc(){for(var n=to,i=Ff=to=0;i<n;){var a=Wn[i];Wn[i++]=null;var l=Wn[i];Wn[i++]=null;var f=Wn[i];Wn[i++]=null;var m=Wn[i];if(Wn[i++]=null,l!==null&&f!==null){var E=l.pending;E===null?f.next=f:(f.next=E.next,E.next=f),l.pending=f}m!==0&&ty(a,f,m)}}function dc(n,i,a,l){Wn[to++]=n,Wn[to++]=i,Wn[to++]=a,Wn[to++]=l,Ff|=l,n.lanes|=l,n=n.alternate,n!==null&&(n.lanes|=l)}function Hf(n,i,a,l){return dc(n,i,a,l),mc(n)}function no(n,i){return dc(n,null,null,i),mc(n)}function ty(n,i,a){n.lanes|=a;var l=n.alternate;l!==null&&(l.lanes|=a);for(var f=!1,m=n.return;m!==null;)m.childLanes|=a,l=m.alternate,l!==null&&(l.childLanes|=a),m.tag===22&&(n=m.stateNode,n===null||n._visibility&1||(f=!0)),n=m,m=m.return;return n.tag===3?(m=n.stateNode,f&&i!==null&&(f=31-Mt(a),n=m.hiddenUpdates,l=n[f],l===null?n[f]=[i]:l.push(i),i.lane=a|536870912),m):null}function mc(n){if(50<jl)throw jl=0,Xd=null,Error(s(185));for(var i=n.return;i!==null;)n=i,i=n.return;return n.tag===3?n.stateNode:null}var ro={};function VS(n,i,a,l){this.tag=n,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Un(n,i,a,l){return new VS(n,i,a,l)}function Gf(n){return n=n.prototype,!(!n||!n.isReactComponent)}function gi(n,i){var a=n.alternate;return a===null?(a=Un(n.tag,i,n.key,n.mode),a.elementType=n.elementType,a.type=n.type,a.stateNode=n.stateNode,a.alternate=n,n.alternate=a):(a.pendingProps=i,a.type=n.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=n.flags&65011712,a.childLanes=n.childLanes,a.lanes=n.lanes,a.child=n.child,a.memoizedProps=n.memoizedProps,a.memoizedState=n.memoizedState,a.updateQueue=n.updateQueue,i=n.dependencies,a.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},a.sibling=n.sibling,a.index=n.index,a.ref=n.ref,a.refCleanup=n.refCleanup,a}function ny(n,i){n.flags&=65011714;var a=n.alternate;return a===null?(n.childLanes=0,n.lanes=i,n.child=null,n.subtreeFlags=0,n.memoizedProps=null,n.memoizedState=null,n.updateQueue=null,n.dependencies=null,n.stateNode=null):(n.childLanes=a.childLanes,n.lanes=a.lanes,n.child=a.child,n.subtreeFlags=0,n.deletions=null,n.memoizedProps=a.memoizedProps,n.memoizedState=a.memoizedState,n.updateQueue=a.updateQueue,n.type=a.type,i=a.dependencies,n.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),n}function pc(n,i,a,l,f,m){var E=0;if(l=n,typeof n=="function")Gf(n)&&(E=1);else if(typeof n=="string")E=U1(n,a,fe.current)?26:n==="html"||n==="head"||n==="body"?27:5;else e:switch(n){case R:return n=Un(31,a,i,f),n.elementType=R,n.lanes=m,n;case C:return ta(a.children,f,m,i);case M:E=8,f|=24;break;case x:return n=Un(12,a,i,f|2),n.elementType=x,n.lanes=m,n;case re:return n=Un(13,a,i,f),n.elementType=re,n.lanes=m,n;case ce:return n=Un(19,a,i,f),n.elementType=ce,n.lanes=m,n;default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case j:case Y:E=10;break e;case Q:E=9;break e;case le:E=11;break e;case k:E=14;break e;case A:E=16,l=null;break e}E=29,a=Error(s(130,n===null?"null":typeof n,"")),l=null}return i=Un(E,a,i,f),i.elementType=n,i.type=l,i.lanes=m,i}function ta(n,i,a,l){return n=Un(7,n,l,i),n.lanes=a,n}function Kf(n,i,a){return n=Un(6,n,null,i),n.lanes=a,n}function Qf(n,i,a){return i=Un(4,n.children!==null?n.children:[],n.key,i),i.lanes=a,i.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},i}var io=[],so=0,gc=null,yc=0,Zn=[],Jn=0,na=null,yi=1,vi="";function ra(n,i){io[so++]=yc,io[so++]=gc,gc=n,yc=i}function ry(n,i,a){Zn[Jn++]=yi,Zn[Jn++]=vi,Zn[Jn++]=na,na=n;var l=yi;n=vi;var f=32-Mt(l)-1;l&=~(1<<f),a+=1;var m=32-Mt(i)+f;if(30<m){var E=f-f%5;m=(l&(1<<E)-1).toString(32),l>>=E,f-=E,yi=1<<32-Mt(i)+f|a<<f|l,vi=m+n}else yi=1<<m|a<<f|l,vi=n}function $f(n){n.return!==null&&(ra(n,1),ry(n,1,0))}function Yf(n){for(;n===gc;)gc=io[--so],io[so]=null,yc=io[--so],io[so]=null;for(;n===na;)na=Zn[--Jn],Zn[Jn]=null,vi=Zn[--Jn],Zn[Jn]=null,yi=Zn[--Jn],Zn[Jn]=null}var Sn=null,It=null,nt=!1,ia=null,Dr=!1,Xf=Error(s(519));function sa(n){var i=Error(s(418,""));throw vl(Xn(i,n)),Xf}function iy(n){var i=n.stateNode,a=n.type,l=n.memoizedProps;switch(i[_t]=n,i[Je]=l,a){case"dialog":He("cancel",i),He("close",i);break;case"iframe":case"object":case"embed":He("load",i);break;case"video":case"audio":for(a=0;a<ql.length;a++)He(ql[a],i);break;case"source":He("error",i);break;case"img":case"image":case"link":He("error",i),He("load",i);break;case"details":He("toggle",i);break;case"input":He("invalid",i),Fs(i,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),Fa(i);break;case"select":He("invalid",i);break;case"textarea":He("invalid",i),Hs(i,l.value,l.defaultValue,l.children),Fa(i)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||i.textContent===""+a||l.suppressHydrationWarning===!0||E_(i.textContent,a)?(l.popover!=null&&(He("beforetoggle",i),He("toggle",i)),l.onScroll!=null&&He("scroll",i),l.onScrollEnd!=null&&He("scrollend",i),l.onClick!=null&&(i.onclick=Wc),i=!0):i=!1,i||sa(n)}function sy(n){for(Sn=n.return;Sn;)switch(Sn.tag){case 5:case 13:Dr=!1;return;case 27:case 3:Dr=!0;return;default:Sn=Sn.return}}function gl(n){if(n!==Sn)return!1;if(!nt)return sy(n),nt=!0,!1;var i=n.tag,a;if((a=i!==3&&i!==27)&&((a=i===5)&&(a=n.type,a=!(a!=="form"&&a!=="button")||fm(n.type,n.memoizedProps)),a=!a),a&&It&&sa(n),sy(n),i===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(s(317));e:{for(n=n.nextSibling,i=0;n;){if(n.nodeType===8)if(a=n.data,a==="/$"){if(i===0){It=fr(n.nextSibling);break e}i--}else a!=="$"&&a!=="$!"&&a!=="$?"||i++;n=n.nextSibling}It=null}}else i===27?(i=It,os(n.type)?(n=gm,gm=null,It=n):It=i):It=Sn?fr(n.stateNode.nextSibling):null;return!0}function yl(){It=Sn=null,nt=!1}function ay(){var n=ia;return n!==null&&(Nn===null?Nn=n:Nn.push.apply(Nn,n),ia=null),n}function vl(n){ia===null?ia=[n]:ia.push(n)}var Wf=Z(null),aa=null,_i=null;function Ki(n,i,a){J(Wf,i._currentValue),i._currentValue=a}function bi(n){n._currentValue=Wf.current,oe(Wf)}function Zf(n,i,a){for(;n!==null;){var l=n.alternate;if((n.childLanes&i)!==i?(n.childLanes|=i,l!==null&&(l.childLanes|=i)):l!==null&&(l.childLanes&i)!==i&&(l.childLanes|=i),n===a)break;n=n.return}}function Jf(n,i,a,l){var f=n.child;for(f!==null&&(f.return=n);f!==null;){var m=f.dependencies;if(m!==null){var E=f.child;m=m.firstContext;e:for(;m!==null;){var w=m;m=f;for(var N=0;N<i.length;N++)if(w.context===i[N]){m.lanes|=a,w=m.alternate,w!==null&&(w.lanes|=a),Zf(m.return,a,n),l||(E=null);break e}m=w.next}}else if(f.tag===18){if(E=f.return,E===null)throw Error(s(341));E.lanes|=a,m=E.alternate,m!==null&&(m.lanes|=a),Zf(E,a,n),E=null}else E=f.child;if(E!==null)E.return=f;else for(E=f;E!==null;){if(E===n){E=null;break}if(f=E.sibling,f!==null){f.return=E.return,E=f;break}E=E.return}f=E}}function _l(n,i,a,l){n=null;for(var f=i,m=!1;f!==null;){if(!m){if((f.flags&524288)!==0)m=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var E=f.alternate;if(E===null)throw Error(s(387));if(E=E.memoizedProps,E!==null){var w=f.type;Ln(f.pendingProps.value,E.value)||(n!==null?n.push(w):n=[w])}}else if(f===Oe.current){if(E=f.alternate,E===null)throw Error(s(387));E.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(n!==null?n.push($l):n=[$l])}f=f.return}n!==null&&Jf(i,n,a,l),i.flags|=262144}function vc(n){for(n=n.firstContext;n!==null;){if(!Ln(n.context._currentValue,n.memoizedValue))return!0;n=n.next}return!1}function oa(n){aa=n,_i=null,n=n.dependencies,n!==null&&(n.firstContext=null)}function mn(n){return oy(aa,n)}function _c(n,i){return aa===null&&oa(n),oy(n,i)}function oy(n,i){var a=i._currentValue;if(i={context:i,memoizedValue:a,next:null},_i===null){if(n===null)throw Error(s(308));_i=i,n.dependencies={lanes:0,firstContext:i},n.flags|=524288}else _i=_i.next=i;return a}var LS=typeof AbortController<"u"?AbortController:function(){var n=[],i=this.signal={aborted:!1,addEventListener:function(a,l){n.push(l)}};this.abort=function(){i.aborted=!0,n.forEach(function(a){return a()})}},US=r.unstable_scheduleCallback,zS=r.unstable_NormalPriority,Gt={$$typeof:Y,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function ed(){return{controller:new LS,data:new Map,refCount:0}}function bl(n){n.refCount--,n.refCount===0&&US(zS,function(){n.controller.abort()})}var El=null,td=0,ao=0,oo=null;function jS(n,i){if(El===null){var a=El=[];td=0,ao=rm(),oo={status:"pending",value:void 0,then:function(l){a.push(l)}}}return td++,i.then(ly,ly),i}function ly(){if(--td===0&&El!==null){oo!==null&&(oo.status="fulfilled");var n=El;El=null,ao=0,oo=null;for(var i=0;i<n.length;i++)(0,n[i])()}}function BS(n,i){var a=[],l={status:"pending",value:null,reason:null,then:function(f){a.push(f)}};return n.then(function(){l.status="fulfilled",l.value=i;for(var f=0;f<a.length;f++)(0,a[f])(i)},function(f){for(l.status="rejected",l.reason=f,f=0;f<a.length;f++)(0,a[f])(void 0)}),l}var uy=q.S;q.S=function(n,i){typeof i=="object"&&i!==null&&typeof i.then=="function"&&jS(n,i),uy!==null&&uy(n,i)};var la=Z(null);function nd(){var n=la.current;return n!==null?n:dt.pooledCache}function bc(n,i){i===null?J(la,la.current):J(la,i.pool)}function cy(){var n=nd();return n===null?null:{parent:Gt._currentValue,pool:n}}var Tl=Error(s(460)),hy=Error(s(474)),Ec=Error(s(542)),rd={then:function(){}};function fy(n){return n=n.status,n==="fulfilled"||n==="rejected"}function Tc(){}function dy(n,i,a){switch(a=n[a],a===void 0?n.push(i):a!==i&&(i.then(Tc,Tc),i=a),i.status){case"fulfilled":return i.value;case"rejected":throw n=i.reason,py(n),n;default:if(typeof i.status=="string")i.then(Tc,Tc);else{if(n=dt,n!==null&&100<n.shellSuspendCounter)throw Error(s(482));n=i,n.status="pending",n.then(function(l){if(i.status==="pending"){var f=i;f.status="fulfilled",f.value=l}},function(l){if(i.status==="pending"){var f=i;f.status="rejected",f.reason=l}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw n=i.reason,py(n),n}throw wl=i,Tl}}var wl=null;function my(){if(wl===null)throw Error(s(459));var n=wl;return wl=null,n}function py(n){if(n===Tl||n===Ec)throw Error(s(483))}var Qi=!1;function id(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function sd(n,i){n=n.updateQueue,i.updateQueue===n&&(i.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,callbacks:null})}function $i(n){return{lane:n,tag:0,payload:null,callback:null,next:null}}function Yi(n,i,a){var l=n.updateQueue;if(l===null)return null;if(l=l.shared,(st&2)!==0){var f=l.pending;return f===null?i.next=i:(i.next=f.next,f.next=i),l.pending=i,i=mc(n),ty(n,null,a),i}return dc(n,l,i,a),mc(n)}function Sl(n,i,a){if(i=i.updateQueue,i!==null&&(i=i.shared,(a&4194048)!==0)){var l=i.lanes;l&=n.pendingLanes,a|=l,i.lanes=a,vt(n,a)}}function ad(n,i){var a=n.updateQueue,l=n.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var f=null,m=null;if(a=a.firstBaseUpdate,a!==null){do{var E={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};m===null?f=m=E:m=m.next=E,a=a.next}while(a!==null);m===null?f=m=i:m=m.next=i}else f=m=i;a={baseState:l.baseState,firstBaseUpdate:f,lastBaseUpdate:m,shared:l.shared,callbacks:l.callbacks},n.updateQueue=a;return}n=a.lastBaseUpdate,n===null?a.firstBaseUpdate=i:n.next=i,a.lastBaseUpdate=i}var od=!1;function Al(){if(od){var n=oo;if(n!==null)throw n}}function Rl(n,i,a,l){od=!1;var f=n.updateQueue;Qi=!1;var m=f.firstBaseUpdate,E=f.lastBaseUpdate,w=f.shared.pending;if(w!==null){f.shared.pending=null;var N=w,G=N.next;N.next=null,E===null?m=G:E.next=G,E=N;var ee=n.alternate;ee!==null&&(ee=ee.updateQueue,w=ee.lastBaseUpdate,w!==E&&(w===null?ee.firstBaseUpdate=G:w.next=G,ee.lastBaseUpdate=N))}if(m!==null){var ie=f.baseState;E=0,ee=G=N=null,w=m;do{var K=w.lane&-536870913,$=K!==w.lane;if($?(We&K)===K:(l&K)===K){K!==0&&K===ao&&(od=!0),ee!==null&&(ee=ee.next={lane:0,tag:w.tag,payload:w.payload,callback:null,next:null});e:{var Ne=n,Ae=w;K=i;var ct=a;switch(Ae.tag){case 1:if(Ne=Ae.payload,typeof Ne=="function"){ie=Ne.call(ct,ie,K);break e}ie=Ne;break e;case 3:Ne.flags=Ne.flags&-65537|128;case 0:if(Ne=Ae.payload,K=typeof Ne=="function"?Ne.call(ct,ie,K):Ne,K==null)break e;ie=_({},ie,K);break e;case 2:Qi=!0}}K=w.callback,K!==null&&(n.flags|=64,$&&(n.flags|=8192),$=f.callbacks,$===null?f.callbacks=[K]:$.push(K))}else $={lane:K,tag:w.tag,payload:w.payload,callback:w.callback,next:null},ee===null?(G=ee=$,N=ie):ee=ee.next=$,E|=K;if(w=w.next,w===null){if(w=f.shared.pending,w===null)break;$=w,w=$.next,$.next=null,f.lastBaseUpdate=$,f.shared.pending=null}}while(!0);ee===null&&(N=ie),f.baseState=N,f.firstBaseUpdate=G,f.lastBaseUpdate=ee,m===null&&(f.shared.lanes=0),rs|=E,n.lanes=E,n.memoizedState=ie}}function gy(n,i){if(typeof n!="function")throw Error(s(191,n));n.call(i)}function yy(n,i){var a=n.callbacks;if(a!==null)for(n.callbacks=null,n=0;n<a.length;n++)gy(a[n],i)}var lo=Z(null),wc=Z(0);function vy(n,i){n=Ci,J(wc,n),J(lo,i),Ci=n|i.baseLanes}function ld(){J(wc,Ci),J(lo,lo.current)}function ud(){Ci=wc.current,oe(lo),oe(wc)}var Xi=0,Le=null,lt=null,Lt=null,Sc=!1,uo=!1,ua=!1,Ac=0,Cl=0,co=null,qS=0;function Nt(){throw Error(s(321))}function cd(n,i){if(i===null)return!1;for(var a=0;a<i.length&&a<n.length;a++)if(!Ln(n[a],i[a]))return!1;return!0}function hd(n,i,a,l,f,m){return Xi=m,Le=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,q.H=n===null||n.memoizedState===null?tv:nv,ua=!1,m=a(l,f),ua=!1,uo&&(m=by(i,a,l,f)),_y(n),m}function _y(n){q.H=Nc;var i=lt!==null&&lt.next!==null;if(Xi=0,Lt=lt=Le=null,Sc=!1,Cl=0,co=null,i)throw Error(s(300));n===null||Zt||(n=n.dependencies,n!==null&&vc(n)&&(Zt=!0))}function by(n,i,a,l){Le=n;var f=0;do{if(uo&&(co=null),Cl=0,uo=!1,25<=f)throw Error(s(301));if(f+=1,Lt=lt=null,n.updateQueue!=null){var m=n.updateQueue;m.lastEffect=null,m.events=null,m.stores=null,m.memoCache!=null&&(m.memoCache.index=0)}q.H=YS,m=i(a,l)}while(uo);return m}function FS(){var n=q.H,i=n.useState()[0];return i=typeof i.then=="function"?Il(i):i,n=n.useState()[0],(lt!==null?lt.memoizedState:null)!==n&&(Le.flags|=1024),i}function fd(){var n=Ac!==0;return Ac=0,n}function dd(n,i,a){i.updateQueue=n.updateQueue,i.flags&=-2053,n.lanes&=~a}function md(n){if(Sc){for(n=n.memoizedState;n!==null;){var i=n.queue;i!==null&&(i.pending=null),n=n.next}Sc=!1}Xi=0,Lt=lt=Le=null,uo=!1,Cl=Ac=0,co=null}function xn(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Lt===null?Le.memoizedState=Lt=n:Lt=Lt.next=n,Lt}function Ut(){if(lt===null){var n=Le.alternate;n=n!==null?n.memoizedState:null}else n=lt.next;var i=Lt===null?Le.memoizedState:Lt.next;if(i!==null)Lt=i,lt=n;else{if(n===null)throw Le.alternate===null?Error(s(467)):Error(s(310));lt=n,n={memoizedState:lt.memoizedState,baseState:lt.baseState,baseQueue:lt.baseQueue,queue:lt.queue,next:null},Lt===null?Le.memoizedState=Lt=n:Lt=Lt.next=n}return Lt}function pd(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Il(n){var i=Cl;return Cl+=1,co===null&&(co=[]),n=dy(co,n,i),i=Le,(Lt===null?i.memoizedState:Lt.next)===null&&(i=i.alternate,q.H=i===null||i.memoizedState===null?tv:nv),n}function Rc(n){if(n!==null&&typeof n=="object"){if(typeof n.then=="function")return Il(n);if(n.$$typeof===Y)return mn(n)}throw Error(s(438,String(n)))}function gd(n){var i=null,a=Le.updateQueue;if(a!==null&&(i=a.memoCache),i==null){var l=Le.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(i={data:l.data.map(function(f){return f.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),a===null&&(a=pd(),Le.updateQueue=a),a.memoCache=i,a=i.data[i.index],a===void 0)for(a=i.data[i.index]=Array(n),l=0;l<n;l++)a[l]=O;return i.index++,a}function Ei(n,i){return typeof i=="function"?i(n):i}function Cc(n){var i=Ut();return yd(i,lt,n)}function yd(n,i,a){var l=n.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=a;var f=n.baseQueue,m=l.pending;if(m!==null){if(f!==null){var E=f.next;f.next=m.next,m.next=E}i.baseQueue=f=m,l.pending=null}if(m=n.baseState,f===null)n.memoizedState=m;else{i=f.next;var w=E=null,N=null,G=i,ee=!1;do{var ie=G.lane&-536870913;if(ie!==G.lane?(We&ie)===ie:(Xi&ie)===ie){var K=G.revertLane;if(K===0)N!==null&&(N=N.next={lane:0,revertLane:0,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null}),ie===ao&&(ee=!0);else if((Xi&K)===K){G=G.next,K===ao&&(ee=!0);continue}else ie={lane:0,revertLane:G.revertLane,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null},N===null?(w=N=ie,E=m):N=N.next=ie,Le.lanes|=K,rs|=K;ie=G.action,ua&&a(m,ie),m=G.hasEagerState?G.eagerState:a(m,ie)}else K={lane:ie,revertLane:G.revertLane,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null},N===null?(w=N=K,E=m):N=N.next=K,Le.lanes|=ie,rs|=ie;G=G.next}while(G!==null&&G!==i);if(N===null?E=m:N.next=w,!Ln(m,n.memoizedState)&&(Zt=!0,ee&&(a=oo,a!==null)))throw a;n.memoizedState=m,n.baseState=E,n.baseQueue=N,l.lastRenderedState=m}return f===null&&(l.lanes=0),[n.memoizedState,l.dispatch]}function vd(n){var i=Ut(),a=i.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=n;var l=a.dispatch,f=a.pending,m=i.memoizedState;if(f!==null){a.pending=null;var E=f=f.next;do m=n(m,E.action),E=E.next;while(E!==f);Ln(m,i.memoizedState)||(Zt=!0),i.memoizedState=m,i.baseQueue===null&&(i.baseState=m),a.lastRenderedState=m}return[m,l]}function Ey(n,i,a){var l=Le,f=Ut(),m=nt;if(m){if(a===void 0)throw Error(s(407));a=a()}else a=i();var E=!Ln((lt||f).memoizedState,a);E&&(f.memoizedState=a,Zt=!0),f=f.queue;var w=Sy.bind(null,l,f,n);if(xl(2048,8,w,[n]),f.getSnapshot!==i||E||Lt!==null&&Lt.memoizedState.tag&1){if(l.flags|=2048,ho(9,Ic(),wy.bind(null,l,f,a,i),null),dt===null)throw Error(s(349));m||(Xi&124)!==0||Ty(l,i,a)}return a}function Ty(n,i,a){n.flags|=16384,n={getSnapshot:i,value:a},i=Le.updateQueue,i===null?(i=pd(),Le.updateQueue=i,i.stores=[n]):(a=i.stores,a===null?i.stores=[n]:a.push(n))}function wy(n,i,a,l){i.value=a,i.getSnapshot=l,Ay(i)&&Ry(n)}function Sy(n,i,a){return a(function(){Ay(i)&&Ry(n)})}function Ay(n){var i=n.getSnapshot;n=n.value;try{var a=i();return!Ln(n,a)}catch{return!0}}function Ry(n){var i=no(n,2);i!==null&&Fn(i,n,2)}function _d(n){var i=xn();if(typeof n=="function"){var a=n;if(n=a(),ua){dn(!0);try{a()}finally{dn(!1)}}}return i.memoizedState=i.baseState=n,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ei,lastRenderedState:n},i}function Cy(n,i,a,l){return n.baseState=a,yd(n,lt,typeof l=="function"?l:Ei)}function HS(n,i,a,l,f){if(Dc(n))throw Error(s(485));if(n=i.action,n!==null){var m={payload:f,action:n,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(E){m.listeners.push(E)}};q.T!==null?a(!0):m.isTransition=!1,l(m),a=i.pending,a===null?(m.next=i.pending=m,Iy(i,m)):(m.next=a.next,i.pending=a.next=m)}}function Iy(n,i){var a=i.action,l=i.payload,f=n.state;if(i.isTransition){var m=q.T,E={};q.T=E;try{var w=a(f,l),N=q.S;N!==null&&N(E,w),xy(n,i,w)}catch(G){bd(n,i,G)}finally{q.T=m}}else try{m=a(f,l),xy(n,i,m)}catch(G){bd(n,i,G)}}function xy(n,i,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){Dy(n,i,l)},function(l){return bd(n,i,l)}):Dy(n,i,a)}function Dy(n,i,a){i.status="fulfilled",i.value=a,Ny(i),n.state=a,i=n.pending,i!==null&&(a=i.next,a===i?n.pending=null:(a=a.next,i.next=a,Iy(n,a)))}function bd(n,i,a){var l=n.pending;if(n.pending=null,l!==null){l=l.next;do i.status="rejected",i.reason=a,Ny(i),i=i.next;while(i!==l)}n.action=null}function Ny(n){n=n.listeners;for(var i=0;i<n.length;i++)(0,n[i])()}function Oy(n,i){return i}function ky(n,i){if(nt){var a=dt.formState;if(a!==null){e:{var l=Le;if(nt){if(It){t:{for(var f=It,m=Dr;f.nodeType!==8;){if(!m){f=null;break t}if(f=fr(f.nextSibling),f===null){f=null;break t}}m=f.data,f=m==="F!"||m==="F"?f:null}if(f){It=fr(f.nextSibling),l=f.data==="F!";break e}}sa(l)}l=!1}l&&(i=a[0])}}return a=xn(),a.memoizedState=a.baseState=i,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Oy,lastRenderedState:i},a.queue=l,a=Zy.bind(null,Le,l),l.dispatch=a,l=_d(!1),m=Ad.bind(null,Le,!1,l.queue),l=xn(),f={state:i,dispatch:null,action:n,pending:null},l.queue=f,a=HS.bind(null,Le,f,m,a),f.dispatch=a,l.memoizedState=n,[i,a,!1]}function My(n){var i=Ut();return Py(i,lt,n)}function Py(n,i,a){if(i=yd(n,i,Oy)[0],n=Cc(Ei)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var l=Il(i)}catch(E){throw E===Tl?Ec:E}else l=i;i=Ut();var f=i.queue,m=f.dispatch;return a!==i.memoizedState&&(Le.flags|=2048,ho(9,Ic(),GS.bind(null,f,a),null)),[l,m,n]}function GS(n,i){n.action=i}function Vy(n){var i=Ut(),a=lt;if(a!==null)return Py(i,a,n);Ut(),i=i.memoizedState,a=Ut();var l=a.queue.dispatch;return a.memoizedState=n,[i,l,!1]}function ho(n,i,a,l){return n={tag:n,create:a,deps:l,inst:i,next:null},i=Le.updateQueue,i===null&&(i=pd(),Le.updateQueue=i),a=i.lastEffect,a===null?i.lastEffect=n.next=n:(l=a.next,a.next=n,n.next=l,i.lastEffect=n),n}function Ic(){return{destroy:void 0,resource:void 0}}function Ly(){return Ut().memoizedState}function xc(n,i,a,l){var f=xn();l=l===void 0?null:l,Le.flags|=n,f.memoizedState=ho(1|i,Ic(),a,l)}function xl(n,i,a,l){var f=Ut();l=l===void 0?null:l;var m=f.memoizedState.inst;lt!==null&&l!==null&&cd(l,lt.memoizedState.deps)?f.memoizedState=ho(i,m,a,l):(Le.flags|=n,f.memoizedState=ho(1|i,m,a,l))}function Uy(n,i){xc(8390656,8,n,i)}function zy(n,i){xl(2048,8,n,i)}function jy(n,i){return xl(4,2,n,i)}function By(n,i){return xl(4,4,n,i)}function qy(n,i){if(typeof i=="function"){n=n();var a=i(n);return function(){typeof a=="function"?a():i(null)}}if(i!=null)return n=n(),i.current=n,function(){i.current=null}}function Fy(n,i,a){a=a!=null?a.concat([n]):null,xl(4,4,qy.bind(null,i,n),a)}function Ed(){}function Hy(n,i){var a=Ut();i=i===void 0?null:i;var l=a.memoizedState;return i!==null&&cd(i,l[1])?l[0]:(a.memoizedState=[n,i],n)}function Gy(n,i){var a=Ut();i=i===void 0?null:i;var l=a.memoizedState;if(i!==null&&cd(i,l[1]))return l[0];if(l=n(),ua){dn(!0);try{n()}finally{dn(!1)}}return a.memoizedState=[l,i],l}function Td(n,i,a){return a===void 0||(Xi&1073741824)!==0?n.memoizedState=i:(n.memoizedState=a,n=$v(),Le.lanes|=n,rs|=n,a)}function Ky(n,i,a,l){return Ln(a,i)?a:lo.current!==null?(n=Td(n,a,l),Ln(n,i)||(Zt=!0),n):(Xi&42)===0?(Zt=!0,n.memoizedState=a):(n=$v(),Le.lanes|=n,rs|=n,i)}function Qy(n,i,a,l,f){var m=ue.p;ue.p=m!==0&&8>m?m:8;var E=q.T,w={};q.T=w,Ad(n,!1,i,a);try{var N=f(),G=q.S;if(G!==null&&G(w,N),N!==null&&typeof N=="object"&&typeof N.then=="function"){var ee=BS(N,l);Dl(n,i,ee,qn(n))}else Dl(n,i,l,qn(n))}catch(ie){Dl(n,i,{then:function(){},status:"rejected",reason:ie},qn())}finally{ue.p=m,q.T=E}}function KS(){}function wd(n,i,a,l){if(n.tag!==5)throw Error(s(476));var f=$y(n).queue;Qy(n,f,i,te,a===null?KS:function(){return Yy(n),a(l)})}function $y(n){var i=n.memoizedState;if(i!==null)return i;i={memoizedState:te,baseState:te,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ei,lastRenderedState:te},next:null};var a={};return i.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ei,lastRenderedState:a},next:null},n.memoizedState=i,n=n.alternate,n!==null&&(n.memoizedState=i),i}function Yy(n){var i=$y(n).next.queue;Dl(n,i,{},qn())}function Sd(){return mn($l)}function Xy(){return Ut().memoizedState}function Wy(){return Ut().memoizedState}function QS(n){for(var i=n.return;i!==null;){switch(i.tag){case 24:case 3:var a=qn();n=$i(a);var l=Yi(i,n,a);l!==null&&(Fn(l,i,a),Sl(l,i,a)),i={cache:ed()},n.payload=i;return}i=i.return}}function $S(n,i,a){var l=qn();a={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},Dc(n)?Jy(i,a):(a=Hf(n,i,a,l),a!==null&&(Fn(a,n,l),ev(a,i,l)))}function Zy(n,i,a){var l=qn();Dl(n,i,a,l)}function Dl(n,i,a,l){var f={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(Dc(n))Jy(i,f);else{var m=n.alternate;if(n.lanes===0&&(m===null||m.lanes===0)&&(m=i.lastRenderedReducer,m!==null))try{var E=i.lastRenderedState,w=m(E,a);if(f.hasEagerState=!0,f.eagerState=w,Ln(w,E))return dc(n,i,f,0),dt===null&&fc(),!1}catch{}finally{}if(a=Hf(n,i,f,l),a!==null)return Fn(a,n,l),ev(a,i,l),!0}return!1}function Ad(n,i,a,l){if(l={lane:2,revertLane:rm(),action:l,hasEagerState:!1,eagerState:null,next:null},Dc(n)){if(i)throw Error(s(479))}else i=Hf(n,a,l,2),i!==null&&Fn(i,n,2)}function Dc(n){var i=n.alternate;return n===Le||i!==null&&i===Le}function Jy(n,i){uo=Sc=!0;var a=n.pending;a===null?i.next=i:(i.next=a.next,a.next=i),n.pending=i}function ev(n,i,a){if((a&4194048)!==0){var l=i.lanes;l&=n.pendingLanes,a|=l,i.lanes=a,vt(n,a)}}var Nc={readContext:mn,use:Rc,useCallback:Nt,useContext:Nt,useEffect:Nt,useImperativeHandle:Nt,useLayoutEffect:Nt,useInsertionEffect:Nt,useMemo:Nt,useReducer:Nt,useRef:Nt,useState:Nt,useDebugValue:Nt,useDeferredValue:Nt,useTransition:Nt,useSyncExternalStore:Nt,useId:Nt,useHostTransitionStatus:Nt,useFormState:Nt,useActionState:Nt,useOptimistic:Nt,useMemoCache:Nt,useCacheRefresh:Nt},tv={readContext:mn,use:Rc,useCallback:function(n,i){return xn().memoizedState=[n,i===void 0?null:i],n},useContext:mn,useEffect:Uy,useImperativeHandle:function(n,i,a){a=a!=null?a.concat([n]):null,xc(4194308,4,qy.bind(null,i,n),a)},useLayoutEffect:function(n,i){return xc(4194308,4,n,i)},useInsertionEffect:function(n,i){xc(4,2,n,i)},useMemo:function(n,i){var a=xn();i=i===void 0?null:i;var l=n();if(ua){dn(!0);try{n()}finally{dn(!1)}}return a.memoizedState=[l,i],l},useReducer:function(n,i,a){var l=xn();if(a!==void 0){var f=a(i);if(ua){dn(!0);try{a(i)}finally{dn(!1)}}}else f=i;return l.memoizedState=l.baseState=f,n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:f},l.queue=n,n=n.dispatch=$S.bind(null,Le,n),[l.memoizedState,n]},useRef:function(n){var i=xn();return n={current:n},i.memoizedState=n},useState:function(n){n=_d(n);var i=n.queue,a=Zy.bind(null,Le,i);return i.dispatch=a,[n.memoizedState,a]},useDebugValue:Ed,useDeferredValue:function(n,i){var a=xn();return Td(a,n,i)},useTransition:function(){var n=_d(!1);return n=Qy.bind(null,Le,n.queue,!0,!1),xn().memoizedState=n,[!1,n]},useSyncExternalStore:function(n,i,a){var l=Le,f=xn();if(nt){if(a===void 0)throw Error(s(407));a=a()}else{if(a=i(),dt===null)throw Error(s(349));(We&124)!==0||Ty(l,i,a)}f.memoizedState=a;var m={value:a,getSnapshot:i};return f.queue=m,Uy(Sy.bind(null,l,m,n),[n]),l.flags|=2048,ho(9,Ic(),wy.bind(null,l,m,a,i),null),a},useId:function(){var n=xn(),i=dt.identifierPrefix;if(nt){var a=vi,l=yi;a=(l&~(1<<32-Mt(l)-1)).toString(32)+a,i="«"+i+"R"+a,a=Ac++,0<a&&(i+="H"+a.toString(32)),i+="»"}else a=qS++,i="«"+i+"r"+a.toString(32)+"»";return n.memoizedState=i},useHostTransitionStatus:Sd,useFormState:ky,useActionState:ky,useOptimistic:function(n){var i=xn();i.memoizedState=i.baseState=n;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=a,i=Ad.bind(null,Le,!0,a),a.dispatch=i,[n,i]},useMemoCache:gd,useCacheRefresh:function(){return xn().memoizedState=QS.bind(null,Le)}},nv={readContext:mn,use:Rc,useCallback:Hy,useContext:mn,useEffect:zy,useImperativeHandle:Fy,useInsertionEffect:jy,useLayoutEffect:By,useMemo:Gy,useReducer:Cc,useRef:Ly,useState:function(){return Cc(Ei)},useDebugValue:Ed,useDeferredValue:function(n,i){var a=Ut();return Ky(a,lt.memoizedState,n,i)},useTransition:function(){var n=Cc(Ei)[0],i=Ut().memoizedState;return[typeof n=="boolean"?n:Il(n),i]},useSyncExternalStore:Ey,useId:Xy,useHostTransitionStatus:Sd,useFormState:My,useActionState:My,useOptimistic:function(n,i){var a=Ut();return Cy(a,lt,n,i)},useMemoCache:gd,useCacheRefresh:Wy},YS={readContext:mn,use:Rc,useCallback:Hy,useContext:mn,useEffect:zy,useImperativeHandle:Fy,useInsertionEffect:jy,useLayoutEffect:By,useMemo:Gy,useReducer:vd,useRef:Ly,useState:function(){return vd(Ei)},useDebugValue:Ed,useDeferredValue:function(n,i){var a=Ut();return lt===null?Td(a,n,i):Ky(a,lt.memoizedState,n,i)},useTransition:function(){var n=vd(Ei)[0],i=Ut().memoizedState;return[typeof n=="boolean"?n:Il(n),i]},useSyncExternalStore:Ey,useId:Xy,useHostTransitionStatus:Sd,useFormState:Vy,useActionState:Vy,useOptimistic:function(n,i){var a=Ut();return lt!==null?Cy(a,lt,n,i):(a.baseState=n,[n,a.queue.dispatch])},useMemoCache:gd,useCacheRefresh:Wy},fo=null,Nl=0;function Oc(n){var i=Nl;return Nl+=1,fo===null&&(fo=[]),dy(fo,n,i)}function Ol(n,i){i=i.props.ref,n.ref=i!==void 0?i:null}function kc(n,i){throw i.$$typeof===v?Error(s(525)):(n=Object.prototype.toString.call(i),Error(s(31,n==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":n)))}function rv(n){var i=n._init;return i(n._payload)}function iv(n){function i(B,z){if(n){var H=B.deletions;H===null?(B.deletions=[z],B.flags|=16):H.push(z)}}function a(B,z){if(!n)return null;for(;z!==null;)i(B,z),z=z.sibling;return null}function l(B){for(var z=new Map;B!==null;)B.key!==null?z.set(B.key,B):z.set(B.index,B),B=B.sibling;return z}function f(B,z){return B=gi(B,z),B.index=0,B.sibling=null,B}function m(B,z,H){return B.index=H,n?(H=B.alternate,H!==null?(H=H.index,H<z?(B.flags|=67108866,z):H):(B.flags|=67108866,z)):(B.flags|=1048576,z)}function E(B){return n&&B.alternate===null&&(B.flags|=67108866),B}function w(B,z,H,ne){return z===null||z.tag!==6?(z=Kf(H,B.mode,ne),z.return=B,z):(z=f(z,H),z.return=B,z)}function N(B,z,H,ne){var ye=H.type;return ye===C?ee(B,z,H.props.children,ne,H.key):z!==null&&(z.elementType===ye||typeof ye=="object"&&ye!==null&&ye.$$typeof===A&&rv(ye)===z.type)?(z=f(z,H.props),Ol(z,H),z.return=B,z):(z=pc(H.type,H.key,H.props,null,B.mode,ne),Ol(z,H),z.return=B,z)}function G(B,z,H,ne){return z===null||z.tag!==4||z.stateNode.containerInfo!==H.containerInfo||z.stateNode.implementation!==H.implementation?(z=Qf(H,B.mode,ne),z.return=B,z):(z=f(z,H.children||[]),z.return=B,z)}function ee(B,z,H,ne,ye){return z===null||z.tag!==7?(z=ta(H,B.mode,ne,ye),z.return=B,z):(z=f(z,H),z.return=B,z)}function ie(B,z,H){if(typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint")return z=Kf(""+z,B.mode,H),z.return=B,z;if(typeof z=="object"&&z!==null){switch(z.$$typeof){case T:return H=pc(z.type,z.key,z.props,null,B.mode,H),Ol(H,z),H.return=B,H;case I:return z=Qf(z,B.mode,H),z.return=B,z;case A:var ne=z._init;return z=ne(z._payload),ie(B,z,H)}if(Re(z)||L(z))return z=ta(z,B.mode,H,null),z.return=B,z;if(typeof z.then=="function")return ie(B,Oc(z),H);if(z.$$typeof===Y)return ie(B,_c(B,z),H);kc(B,z)}return null}function K(B,z,H,ne){var ye=z!==null?z.key:null;if(typeof H=="string"&&H!==""||typeof H=="number"||typeof H=="bigint")return ye!==null?null:w(B,z,""+H,ne);if(typeof H=="object"&&H!==null){switch(H.$$typeof){case T:return H.key===ye?N(B,z,H,ne):null;case I:return H.key===ye?G(B,z,H,ne):null;case A:return ye=H._init,H=ye(H._payload),K(B,z,H,ne)}if(Re(H)||L(H))return ye!==null?null:ee(B,z,H,ne,null);if(typeof H.then=="function")return K(B,z,Oc(H),ne);if(H.$$typeof===Y)return K(B,z,_c(B,H),ne);kc(B,H)}return null}function $(B,z,H,ne,ye){if(typeof ne=="string"&&ne!==""||typeof ne=="number"||typeof ne=="bigint")return B=B.get(H)||null,w(z,B,""+ne,ye);if(typeof ne=="object"&&ne!==null){switch(ne.$$typeof){case T:return B=B.get(ne.key===null?H:ne.key)||null,N(z,B,ne,ye);case I:return B=B.get(ne.key===null?H:ne.key)||null,G(z,B,ne,ye);case A:var Be=ne._init;return ne=Be(ne._payload),$(B,z,H,ne,ye)}if(Re(ne)||L(ne))return B=B.get(H)||null,ee(z,B,ne,ye,null);if(typeof ne.then=="function")return $(B,z,H,Oc(ne),ye);if(ne.$$typeof===Y)return $(B,z,H,_c(z,ne),ye);kc(z,ne)}return null}function Ne(B,z,H,ne){for(var ye=null,Be=null,Ee=z,Ce=z=0,en=null;Ee!==null&&Ce<H.length;Ce++){Ee.index>Ce?(en=Ee,Ee=null):en=Ee.sibling;var et=K(B,Ee,H[Ce],ne);if(et===null){Ee===null&&(Ee=en);break}n&&Ee&&et.alternate===null&&i(B,Ee),z=m(et,z,Ce),Be===null?ye=et:Be.sibling=et,Be=et,Ee=en}if(Ce===H.length)return a(B,Ee),nt&&ra(B,Ce),ye;if(Ee===null){for(;Ce<H.length;Ce++)Ee=ie(B,H[Ce],ne),Ee!==null&&(z=m(Ee,z,Ce),Be===null?ye=Ee:Be.sibling=Ee,Be=Ee);return nt&&ra(B,Ce),ye}for(Ee=l(Ee);Ce<H.length;Ce++)en=$(Ee,B,Ce,H[Ce],ne),en!==null&&(n&&en.alternate!==null&&Ee.delete(en.key===null?Ce:en.key),z=m(en,z,Ce),Be===null?ye=en:Be.sibling=en,Be=en);return n&&Ee.forEach(function(fs){return i(B,fs)}),nt&&ra(B,Ce),ye}function Ae(B,z,H,ne){if(H==null)throw Error(s(151));for(var ye=null,Be=null,Ee=z,Ce=z=0,en=null,et=H.next();Ee!==null&&!et.done;Ce++,et=H.next()){Ee.index>Ce?(en=Ee,Ee=null):en=Ee.sibling;var fs=K(B,Ee,et.value,ne);if(fs===null){Ee===null&&(Ee=en);break}n&&Ee&&fs.alternate===null&&i(B,Ee),z=m(fs,z,Ce),Be===null?ye=fs:Be.sibling=fs,Be=fs,Ee=en}if(et.done)return a(B,Ee),nt&&ra(B,Ce),ye;if(Ee===null){for(;!et.done;Ce++,et=H.next())et=ie(B,et.value,ne),et!==null&&(z=m(et,z,Ce),Be===null?ye=et:Be.sibling=et,Be=et);return nt&&ra(B,Ce),ye}for(Ee=l(Ee);!et.done;Ce++,et=H.next())et=$(Ee,B,Ce,et.value,ne),et!==null&&(n&&et.alternate!==null&&Ee.delete(et.key===null?Ce:et.key),z=m(et,z,Ce),Be===null?ye=et:Be.sibling=et,Be=et);return n&&Ee.forEach(function(X1){return i(B,X1)}),nt&&ra(B,Ce),ye}function ct(B,z,H,ne){if(typeof H=="object"&&H!==null&&H.type===C&&H.key===null&&(H=H.props.children),typeof H=="object"&&H!==null){switch(H.$$typeof){case T:e:{for(var ye=H.key;z!==null;){if(z.key===ye){if(ye=H.type,ye===C){if(z.tag===7){a(B,z.sibling),ne=f(z,H.props.children),ne.return=B,B=ne;break e}}else if(z.elementType===ye||typeof ye=="object"&&ye!==null&&ye.$$typeof===A&&rv(ye)===z.type){a(B,z.sibling),ne=f(z,H.props),Ol(ne,H),ne.return=B,B=ne;break e}a(B,z);break}else i(B,z);z=z.sibling}H.type===C?(ne=ta(H.props.children,B.mode,ne,H.key),ne.return=B,B=ne):(ne=pc(H.type,H.key,H.props,null,B.mode,ne),Ol(ne,H),ne.return=B,B=ne)}return E(B);case I:e:{for(ye=H.key;z!==null;){if(z.key===ye)if(z.tag===4&&z.stateNode.containerInfo===H.containerInfo&&z.stateNode.implementation===H.implementation){a(B,z.sibling),ne=f(z,H.children||[]),ne.return=B,B=ne;break e}else{a(B,z);break}else i(B,z);z=z.sibling}ne=Qf(H,B.mode,ne),ne.return=B,B=ne}return E(B);case A:return ye=H._init,H=ye(H._payload),ct(B,z,H,ne)}if(Re(H))return Ne(B,z,H,ne);if(L(H)){if(ye=L(H),typeof ye!="function")throw Error(s(150));return H=ye.call(H),Ae(B,z,H,ne)}if(typeof H.then=="function")return ct(B,z,Oc(H),ne);if(H.$$typeof===Y)return ct(B,z,_c(B,H),ne);kc(B,H)}return typeof H=="string"&&H!==""||typeof H=="number"||typeof H=="bigint"?(H=""+H,z!==null&&z.tag===6?(a(B,z.sibling),ne=f(z,H),ne.return=B,B=ne):(a(B,z),ne=Kf(H,B.mode,ne),ne.return=B,B=ne),E(B)):a(B,z)}return function(B,z,H,ne){try{Nl=0;var ye=ct(B,z,H,ne);return fo=null,ye}catch(Ee){if(Ee===Tl||Ee===Ec)throw Ee;var Be=Un(29,Ee,null,B.mode);return Be.lanes=ne,Be.return=B,Be}finally{}}}var mo=iv(!0),sv=iv(!1),er=Z(null),Nr=null;function Wi(n){var i=n.alternate;J(Kt,Kt.current&1),J(er,n),Nr===null&&(i===null||lo.current!==null||i.memoizedState!==null)&&(Nr=n)}function av(n){if(n.tag===22){if(J(Kt,Kt.current),J(er,n),Nr===null){var i=n.alternate;i!==null&&i.memoizedState!==null&&(Nr=n)}}else Zi()}function Zi(){J(Kt,Kt.current),J(er,er.current)}function Ti(n){oe(er),Nr===n&&(Nr=null),oe(Kt)}var Kt=Z(0);function Mc(n){for(var i=n;i!==null;){if(i.tag===13){var a=i.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||pm(a)))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===n)break;for(;i.sibling===null;){if(i.return===null||i.return===n)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}function Rd(n,i,a,l){i=n.memoizedState,a=a(l,i),a=a==null?i:_({},i,a),n.memoizedState=a,n.lanes===0&&(n.updateQueue.baseState=a)}var Cd={enqueueSetState:function(n,i,a){n=n._reactInternals;var l=qn(),f=$i(l);f.payload=i,a!=null&&(f.callback=a),i=Yi(n,f,l),i!==null&&(Fn(i,n,l),Sl(i,n,l))},enqueueReplaceState:function(n,i,a){n=n._reactInternals;var l=qn(),f=$i(l);f.tag=1,f.payload=i,a!=null&&(f.callback=a),i=Yi(n,f,l),i!==null&&(Fn(i,n,l),Sl(i,n,l))},enqueueForceUpdate:function(n,i){n=n._reactInternals;var a=qn(),l=$i(a);l.tag=2,i!=null&&(l.callback=i),i=Yi(n,l,a),i!==null&&(Fn(i,n,a),Sl(i,n,a))}};function ov(n,i,a,l,f,m,E){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(l,m,E):i.prototype&&i.prototype.isPureReactComponent?!ml(a,l)||!ml(f,m):!0}function lv(n,i,a,l){n=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(a,l),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(a,l),i.state!==n&&Cd.enqueueReplaceState(i,i.state,null)}function ca(n,i){var a=i;if("ref"in i){a={};for(var l in i)l!=="ref"&&(a[l]=i[l])}if(n=n.defaultProps){a===i&&(a=_({},a));for(var f in n)a[f]===void 0&&(a[f]=n[f])}return a}var Pc=typeof reportError=="function"?reportError:function(n){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof n=="object"&&n!==null&&typeof n.message=="string"?String(n.message):String(n),error:n});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",n);return}console.error(n)};function uv(n){Pc(n)}function cv(n){console.error(n)}function hv(n){Pc(n)}function Vc(n,i){try{var a=n.onUncaughtError;a(i.value,{componentStack:i.stack})}catch(l){setTimeout(function(){throw l})}}function fv(n,i,a){try{var l=n.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function Id(n,i,a){return a=$i(a),a.tag=3,a.payload={element:null},a.callback=function(){Vc(n,i)},a}function dv(n){return n=$i(n),n.tag=3,n}function mv(n,i,a,l){var f=a.type.getDerivedStateFromError;if(typeof f=="function"){var m=l.value;n.payload=function(){return f(m)},n.callback=function(){fv(i,a,l)}}var E=a.stateNode;E!==null&&typeof E.componentDidCatch=="function"&&(n.callback=function(){fv(i,a,l),typeof f!="function"&&(is===null?is=new Set([this]):is.add(this));var w=l.stack;this.componentDidCatch(l.value,{componentStack:w!==null?w:""})})}function XS(n,i,a,l,f){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(i=a.alternate,i!==null&&_l(i,a,f,!0),a=er.current,a!==null){switch(a.tag){case 13:return Nr===null?Zd():a.alternate===null&&xt===0&&(xt=3),a.flags&=-257,a.flags|=65536,a.lanes=f,l===rd?a.flags|=16384:(i=a.updateQueue,i===null?a.updateQueue=new Set([l]):i.add(l),em(n,l,f)),!1;case 22:return a.flags|=65536,l===rd?a.flags|=16384:(i=a.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=i):(a=i.retryQueue,a===null?i.retryQueue=new Set([l]):a.add(l)),em(n,l,f)),!1}throw Error(s(435,a.tag))}return em(n,l,f),Zd(),!1}if(nt)return i=er.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=f,l!==Xf&&(n=Error(s(422),{cause:l}),vl(Xn(n,a)))):(l!==Xf&&(i=Error(s(423),{cause:l}),vl(Xn(i,a))),n=n.current.alternate,n.flags|=65536,f&=-f,n.lanes|=f,l=Xn(l,a),f=Id(n.stateNode,l,f),ad(n,f),xt!==4&&(xt=2)),!1;var m=Error(s(520),{cause:l});if(m=Xn(m,a),zl===null?zl=[m]:zl.push(m),xt!==4&&(xt=2),i===null)return!0;l=Xn(l,a),a=i;do{switch(a.tag){case 3:return a.flags|=65536,n=f&-f,a.lanes|=n,n=Id(a.stateNode,l,n),ad(a,n),!1;case 1:if(i=a.type,m=a.stateNode,(a.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||m!==null&&typeof m.componentDidCatch=="function"&&(is===null||!is.has(m))))return a.flags|=65536,f&=-f,a.lanes|=f,f=dv(f),mv(f,n,a,l),ad(a,f),!1}a=a.return}while(a!==null);return!1}var pv=Error(s(461)),Zt=!1;function an(n,i,a,l){i.child=n===null?sv(i,null,a,l):mo(i,n.child,a,l)}function gv(n,i,a,l,f){a=a.render;var m=i.ref;if("ref"in l){var E={};for(var w in l)w!=="ref"&&(E[w]=l[w])}else E=l;return oa(i),l=hd(n,i,a,E,m,f),w=fd(),n!==null&&!Zt?(dd(n,i,f),wi(n,i,f)):(nt&&w&&$f(i),i.flags|=1,an(n,i,l,f),i.child)}function yv(n,i,a,l,f){if(n===null){var m=a.type;return typeof m=="function"&&!Gf(m)&&m.defaultProps===void 0&&a.compare===null?(i.tag=15,i.type=m,vv(n,i,m,l,f)):(n=pc(a.type,null,l,i,i.mode,f),n.ref=i.ref,n.return=i,i.child=n)}if(m=n.child,!Vd(n,f)){var E=m.memoizedProps;if(a=a.compare,a=a!==null?a:ml,a(E,l)&&n.ref===i.ref)return wi(n,i,f)}return i.flags|=1,n=gi(m,l),n.ref=i.ref,n.return=i,i.child=n}function vv(n,i,a,l,f){if(n!==null){var m=n.memoizedProps;if(ml(m,l)&&n.ref===i.ref)if(Zt=!1,i.pendingProps=l=m,Vd(n,f))(n.flags&131072)!==0&&(Zt=!0);else return i.lanes=n.lanes,wi(n,i,f)}return xd(n,i,a,l,f)}function _v(n,i,a){var l=i.pendingProps,f=l.children,m=n!==null?n.memoizedState:null;if(l.mode==="hidden"){if((i.flags&128)!==0){if(l=m!==null?m.baseLanes|a:a,n!==null){for(f=i.child=n.child,m=0;f!==null;)m=m|f.lanes|f.childLanes,f=f.sibling;i.childLanes=m&~l}else i.childLanes=0,i.child=null;return bv(n,i,l,a)}if((a&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},n!==null&&bc(i,m!==null?m.cachePool:null),m!==null?vy(i,m):ld(),av(i);else return i.lanes=i.childLanes=536870912,bv(n,i,m!==null?m.baseLanes|a:a,a)}else m!==null?(bc(i,m.cachePool),vy(i,m),Zi(),i.memoizedState=null):(n!==null&&bc(i,null),ld(),Zi());return an(n,i,f,a),i.child}function bv(n,i,a,l){var f=nd();return f=f===null?null:{parent:Gt._currentValue,pool:f},i.memoizedState={baseLanes:a,cachePool:f},n!==null&&bc(i,null),ld(),av(i),n!==null&&_l(n,i,l,!0),null}function Lc(n,i){var a=i.ref;if(a===null)n!==null&&n.ref!==null&&(i.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(n===null||n.ref!==a)&&(i.flags|=4194816)}}function xd(n,i,a,l,f){return oa(i),a=hd(n,i,a,l,void 0,f),l=fd(),n!==null&&!Zt?(dd(n,i,f),wi(n,i,f)):(nt&&l&&$f(i),i.flags|=1,an(n,i,a,f),i.child)}function Ev(n,i,a,l,f,m){return oa(i),i.updateQueue=null,a=by(i,l,a,f),_y(n),l=fd(),n!==null&&!Zt?(dd(n,i,m),wi(n,i,m)):(nt&&l&&$f(i),i.flags|=1,an(n,i,a,m),i.child)}function Tv(n,i,a,l,f){if(oa(i),i.stateNode===null){var m=ro,E=a.contextType;typeof E=="object"&&E!==null&&(m=mn(E)),m=new a(l,m),i.memoizedState=m.state!==null&&m.state!==void 0?m.state:null,m.updater=Cd,i.stateNode=m,m._reactInternals=i,m=i.stateNode,m.props=l,m.state=i.memoizedState,m.refs={},id(i),E=a.contextType,m.context=typeof E=="object"&&E!==null?mn(E):ro,m.state=i.memoizedState,E=a.getDerivedStateFromProps,typeof E=="function"&&(Rd(i,a,E,l),m.state=i.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof m.getSnapshotBeforeUpdate=="function"||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(E=m.state,typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount(),E!==m.state&&Cd.enqueueReplaceState(m,m.state,null),Rl(i,l,m,f),Al(),m.state=i.memoizedState),typeof m.componentDidMount=="function"&&(i.flags|=4194308),l=!0}else if(n===null){m=i.stateNode;var w=i.memoizedProps,N=ca(a,w);m.props=N;var G=m.context,ee=a.contextType;E=ro,typeof ee=="object"&&ee!==null&&(E=mn(ee));var ie=a.getDerivedStateFromProps;ee=typeof ie=="function"||typeof m.getSnapshotBeforeUpdate=="function",w=i.pendingProps!==w,ee||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(w||G!==E)&&lv(i,m,l,E),Qi=!1;var K=i.memoizedState;m.state=K,Rl(i,l,m,f),Al(),G=i.memoizedState,w||K!==G||Qi?(typeof ie=="function"&&(Rd(i,a,ie,l),G=i.memoizedState),(N=Qi||ov(i,a,N,l,K,G,E))?(ee||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount()),typeof m.componentDidMount=="function"&&(i.flags|=4194308)):(typeof m.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=l,i.memoizedState=G),m.props=l,m.state=G,m.context=E,l=N):(typeof m.componentDidMount=="function"&&(i.flags|=4194308),l=!1)}else{m=i.stateNode,sd(n,i),E=i.memoizedProps,ee=ca(a,E),m.props=ee,ie=i.pendingProps,K=m.context,G=a.contextType,N=ro,typeof G=="object"&&G!==null&&(N=mn(G)),w=a.getDerivedStateFromProps,(G=typeof w=="function"||typeof m.getSnapshotBeforeUpdate=="function")||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(E!==ie||K!==N)&&lv(i,m,l,N),Qi=!1,K=i.memoizedState,m.state=K,Rl(i,l,m,f),Al();var $=i.memoizedState;E!==ie||K!==$||Qi||n!==null&&n.dependencies!==null&&vc(n.dependencies)?(typeof w=="function"&&(Rd(i,a,w,l),$=i.memoizedState),(ee=Qi||ov(i,a,ee,l,K,$,N)||n!==null&&n.dependencies!==null&&vc(n.dependencies))?(G||typeof m.UNSAFE_componentWillUpdate!="function"&&typeof m.componentWillUpdate!="function"||(typeof m.componentWillUpdate=="function"&&m.componentWillUpdate(l,$,N),typeof m.UNSAFE_componentWillUpdate=="function"&&m.UNSAFE_componentWillUpdate(l,$,N)),typeof m.componentDidUpdate=="function"&&(i.flags|=4),typeof m.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof m.componentDidUpdate!="function"||E===n.memoizedProps&&K===n.memoizedState||(i.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||E===n.memoizedProps&&K===n.memoizedState||(i.flags|=1024),i.memoizedProps=l,i.memoizedState=$),m.props=l,m.state=$,m.context=N,l=ee):(typeof m.componentDidUpdate!="function"||E===n.memoizedProps&&K===n.memoizedState||(i.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||E===n.memoizedProps&&K===n.memoizedState||(i.flags|=1024),l=!1)}return m=l,Lc(n,i),l=(i.flags&128)!==0,m||l?(m=i.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:m.render(),i.flags|=1,n!==null&&l?(i.child=mo(i,n.child,null,f),i.child=mo(i,null,a,f)):an(n,i,a,f),i.memoizedState=m.state,n=i.child):n=wi(n,i,f),n}function wv(n,i,a,l){return yl(),i.flags|=256,an(n,i,a,l),i.child}var Dd={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Nd(n){return{baseLanes:n,cachePool:cy()}}function Od(n,i,a){return n=n!==null?n.childLanes&~a:0,i&&(n|=tr),n}function Sv(n,i,a){var l=i.pendingProps,f=!1,m=(i.flags&128)!==0,E;if((E=m)||(E=n!==null&&n.memoizedState===null?!1:(Kt.current&2)!==0),E&&(f=!0,i.flags&=-129),E=(i.flags&32)!==0,i.flags&=-33,n===null){if(nt){if(f?Wi(i):Zi(),nt){var w=It,N;if(N=w){e:{for(N=w,w=Dr;N.nodeType!==8;){if(!w){w=null;break e}if(N=fr(N.nextSibling),N===null){w=null;break e}}w=N}w!==null?(i.memoizedState={dehydrated:w,treeContext:na!==null?{id:yi,overflow:vi}:null,retryLane:536870912,hydrationErrors:null},N=Un(18,null,null,0),N.stateNode=w,N.return=i,i.child=N,Sn=i,It=null,N=!0):N=!1}N||sa(i)}if(w=i.memoizedState,w!==null&&(w=w.dehydrated,w!==null))return pm(w)?i.lanes=32:i.lanes=536870912,null;Ti(i)}return w=l.children,l=l.fallback,f?(Zi(),f=i.mode,w=Uc({mode:"hidden",children:w},f),l=ta(l,f,a,null),w.return=i,l.return=i,w.sibling=l,i.child=w,f=i.child,f.memoizedState=Nd(a),f.childLanes=Od(n,E,a),i.memoizedState=Dd,l):(Wi(i),kd(i,w))}if(N=n.memoizedState,N!==null&&(w=N.dehydrated,w!==null)){if(m)i.flags&256?(Wi(i),i.flags&=-257,i=Md(n,i,a)):i.memoizedState!==null?(Zi(),i.child=n.child,i.flags|=128,i=null):(Zi(),f=l.fallback,w=i.mode,l=Uc({mode:"visible",children:l.children},w),f=ta(f,w,a,null),f.flags|=2,l.return=i,f.return=i,l.sibling=f,i.child=l,mo(i,n.child,null,a),l=i.child,l.memoizedState=Nd(a),l.childLanes=Od(n,E,a),i.memoizedState=Dd,i=f);else if(Wi(i),pm(w)){if(E=w.nextSibling&&w.nextSibling.dataset,E)var G=E.dgst;E=G,l=Error(s(419)),l.stack="",l.digest=E,vl({value:l,source:null,stack:null}),i=Md(n,i,a)}else if(Zt||_l(n,i,a,!1),E=(a&n.childLanes)!==0,Zt||E){if(E=dt,E!==null&&(l=a&-a,l=(l&42)!==0?1:yt(l),l=(l&(E.suspendedLanes|a))!==0?0:l,l!==0&&l!==N.retryLane))throw N.retryLane=l,no(n,l),Fn(E,n,l),pv;w.data==="$?"||Zd(),i=Md(n,i,a)}else w.data==="$?"?(i.flags|=192,i.child=n.child,i=null):(n=N.treeContext,It=fr(w.nextSibling),Sn=i,nt=!0,ia=null,Dr=!1,n!==null&&(Zn[Jn++]=yi,Zn[Jn++]=vi,Zn[Jn++]=na,yi=n.id,vi=n.overflow,na=i),i=kd(i,l.children),i.flags|=4096);return i}return f?(Zi(),f=l.fallback,w=i.mode,N=n.child,G=N.sibling,l=gi(N,{mode:"hidden",children:l.children}),l.subtreeFlags=N.subtreeFlags&65011712,G!==null?f=gi(G,f):(f=ta(f,w,a,null),f.flags|=2),f.return=i,l.return=i,l.sibling=f,i.child=l,l=f,f=i.child,w=n.child.memoizedState,w===null?w=Nd(a):(N=w.cachePool,N!==null?(G=Gt._currentValue,N=N.parent!==G?{parent:G,pool:G}:N):N=cy(),w={baseLanes:w.baseLanes|a,cachePool:N}),f.memoizedState=w,f.childLanes=Od(n,E,a),i.memoizedState=Dd,l):(Wi(i),a=n.child,n=a.sibling,a=gi(a,{mode:"visible",children:l.children}),a.return=i,a.sibling=null,n!==null&&(E=i.deletions,E===null?(i.deletions=[n],i.flags|=16):E.push(n)),i.child=a,i.memoizedState=null,a)}function kd(n,i){return i=Uc({mode:"visible",children:i},n.mode),i.return=n,n.child=i}function Uc(n,i){return n=Un(22,n,null,i),n.lanes=0,n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},n}function Md(n,i,a){return mo(i,n.child,null,a),n=kd(i,i.pendingProps.children),n.flags|=2,i.memoizedState=null,n}function Av(n,i,a){n.lanes|=i;var l=n.alternate;l!==null&&(l.lanes|=i),Zf(n.return,i,a)}function Pd(n,i,a,l,f){var m=n.memoizedState;m===null?n.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:f}:(m.isBackwards=i,m.rendering=null,m.renderingStartTime=0,m.last=l,m.tail=a,m.tailMode=f)}function Rv(n,i,a){var l=i.pendingProps,f=l.revealOrder,m=l.tail;if(an(n,i,l.children,a),l=Kt.current,(l&2)!==0)l=l&1|2,i.flags|=128;else{if(n!==null&&(n.flags&128)!==0)e:for(n=i.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&Av(n,a,i);else if(n.tag===19)Av(n,a,i);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===i)break e;for(;n.sibling===null;){if(n.return===null||n.return===i)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}l&=1}switch(J(Kt,l),f){case"forwards":for(a=i.child,f=null;a!==null;)n=a.alternate,n!==null&&Mc(n)===null&&(f=a),a=a.sibling;a=f,a===null?(f=i.child,i.child=null):(f=a.sibling,a.sibling=null),Pd(i,!1,f,a,m);break;case"backwards":for(a=null,f=i.child,i.child=null;f!==null;){if(n=f.alternate,n!==null&&Mc(n)===null){i.child=f;break}n=f.sibling,f.sibling=a,a=f,f=n}Pd(i,!0,a,null,m);break;case"together":Pd(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function wi(n,i,a){if(n!==null&&(i.dependencies=n.dependencies),rs|=i.lanes,(a&i.childLanes)===0)if(n!==null){if(_l(n,i,a,!1),(a&i.childLanes)===0)return null}else return null;if(n!==null&&i.child!==n.child)throw Error(s(153));if(i.child!==null){for(n=i.child,a=gi(n,n.pendingProps),i.child=a,a.return=i;n.sibling!==null;)n=n.sibling,a=a.sibling=gi(n,n.pendingProps),a.return=i;a.sibling=null}return i.child}function Vd(n,i){return(n.lanes&i)!==0?!0:(n=n.dependencies,!!(n!==null&&vc(n)))}function WS(n,i,a){switch(i.tag){case 3:je(i,i.stateNode.containerInfo),Ki(i,Gt,n.memoizedState.cache),yl();break;case 27:case 5:be(i);break;case 4:je(i,i.stateNode.containerInfo);break;case 10:Ki(i,i.type,i.memoizedProps.value);break;case 13:var l=i.memoizedState;if(l!==null)return l.dehydrated!==null?(Wi(i),i.flags|=128,null):(a&i.child.childLanes)!==0?Sv(n,i,a):(Wi(i),n=wi(n,i,a),n!==null?n.sibling:null);Wi(i);break;case 19:var f=(n.flags&128)!==0;if(l=(a&i.childLanes)!==0,l||(_l(n,i,a,!1),l=(a&i.childLanes)!==0),f){if(l)return Rv(n,i,a);i.flags|=128}if(f=i.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),J(Kt,Kt.current),l)break;return null;case 22:case 23:return i.lanes=0,_v(n,i,a);case 24:Ki(i,Gt,n.memoizedState.cache)}return wi(n,i,a)}function Cv(n,i,a){if(n!==null)if(n.memoizedProps!==i.pendingProps)Zt=!0;else{if(!Vd(n,a)&&(i.flags&128)===0)return Zt=!1,WS(n,i,a);Zt=(n.flags&131072)!==0}else Zt=!1,nt&&(i.flags&1048576)!==0&&ry(i,yc,i.index);switch(i.lanes=0,i.tag){case 16:e:{n=i.pendingProps;var l=i.elementType,f=l._init;if(l=f(l._payload),i.type=l,typeof l=="function")Gf(l)?(n=ca(l,n),i.tag=1,i=Tv(null,i,l,n,a)):(i.tag=0,i=xd(null,i,l,n,a));else{if(l!=null){if(f=l.$$typeof,f===le){i.tag=11,i=gv(null,i,l,n,a);break e}else if(f===k){i.tag=14,i=yv(null,i,l,n,a);break e}}throw i=Qe(l)||l,Error(s(306,i,""))}}return i;case 0:return xd(n,i,i.type,i.pendingProps,a);case 1:return l=i.type,f=ca(l,i.pendingProps),Tv(n,i,l,f,a);case 3:e:{if(je(i,i.stateNode.containerInfo),n===null)throw Error(s(387));l=i.pendingProps;var m=i.memoizedState;f=m.element,sd(n,i),Rl(i,l,null,a);var E=i.memoizedState;if(l=E.cache,Ki(i,Gt,l),l!==m.cache&&Jf(i,[Gt],a,!0),Al(),l=E.element,m.isDehydrated)if(m={element:l,isDehydrated:!1,cache:E.cache},i.updateQueue.baseState=m,i.memoizedState=m,i.flags&256){i=wv(n,i,l,a);break e}else if(l!==f){f=Xn(Error(s(424)),i),vl(f),i=wv(n,i,l,a);break e}else{switch(n=i.stateNode.containerInfo,n.nodeType){case 9:n=n.body;break;default:n=n.nodeName==="HTML"?n.ownerDocument.body:n}for(It=fr(n.firstChild),Sn=i,nt=!0,ia=null,Dr=!0,a=sv(i,null,l,a),i.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(yl(),l===f){i=wi(n,i,a);break e}an(n,i,l,a)}i=i.child}return i;case 26:return Lc(n,i),n===null?(a=N_(i.type,null,i.pendingProps,null))?i.memoizedState=a:nt||(a=i.type,n=i.pendingProps,l=Zc(me.current).createElement(a),l[_t]=i,l[Je]=n,ln(l,a,n),Dt(l),i.stateNode=l):i.memoizedState=N_(i.type,n.memoizedProps,i.pendingProps,n.memoizedState),null;case 27:return be(i),n===null&&nt&&(l=i.stateNode=I_(i.type,i.pendingProps,me.current),Sn=i,Dr=!0,f=It,os(i.type)?(gm=f,It=fr(l.firstChild)):It=f),an(n,i,i.pendingProps.children,a),Lc(n,i),n===null&&(i.flags|=4194304),i.child;case 5:return n===null&&nt&&((f=l=It)&&(l=A1(l,i.type,i.pendingProps,Dr),l!==null?(i.stateNode=l,Sn=i,It=fr(l.firstChild),Dr=!1,f=!0):f=!1),f||sa(i)),be(i),f=i.type,m=i.pendingProps,E=n!==null?n.memoizedProps:null,l=m.children,fm(f,m)?l=null:E!==null&&fm(f,E)&&(i.flags|=32),i.memoizedState!==null&&(f=hd(n,i,FS,null,null,a),$l._currentValue=f),Lc(n,i),an(n,i,l,a),i.child;case 6:return n===null&&nt&&((n=a=It)&&(a=R1(a,i.pendingProps,Dr),a!==null?(i.stateNode=a,Sn=i,It=null,n=!0):n=!1),n||sa(i)),null;case 13:return Sv(n,i,a);case 4:return je(i,i.stateNode.containerInfo),l=i.pendingProps,n===null?i.child=mo(i,null,l,a):an(n,i,l,a),i.child;case 11:return gv(n,i,i.type,i.pendingProps,a);case 7:return an(n,i,i.pendingProps,a),i.child;case 8:return an(n,i,i.pendingProps.children,a),i.child;case 12:return an(n,i,i.pendingProps.children,a),i.child;case 10:return l=i.pendingProps,Ki(i,i.type,l.value),an(n,i,l.children,a),i.child;case 9:return f=i.type._context,l=i.pendingProps.children,oa(i),f=mn(f),l=l(f),i.flags|=1,an(n,i,l,a),i.child;case 14:return yv(n,i,i.type,i.pendingProps,a);case 15:return vv(n,i,i.type,i.pendingProps,a);case 19:return Rv(n,i,a);case 31:return l=i.pendingProps,a=i.mode,l={mode:l.mode,children:l.children},n===null?(a=Uc(l,a),a.ref=i.ref,i.child=a,a.return=i,i=a):(a=gi(n.child,l),a.ref=i.ref,i.child=a,a.return=i,i=a),i;case 22:return _v(n,i,a);case 24:return oa(i),l=mn(Gt),n===null?(f=nd(),f===null&&(f=dt,m=ed(),f.pooledCache=m,m.refCount++,m!==null&&(f.pooledCacheLanes|=a),f=m),i.memoizedState={parent:l,cache:f},id(i),Ki(i,Gt,f)):((n.lanes&a)!==0&&(sd(n,i),Rl(i,null,null,a),Al()),f=n.memoizedState,m=i.memoizedState,f.parent!==l?(f={parent:l,cache:l},i.memoizedState=f,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=f),Ki(i,Gt,l)):(l=m.cache,Ki(i,Gt,l),l!==f.cache&&Jf(i,[Gt],a,!0))),an(n,i,i.pendingProps.children,a),i.child;case 29:throw i.pendingProps}throw Error(s(156,i.tag))}function Si(n){n.flags|=4}function Iv(n,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)n.flags&=-16777217;else if(n.flags|=16777216,!V_(i)){if(i=er.current,i!==null&&((We&4194048)===We?Nr!==null:(We&62914560)!==We&&(We&536870912)===0||i!==Nr))throw wl=rd,hy;n.flags|=8192}}function zc(n,i){i!==null&&(n.flags|=4),n.flags&16384&&(i=n.tag!==22?Us():536870912,n.lanes|=i,vo|=i)}function kl(n,i){if(!nt)switch(n.tailMode){case"hidden":i=n.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?n.tail=null:a.sibling=null;break;case"collapsed":a=n.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?i||n.tail===null?n.tail=null:n.tail.sibling=null:l.sibling=null}}function wt(n){var i=n.alternate!==null&&n.alternate.child===n.child,a=0,l=0;if(i)for(var f=n.child;f!==null;)a|=f.lanes|f.childLanes,l|=f.subtreeFlags&65011712,l|=f.flags&65011712,f.return=n,f=f.sibling;else for(f=n.child;f!==null;)a|=f.lanes|f.childLanes,l|=f.subtreeFlags,l|=f.flags,f.return=n,f=f.sibling;return n.subtreeFlags|=l,n.childLanes=a,i}function ZS(n,i,a){var l=i.pendingProps;switch(Yf(i),i.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return wt(i),null;case 1:return wt(i),null;case 3:return a=i.stateNode,l=null,n!==null&&(l=n.memoizedState.cache),i.memoizedState.cache!==l&&(i.flags|=2048),bi(Gt),Tt(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(n===null||n.child===null)&&(gl(i)?Si(i):n===null||n.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,ay())),wt(i),null;case 26:return a=i.memoizedState,n===null?(Si(i),a!==null?(wt(i),Iv(i,a)):(wt(i),i.flags&=-16777217)):a?a!==n.memoizedState?(Si(i),wt(i),Iv(i,a)):(wt(i),i.flags&=-16777217):(n.memoizedProps!==l&&Si(i),wt(i),i.flags&=-16777217),null;case 27:Pe(i),a=me.current;var f=i.type;if(n!==null&&i.stateNode!=null)n.memoizedProps!==l&&Si(i);else{if(!l){if(i.stateNode===null)throw Error(s(166));return wt(i),null}n=fe.current,gl(i)?iy(i):(n=I_(f,l,a),i.stateNode=n,Si(i))}return wt(i),null;case 5:if(Pe(i),a=i.type,n!==null&&i.stateNode!=null)n.memoizedProps!==l&&Si(i);else{if(!l){if(i.stateNode===null)throw Error(s(166));return wt(i),null}if(n=fe.current,gl(i))iy(i);else{switch(f=Zc(me.current),n){case 1:n=f.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:n=f.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":n=f.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":n=f.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":n=f.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild);break;case"select":n=typeof l.is=="string"?f.createElement("select",{is:l.is}):f.createElement("select"),l.multiple?n.multiple=!0:l.size&&(n.size=l.size);break;default:n=typeof l.is=="string"?f.createElement(a,{is:l.is}):f.createElement(a)}}n[_t]=i,n[Je]=l;e:for(f=i.child;f!==null;){if(f.tag===5||f.tag===6)n.appendChild(f.stateNode);else if(f.tag!==4&&f.tag!==27&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===i)break e;for(;f.sibling===null;){if(f.return===null||f.return===i)break e;f=f.return}f.sibling.return=f.return,f=f.sibling}i.stateNode=n;e:switch(ln(n,a,l),a){case"button":case"input":case"select":case"textarea":n=!!l.autoFocus;break e;case"img":n=!0;break e;default:n=!1}n&&Si(i)}}return wt(i),i.flags&=-16777217,null;case 6:if(n&&i.stateNode!=null)n.memoizedProps!==l&&Si(i);else{if(typeof l!="string"&&i.stateNode===null)throw Error(s(166));if(n=me.current,gl(i)){if(n=i.stateNode,a=i.memoizedProps,l=null,f=Sn,f!==null)switch(f.tag){case 27:case 5:l=f.memoizedProps}n[_t]=i,n=!!(n.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||E_(n.nodeValue,a)),n||sa(i)}else n=Zc(n).createTextNode(l),n[_t]=i,i.stateNode=n}return wt(i),null;case 13:if(l=i.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(f=gl(i),l!==null&&l.dehydrated!==null){if(n===null){if(!f)throw Error(s(318));if(f=i.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(s(317));f[_t]=i}else yl(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;wt(i),f=!1}else f=ay(),n!==null&&n.memoizedState!==null&&(n.memoizedState.hydrationErrors=f),f=!0;if(!f)return i.flags&256?(Ti(i),i):(Ti(i),null)}if(Ti(i),(i.flags&128)!==0)return i.lanes=a,i;if(a=l!==null,n=n!==null&&n.memoizedState!==null,a){l=i.child,f=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(f=l.alternate.memoizedState.cachePool.pool);var m=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(m=l.memoizedState.cachePool.pool),m!==f&&(l.flags|=2048)}return a!==n&&a&&(i.child.flags|=8192),zc(i,i.updateQueue),wt(i),null;case 4:return Tt(),n===null&&om(i.stateNode.containerInfo),wt(i),null;case 10:return bi(i.type),wt(i),null;case 19:if(oe(Kt),f=i.memoizedState,f===null)return wt(i),null;if(l=(i.flags&128)!==0,m=f.rendering,m===null)if(l)kl(f,!1);else{if(xt!==0||n!==null&&(n.flags&128)!==0)for(n=i.child;n!==null;){if(m=Mc(n),m!==null){for(i.flags|=128,kl(f,!1),n=m.updateQueue,i.updateQueue=n,zc(i,n),i.subtreeFlags=0,n=a,a=i.child;a!==null;)ny(a,n),a=a.sibling;return J(Kt,Kt.current&1|2),i.child}n=n.sibling}f.tail!==null&&Yt()>qc&&(i.flags|=128,l=!0,kl(f,!1),i.lanes=4194304)}else{if(!l)if(n=Mc(m),n!==null){if(i.flags|=128,l=!0,n=n.updateQueue,i.updateQueue=n,zc(i,n),kl(f,!0),f.tail===null&&f.tailMode==="hidden"&&!m.alternate&&!nt)return wt(i),null}else 2*Yt()-f.renderingStartTime>qc&&a!==536870912&&(i.flags|=128,l=!0,kl(f,!1),i.lanes=4194304);f.isBackwards?(m.sibling=i.child,i.child=m):(n=f.last,n!==null?n.sibling=m:i.child=m,f.last=m)}return f.tail!==null?(i=f.tail,f.rendering=i,f.tail=i.sibling,f.renderingStartTime=Yt(),i.sibling=null,n=Kt.current,J(Kt,l?n&1|2:n&1),i):(wt(i),null);case 22:case 23:return Ti(i),ud(),l=i.memoizedState!==null,n!==null?n.memoizedState!==null!==l&&(i.flags|=8192):l&&(i.flags|=8192),l?(a&536870912)!==0&&(i.flags&128)===0&&(wt(i),i.subtreeFlags&6&&(i.flags|=8192)):wt(i),a=i.updateQueue,a!==null&&zc(i,a.retryQueue),a=null,n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(a=n.memoizedState.cachePool.pool),l=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),l!==a&&(i.flags|=2048),n!==null&&oe(la),null;case 24:return a=null,n!==null&&(a=n.memoizedState.cache),i.memoizedState.cache!==a&&(i.flags|=2048),bi(Gt),wt(i),null;case 25:return null;case 30:return null}throw Error(s(156,i.tag))}function JS(n,i){switch(Yf(i),i.tag){case 1:return n=i.flags,n&65536?(i.flags=n&-65537|128,i):null;case 3:return bi(Gt),Tt(),n=i.flags,(n&65536)!==0&&(n&128)===0?(i.flags=n&-65537|128,i):null;case 26:case 27:case 5:return Pe(i),null;case 13:if(Ti(i),n=i.memoizedState,n!==null&&n.dehydrated!==null){if(i.alternate===null)throw Error(s(340));yl()}return n=i.flags,n&65536?(i.flags=n&-65537|128,i):null;case 19:return oe(Kt),null;case 4:return Tt(),null;case 10:return bi(i.type),null;case 22:case 23:return Ti(i),ud(),n!==null&&oe(la),n=i.flags,n&65536?(i.flags=n&-65537|128,i):null;case 24:return bi(Gt),null;case 25:return null;default:return null}}function xv(n,i){switch(Yf(i),i.tag){case 3:bi(Gt),Tt();break;case 26:case 27:case 5:Pe(i);break;case 4:Tt();break;case 13:Ti(i);break;case 19:oe(Kt);break;case 10:bi(i.type);break;case 22:case 23:Ti(i),ud(),n!==null&&oe(la);break;case 24:bi(Gt)}}function Ml(n,i){try{var a=i.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var f=l.next;a=f;do{if((a.tag&n)===n){l=void 0;var m=a.create,E=a.inst;l=m(),E.destroy=l}a=a.next}while(a!==f)}}catch(w){ft(i,i.return,w)}}function Ji(n,i,a){try{var l=i.updateQueue,f=l!==null?l.lastEffect:null;if(f!==null){var m=f.next;l=m;do{if((l.tag&n)===n){var E=l.inst,w=E.destroy;if(w!==void 0){E.destroy=void 0,f=i;var N=a,G=w;try{G()}catch(ee){ft(f,N,ee)}}}l=l.next}while(l!==m)}}catch(ee){ft(i,i.return,ee)}}function Dv(n){var i=n.updateQueue;if(i!==null){var a=n.stateNode;try{yy(i,a)}catch(l){ft(n,n.return,l)}}}function Nv(n,i,a){a.props=ca(n.type,n.memoizedProps),a.state=n.memoizedState;try{a.componentWillUnmount()}catch(l){ft(n,i,l)}}function Pl(n,i){try{var a=n.ref;if(a!==null){switch(n.tag){case 26:case 27:case 5:var l=n.stateNode;break;case 30:l=n.stateNode;break;default:l=n.stateNode}typeof a=="function"?n.refCleanup=a(l):a.current=l}}catch(f){ft(n,i,f)}}function Or(n,i){var a=n.ref,l=n.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(f){ft(n,i,f)}finally{n.refCleanup=null,n=n.alternate,n!=null&&(n.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(f){ft(n,i,f)}else a.current=null}function Ov(n){var i=n.type,a=n.memoizedProps,l=n.stateNode;try{e:switch(i){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break e;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(f){ft(n,n.return,f)}}function Ld(n,i,a){try{var l=n.stateNode;b1(l,n.type,a,i),l[Je]=i}catch(f){ft(n,n.return,f)}}function kv(n){return n.tag===5||n.tag===3||n.tag===26||n.tag===27&&os(n.type)||n.tag===4}function Ud(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||kv(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.tag===27&&os(n.type)||n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function zd(n,i,a){var l=n.tag;if(l===5||l===6)n=n.stateNode,i?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(n,i):(i=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,i.appendChild(n),a=a._reactRootContainer,a!=null||i.onclick!==null||(i.onclick=Wc));else if(l!==4&&(l===27&&os(n.type)&&(a=n.stateNode,i=null),n=n.child,n!==null))for(zd(n,i,a),n=n.sibling;n!==null;)zd(n,i,a),n=n.sibling}function jc(n,i,a){var l=n.tag;if(l===5||l===6)n=n.stateNode,i?a.insertBefore(n,i):a.appendChild(n);else if(l!==4&&(l===27&&os(n.type)&&(a=n.stateNode),n=n.child,n!==null))for(jc(n,i,a),n=n.sibling;n!==null;)jc(n,i,a),n=n.sibling}function Mv(n){var i=n.stateNode,a=n.memoizedProps;try{for(var l=n.type,f=i.attributes;f.length;)i.removeAttributeNode(f[0]);ln(i,l,a),i[_t]=n,i[Je]=a}catch(m){ft(n,n.return,m)}}var Ai=!1,Ot=!1,jd=!1,Pv=typeof WeakSet=="function"?WeakSet:Set,Jt=null;function e1(n,i){if(n=n.containerInfo,cm=ih,n=Kg(n),Uf(n)){if("selectionStart"in n)var a={start:n.selectionStart,end:n.selectionEnd};else e:{a=(a=n.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var f=l.anchorOffset,m=l.focusNode;l=l.focusOffset;try{a.nodeType,m.nodeType}catch{a=null;break e}var E=0,w=-1,N=-1,G=0,ee=0,ie=n,K=null;t:for(;;){for(var $;ie!==a||f!==0&&ie.nodeType!==3||(w=E+f),ie!==m||l!==0&&ie.nodeType!==3||(N=E+l),ie.nodeType===3&&(E+=ie.nodeValue.length),($=ie.firstChild)!==null;)K=ie,ie=$;for(;;){if(ie===n)break t;if(K===a&&++G===f&&(w=E),K===m&&++ee===l&&(N=E),($=ie.nextSibling)!==null)break;ie=K,K=ie.parentNode}ie=$}a=w===-1||N===-1?null:{start:w,end:N}}else a=null}a=a||{start:0,end:0}}else a=null;for(hm={focusedElem:n,selectionRange:a},ih=!1,Jt=i;Jt!==null;)if(i=Jt,n=i.child,(i.subtreeFlags&1024)!==0&&n!==null)n.return=i,Jt=n;else for(;Jt!==null;){switch(i=Jt,m=i.alternate,n=i.flags,i.tag){case 0:break;case 11:case 15:break;case 1:if((n&1024)!==0&&m!==null){n=void 0,a=i,f=m.memoizedProps,m=m.memoizedState,l=a.stateNode;try{var Ne=ca(a.type,f,a.elementType===a.type);n=l.getSnapshotBeforeUpdate(Ne,m),l.__reactInternalSnapshotBeforeUpdate=n}catch(Ae){ft(a,a.return,Ae)}}break;case 3:if((n&1024)!==0){if(n=i.stateNode.containerInfo,a=n.nodeType,a===9)mm(n);else if(a===1)switch(n.nodeName){case"HEAD":case"HTML":case"BODY":mm(n);break;default:n.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((n&1024)!==0)throw Error(s(163))}if(n=i.sibling,n!==null){n.return=i.return,Jt=n;break}Jt=i.return}}function Vv(n,i,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:es(n,a),l&4&&Ml(5,a);break;case 1:if(es(n,a),l&4)if(n=a.stateNode,i===null)try{n.componentDidMount()}catch(E){ft(a,a.return,E)}else{var f=ca(a.type,i.memoizedProps);i=i.memoizedState;try{n.componentDidUpdate(f,i,n.__reactInternalSnapshotBeforeUpdate)}catch(E){ft(a,a.return,E)}}l&64&&Dv(a),l&512&&Pl(a,a.return);break;case 3:if(es(n,a),l&64&&(n=a.updateQueue,n!==null)){if(i=null,a.child!==null)switch(a.child.tag){case 27:case 5:i=a.child.stateNode;break;case 1:i=a.child.stateNode}try{yy(n,i)}catch(E){ft(a,a.return,E)}}break;case 27:i===null&&l&4&&Mv(a);case 26:case 5:es(n,a),i===null&&l&4&&Ov(a),l&512&&Pl(a,a.return);break;case 12:es(n,a);break;case 13:es(n,a),l&4&&zv(n,a),l&64&&(n=a.memoizedState,n!==null&&(n=n.dehydrated,n!==null&&(a=u1.bind(null,a),C1(n,a))));break;case 22:if(l=a.memoizedState!==null||Ai,!l){i=i!==null&&i.memoizedState!==null||Ot,f=Ai;var m=Ot;Ai=l,(Ot=i)&&!m?ts(n,a,(a.subtreeFlags&8772)!==0):es(n,a),Ai=f,Ot=m}break;case 30:break;default:es(n,a)}}function Lv(n){var i=n.alternate;i!==null&&(n.alternate=null,Lv(i)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(i=n.stateNode,i!==null&&qi(i)),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}var Et=null,Dn=!1;function Ri(n,i,a){for(a=a.child;a!==null;)Uv(n,i,a),a=a.sibling}function Uv(n,i,a){if(tt&&typeof tt.onCommitFiberUnmount=="function")try{tt.onCommitFiberUnmount(ht,a)}catch{}switch(a.tag){case 26:Ot||Or(a,i),Ri(n,i,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:Ot||Or(a,i);var l=Et,f=Dn;os(a.type)&&(Et=a.stateNode,Dn=!1),Ri(n,i,a),Hl(a.stateNode),Et=l,Dn=f;break;case 5:Ot||Or(a,i);case 6:if(l=Et,f=Dn,Et=null,Ri(n,i,a),Et=l,Dn=f,Et!==null)if(Dn)try{(Et.nodeType===9?Et.body:Et.nodeName==="HTML"?Et.ownerDocument.body:Et).removeChild(a.stateNode)}catch(m){ft(a,i,m)}else try{Et.removeChild(a.stateNode)}catch(m){ft(a,i,m)}break;case 18:Et!==null&&(Dn?(n=Et,R_(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,a.stateNode),Zl(n)):R_(Et,a.stateNode));break;case 4:l=Et,f=Dn,Et=a.stateNode.containerInfo,Dn=!0,Ri(n,i,a),Et=l,Dn=f;break;case 0:case 11:case 14:case 15:Ot||Ji(2,a,i),Ot||Ji(4,a,i),Ri(n,i,a);break;case 1:Ot||(Or(a,i),l=a.stateNode,typeof l.componentWillUnmount=="function"&&Nv(a,i,l)),Ri(n,i,a);break;case 21:Ri(n,i,a);break;case 22:Ot=(l=Ot)||a.memoizedState!==null,Ri(n,i,a),Ot=l;break;default:Ri(n,i,a)}}function zv(n,i){if(i.memoizedState===null&&(n=i.alternate,n!==null&&(n=n.memoizedState,n!==null&&(n=n.dehydrated,n!==null))))try{Zl(n)}catch(a){ft(i,i.return,a)}}function t1(n){switch(n.tag){case 13:case 19:var i=n.stateNode;return i===null&&(i=n.stateNode=new Pv),i;case 22:return n=n.stateNode,i=n._retryCache,i===null&&(i=n._retryCache=new Pv),i;default:throw Error(s(435,n.tag))}}function Bd(n,i){var a=t1(n);i.forEach(function(l){var f=c1.bind(null,n,l);a.has(l)||(a.add(l),l.then(f,f))})}function zn(n,i){var a=i.deletions;if(a!==null)for(var l=0;l<a.length;l++){var f=a[l],m=n,E=i,w=E;e:for(;w!==null;){switch(w.tag){case 27:if(os(w.type)){Et=w.stateNode,Dn=!1;break e}break;case 5:Et=w.stateNode,Dn=!1;break e;case 3:case 4:Et=w.stateNode.containerInfo,Dn=!0;break e}w=w.return}if(Et===null)throw Error(s(160));Uv(m,E,f),Et=null,Dn=!1,m=f.alternate,m!==null&&(m.return=null),f.return=null}if(i.subtreeFlags&13878)for(i=i.child;i!==null;)jv(i,n),i=i.sibling}var hr=null;function jv(n,i){var a=n.alternate,l=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:zn(i,n),jn(n),l&4&&(Ji(3,n,n.return),Ml(3,n),Ji(5,n,n.return));break;case 1:zn(i,n),jn(n),l&512&&(Ot||a===null||Or(a,a.return)),l&64&&Ai&&(n=n.updateQueue,n!==null&&(l=n.callbacks,l!==null&&(a=n.shared.hiddenCallbacks,n.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var f=hr;if(zn(i,n),jn(n),l&512&&(Ot||a===null||Or(a,a.return)),l&4){var m=a!==null?a.memoizedState:null;if(l=n.memoizedState,a===null)if(l===null)if(n.stateNode===null){e:{l=n.type,a=n.memoizedProps,f=f.ownerDocument||f;t:switch(l){case"title":m=f.getElementsByTagName("title")[0],(!m||m[zs]||m[_t]||m.namespaceURI==="http://www.w3.org/2000/svg"||m.hasAttribute("itemprop"))&&(m=f.createElement(l),f.head.insertBefore(m,f.querySelector("head > title"))),ln(m,l,a),m[_t]=n,Dt(m),l=m;break e;case"link":var E=M_("link","href",f).get(l+(a.href||""));if(E){for(var w=0;w<E.length;w++)if(m=E[w],m.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&m.getAttribute("rel")===(a.rel==null?null:a.rel)&&m.getAttribute("title")===(a.title==null?null:a.title)&&m.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){E.splice(w,1);break t}}m=f.createElement(l),ln(m,l,a),f.head.appendChild(m);break;case"meta":if(E=M_("meta","content",f).get(l+(a.content||""))){for(w=0;w<E.length;w++)if(m=E[w],m.getAttribute("content")===(a.content==null?null:""+a.content)&&m.getAttribute("name")===(a.name==null?null:a.name)&&m.getAttribute("property")===(a.property==null?null:a.property)&&m.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&m.getAttribute("charset")===(a.charSet==null?null:a.charSet)){E.splice(w,1);break t}}m=f.createElement(l),ln(m,l,a),f.head.appendChild(m);break;default:throw Error(s(468,l))}m[_t]=n,Dt(m),l=m}n.stateNode=l}else P_(f,n.type,n.stateNode);else n.stateNode=k_(f,l,n.memoizedProps);else m!==l?(m===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):m.count--,l===null?P_(f,n.type,n.stateNode):k_(f,l,n.memoizedProps)):l===null&&n.stateNode!==null&&Ld(n,n.memoizedProps,a.memoizedProps)}break;case 27:zn(i,n),jn(n),l&512&&(Ot||a===null||Or(a,a.return)),a!==null&&l&4&&Ld(n,n.memoizedProps,a.memoizedProps);break;case 5:if(zn(i,n),jn(n),l&512&&(Ot||a===null||Or(a,a.return)),n.flags&32){f=n.stateNode;try{Kn(f,"")}catch($){ft(n,n.return,$)}}l&4&&n.stateNode!=null&&(f=n.memoizedProps,Ld(n,f,a!==null?a.memoizedProps:f)),l&1024&&(jd=!0);break;case 6:if(zn(i,n),jn(n),l&4){if(n.stateNode===null)throw Error(s(162));l=n.memoizedProps,a=n.stateNode;try{a.nodeValue=l}catch($){ft(n,n.return,$)}}break;case 3:if(th=null,f=hr,hr=Jc(i.containerInfo),zn(i,n),hr=f,jn(n),l&4&&a!==null&&a.memoizedState.isDehydrated)try{Zl(i.containerInfo)}catch($){ft(n,n.return,$)}jd&&(jd=!1,Bv(n));break;case 4:l=hr,hr=Jc(n.stateNode.containerInfo),zn(i,n),jn(n),hr=l;break;case 12:zn(i,n),jn(n);break;case 13:zn(i,n),jn(n),n.child.flags&8192&&n.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Qd=Yt()),l&4&&(l=n.updateQueue,l!==null&&(n.updateQueue=null,Bd(n,l)));break;case 22:f=n.memoizedState!==null;var N=a!==null&&a.memoizedState!==null,G=Ai,ee=Ot;if(Ai=G||f,Ot=ee||N,zn(i,n),Ot=ee,Ai=G,jn(n),l&8192)e:for(i=n.stateNode,i._visibility=f?i._visibility&-2:i._visibility|1,f&&(a===null||N||Ai||Ot||ha(n)),a=null,i=n;;){if(i.tag===5||i.tag===26){if(a===null){N=a=i;try{if(m=N.stateNode,f)E=m.style,typeof E.setProperty=="function"?E.setProperty("display","none","important"):E.display="none";else{w=N.stateNode;var ie=N.memoizedProps.style,K=ie!=null&&ie.hasOwnProperty("display")?ie.display:null;w.style.display=K==null||typeof K=="boolean"?"":(""+K).trim()}}catch($){ft(N,N.return,$)}}}else if(i.tag===6){if(a===null){N=i;try{N.stateNode.nodeValue=f?"":N.memoizedProps}catch($){ft(N,N.return,$)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===n)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===n)break e;for(;i.sibling===null;){if(i.return===null||i.return===n)break e;a===i&&(a=null),i=i.return}a===i&&(a=null),i.sibling.return=i.return,i=i.sibling}l&4&&(l=n.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,Bd(n,a))));break;case 19:zn(i,n),jn(n),l&4&&(l=n.updateQueue,l!==null&&(n.updateQueue=null,Bd(n,l)));break;case 30:break;case 21:break;default:zn(i,n),jn(n)}}function jn(n){var i=n.flags;if(i&2){try{for(var a,l=n.return;l!==null;){if(kv(l)){a=l;break}l=l.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var f=a.stateNode,m=Ud(n);jc(n,m,f);break;case 5:var E=a.stateNode;a.flags&32&&(Kn(E,""),a.flags&=-33);var w=Ud(n);jc(n,w,E);break;case 3:case 4:var N=a.stateNode.containerInfo,G=Ud(n);zd(n,G,N);break;default:throw Error(s(161))}}catch(ee){ft(n,n.return,ee)}n.flags&=-3}i&4096&&(n.flags&=-4097)}function Bv(n){if(n.subtreeFlags&1024)for(n=n.child;n!==null;){var i=n;Bv(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),n=n.sibling}}function es(n,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)Vv(n,i.alternate,i),i=i.sibling}function ha(n){for(n=n.child;n!==null;){var i=n;switch(i.tag){case 0:case 11:case 14:case 15:Ji(4,i,i.return),ha(i);break;case 1:Or(i,i.return);var a=i.stateNode;typeof a.componentWillUnmount=="function"&&Nv(i,i.return,a),ha(i);break;case 27:Hl(i.stateNode);case 26:case 5:Or(i,i.return),ha(i);break;case 22:i.memoizedState===null&&ha(i);break;case 30:ha(i);break;default:ha(i)}n=n.sibling}}function ts(n,i,a){for(a=a&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var l=i.alternate,f=n,m=i,E=m.flags;switch(m.tag){case 0:case 11:case 15:ts(f,m,a),Ml(4,m);break;case 1:if(ts(f,m,a),l=m,f=l.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(G){ft(l,l.return,G)}if(l=m,f=l.updateQueue,f!==null){var w=l.stateNode;try{var N=f.shared.hiddenCallbacks;if(N!==null)for(f.shared.hiddenCallbacks=null,f=0;f<N.length;f++)gy(N[f],w)}catch(G){ft(l,l.return,G)}}a&&E&64&&Dv(m),Pl(m,m.return);break;case 27:Mv(m);case 26:case 5:ts(f,m,a),a&&l===null&&E&4&&Ov(m),Pl(m,m.return);break;case 12:ts(f,m,a);break;case 13:ts(f,m,a),a&&E&4&&zv(f,m);break;case 22:m.memoizedState===null&&ts(f,m,a),Pl(m,m.return);break;case 30:break;default:ts(f,m,a)}i=i.sibling}}function qd(n,i){var a=null;n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(a=n.memoizedState.cachePool.pool),n=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(n=i.memoizedState.cachePool.pool),n!==a&&(n!=null&&n.refCount++,a!=null&&bl(a))}function Fd(n,i){n=null,i.alternate!==null&&(n=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==n&&(i.refCount++,n!=null&&bl(n))}function kr(n,i,a,l){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)qv(n,i,a,l),i=i.sibling}function qv(n,i,a,l){var f=i.flags;switch(i.tag){case 0:case 11:case 15:kr(n,i,a,l),f&2048&&Ml(9,i);break;case 1:kr(n,i,a,l);break;case 3:kr(n,i,a,l),f&2048&&(n=null,i.alternate!==null&&(n=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==n&&(i.refCount++,n!=null&&bl(n)));break;case 12:if(f&2048){kr(n,i,a,l),n=i.stateNode;try{var m=i.memoizedProps,E=m.id,w=m.onPostCommit;typeof w=="function"&&w(E,i.alternate===null?"mount":"update",n.passiveEffectDuration,-0)}catch(N){ft(i,i.return,N)}}else kr(n,i,a,l);break;case 13:kr(n,i,a,l);break;case 23:break;case 22:m=i.stateNode,E=i.alternate,i.memoizedState!==null?m._visibility&2?kr(n,i,a,l):Vl(n,i):m._visibility&2?kr(n,i,a,l):(m._visibility|=2,po(n,i,a,l,(i.subtreeFlags&10256)!==0)),f&2048&&qd(E,i);break;case 24:kr(n,i,a,l),f&2048&&Fd(i.alternate,i);break;default:kr(n,i,a,l)}}function po(n,i,a,l,f){for(f=f&&(i.subtreeFlags&10256)!==0,i=i.child;i!==null;){var m=n,E=i,w=a,N=l,G=E.flags;switch(E.tag){case 0:case 11:case 15:po(m,E,w,N,f),Ml(8,E);break;case 23:break;case 22:var ee=E.stateNode;E.memoizedState!==null?ee._visibility&2?po(m,E,w,N,f):Vl(m,E):(ee._visibility|=2,po(m,E,w,N,f)),f&&G&2048&&qd(E.alternate,E);break;case 24:po(m,E,w,N,f),f&&G&2048&&Fd(E.alternate,E);break;default:po(m,E,w,N,f)}i=i.sibling}}function Vl(n,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var a=n,l=i,f=l.flags;switch(l.tag){case 22:Vl(a,l),f&2048&&qd(l.alternate,l);break;case 24:Vl(a,l),f&2048&&Fd(l.alternate,l);break;default:Vl(a,l)}i=i.sibling}}var Ll=8192;function go(n){if(n.subtreeFlags&Ll)for(n=n.child;n!==null;)Fv(n),n=n.sibling}function Fv(n){switch(n.tag){case 26:go(n),n.flags&Ll&&n.memoizedState!==null&&j1(hr,n.memoizedState,n.memoizedProps);break;case 5:go(n);break;case 3:case 4:var i=hr;hr=Jc(n.stateNode.containerInfo),go(n),hr=i;break;case 22:n.memoizedState===null&&(i=n.alternate,i!==null&&i.memoizedState!==null?(i=Ll,Ll=16777216,go(n),Ll=i):go(n));break;default:go(n)}}function Hv(n){var i=n.alternate;if(i!==null&&(n=i.child,n!==null)){i.child=null;do i=n.sibling,n.sibling=null,n=i;while(n!==null)}}function Ul(n){var i=n.deletions;if((n.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];Jt=l,Kv(l,n)}Hv(n)}if(n.subtreeFlags&10256)for(n=n.child;n!==null;)Gv(n),n=n.sibling}function Gv(n){switch(n.tag){case 0:case 11:case 15:Ul(n),n.flags&2048&&Ji(9,n,n.return);break;case 3:Ul(n);break;case 12:Ul(n);break;case 22:var i=n.stateNode;n.memoizedState!==null&&i._visibility&2&&(n.return===null||n.return.tag!==13)?(i._visibility&=-3,Bc(n)):Ul(n);break;default:Ul(n)}}function Bc(n){var i=n.deletions;if((n.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];Jt=l,Kv(l,n)}Hv(n)}for(n=n.child;n!==null;){switch(i=n,i.tag){case 0:case 11:case 15:Ji(8,i,i.return),Bc(i);break;case 22:a=i.stateNode,a._visibility&2&&(a._visibility&=-3,Bc(i));break;default:Bc(i)}n=n.sibling}}function Kv(n,i){for(;Jt!==null;){var a=Jt;switch(a.tag){case 0:case 11:case 15:Ji(8,a,i);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:bl(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,Jt=l;else e:for(a=n;Jt!==null;){l=Jt;var f=l.sibling,m=l.return;if(Lv(l),l===a){Jt=null;break e}if(f!==null){f.return=m,Jt=f;break e}Jt=m}}}var n1={getCacheForType:function(n){var i=mn(Gt),a=i.data.get(n);return a===void 0&&(a=n(),i.data.set(n,a)),a}},r1=typeof WeakMap=="function"?WeakMap:Map,st=0,dt=null,Fe=null,We=0,at=0,Bn=null,ns=!1,yo=!1,Hd=!1,Ci=0,xt=0,rs=0,fa=0,Gd=0,tr=0,vo=0,zl=null,Nn=null,Kd=!1,Qd=0,qc=1/0,Fc=null,is=null,on=0,ss=null,_o=null,bo=0,$d=0,Yd=null,Qv=null,jl=0,Xd=null;function qn(){if((st&2)!==0&&We!==0)return We&-We;if(q.T!==null){var n=ao;return n!==0?n:rm()}return Pn()}function $v(){tr===0&&(tr=(We&536870912)===0||nt?In():536870912);var n=er.current;return n!==null&&(n.flags|=32),tr}function Fn(n,i,a){(n===dt&&(at===2||at===9)||n.cancelPendingCommit!==null)&&(Eo(n,0),as(n,We,tr,!1)),Gn(n,a),((st&2)===0||n!==dt)&&(n===dt&&((st&2)===0&&(fa|=a),xt===4&&as(n,We,tr,!1)),Mr(n))}function Yv(n,i,a){if((st&6)!==0)throw Error(s(327));var l=!a&&(i&124)===0&&(i&n.expiredLanes)===0||ri(n,i),f=l?a1(n,i):Jd(n,i,!0),m=l;do{if(f===0){yo&&!l&&as(n,i,0,!1);break}else{if(a=n.current.alternate,m&&!i1(a)){f=Jd(n,i,!1),m=!1;continue}if(f===2){if(m=i,n.errorRecoveryDisabledLanes&m)var E=0;else E=n.pendingLanes&-536870913,E=E!==0?E:E&536870912?536870912:0;if(E!==0){i=E;e:{var w=n;f=zl;var N=w.current.memoizedState.isDehydrated;if(N&&(Eo(w,E).flags|=256),E=Jd(w,E,!1),E!==2){if(Hd&&!N){w.errorRecoveryDisabledLanes|=m,fa|=m,f=4;break e}m=Nn,Nn=f,m!==null&&(Nn===null?Nn=m:Nn.push.apply(Nn,m))}f=E}if(m=!1,f!==2)continue}}if(f===1){Eo(n,0),as(n,i,0,!0);break}e:{switch(l=n,m=f,m){case 0:case 1:throw Error(s(345));case 4:if((i&4194048)!==i)break;case 6:as(l,i,tr,!ns);break e;case 2:Nn=null;break;case 3:case 5:break;default:throw Error(s(329))}if((i&62914560)===i&&(f=Qd+300-Yt(),10<f)){if(as(l,i,tr,!ns),ni(l,0,!0)!==0)break e;l.timeoutHandle=S_(Xv.bind(null,l,a,Nn,Fc,Kd,i,tr,fa,vo,ns,m,2,-0,0),f);break e}Xv(l,a,Nn,Fc,Kd,i,tr,fa,vo,ns,m,0,-0,0)}}break}while(!0);Mr(n)}function Xv(n,i,a,l,f,m,E,w,N,G,ee,ie,K,$){if(n.timeoutHandle=-1,ie=i.subtreeFlags,(ie&8192||(ie&16785408)===16785408)&&(Ql={stylesheets:null,count:0,unsuspend:z1},Fv(i),ie=B1(),ie!==null)){n.cancelPendingCommit=ie(r_.bind(null,n,i,m,a,l,f,E,w,N,ee,1,K,$)),as(n,m,E,!G);return}r_(n,i,m,a,l,f,E,w,N)}function i1(n){for(var i=n;;){var a=i.tag;if((a===0||a===11||a===15)&&i.flags&16384&&(a=i.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var f=a[l],m=f.getSnapshot;f=f.value;try{if(!Ln(m(),f))return!1}catch{return!1}}if(a=i.child,i.subtreeFlags&16384&&a!==null)a.return=i,i=a;else{if(i===n)break;for(;i.sibling===null;){if(i.return===null||i.return===n)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function as(n,i,a,l){i&=~Gd,i&=~fa,n.suspendedLanes|=i,n.pingedLanes&=~i,l&&(n.warmLanes|=i),l=n.expirationTimes;for(var f=i;0<f;){var m=31-Mt(f),E=1<<m;l[m]=-1,f&=~E}a!==0&&Se(n,a,i)}function Hc(){return(st&6)===0?(Bl(0),!1):!0}function Wd(){if(Fe!==null){if(at===0)var n=Fe.return;else n=Fe,_i=aa=null,md(n),fo=null,Nl=0,n=Fe;for(;n!==null;)xv(n.alternate,n),n=n.return;Fe=null}}function Eo(n,i){var a=n.timeoutHandle;a!==-1&&(n.timeoutHandle=-1,T1(a)),a=n.cancelPendingCommit,a!==null&&(n.cancelPendingCommit=null,a()),Wd(),dt=n,Fe=a=gi(n.current,null),We=i,at=0,Bn=null,ns=!1,yo=ri(n,i),Hd=!1,vo=tr=Gd=fa=rs=xt=0,Nn=zl=null,Kd=!1,(i&8)!==0&&(i|=i&32);var l=n.entangledLanes;if(l!==0)for(n=n.entanglements,l&=i;0<l;){var f=31-Mt(l),m=1<<f;i|=n[f],l&=~m}return Ci=i,fc(),a}function Wv(n,i){Le=null,q.H=Nc,i===Tl||i===Ec?(i=my(),at=3):i===hy?(i=my(),at=4):at=i===pv?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,Bn=i,Fe===null&&(xt=1,Vc(n,Xn(i,n.current)))}function Zv(){var n=q.H;return q.H=Nc,n===null?Nc:n}function Jv(){var n=q.A;return q.A=n1,n}function Zd(){xt=4,ns||(We&4194048)!==We&&er.current!==null||(yo=!0),(rs&134217727)===0&&(fa&134217727)===0||dt===null||as(dt,We,tr,!1)}function Jd(n,i,a){var l=st;st|=2;var f=Zv(),m=Jv();(dt!==n||We!==i)&&(Fc=null,Eo(n,i)),i=!1;var E=xt;e:do try{if(at!==0&&Fe!==null){var w=Fe,N=Bn;switch(at){case 8:Wd(),E=6;break e;case 3:case 2:case 9:case 6:er.current===null&&(i=!0);var G=at;if(at=0,Bn=null,To(n,w,N,G),a&&yo){E=0;break e}break;default:G=at,at=0,Bn=null,To(n,w,N,G)}}s1(),E=xt;break}catch(ee){Wv(n,ee)}while(!0);return i&&n.shellSuspendCounter++,_i=aa=null,st=l,q.H=f,q.A=m,Fe===null&&(dt=null,We=0,fc()),E}function s1(){for(;Fe!==null;)e_(Fe)}function a1(n,i){var a=st;st|=2;var l=Zv(),f=Jv();dt!==n||We!==i?(Fc=null,qc=Yt()+500,Eo(n,i)):yo=ri(n,i);e:do try{if(at!==0&&Fe!==null){i=Fe;var m=Bn;t:switch(at){case 1:at=0,Bn=null,To(n,i,m,1);break;case 2:case 9:if(fy(m)){at=0,Bn=null,t_(i);break}i=function(){at!==2&&at!==9||dt!==n||(at=7),Mr(n)},m.then(i,i);break e;case 3:at=7;break e;case 4:at=5;break e;case 7:fy(m)?(at=0,Bn=null,t_(i)):(at=0,Bn=null,To(n,i,m,7));break;case 5:var E=null;switch(Fe.tag){case 26:E=Fe.memoizedState;case 5:case 27:var w=Fe;if(!E||V_(E)){at=0,Bn=null;var N=w.sibling;if(N!==null)Fe=N;else{var G=w.return;G!==null?(Fe=G,Gc(G)):Fe=null}break t}}at=0,Bn=null,To(n,i,m,5);break;case 6:at=0,Bn=null,To(n,i,m,6);break;case 8:Wd(),xt=6;break e;default:throw Error(s(462))}}o1();break}catch(ee){Wv(n,ee)}while(!0);return _i=aa=null,q.H=l,q.A=f,st=a,Fe!==null?0:(dt=null,We=0,fc(),xt)}function o1(){for(;Fe!==null&&!Ps();)e_(Fe)}function e_(n){var i=Cv(n.alternate,n,Ci);n.memoizedProps=n.pendingProps,i===null?Gc(n):Fe=i}function t_(n){var i=n,a=i.alternate;switch(i.tag){case 15:case 0:i=Ev(a,i,i.pendingProps,i.type,void 0,We);break;case 11:i=Ev(a,i,i.pendingProps,i.type.render,i.ref,We);break;case 5:md(i);default:xv(a,i),i=Fe=ny(i,Ci),i=Cv(a,i,Ci)}n.memoizedProps=n.pendingProps,i===null?Gc(n):Fe=i}function To(n,i,a,l){_i=aa=null,md(i),fo=null,Nl=0;var f=i.return;try{if(XS(n,f,i,a,We)){xt=1,Vc(n,Xn(a,n.current)),Fe=null;return}}catch(m){if(f!==null)throw Fe=f,m;xt=1,Vc(n,Xn(a,n.current)),Fe=null;return}i.flags&32768?(nt||l===1?n=!0:yo||(We&536870912)!==0?n=!1:(ns=n=!0,(l===2||l===9||l===3||l===6)&&(l=er.current,l!==null&&l.tag===13&&(l.flags|=16384))),n_(i,n)):Gc(i)}function Gc(n){var i=n;do{if((i.flags&32768)!==0){n_(i,ns);return}n=i.return;var a=ZS(i.alternate,i,Ci);if(a!==null){Fe=a;return}if(i=i.sibling,i!==null){Fe=i;return}Fe=i=n}while(i!==null);xt===0&&(xt=5)}function n_(n,i){do{var a=JS(n.alternate,n);if(a!==null){a.flags&=32767,Fe=a;return}if(a=n.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!i&&(n=n.sibling,n!==null)){Fe=n;return}Fe=n=a}while(n!==null);xt=6,Fe=null}function r_(n,i,a,l,f,m,E,w,N){n.cancelPendingCommit=null;do Kc();while(on!==0);if((st&6)!==0)throw Error(s(327));if(i!==null){if(i===n.current)throw Error(s(177));if(m=i.lanes|i.childLanes,m|=Ff,ji(n,a,m,E,w,N),n===dt&&(Fe=dt=null,We=0),_o=i,ss=n,bo=a,$d=m,Yd=f,Qv=l,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(n.callbackNode=null,n.callbackPriority=0,h1(Jr,function(){return l_(),null})):(n.callbackNode=null,n.callbackPriority=0),l=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||l){l=q.T,q.T=null,f=ue.p,ue.p=2,E=st,st|=4;try{e1(n,i,a)}finally{st=E,ue.p=f,q.T=l}}on=1,i_(),s_(),a_()}}function i_(){if(on===1){on=0;var n=ss,i=_o,a=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||a){a=q.T,q.T=null;var l=ue.p;ue.p=2;var f=st;st|=4;try{jv(i,n);var m=hm,E=Kg(n.containerInfo),w=m.focusedElem,N=m.selectionRange;if(E!==w&&w&&w.ownerDocument&&Gg(w.ownerDocument.documentElement,w)){if(N!==null&&Uf(w)){var G=N.start,ee=N.end;if(ee===void 0&&(ee=G),"selectionStart"in w)w.selectionStart=G,w.selectionEnd=Math.min(ee,w.value.length);else{var ie=w.ownerDocument||document,K=ie&&ie.defaultView||window;if(K.getSelection){var $=K.getSelection(),Ne=w.textContent.length,Ae=Math.min(N.start,Ne),ct=N.end===void 0?Ae:Math.min(N.end,Ne);!$.extend&&Ae>ct&&(E=ct,ct=Ae,Ae=E);var B=Hg(w,Ae),z=Hg(w,ct);if(B&&z&&($.rangeCount!==1||$.anchorNode!==B.node||$.anchorOffset!==B.offset||$.focusNode!==z.node||$.focusOffset!==z.offset)){var H=ie.createRange();H.setStart(B.node,B.offset),$.removeAllRanges(),Ae>ct?($.addRange(H),$.extend(z.node,z.offset)):(H.setEnd(z.node,z.offset),$.addRange(H))}}}}for(ie=[],$=w;$=$.parentNode;)$.nodeType===1&&ie.push({element:$,left:$.scrollLeft,top:$.scrollTop});for(typeof w.focus=="function"&&w.focus(),w=0;w<ie.length;w++){var ne=ie[w];ne.element.scrollLeft=ne.left,ne.element.scrollTop=ne.top}}ih=!!cm,hm=cm=null}finally{st=f,ue.p=l,q.T=a}}n.current=i,on=2}}function s_(){if(on===2){on=0;var n=ss,i=_o,a=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||a){a=q.T,q.T=null;var l=ue.p;ue.p=2;var f=st;st|=4;try{Vv(n,i.alternate,i)}finally{st=f,ue.p=l,q.T=a}}on=3}}function a_(){if(on===4||on===3){on=0,Vs();var n=ss,i=_o,a=bo,l=Qv;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?on=5:(on=0,_o=ss=null,o_(n,n.pendingLanes));var f=n.pendingLanes;if(f===0&&(is=null),Pt(a),i=i.stateNode,tt&&typeof tt.onCommitFiberRoot=="function")try{tt.onCommitFiberRoot(ht,i,void 0,(i.current.flags&128)===128)}catch{}if(l!==null){i=q.T,f=ue.p,ue.p=2,q.T=null;try{for(var m=n.onRecoverableError,E=0;E<l.length;E++){var w=l[E];m(w.value,{componentStack:w.stack})}}finally{q.T=i,ue.p=f}}(bo&3)!==0&&Kc(),Mr(n),f=n.pendingLanes,(a&4194090)!==0&&(f&42)!==0?n===Xd?jl++:(jl=0,Xd=n):jl=0,Bl(0)}}function o_(n,i){(n.pooledCacheLanes&=i)===0&&(i=n.pooledCache,i!=null&&(n.pooledCache=null,bl(i)))}function Kc(n){return i_(),s_(),a_(),l_()}function l_(){if(on!==5)return!1;var n=ss,i=$d;$d=0;var a=Pt(bo),l=q.T,f=ue.p;try{ue.p=32>a?32:a,q.T=null,a=Yd,Yd=null;var m=ss,E=bo;if(on=0,_o=ss=null,bo=0,(st&6)!==0)throw Error(s(331));var w=st;if(st|=4,Gv(m.current),qv(m,m.current,E,a),st=w,Bl(0,!1),tt&&typeof tt.onPostCommitFiberRoot=="function")try{tt.onPostCommitFiberRoot(ht,m)}catch{}return!0}finally{ue.p=f,q.T=l,o_(n,i)}}function u_(n,i,a){i=Xn(a,i),i=Id(n.stateNode,i,2),n=Yi(n,i,2),n!==null&&(Gn(n,2),Mr(n))}function ft(n,i,a){if(n.tag===3)u_(n,n,a);else for(;i!==null;){if(i.tag===3){u_(i,n,a);break}else if(i.tag===1){var l=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(is===null||!is.has(l))){n=Xn(a,n),a=dv(2),l=Yi(i,a,2),l!==null&&(mv(a,l,i,n),Gn(l,2),Mr(l));break}}i=i.return}}function em(n,i,a){var l=n.pingCache;if(l===null){l=n.pingCache=new r1;var f=new Set;l.set(i,f)}else f=l.get(i),f===void 0&&(f=new Set,l.set(i,f));f.has(a)||(Hd=!0,f.add(a),n=l1.bind(null,n,i,a),i.then(n,n))}function l1(n,i,a){var l=n.pingCache;l!==null&&l.delete(i),n.pingedLanes|=n.suspendedLanes&a,n.warmLanes&=~a,dt===n&&(We&a)===a&&(xt===4||xt===3&&(We&62914560)===We&&300>Yt()-Qd?(st&2)===0&&Eo(n,0):Gd|=a,vo===We&&(vo=0)),Mr(n)}function c_(n,i){i===0&&(i=Us()),n=no(n,i),n!==null&&(Gn(n,i),Mr(n))}function u1(n){var i=n.memoizedState,a=0;i!==null&&(a=i.retryLane),c_(n,a)}function c1(n,i){var a=0;switch(n.tag){case 13:var l=n.stateNode,f=n.memoizedState;f!==null&&(a=f.retryLane);break;case 19:l=n.stateNode;break;case 22:l=n.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(i),c_(n,a)}function h1(n,i){return gt(n,i)}var Qc=null,wo=null,tm=!1,$c=!1,nm=!1,da=0;function Mr(n){n!==wo&&n.next===null&&(wo===null?Qc=wo=n:wo=wo.next=n),$c=!0,tm||(tm=!0,d1())}function Bl(n,i){if(!nm&&$c){nm=!0;do for(var a=!1,l=Qc;l!==null;){if(n!==0){var f=l.pendingLanes;if(f===0)var m=0;else{var E=l.suspendedLanes,w=l.pingedLanes;m=(1<<31-Mt(42|n)+1)-1,m&=f&~(E&~w),m=m&201326741?m&201326741|1:m?m|2:0}m!==0&&(a=!0,m_(l,m))}else m=We,m=ni(l,l===dt?m:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(m&3)===0||ri(l,m)||(a=!0,m_(l,m));l=l.next}while(a);nm=!1}}function f1(){h_()}function h_(){$c=tm=!1;var n=0;da!==0&&(E1()&&(n=da),da=0);for(var i=Yt(),a=null,l=Qc;l!==null;){var f=l.next,m=f_(l,i);m===0?(l.next=null,a===null?Qc=f:a.next=f,f===null&&(wo=a)):(a=l,(n!==0||(m&3)!==0)&&($c=!0)),l=f}Bl(n)}function f_(n,i){for(var a=n.suspendedLanes,l=n.pingedLanes,f=n.expirationTimes,m=n.pendingLanes&-62914561;0<m;){var E=31-Mt(m),w=1<<E,N=f[E];N===-1?((w&a)===0||(w&l)!==0)&&(f[E]=ii(w,i)):N<=i&&(n.expiredLanes|=w),m&=~w}if(i=dt,a=We,a=ni(n,n===i?a:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),l=n.callbackNode,a===0||n===i&&(at===2||at===9)||n.cancelPendingCommit!==null)return l!==null&&l!==null&&Rt(l),n.callbackNode=null,n.callbackPriority=0;if((a&3)===0||ri(n,a)){if(i=a&-a,i===n.callbackPriority)return i;switch(l!==null&&Rt(l),Pt(a)){case 2:case 8:a=zi;break;case 32:a=Jr;break;case 268435456:a=Mn;break;default:a=Jr}return l=d_.bind(null,n),a=gt(a,l),n.callbackPriority=i,n.callbackNode=a,i}return l!==null&&l!==null&&Rt(l),n.callbackPriority=2,n.callbackNode=null,2}function d_(n,i){if(on!==0&&on!==5)return n.callbackNode=null,n.callbackPriority=0,null;var a=n.callbackNode;if(Kc()&&n.callbackNode!==a)return null;var l=We;return l=ni(n,n===dt?l:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),l===0?null:(Yv(n,l,i),f_(n,Yt()),n.callbackNode!=null&&n.callbackNode===a?d_.bind(null,n):null)}function m_(n,i){if(Kc())return null;Yv(n,i,!0)}function d1(){w1(function(){(st&6)!==0?gt(bn,f1):h_()})}function rm(){return da===0&&(da=In()),da}function p_(n){return n==null||typeof n=="symbol"||typeof n=="boolean"?null:typeof n=="function"?n:Ha(""+n)}function g_(n,i){var a=i.ownerDocument.createElement("input");return a.name=i.name,a.value=i.value,n.id&&a.setAttribute("form",n.id),i.parentNode.insertBefore(a,i),n=new FormData(n),a.parentNode.removeChild(a),n}function m1(n,i,a,l,f){if(i==="submit"&&a&&a.stateNode===f){var m=p_((f[Je]||null).action),E=l.submitter;E&&(i=(i=E[Je]||null)?p_(i.formAction):E.getAttribute("formAction"),i!==null&&(m=i,E=null));var w=new Ga("action","action",null,l,f);n.push({event:w,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(da!==0){var N=E?g_(f,E):new FormData(f);wd(a,{pending:!0,data:N,method:f.method,action:m},null,N)}}else typeof m=="function"&&(w.preventDefault(),N=E?g_(f,E):new FormData(f),wd(a,{pending:!0,data:N,method:f.method,action:m},m,N))},currentTarget:f}]})}}for(var im=0;im<qf.length;im++){var sm=qf[im],p1=sm.toLowerCase(),g1=sm[0].toUpperCase()+sm.slice(1);cr(p1,"on"+g1)}cr(Yg,"onAnimationEnd"),cr(Xg,"onAnimationIteration"),cr(Wg,"onAnimationStart"),cr("dblclick","onDoubleClick"),cr("focusin","onFocus"),cr("focusout","onBlur"),cr(kS,"onTransitionRun"),cr(MS,"onTransitionStart"),cr(PS,"onTransitionCancel"),cr(Zg,"onTransitionEnd"),oi("onMouseEnter",["mouseout","mouseover"]),oi("onMouseLeave",["mouseout","mouseover"]),oi("onPointerEnter",["pointerout","pointerover"]),oi("onPointerLeave",["pointerout","pointerover"]),lr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),lr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),lr("onBeforeInput",["compositionend","keypress","textInput","paste"]),lr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),lr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),lr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ql="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),y1=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(ql));function y_(n,i){i=(i&4)!==0;for(var a=0;a<n.length;a++){var l=n[a],f=l.event;l=l.listeners;e:{var m=void 0;if(i)for(var E=l.length-1;0<=E;E--){var w=l[E],N=w.instance,G=w.currentTarget;if(w=w.listener,N!==m&&f.isPropagationStopped())break e;m=w,f.currentTarget=G;try{m(f)}catch(ee){Pc(ee)}f.currentTarget=null,m=N}else for(E=0;E<l.length;E++){if(w=l[E],N=w.instance,G=w.currentTarget,w=w.listener,N!==m&&f.isPropagationStopped())break e;m=w,f.currentTarget=G;try{m(f)}catch(ee){Pc(ee)}f.currentTarget=null,m=N}}}}function He(n,i){var a=i[Bi];a===void 0&&(a=i[Bi]=new Set);var l=n+"__bubble";a.has(l)||(v_(i,n,2,!1),a.add(l))}function am(n,i,a){var l=0;i&&(l|=4),v_(a,n,l,i)}var Yc="_reactListening"+Math.random().toString(36).slice(2);function om(n){if(!n[Yc]){n[Yc]=!0,el.forEach(function(a){a!=="selectionchange"&&(y1.has(a)||am(a,!1,n),am(a,!0,n))});var i=n.nodeType===9?n:n.ownerDocument;i===null||i[Yc]||(i[Yc]=!0,am("selectionchange",!1,i))}}function v_(n,i,a,l){switch(q_(i)){case 2:var f=H1;break;case 8:f=G1;break;default:f=Em}a=f.bind(null,i,a,n),f=void 0,!$n||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(f=!0),l?f!==void 0?n.addEventListener(i,a,{capture:!0,passive:f}):n.addEventListener(i,a,!0):f!==void 0?n.addEventListener(i,a,{passive:f}):n.addEventListener(i,a,!1)}function lm(n,i,a,l,f){var m=l;if((i&1)===0&&(i&2)===0&&l!==null)e:for(;;){if(l===null)return;var E=l.tag;if(E===3||E===4){var w=l.stateNode.containerInfo;if(w===f)break;if(E===4)for(E=l.return;E!==null;){var N=E.tag;if((N===3||N===4)&&E.stateNode.containerInfo===f)return;E=E.return}for(;w!==null;){if(E=ai(w),E===null)return;if(N=E.tag,N===5||N===6||N===26||N===27){l=m=E;continue e}w=w.parentNode}}l=l.return}Wu(function(){var G=m,ee=Qn(a),ie=[];e:{var K=Jg.get(n);if(K!==void 0){var $=Ga,Ne=n;switch(n){case"keypress":if(Ar(a)===0)break e;case"keydown":case"keyup":$=Wa;break;case"focusin":Ne="focus",$=$a;break;case"focusout":Ne="blur",$=$a;break;case"beforeblur":case"afterblur":$=$a;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":$=Yn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":$=Mf;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":$=sc;break;case Yg:case Xg:case Wg:$=Ya;break;case Zg:$=oc;break;case"scroll":case"scrollend":$=Zu;break;case"wheel":$=Za;break;case"copy":case"cut":case"paste":$=Xa;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":$=fl;break;case"toggle":case"beforetoggle":$=uc}var Ae=(i&4)!==0,ct=!Ae&&(n==="scroll"||n==="scrollend"),B=Ae?K!==null?K+"Capture":null:K;Ae=[];for(var z=G,H;z!==null;){var ne=z;if(H=ne.stateNode,ne=ne.tag,ne!==5&&ne!==26&&ne!==27||H===null||B===null||(ne=Ks(z,B),ne!=null&&Ae.push(Fl(z,ne,H))),ct)break;z=z.return}0<Ae.length&&(K=new $(K,Ne,null,a,ee),ie.push({event:K,listeners:Ae}))}}if((i&7)===0){e:{if(K=n==="mouseover"||n==="pointerover",$=n==="mouseout"||n==="pointerout",K&&a!==ci&&(Ne=a.relatedTarget||a.fromElement)&&(ai(Ne)||Ne[bt]))break e;if(($||K)&&(K=ee.window===ee?ee:(K=ee.ownerDocument)?K.defaultView||K.parentWindow:window,$?(Ne=a.relatedTarget||a.toElement,$=G,Ne=Ne?ai(Ne):null,Ne!==null&&(ct=u(Ne),Ae=Ne.tag,Ne!==ct||Ae!==5&&Ae!==27&&Ae!==6)&&(Ne=null)):($=null,Ne=G),$!==Ne)){if(Ae=Yn,ne="onMouseLeave",B="onMouseEnter",z="mouse",(n==="pointerout"||n==="pointerover")&&(Ae=fl,ne="onPointerLeave",B="onPointerEnter",z="pointer"),ct=$==null?K:Er($),H=Ne==null?K:Er(Ne),K=new Ae(ne,z+"leave",$,a,ee),K.target=ct,K.relatedTarget=H,ne=null,ai(ee)===G&&(Ae=new Ae(B,z+"enter",Ne,a,ee),Ae.target=H,Ae.relatedTarget=ct,ne=Ae),ct=ne,$&&Ne)t:{for(Ae=$,B=Ne,z=0,H=Ae;H;H=So(H))z++;for(H=0,ne=B;ne;ne=So(ne))H++;for(;0<z-H;)Ae=So(Ae),z--;for(;0<H-z;)B=So(B),H--;for(;z--;){if(Ae===B||B!==null&&Ae===B.alternate)break t;Ae=So(Ae),B=So(B)}Ae=null}else Ae=null;$!==null&&__(ie,K,$,Ae,!1),Ne!==null&&ct!==null&&__(ie,ct,Ne,Ae,!0)}}e:{if(K=G?Er(G):window,$=K.nodeName&&K.nodeName.toLowerCase(),$==="select"||$==="input"&&K.type==="file")var ye=Ug;else if(Ht(K))if(zg)ye=DS;else{ye=IS;var Be=CS}else $=K.nodeName,!$||$.toLowerCase()!=="input"||K.type!=="checkbox"&&K.type!=="radio"?G&&sl(G.elementType)&&(ye=Ug):ye=xS;if(ye&&(ye=ye(n,G))){pi(ie,ye,a,ee);break e}Be&&Be(n,K,G),n==="focusout"&&G&&K.type==="number"&&G.memoizedProps.value!=null&&Hi(K,"number",K.value)}switch(Be=G?Er(G):window,n){case"focusin":(Ht(Be)||Be.contentEditable==="true")&&(Ja=Be,zf=G,pl=null);break;case"focusout":pl=zf=Ja=null;break;case"mousedown":jf=!0;break;case"contextmenu":case"mouseup":case"dragend":jf=!1,Qg(ie,a,ee);break;case"selectionchange":if(OS)break;case"keydown":case"keyup":Qg(ie,a,ee)}var Ee;if(Ir)e:{switch(n){case"compositionstart":var Ce="onCompositionStart";break e;case"compositionend":Ce="onCompositionEnd";break e;case"compositionupdate":Ce="onCompositionUpdate";break e}Ce=void 0}else Ye?W(n,a)&&(Ce="onCompositionEnd"):n==="keydown"&&a.keyCode===229&&(Ce="onCompositionStart");Ce&&(b&&a.locale!=="ko"&&(Ye||Ce!=="onCompositionStart"?Ce==="onCompositionEnd"&&Ye&&(Ee=ol()):(Sr=ee,Gi="value"in Sr?Sr.value:Sr.textContent,Ye=!0)),Be=Xc(G,Ce),0<Be.length&&(Ce=new cl(Ce,n,null,a,ee),ie.push({event:Ce,listeners:Be}),Ee?Ce.data=Ee:(Ee=he(a),Ee!==null&&(Ce.data=Ee)))),(Ee=y?Ft(n,a):Xe(n,a))&&(Ce=Xc(G,"onBeforeInput"),0<Ce.length&&(Be=new cl("onBeforeInput","beforeinput",null,a,ee),ie.push({event:Be,listeners:Ce}),Be.data=Ee)),m1(ie,n,G,a,ee)}y_(ie,i)})}function Fl(n,i,a){return{instance:n,listener:i,currentTarget:a}}function Xc(n,i){for(var a=i+"Capture",l=[];n!==null;){var f=n,m=f.stateNode;if(f=f.tag,f!==5&&f!==26&&f!==27||m===null||(f=Ks(n,a),f!=null&&l.unshift(Fl(n,f,m)),f=Ks(n,i),f!=null&&l.push(Fl(n,f,m))),n.tag===3)return l;n=n.return}return[]}function So(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5&&n.tag!==27);return n||null}function __(n,i,a,l,f){for(var m=i._reactName,E=[];a!==null&&a!==l;){var w=a,N=w.alternate,G=w.stateNode;if(w=w.tag,N!==null&&N===l)break;w!==5&&w!==26&&w!==27||G===null||(N=G,f?(G=Ks(a,m),G!=null&&E.unshift(Fl(a,G,N))):f||(G=Ks(a,m),G!=null&&E.push(Fl(a,G,N)))),a=a.return}E.length!==0&&n.push({event:i,listeners:E})}var v1=/\r\n?/g,_1=/\u0000|\uFFFD/g;function b_(n){return(typeof n=="string"?n:""+n).replace(v1,`
`).replace(_1,"")}function E_(n,i){return i=b_(i),b_(n)===i}function Wc(){}function ut(n,i,a,l,f,m){switch(a){case"children":typeof l=="string"?i==="body"||i==="textarea"&&l===""||Kn(n,l):(typeof l=="number"||typeof l=="bigint")&&i!=="body"&&Kn(n,""+l);break;case"className":Tr(n,"class",l);break;case"tabIndex":Tr(n,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":Tr(n,a,l);break;case"style":il(n,l,m);break;case"data":if(i!=="object"){Tr(n,"data",l);break}case"src":case"href":if(l===""&&(i!=="a"||a!=="href")){n.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){n.removeAttribute(a);break}l=Ha(""+l),n.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){n.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof m=="function"&&(a==="formAction"?(i!=="input"&&ut(n,i,"name",f.name,f,null),ut(n,i,"formEncType",f.formEncType,f,null),ut(n,i,"formMethod",f.formMethod,f,null),ut(n,i,"formTarget",f.formTarget,f,null)):(ut(n,i,"encType",f.encType,f,null),ut(n,i,"method",f.method,f,null),ut(n,i,"target",f.target,f,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){n.removeAttribute(a);break}l=Ha(""+l),n.setAttribute(a,l);break;case"onClick":l!=null&&(n.onclick=Wc);break;case"onScroll":l!=null&&He("scroll",n);break;case"onScrollEnd":l!=null&&He("scrollend",n);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(f.children!=null)throw Error(s(60));n.innerHTML=a}}break;case"multiple":n.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":n.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){n.removeAttribute("xlink:href");break}a=Ha(""+l),n.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?n.setAttribute(a,""+l):n.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?n.setAttribute(a,""):n.removeAttribute(a);break;case"capture":case"download":l===!0?n.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?n.setAttribute(a,l):n.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?n.setAttribute(a,l):n.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?n.removeAttribute(a):n.setAttribute(a,l);break;case"popover":He("beforetoggle",n),He("toggle",n),Fi(n,"popover",l);break;case"xlinkActuate":rn(n,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":rn(n,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":rn(n,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":rn(n,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":rn(n,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":rn(n,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":rn(n,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":rn(n,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":rn(n,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":Fi(n,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Of.get(a)||a,Fi(n,a,l))}}function um(n,i,a,l,f,m){switch(a){case"style":il(n,l,m);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(f.children!=null)throw Error(s(60));n.innerHTML=a}}break;case"children":typeof l=="string"?Kn(n,l):(typeof l=="number"||typeof l=="bigint")&&Kn(n,""+l);break;case"onScroll":l!=null&&He("scroll",n);break;case"onScrollEnd":l!=null&&He("scrollend",n);break;case"onClick":l!=null&&(n.onclick=Wc);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!za.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(f=a.endsWith("Capture"),i=a.slice(2,f?a.length-7:void 0),m=n[Je]||null,m=m!=null?m[a]:null,typeof m=="function"&&n.removeEventListener(i,m,f),typeof l=="function")){typeof m!="function"&&m!==null&&(a in n?n[a]=null:n.hasAttribute(a)&&n.removeAttribute(a)),n.addEventListener(i,l,f);break e}a in n?n[a]=l:l===!0?n.setAttribute(a,""):Fi(n,a,l)}}}function ln(n,i,a){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":He("error",n),He("load",n);var l=!1,f=!1,m;for(m in a)if(a.hasOwnProperty(m)){var E=a[m];if(E!=null)switch(m){case"src":l=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:ut(n,i,m,E,a,null)}}f&&ut(n,i,"srcSet",a.srcSet,a,null),l&&ut(n,i,"src",a.src,a,null);return;case"input":He("invalid",n);var w=m=E=f=null,N=null,G=null;for(l in a)if(a.hasOwnProperty(l)){var ee=a[l];if(ee!=null)switch(l){case"name":f=ee;break;case"type":E=ee;break;case"checked":N=ee;break;case"defaultChecked":G=ee;break;case"value":m=ee;break;case"defaultValue":w=ee;break;case"children":case"dangerouslySetInnerHTML":if(ee!=null)throw Error(s(137,i));break;default:ut(n,i,l,ee,a,null)}}Fs(n,m,w,N,G,E,f,!1),Fa(n);return;case"select":He("invalid",n),l=E=m=null;for(f in a)if(a.hasOwnProperty(f)&&(w=a[f],w!=null))switch(f){case"value":m=w;break;case"defaultValue":E=w;break;case"multiple":l=w;default:ut(n,i,f,w,a,null)}i=m,a=E,n.multiple=!!l,i!=null?ui(n,!!l,i,!1):a!=null&&ui(n,!!l,a,!0);return;case"textarea":He("invalid",n),m=f=l=null;for(E in a)if(a.hasOwnProperty(E)&&(w=a[E],w!=null))switch(E){case"value":l=w;break;case"defaultValue":f=w;break;case"children":m=w;break;case"dangerouslySetInnerHTML":if(w!=null)throw Error(s(91));break;default:ut(n,i,E,w,a,null)}Hs(n,l,f,m),Fa(n);return;case"option":for(N in a)if(a.hasOwnProperty(N)&&(l=a[N],l!=null))switch(N){case"selected":n.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:ut(n,i,N,l,a,null)}return;case"dialog":He("beforetoggle",n),He("toggle",n),He("cancel",n),He("close",n);break;case"iframe":case"object":He("load",n);break;case"video":case"audio":for(l=0;l<ql.length;l++)He(ql[l],n);break;case"image":He("error",n),He("load",n);break;case"details":He("toggle",n);break;case"embed":case"source":case"link":He("error",n),He("load",n);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(G in a)if(a.hasOwnProperty(G)&&(l=a[G],l!=null))switch(G){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:ut(n,i,G,l,a,null)}return;default:if(sl(i)){for(ee in a)a.hasOwnProperty(ee)&&(l=a[ee],l!==void 0&&um(n,i,ee,l,a,void 0));return}}for(w in a)a.hasOwnProperty(w)&&(l=a[w],l!=null&&ut(n,i,w,l,a,null))}function b1(n,i,a,l){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,m=null,E=null,w=null,N=null,G=null,ee=null;for($ in a){var ie=a[$];if(a.hasOwnProperty($)&&ie!=null)switch($){case"checked":break;case"value":break;case"defaultValue":N=ie;default:l.hasOwnProperty($)||ut(n,i,$,null,l,ie)}}for(var K in l){var $=l[K];if(ie=a[K],l.hasOwnProperty(K)&&($!=null||ie!=null))switch(K){case"type":m=$;break;case"name":f=$;break;case"checked":G=$;break;case"defaultChecked":ee=$;break;case"value":E=$;break;case"defaultValue":w=$;break;case"children":case"dangerouslySetInnerHTML":if($!=null)throw Error(s(137,i));break;default:$!==ie&&ut(n,i,K,$,l,ie)}}Vn(n,E,w,N,G,ee,m,f);return;case"select":$=E=w=K=null;for(m in a)if(N=a[m],a.hasOwnProperty(m)&&N!=null)switch(m){case"value":break;case"multiple":$=N;default:l.hasOwnProperty(m)||ut(n,i,m,null,l,N)}for(f in l)if(m=l[f],N=a[f],l.hasOwnProperty(f)&&(m!=null||N!=null))switch(f){case"value":K=m;break;case"defaultValue":w=m;break;case"multiple":E=m;default:m!==N&&ut(n,i,f,m,l,N)}i=w,a=E,l=$,K!=null?ui(n,!!a,K,!1):!!l!=!!a&&(i!=null?ui(n,!!a,i,!0):ui(n,!!a,a?[]:"",!1));return;case"textarea":$=K=null;for(w in a)if(f=a[w],a.hasOwnProperty(w)&&f!=null&&!l.hasOwnProperty(w))switch(w){case"value":break;case"children":break;default:ut(n,i,w,null,l,f)}for(E in l)if(f=l[E],m=a[E],l.hasOwnProperty(E)&&(f!=null||m!=null))switch(E){case"value":K=f;break;case"defaultValue":$=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(s(91));break;default:f!==m&&ut(n,i,E,f,l,m)}ot(n,K,$);return;case"option":for(var Ne in a)if(K=a[Ne],a.hasOwnProperty(Ne)&&K!=null&&!l.hasOwnProperty(Ne))switch(Ne){case"selected":n.selected=!1;break;default:ut(n,i,Ne,null,l,K)}for(N in l)if(K=l[N],$=a[N],l.hasOwnProperty(N)&&K!==$&&(K!=null||$!=null))switch(N){case"selected":n.selected=K&&typeof K!="function"&&typeof K!="symbol";break;default:ut(n,i,N,K,l,$)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ae in a)K=a[Ae],a.hasOwnProperty(Ae)&&K!=null&&!l.hasOwnProperty(Ae)&&ut(n,i,Ae,null,l,K);for(G in l)if(K=l[G],$=a[G],l.hasOwnProperty(G)&&K!==$&&(K!=null||$!=null))switch(G){case"children":case"dangerouslySetInnerHTML":if(K!=null)throw Error(s(137,i));break;default:ut(n,i,G,K,l,$)}return;default:if(sl(i)){for(var ct in a)K=a[ct],a.hasOwnProperty(ct)&&K!==void 0&&!l.hasOwnProperty(ct)&&um(n,i,ct,void 0,l,K);for(ee in l)K=l[ee],$=a[ee],!l.hasOwnProperty(ee)||K===$||K===void 0&&$===void 0||um(n,i,ee,K,l,$);return}}for(var B in a)K=a[B],a.hasOwnProperty(B)&&K!=null&&!l.hasOwnProperty(B)&&ut(n,i,B,null,l,K);for(ie in l)K=l[ie],$=a[ie],!l.hasOwnProperty(ie)||K===$||K==null&&$==null||ut(n,i,ie,K,l,$)}var cm=null,hm=null;function Zc(n){return n.nodeType===9?n:n.ownerDocument}function T_(n){switch(n){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function w_(n,i){if(n===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return n===1&&i==="foreignObject"?0:n}function fm(n,i){return n==="textarea"||n==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var dm=null;function E1(){var n=window.event;return n&&n.type==="popstate"?n===dm?!1:(dm=n,!0):(dm=null,!1)}var S_=typeof setTimeout=="function"?setTimeout:void 0,T1=typeof clearTimeout=="function"?clearTimeout:void 0,A_=typeof Promise=="function"?Promise:void 0,w1=typeof queueMicrotask=="function"?queueMicrotask:typeof A_<"u"?function(n){return A_.resolve(null).then(n).catch(S1)}:S_;function S1(n){setTimeout(function(){throw n})}function os(n){return n==="head"}function R_(n,i){var a=i,l=0,f=0;do{var m=a.nextSibling;if(n.removeChild(a),m&&m.nodeType===8)if(a=m.data,a==="/$"){if(0<l&&8>l){a=l;var E=n.ownerDocument;if(a&1&&Hl(E.documentElement),a&2&&Hl(E.body),a&4)for(a=E.head,Hl(a),E=a.firstChild;E;){var w=E.nextSibling,N=E.nodeName;E[zs]||N==="SCRIPT"||N==="STYLE"||N==="LINK"&&E.rel.toLowerCase()==="stylesheet"||a.removeChild(E),E=w}}if(f===0){n.removeChild(m),Zl(i);return}f--}else a==="$"||a==="$?"||a==="$!"?f++:l=a.charCodeAt(0)-48;else l=0;a=m}while(a);Zl(i)}function mm(n){var i=n.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var a=i;switch(i=i.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":mm(a),qi(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}n.removeChild(a)}}function A1(n,i,a,l){for(;n.nodeType===1;){var f=a;if(n.nodeName.toLowerCase()!==i.toLowerCase()){if(!l&&(n.nodeName!=="INPUT"||n.type!=="hidden"))break}else if(l){if(!n[zs])switch(i){case"meta":if(!n.hasAttribute("itemprop"))break;return n;case"link":if(m=n.getAttribute("rel"),m==="stylesheet"&&n.hasAttribute("data-precedence"))break;if(m!==f.rel||n.getAttribute("href")!==(f.href==null||f.href===""?null:f.href)||n.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||n.getAttribute("title")!==(f.title==null?null:f.title))break;return n;case"style":if(n.hasAttribute("data-precedence"))break;return n;case"script":if(m=n.getAttribute("src"),(m!==(f.src==null?null:f.src)||n.getAttribute("type")!==(f.type==null?null:f.type)||n.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&m&&n.hasAttribute("async")&&!n.hasAttribute("itemprop"))break;return n;default:return n}}else if(i==="input"&&n.type==="hidden"){var m=f.name==null?null:""+f.name;if(f.type==="hidden"&&n.getAttribute("name")===m)return n}else return n;if(n=fr(n.nextSibling),n===null)break}return null}function R1(n,i,a){if(i==="")return null;for(;n.nodeType!==3;)if((n.nodeType!==1||n.nodeName!=="INPUT"||n.type!=="hidden")&&!a||(n=fr(n.nextSibling),n===null))return null;return n}function pm(n){return n.data==="$!"||n.data==="$?"&&n.ownerDocument.readyState==="complete"}function C1(n,i){var a=n.ownerDocument;if(n.data!=="$?"||a.readyState==="complete")i();else{var l=function(){i(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),n._reactRetry=l}}function fr(n){for(;n!=null;n=n.nextSibling){var i=n.nodeType;if(i===1||i===3)break;if(i===8){if(i=n.data,i==="$"||i==="$!"||i==="$?"||i==="F!"||i==="F")break;if(i==="/$")return null}}return n}var gm=null;function C_(n){n=n.previousSibling;for(var i=0;n;){if(n.nodeType===8){var a=n.data;if(a==="$"||a==="$!"||a==="$?"){if(i===0)return n;i--}else a==="/$"&&i++}n=n.previousSibling}return null}function I_(n,i,a){switch(i=Zc(a),n){case"html":if(n=i.documentElement,!n)throw Error(s(452));return n;case"head":if(n=i.head,!n)throw Error(s(453));return n;case"body":if(n=i.body,!n)throw Error(s(454));return n;default:throw Error(s(451))}}function Hl(n){for(var i=n.attributes;i.length;)n.removeAttributeNode(i[0]);qi(n)}var nr=new Map,x_=new Set;function Jc(n){return typeof n.getRootNode=="function"?n.getRootNode():n.nodeType===9?n:n.ownerDocument}var Ii=ue.d;ue.d={f:I1,r:x1,D:D1,C:N1,L:O1,m:k1,X:P1,S:M1,M:V1};function I1(){var n=Ii.f(),i=Hc();return n||i}function x1(n){var i=br(n);i!==null&&i.tag===5&&i.type==="form"?Yy(i):Ii.r(n)}var Ao=typeof document>"u"?null:document;function D_(n,i,a){var l=Ao;if(l&&typeof i=="string"&&i){var f=Vt(i);f='link[rel="'+n+'"][href="'+f+'"]',typeof a=="string"&&(f+='[crossorigin="'+a+'"]'),x_.has(f)||(x_.add(f),n={rel:n,crossOrigin:a,href:i},l.querySelector(f)===null&&(i=l.createElement("link"),ln(i,"link",n),Dt(i),l.head.appendChild(i)))}}function D1(n){Ii.D(n),D_("dns-prefetch",n,null)}function N1(n,i){Ii.C(n,i),D_("preconnect",n,i)}function O1(n,i,a){Ii.L(n,i,a);var l=Ao;if(l&&n&&i){var f='link[rel="preload"][as="'+Vt(i)+'"]';i==="image"&&a&&a.imageSrcSet?(f+='[imagesrcset="'+Vt(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(f+='[imagesizes="'+Vt(a.imageSizes)+'"]')):f+='[href="'+Vt(n)+'"]';var m=f;switch(i){case"style":m=Ro(n);break;case"script":m=Co(n)}nr.has(m)||(n=_({rel:"preload",href:i==="image"&&a&&a.imageSrcSet?void 0:n,as:i},a),nr.set(m,n),l.querySelector(f)!==null||i==="style"&&l.querySelector(Gl(m))||i==="script"&&l.querySelector(Kl(m))||(i=l.createElement("link"),ln(i,"link",n),Dt(i),l.head.appendChild(i)))}}function k1(n,i){Ii.m(n,i);var a=Ao;if(a&&n){var l=i&&typeof i.as=="string"?i.as:"script",f='link[rel="modulepreload"][as="'+Vt(l)+'"][href="'+Vt(n)+'"]',m=f;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":m=Co(n)}if(!nr.has(m)&&(n=_({rel:"modulepreload",href:n},i),nr.set(m,n),a.querySelector(f)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Kl(m)))return}l=a.createElement("link"),ln(l,"link",n),Dt(l),a.head.appendChild(l)}}}function M1(n,i,a){Ii.S(n,i,a);var l=Ao;if(l&&n){var f=En(l).hoistableStyles,m=Ro(n);i=i||"default";var E=f.get(m);if(!E){var w={loading:0,preload:null};if(E=l.querySelector(Gl(m)))w.loading=5;else{n=_({rel:"stylesheet",href:n,"data-precedence":i},a),(a=nr.get(m))&&ym(n,a);var N=E=l.createElement("link");Dt(N),ln(N,"link",n),N._p=new Promise(function(G,ee){N.onload=G,N.onerror=ee}),N.addEventListener("load",function(){w.loading|=1}),N.addEventListener("error",function(){w.loading|=2}),w.loading|=4,eh(E,i,l)}E={type:"stylesheet",instance:E,count:1,state:w},f.set(m,E)}}}function P1(n,i){Ii.X(n,i);var a=Ao;if(a&&n){var l=En(a).hoistableScripts,f=Co(n),m=l.get(f);m||(m=a.querySelector(Kl(f)),m||(n=_({src:n,async:!0},i),(i=nr.get(f))&&vm(n,i),m=a.createElement("script"),Dt(m),ln(m,"link",n),a.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},l.set(f,m))}}function V1(n,i){Ii.M(n,i);var a=Ao;if(a&&n){var l=En(a).hoistableScripts,f=Co(n),m=l.get(f);m||(m=a.querySelector(Kl(f)),m||(n=_({src:n,async:!0,type:"module"},i),(i=nr.get(f))&&vm(n,i),m=a.createElement("script"),Dt(m),ln(m,"link",n),a.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},l.set(f,m))}}function N_(n,i,a,l){var f=(f=me.current)?Jc(f):null;if(!f)throw Error(s(446));switch(n){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(i=Ro(a.href),a=En(f).hoistableStyles,l=a.get(i),l||(l={type:"style",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){n=Ro(a.href);var m=En(f).hoistableStyles,E=m.get(n);if(E||(f=f.ownerDocument||f,E={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},m.set(n,E),(m=f.querySelector(Gl(n)))&&!m._p&&(E.instance=m,E.state.loading=5),nr.has(n)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},nr.set(n,a),m||L1(f,n,a,E.state))),i&&l===null)throw Error(s(528,""));return E}if(i&&l!==null)throw Error(s(529,""));return null;case"script":return i=a.async,a=a.src,typeof a=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=Co(a),a=En(f).hoistableScripts,l=a.get(i),l||(l={type:"script",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,n))}}function Ro(n){return'href="'+Vt(n)+'"'}function Gl(n){return'link[rel="stylesheet"]['+n+"]"}function O_(n){return _({},n,{"data-precedence":n.precedence,precedence:null})}function L1(n,i,a,l){n.querySelector('link[rel="preload"][as="style"]['+i+"]")?l.loading=1:(i=n.createElement("link"),l.preload=i,i.addEventListener("load",function(){return l.loading|=1}),i.addEventListener("error",function(){return l.loading|=2}),ln(i,"link",a),Dt(i),n.head.appendChild(i))}function Co(n){return'[src="'+Vt(n)+'"]'}function Kl(n){return"script[async]"+n}function k_(n,i,a){if(i.count++,i.instance===null)switch(i.type){case"style":var l=n.querySelector('style[data-href~="'+Vt(a.href)+'"]');if(l)return i.instance=l,Dt(l),l;var f=_({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(n.ownerDocument||n).createElement("style"),Dt(l),ln(l,"style",f),eh(l,a.precedence,n),i.instance=l;case"stylesheet":f=Ro(a.href);var m=n.querySelector(Gl(f));if(m)return i.state.loading|=4,i.instance=m,Dt(m),m;l=O_(a),(f=nr.get(f))&&ym(l,f),m=(n.ownerDocument||n).createElement("link"),Dt(m);var E=m;return E._p=new Promise(function(w,N){E.onload=w,E.onerror=N}),ln(m,"link",l),i.state.loading|=4,eh(m,a.precedence,n),i.instance=m;case"script":return m=Co(a.src),(f=n.querySelector(Kl(m)))?(i.instance=f,Dt(f),f):(l=a,(f=nr.get(m))&&(l=_({},a),vm(l,f)),n=n.ownerDocument||n,f=n.createElement("script"),Dt(f),ln(f,"link",l),n.head.appendChild(f),i.instance=f);case"void":return null;default:throw Error(s(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(l=i.instance,i.state.loading|=4,eh(l,a.precedence,n));return i.instance}function eh(n,i,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=l.length?l[l.length-1]:null,m=f,E=0;E<l.length;E++){var w=l[E];if(w.dataset.precedence===i)m=w;else if(m!==f)break}m?m.parentNode.insertBefore(n,m.nextSibling):(i=a.nodeType===9?a.head:a,i.insertBefore(n,i.firstChild))}function ym(n,i){n.crossOrigin==null&&(n.crossOrigin=i.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=i.referrerPolicy),n.title==null&&(n.title=i.title)}function vm(n,i){n.crossOrigin==null&&(n.crossOrigin=i.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=i.referrerPolicy),n.integrity==null&&(n.integrity=i.integrity)}var th=null;function M_(n,i,a){if(th===null){var l=new Map,f=th=new Map;f.set(a,l)}else f=th,l=f.get(a),l||(l=new Map,f.set(a,l));if(l.has(n))return l;for(l.set(n,null),a=a.getElementsByTagName(n),f=0;f<a.length;f++){var m=a[f];if(!(m[zs]||m[_t]||n==="link"&&m.getAttribute("rel")==="stylesheet")&&m.namespaceURI!=="http://www.w3.org/2000/svg"){var E=m.getAttribute(i)||"";E=n+E;var w=l.get(E);w?w.push(m):l.set(E,[m])}}return l}function P_(n,i,a){n=n.ownerDocument||n,n.head.insertBefore(a,i==="title"?n.querySelector("head > title"):null)}function U1(n,i,a){if(a===1||i.itemProp!=null)return!1;switch(n){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return n=i.disabled,typeof i.precedence=="string"&&n==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function V_(n){return!(n.type==="stylesheet"&&(n.state.loading&3)===0)}var Ql=null;function z1(){}function j1(n,i,a){if(Ql===null)throw Error(s(475));var l=Ql;if(i.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(i.state.loading&4)===0){if(i.instance===null){var f=Ro(a.href),m=n.querySelector(Gl(f));if(m){n=m._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(l.count++,l=nh.bind(l),n.then(l,l)),i.state.loading|=4,i.instance=m,Dt(m);return}m=n.ownerDocument||n,a=O_(a),(f=nr.get(f))&&ym(a,f),m=m.createElement("link"),Dt(m);var E=m;E._p=new Promise(function(w,N){E.onload=w,E.onerror=N}),ln(m,"link",a),i.instance=m}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(i,n),(n=i.state.preload)&&(i.state.loading&3)===0&&(l.count++,i=nh.bind(l),n.addEventListener("load",i),n.addEventListener("error",i))}}function B1(){if(Ql===null)throw Error(s(475));var n=Ql;return n.stylesheets&&n.count===0&&_m(n,n.stylesheets),0<n.count?function(i){var a=setTimeout(function(){if(n.stylesheets&&_m(n,n.stylesheets),n.unsuspend){var l=n.unsuspend;n.unsuspend=null,l()}},6e4);return n.unsuspend=i,function(){n.unsuspend=null,clearTimeout(a)}}:null}function nh(){if(this.count--,this.count===0){if(this.stylesheets)_m(this,this.stylesheets);else if(this.unsuspend){var n=this.unsuspend;this.unsuspend=null,n()}}}var rh=null;function _m(n,i){n.stylesheets=null,n.unsuspend!==null&&(n.count++,rh=new Map,i.forEach(q1,n),rh=null,nh.call(n))}function q1(n,i){if(!(i.state.loading&4)){var a=rh.get(n);if(a)var l=a.get(null);else{a=new Map,rh.set(n,a);for(var f=n.querySelectorAll("link[data-precedence],style[data-precedence]"),m=0;m<f.length;m++){var E=f[m];(E.nodeName==="LINK"||E.getAttribute("media")!=="not all")&&(a.set(E.dataset.precedence,E),l=E)}l&&a.set(null,l)}f=i.instance,E=f.getAttribute("data-precedence"),m=a.get(E)||l,m===l&&a.set(null,f),a.set(E,f),this.count++,l=nh.bind(this),f.addEventListener("load",l),f.addEventListener("error",l),m?m.parentNode.insertBefore(f,m.nextSibling):(n=n.nodeType===9?n.head:n,n.insertBefore(f,n.firstChild)),i.state.loading|=4}}var $l={$$typeof:Y,Provider:null,Consumer:null,_currentValue:te,_currentValue2:te,_threadCount:0};function F1(n,i,a,l,f,m,E,w){this.tag=1,this.containerInfo=n,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ar(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ar(0),this.hiddenUpdates=ar(null),this.identifierPrefix=l,this.onUncaughtError=f,this.onCaughtError=m,this.onRecoverableError=E,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=w,this.incompleteTransitions=new Map}function L_(n,i,a,l,f,m,E,w,N,G,ee,ie){return n=new F1(n,i,a,E,w,N,G,ie),i=1,m===!0&&(i|=24),m=Un(3,null,null,i),n.current=m,m.stateNode=n,i=ed(),i.refCount++,n.pooledCache=i,i.refCount++,m.memoizedState={element:l,isDehydrated:a,cache:i},id(m),n}function U_(n){return n?(n=ro,n):ro}function z_(n,i,a,l,f,m){f=U_(f),l.context===null?l.context=f:l.pendingContext=f,l=$i(i),l.payload={element:a},m=m===void 0?null:m,m!==null&&(l.callback=m),a=Yi(n,l,i),a!==null&&(Fn(a,n,i),Sl(a,n,i))}function j_(n,i){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var a=n.retryLane;n.retryLane=a!==0&&a<i?a:i}}function bm(n,i){j_(n,i),(n=n.alternate)&&j_(n,i)}function B_(n){if(n.tag===13){var i=no(n,67108864);i!==null&&Fn(i,n,67108864),bm(n,67108864)}}var ih=!0;function H1(n,i,a,l){var f=q.T;q.T=null;var m=ue.p;try{ue.p=2,Em(n,i,a,l)}finally{ue.p=m,q.T=f}}function G1(n,i,a,l){var f=q.T;q.T=null;var m=ue.p;try{ue.p=8,Em(n,i,a,l)}finally{ue.p=m,q.T=f}}function Em(n,i,a,l){if(ih){var f=Tm(l);if(f===null)lm(n,i,l,sh,a),F_(n,l);else if(Q1(f,n,i,a,l))l.stopPropagation();else if(F_(n,l),i&4&&-1<K1.indexOf(n)){for(;f!==null;){var m=br(f);if(m!==null)switch(m.tag){case 3:if(m=m.stateNode,m.current.memoizedState.isDehydrated){var E=Cn(m.pendingLanes);if(E!==0){var w=m;for(w.pendingLanes|=2,w.entangledLanes|=2;E;){var N=1<<31-Mt(E);w.entanglements[1]|=N,E&=~N}Mr(m),(st&6)===0&&(qc=Yt()+500,Bl(0))}}break;case 13:w=no(m,2),w!==null&&Fn(w,m,2),Hc(),bm(m,2)}if(m=Tm(l),m===null&&lm(n,i,l,sh,a),m===f)break;f=m}f!==null&&l.stopPropagation()}else lm(n,i,l,null,a)}}function Tm(n){return n=Qn(n),wm(n)}var sh=null;function wm(n){if(sh=null,n=ai(n),n!==null){var i=u(n);if(i===null)n=null;else{var a=i.tag;if(a===13){if(n=h(i),n!==null)return n;n=null}else if(a===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;n=null}else i!==n&&(n=null)}}return sh=n,null}function q_(n){switch(n){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Va()){case bn:return 2;case zi:return 8;case Jr:case nn:return 32;case Mn:return 268435456;default:return 32}default:return 32}}var Sm=!1,ls=null,us=null,cs=null,Yl=new Map,Xl=new Map,hs=[],K1="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function F_(n,i){switch(n){case"focusin":case"focusout":ls=null;break;case"dragenter":case"dragleave":us=null;break;case"mouseover":case"mouseout":cs=null;break;case"pointerover":case"pointerout":Yl.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":Xl.delete(i.pointerId)}}function Wl(n,i,a,l,f,m){return n===null||n.nativeEvent!==m?(n={blockedOn:i,domEventName:a,eventSystemFlags:l,nativeEvent:m,targetContainers:[f]},i!==null&&(i=br(i),i!==null&&B_(i)),n):(n.eventSystemFlags|=l,i=n.targetContainers,f!==null&&i.indexOf(f)===-1&&i.push(f),n)}function Q1(n,i,a,l,f){switch(i){case"focusin":return ls=Wl(ls,n,i,a,l,f),!0;case"dragenter":return us=Wl(us,n,i,a,l,f),!0;case"mouseover":return cs=Wl(cs,n,i,a,l,f),!0;case"pointerover":var m=f.pointerId;return Yl.set(m,Wl(Yl.get(m)||null,n,i,a,l,f)),!0;case"gotpointercapture":return m=f.pointerId,Xl.set(m,Wl(Xl.get(m)||null,n,i,a,l,f)),!0}return!1}function H_(n){var i=ai(n.target);if(i!==null){var a=u(i);if(a!==null){if(i=a.tag,i===13){if(i=h(a),i!==null){n.blockedOn=i,Ct(n.priority,function(){if(a.tag===13){var l=qn();l=yt(l);var f=no(a,l);f!==null&&Fn(f,a,l),bm(a,l)}});return}}else if(i===3&&a.stateNode.current.memoizedState.isDehydrated){n.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}n.blockedOn=null}function ah(n){if(n.blockedOn!==null)return!1;for(var i=n.targetContainers;0<i.length;){var a=Tm(n.nativeEvent);if(a===null){a=n.nativeEvent;var l=new a.constructor(a.type,a);ci=l,a.target.dispatchEvent(l),ci=null}else return i=br(a),i!==null&&B_(i),n.blockedOn=a,!1;i.shift()}return!0}function G_(n,i,a){ah(n)&&a.delete(i)}function $1(){Sm=!1,ls!==null&&ah(ls)&&(ls=null),us!==null&&ah(us)&&(us=null),cs!==null&&ah(cs)&&(cs=null),Yl.forEach(G_),Xl.forEach(G_)}function oh(n,i){n.blockedOn===i&&(n.blockedOn=null,Sm||(Sm=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,$1)))}var lh=null;function K_(n){lh!==n&&(lh=n,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){lh===n&&(lh=null);for(var i=0;i<n.length;i+=3){var a=n[i],l=n[i+1],f=n[i+2];if(typeof l!="function"){if(wm(l||a)===null)continue;break}var m=br(a);m!==null&&(n.splice(i,3),i-=3,wd(m,{pending:!0,data:f,method:a.method,action:l},l,f))}}))}function Zl(n){function i(N){return oh(N,n)}ls!==null&&oh(ls,n),us!==null&&oh(us,n),cs!==null&&oh(cs,n),Yl.forEach(i),Xl.forEach(i);for(var a=0;a<hs.length;a++){var l=hs[a];l.blockedOn===n&&(l.blockedOn=null)}for(;0<hs.length&&(a=hs[0],a.blockedOn===null);)H_(a),a.blockedOn===null&&hs.shift();if(a=(n.ownerDocument||n).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var f=a[l],m=a[l+1],E=f[Je]||null;if(typeof m=="function")E||K_(a);else if(E){var w=null;if(m&&m.hasAttribute("formAction")){if(f=m,E=m[Je]||null)w=E.formAction;else if(wm(f)!==null)continue}else w=E.action;typeof w=="function"?a[l+1]=w:(a.splice(l,3),l-=3),K_(a)}}}function Am(n){this._internalRoot=n}uh.prototype.render=Am.prototype.render=function(n){var i=this._internalRoot;if(i===null)throw Error(s(409));var a=i.current,l=qn();z_(a,l,n,i,null,null)},uh.prototype.unmount=Am.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var i=n.containerInfo;z_(n.current,2,null,n,null,null),Hc(),i[bt]=null}};function uh(n){this._internalRoot=n}uh.prototype.unstable_scheduleHydration=function(n){if(n){var i=Pn();n={blockedOn:null,target:n,priority:i};for(var a=0;a<hs.length&&i!==0&&i<hs[a].priority;a++);hs.splice(a,0,n),a===0&&H_(n)}};var Q_=e.version;if(Q_!=="19.1.0")throw Error(s(527,Q_,"19.1.0"));ue.findDOMNode=function(n){var i=n._reactInternals;if(i===void 0)throw typeof n.render=="function"?Error(s(188)):(n=Object.keys(n).join(","),Error(s(268,n)));return n=p(i),n=n!==null?g(n):null,n=n===null?null:n.stateNode,n};var Y1={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:q,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ch=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ch.isDisabled&&ch.supportsFiber)try{ht=ch.inject(Y1),tt=ch}catch{}}return eu.createRoot=function(n,i){if(!o(n))throw Error(s(299));var a=!1,l="",f=uv,m=cv,E=hv,w=null;return i!=null&&(i.unstable_strictMode===!0&&(a=!0),i.identifierPrefix!==void 0&&(l=i.identifierPrefix),i.onUncaughtError!==void 0&&(f=i.onUncaughtError),i.onCaughtError!==void 0&&(m=i.onCaughtError),i.onRecoverableError!==void 0&&(E=i.onRecoverableError),i.unstable_transitionCallbacks!==void 0&&(w=i.unstable_transitionCallbacks)),i=L_(n,1,!1,null,null,a,l,f,m,E,w,null),n[bt]=i.current,om(n),new Am(i)},eu.hydrateRoot=function(n,i,a){if(!o(n))throw Error(s(299));var l=!1,f="",m=uv,E=cv,w=hv,N=null,G=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(f=a.identifierPrefix),a.onUncaughtError!==void 0&&(m=a.onUncaughtError),a.onCaughtError!==void 0&&(E=a.onCaughtError),a.onRecoverableError!==void 0&&(w=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(N=a.unstable_transitionCallbacks),a.formState!==void 0&&(G=a.formState)),i=L_(n,1,!0,i,a??null,l,f,m,E,w,N,G),i.context=U_(null),a=i.current,l=qn(),l=yt(l),f=$i(l),f.callback=null,Yi(a,f,l),a=l,i.current.lanes=a,Gn(i,a),Mr(i),n[bt]=i.current,om(n),new uh(i)},eu.version="19.1.0",eu}var r0;function iA(){if(r0)return Cm.exports;r0=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),Cm.exports=rA(),Cm.exports}var sA=iA(),U=Np();const de=cE(U);var aA=hE();const oA=cE(aA);function lA(r){if(typeof document>"u")return;let e=document.head||document.getElementsByTagName("head")[0],t=document.createElement("style");t.type="text/css",e.appendChild(t),t.styleSheet?t.styleSheet.cssText=r:t.appendChild(document.createTextNode(r))}const uA=r=>{switch(r){case"success":return fA;case"info":return mA;case"warning":return dA;case"error":return pA;default:return null}},cA=Array(12).fill(0),hA=({visible:r,className:e})=>de.createElement("div",{className:["sonner-loading-wrapper",e].filter(Boolean).join(" "),"data-visible":r},de.createElement("div",{className:"sonner-spinner"},cA.map((t,s)=>de.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${s}`})))),fA=de.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},de.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),dA=de.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},de.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),mA=de.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},de.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),pA=de.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},de.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),gA=de.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},de.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),de.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),yA=()=>{const[r,e]=de.useState(document.hidden);return de.useEffect(()=>{const t=()=>{e(document.hidden)};return document.addEventListener("visibilitychange",t),()=>window.removeEventListener("visibilitychange",t)},[]),r};let Ym=1;class vA{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{const t=this.subscribers.indexOf(e);this.subscribers.splice(t,1)}),this.publish=e=>{this.subscribers.forEach(t=>t(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var t;const{message:s,...o}=e,u=typeof e?.id=="number"||((t=e.id)==null?void 0:t.length)>0?e.id:Ym++,h=this.toasts.find(p=>p.id===u),d=e.dismissible===void 0?!0:e.dismissible;return this.dismissedToasts.has(u)&&this.dismissedToasts.delete(u),h?this.toasts=this.toasts.map(p=>p.id===u?(this.publish({...p,...e,id:u,title:s}),{...p,...e,id:u,dismissible:d,title:s}):p):this.addToast({title:s,...o,dismissible:d,id:u}),u},this.dismiss=e=>(e?(this.dismissedToasts.add(e),requestAnimationFrame(()=>this.subscribers.forEach(t=>t({id:e,dismiss:!0})))):this.toasts.forEach(t=>{this.subscribers.forEach(s=>s({id:t.id,dismiss:!0}))}),e),this.message=(e,t)=>this.create({...t,message:e}),this.error=(e,t)=>this.create({...t,message:e,type:"error"}),this.success=(e,t)=>this.create({...t,type:"success",message:e}),this.info=(e,t)=>this.create({...t,type:"info",message:e}),this.warning=(e,t)=>this.create({...t,type:"warning",message:e}),this.loading=(e,t)=>this.create({...t,type:"loading",message:e}),this.promise=(e,t)=>{if(!t)return;let s;t.loading!==void 0&&(s=this.create({...t,promise:e,type:"loading",message:t.loading,description:typeof t.description!="function"?t.description:void 0}));const o=Promise.resolve(e instanceof Function?e():e);let u=s!==void 0,h;const d=o.then(async g=>{if(h=["resolve",g],de.isValidElement(g))u=!1,this.create({id:s,type:"default",message:g});else if(bA(g)&&!g.ok){u=!1;const v=typeof t.error=="function"?await t.error(`HTTP error! status: ${g.status}`):t.error,T=typeof t.description=="function"?await t.description(`HTTP error! status: ${g.status}`):t.description,C=typeof v=="object"&&!de.isValidElement(v)?v:{message:v};this.create({id:s,type:"error",description:T,...C})}else if(g instanceof Error){u=!1;const v=typeof t.error=="function"?await t.error(g):t.error,T=typeof t.description=="function"?await t.description(g):t.description,C=typeof v=="object"&&!de.isValidElement(v)?v:{message:v};this.create({id:s,type:"error",description:T,...C})}else if(t.success!==void 0){u=!1;const v=typeof t.success=="function"?await t.success(g):t.success,T=typeof t.description=="function"?await t.description(g):t.description,C=typeof v=="object"&&!de.isValidElement(v)?v:{message:v};this.create({id:s,type:"success",description:T,...C})}}).catch(async g=>{if(h=["reject",g],t.error!==void 0){u=!1;const _=typeof t.error=="function"?await t.error(g):t.error,v=typeof t.description=="function"?await t.description(g):t.description,I=typeof _=="object"&&!de.isValidElement(_)?_:{message:_};this.create({id:s,type:"error",description:v,...I})}}).finally(()=>{u&&(this.dismiss(s),s=void 0),t.finally==null||t.finally.call(t)}),p=()=>new Promise((g,_)=>d.then(()=>h[0]==="reject"?_(h[1]):g(h[1])).catch(_));return typeof s!="string"&&typeof s!="number"?{unwrap:p}:Object.assign(s,{unwrap:p})},this.custom=(e,t)=>{const s=t?.id||Ym++;return this.create({jsx:e(s),id:s,...t}),s},this.getActiveToasts=()=>this.toasts.filter(e=>!this.dismissedToasts.has(e.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}}const On=new vA,_A=(r,e)=>{const t=e?.id||Ym++;return On.addToast({title:r,...e,id:t}),t},bA=r=>r&&typeof r=="object"&&"ok"in r&&typeof r.ok=="boolean"&&"status"in r&&typeof r.status=="number",EA=_A,TA=()=>On.toasts,wA=()=>On.getActiveToasts(),iu=Object.assign(EA,{success:On.success,info:On.info,warning:On.warning,error:On.error,custom:On.custom,message:On.message,promise:On.promise,dismiss:On.dismiss,loading:On.loading},{getHistory:TA,getToasts:wA});lA("[data-sonner-toaster][dir=ltr],html[dir=ltr]{--toast-icon-margin-start:-3px;--toast-icon-margin-end:4px;--toast-svg-margin-start:-1px;--toast-svg-margin-end:0px;--toast-button-margin-start:auto;--toast-button-margin-end:0;--toast-close-button-start:0;--toast-close-button-end:unset;--toast-close-button-transform:translate(-35%, -35%)}[data-sonner-toaster][dir=rtl],html[dir=rtl]{--toast-icon-margin-start:4px;--toast-icon-margin-end:-3px;--toast-svg-margin-start:0px;--toast-svg-margin-end:-1px;--toast-button-margin-start:0;--toast-button-margin-end:auto;--toast-close-button-start:unset;--toast-close-button-end:0;--toast-close-button-transform:translate(35%, -35%)}[data-sonner-toaster]{position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1:hsl(0, 0%, 99%);--gray2:hsl(0, 0%, 97.3%);--gray3:hsl(0, 0%, 95.1%);--gray4:hsl(0, 0%, 93%);--gray5:hsl(0, 0%, 90.9%);--gray6:hsl(0, 0%, 88.7%);--gray7:hsl(0, 0%, 85.8%);--gray8:hsl(0, 0%, 78%);--gray9:hsl(0, 0%, 56.1%);--gray10:hsl(0, 0%, 52.3%);--gray11:hsl(0, 0%, 43.5%);--gray12:hsl(0, 0%, 9%);--border-radius:8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:0;z-index:999999999;transition:transform .4s ease}@media (hover:none) and (pointer:coarse){[data-sonner-toaster][data-lifted=true]{transform:none}}[data-sonner-toaster][data-x-position=right]{right:var(--offset-right)}[data-sonner-toaster][data-x-position=left]{left:var(--offset-left)}[data-sonner-toaster][data-x-position=center]{left:50%;transform:translateX(-50%)}[data-sonner-toaster][data-y-position=top]{top:var(--offset-top)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--offset-bottom)}[data-sonner-toast]{--y:translateY(100%);--lift-amount:calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:0;overflow-wrap:anywhere}[data-sonner-toast][data-styled=true]{padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px rgba(0,0,0,.1);width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}[data-sonner-toast]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-y-position=top]{top:0;--y:translateY(-100%);--lift:1;--lift-amount:calc(1 * var(--gap))}[data-sonner-toast][data-y-position=bottom]{bottom:0;--y:translateY(100%);--lift:-1;--lift-amount:calc(var(--lift) * var(--gap))}[data-sonner-toast][data-styled=true] [data-description]{font-weight:400;line-height:1.4;color:#3f3f3f}[data-rich-colors=true][data-sonner-toast][data-styled=true] [data-description]{color:inherit}[data-sonner-toaster][data-sonner-theme=dark] [data-description]{color:#e8e8e8}[data-sonner-toast][data-styled=true] [data-title]{font-weight:500;line-height:1.5;color:inherit}[data-sonner-toast][data-styled=true] [data-icon]{display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}[data-sonner-toast][data-promise=true] [data-icon]>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}[data-sonner-toast][data-styled=true] [data-icon]>*{flex-shrink:0}[data-sonner-toast][data-styled=true] [data-icon] svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}[data-sonner-toast][data-styled=true] [data-content]{display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;font-weight:500;cursor:pointer;outline:0;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}[data-sonner-toast][data-styled=true] [data-button]:focus-visible{box-shadow:0 0 0 2px rgba(0,0,0,.4)}[data-sonner-toast][data-styled=true] [data-button]:first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}[data-sonner-toast][data-styled=true] [data-cancel]{color:var(--normal-text);background:rgba(0,0,0,.08)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-styled=true] [data-cancel]{background:rgba(255,255,255,.3)}[data-sonner-toast][data-styled=true] [data-close-button]{position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);background:var(--normal-bg);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast][data-styled=true] [data-close-button]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-styled=true] [data-disabled=true]{cursor:not-allowed}[data-sonner-toast][data-styled=true]:hover [data-close-button]:hover{background:var(--gray2);border-color:var(--gray5)}[data-sonner-toast][data-swiping=true]::before{content:'';position:absolute;left:-100%;right:-100%;height:100%;z-index:-1}[data-sonner-toast][data-y-position=top][data-swiping=true]::before{bottom:50%;transform:scaleY(3) translateY(50%)}[data-sonner-toast][data-y-position=bottom][data-swiping=true]::before{top:50%;transform:scaleY(3) translateY(-50%)}[data-sonner-toast][data-swiping=false][data-removed=true]::before{content:'';position:absolute;inset:0;transform:scaleY(2)}[data-sonner-toast][data-expanded=true]::after{content:'';position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}[data-sonner-toast][data-mounted=true]{--y:translateY(0);opacity:1}[data-sonner-toast][data-expanded=false][data-front=false]{--scale:var(--toasts-before) * 0.05 + 1;--y:translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}[data-sonner-toast]>*{transition:opacity .4s}[data-sonner-toast][data-x-position=right]{right:0}[data-sonner-toast][data-x-position=left]{left:0}[data-sonner-toast][data-expanded=false][data-front=false][data-styled=true]>*{opacity:0}[data-sonner-toast][data-visible=false]{opacity:0;pointer-events:none}[data-sonner-toast][data-mounted=true][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}[data-sonner-toast][data-removed=true][data-front=true][data-swipe-out=false]{--y:translateY(calc(var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=false]{--y:translateY(40%);opacity:0;transition:transform .5s,opacity .2s}[data-sonner-toast][data-removed=true][data-front=false]::before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y,0)) translateX(var(--swipe-amount-x,0));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width:600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-sonner-theme=light]{--normal-bg:#fff;--normal-border:var(--gray4);--normal-text:var(--gray12);--success-bg:hsl(143, 85%, 96%);--success-border:hsl(145, 92%, 87%);--success-text:hsl(140, 100%, 27%);--info-bg:hsl(208, 100%, 97%);--info-border:hsl(221, 91%, 93%);--info-text:hsl(210, 92%, 45%);--warning-bg:hsl(49, 100%, 97%);--warning-border:hsl(49, 91%, 84%);--warning-text:hsl(31, 92%, 45%);--error-bg:hsl(359, 100%, 97%);--error-border:hsl(359, 100%, 94%);--error-text:hsl(360, 100%, 45%)}[data-sonner-toaster][data-sonner-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg:#000;--normal-border:hsl(0, 0%, 20%);--normal-text:var(--gray1)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg:#fff;--normal-border:var(--gray3);--normal-text:var(--gray12)}[data-sonner-toaster][data-sonner-theme=dark]{--normal-bg:#000;--normal-bg-hover:hsl(0, 0%, 12%);--normal-border:hsl(0, 0%, 20%);--normal-border-hover:hsl(0, 0%, 25%);--normal-text:var(--gray1);--success-bg:hsl(150, 100%, 6%);--success-border:hsl(147, 100%, 12%);--success-text:hsl(150, 86%, 65%);--info-bg:hsl(215, 100%, 6%);--info-border:hsl(223, 43%, 17%);--info-text:hsl(216, 87%, 65%);--warning-bg:hsl(64, 100%, 6%);--warning-border:hsl(60, 100%, 9%);--warning-text:hsl(46, 87%, 65%);--error-bg:hsl(358, 76%, 10%);--error-border:hsl(357, 89%, 16%);--error-text:hsl(358, 100%, 81%)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size:16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:first-child{animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}100%{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}100%{opacity:.15}}@media (prefers-reduced-motion){.sonner-loading-bar,[data-sonner-toast],[data-sonner-toast]>*{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}");function hh(r){return r.label!==void 0}const SA=3,AA="24px",RA="16px",i0=4e3,CA=356,IA=14,xA=45,DA=200;function Pr(...r){return r.filter(Boolean).join(" ")}function NA(r){const[e,t]=r.split("-"),s=[];return e&&s.push(e),t&&s.push(t),s}const OA=r=>{var e,t,s,o,u,h,d,p,g;const{invert:_,toast:v,unstyled:T,interacting:I,setHeights:C,visibleToasts:M,heights:x,index:j,toasts:Q,expanded:Y,removeToast:le,defaultRichColors:re,closeButton:ce,style:k,cancelButtonStyle:A,actionButtonStyle:R,className:O="",descriptionClassName:V="",duration:L,position:D,gap:Qe,expandByDefault:Re,classNames:q,icons:ue,closeButtonAriaLabel:te="Close toast"}=r,[Ie,P]=de.useState(null),[Z,oe]=de.useState(null),[J,fe]=de.useState(!1),[we,me]=de.useState(!1),[Oe,je]=de.useState(!1),[Tt,be]=de.useState(!1),[Pe,$e]=de.useState(!1),[gt,Rt]=de.useState(0),[Ps,Vs]=de.useState(0),Yt=de.useRef(v.duration||L||i0),Va=de.useRef(null),bn=de.useRef(null),zi=j===0,Jr=j+1<=M,nn=v.type,Mn=v.dismissible!==!1,Ls=v.className||"",La=v.descriptionClassName||"",ht=de.useMemo(()=>x.findIndex(Se=>Se.toastId===v.id)||0,[x,v.id]),tt=de.useMemo(()=>{var Se;return(Se=v.closeButton)!=null?Se:ce},[v.closeButton,ce]),dn=de.useMemo(()=>v.duration||L||i0,[v.duration,L]),Mt=de.useRef(0),sr=de.useRef(0),Ua=de.useRef(0),Rn=de.useRef(null),[ei,ti]=D.split("-"),Cn=de.useMemo(()=>x.reduce((Se,vt,yt)=>yt>=ht?Se:Se+vt.height,0),[x,ht]),ni=yA(),ri=v.invert||_,ii=nn==="loading";sr.current=de.useMemo(()=>ht*Qe+Cn,[ht,Cn]),de.useEffect(()=>{Yt.current=dn},[dn]),de.useEffect(()=>{fe(!0)},[]),de.useEffect(()=>{const Se=bn.current;if(Se){const vt=Se.getBoundingClientRect().height;return Vs(vt),C(yt=>[{toastId:v.id,height:vt,position:v.position},...yt]),()=>C(yt=>yt.filter(Pt=>Pt.toastId!==v.id))}},[C,v.id]),de.useLayoutEffect(()=>{if(!J)return;const Se=bn.current,vt=Se.style.height;Se.style.height="auto";const yt=Se.getBoundingClientRect().height;Se.style.height=vt,Vs(yt),C(Pt=>Pt.find(Ct=>Ct.toastId===v.id)?Pt.map(Ct=>Ct.toastId===v.id?{...Ct,height:yt}:Ct):[{toastId:v.id,height:yt,position:v.position},...Pt])},[J,v.title,v.description,C,v.id,v.jsx,v.action,v.cancel]);const In=de.useCallback(()=>{me(!0),Rt(sr.current),C(Se=>Se.filter(vt=>vt.toastId!==v.id)),setTimeout(()=>{le(v)},DA)},[v,le,C,sr]);de.useEffect(()=>{if(v.promise&&nn==="loading"||v.duration===1/0||v.type==="loading")return;let Se;return Y||I||ni?(()=>{if(Ua.current<Mt.current){const Pt=new Date().getTime()-Mt.current;Yt.current=Yt.current-Pt}Ua.current=new Date().getTime()})():(()=>{Yt.current!==1/0&&(Mt.current=new Date().getTime(),Se=setTimeout(()=>{v.onAutoClose==null||v.onAutoClose.call(v,v),In()},Yt.current))})(),()=>clearTimeout(Se)},[Y,I,v,nn,ni,In]),de.useEffect(()=>{v.delete&&(In(),v.onDismiss==null||v.onDismiss.call(v,v))},[In,v.delete]);function Us(){var Se;if(ue?.loading){var vt;return de.createElement("div",{className:Pr(q?.loader,v==null||(vt=v.classNames)==null?void 0:vt.loader,"sonner-loader"),"data-visible":nn==="loading"},ue.loading)}return de.createElement(hA,{className:Pr(q?.loader,v==null||(Se=v.classNames)==null?void 0:Se.loader),visible:nn==="loading"})}const ar=v.icon||ue?.[nn]||uA(nn);var Gn,ji;return de.createElement("li",{tabIndex:0,ref:bn,className:Pr(O,Ls,q?.toast,v==null||(e=v.classNames)==null?void 0:e.toast,q?.default,q?.[nn],v==null||(t=v.classNames)==null?void 0:t[nn]),"data-sonner-toast":"","data-rich-colors":(Gn=v.richColors)!=null?Gn:re,"data-styled":!(v.jsx||v.unstyled||T),"data-mounted":J,"data-promise":!!v.promise,"data-swiped":Pe,"data-removed":we,"data-visible":Jr,"data-y-position":ei,"data-x-position":ti,"data-index":j,"data-front":zi,"data-swiping":Oe,"data-dismissible":Mn,"data-type":nn,"data-invert":ri,"data-swipe-out":Tt,"data-swipe-direction":Z,"data-expanded":!!(Y||Re&&J),style:{"--index":j,"--toasts-before":j,"--z-index":Q.length-j,"--offset":`${we?gt:sr.current}px`,"--initial-height":Re?"auto":`${Ps}px`,...k,...v.style},onDragEnd:()=>{je(!1),P(null),Rn.current=null},onPointerDown:Se=>{ii||!Mn||(Va.current=new Date,Rt(sr.current),Se.target.setPointerCapture(Se.pointerId),Se.target.tagName!=="BUTTON"&&(je(!0),Rn.current={x:Se.clientX,y:Se.clientY}))},onPointerUp:()=>{var Se,vt,yt;if(Tt||!Mn)return;Rn.current=null;const Pt=Number(((Se=bn.current)==null?void 0:Se.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),Pn=Number(((vt=bn.current)==null?void 0:vt.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),Ct=new Date().getTime()-((yt=Va.current)==null?void 0:yt.getTime()),qe=Ie==="x"?Pt:Pn,_t=Math.abs(qe)/Ct;if(Math.abs(qe)>=xA||_t>.11){Rt(sr.current),v.onDismiss==null||v.onDismiss.call(v,v),oe(Ie==="x"?Pt>0?"right":"left":Pn>0?"down":"up"),In(),be(!0);return}else{var Je,bt;(Je=bn.current)==null||Je.style.setProperty("--swipe-amount-x","0px"),(bt=bn.current)==null||bt.style.setProperty("--swipe-amount-y","0px")}$e(!1),je(!1),P(null)},onPointerMove:Se=>{var vt,yt,Pt;if(!Rn.current||!Mn||((vt=window.getSelection())==null?void 0:vt.toString().length)>0)return;const Ct=Se.clientY-Rn.current.y,qe=Se.clientX-Rn.current.x;var _t;const Je=(_t=r.swipeDirections)!=null?_t:NA(D);!Ie&&(Math.abs(qe)>1||Math.abs(Ct)>1)&&P(Math.abs(qe)>Math.abs(Ct)?"x":"y");let bt={x:0,y:0};const Bi=or=>1/(1.5+Math.abs(or)/20);if(Ie==="y"){if(Je.includes("top")||Je.includes("bottom"))if(Je.includes("top")&&Ct<0||Je.includes("bottom")&&Ct>0)bt.y=Ct;else{const or=Ct*Bi(Ct);bt.y=Math.abs(or)<Math.abs(Ct)?or:Ct}}else if(Ie==="x"&&(Je.includes("left")||Je.includes("right")))if(Je.includes("left")&&qe<0||Je.includes("right")&&qe>0)bt.x=qe;else{const or=qe*Bi(qe);bt.x=Math.abs(or)<Math.abs(qe)?or:qe}(Math.abs(bt.x)>0||Math.abs(bt.y)>0)&&$e(!0),(yt=bn.current)==null||yt.style.setProperty("--swipe-amount-x",`${bt.x}px`),(Pt=bn.current)==null||Pt.style.setProperty("--swipe-amount-y",`${bt.y}px`)}},tt&&!v.jsx&&nn!=="loading"?de.createElement("button",{"aria-label":te,"data-disabled":ii,"data-close-button":!0,onClick:ii||!Mn?()=>{}:()=>{In(),v.onDismiss==null||v.onDismiss.call(v,v)},className:Pr(q?.closeButton,v==null||(s=v.classNames)==null?void 0:s.closeButton)},(ji=ue?.close)!=null?ji:gA):null,(nn||v.icon||v.promise)&&v.icon!==null&&(ue?.[nn]!==null||v.icon)?de.createElement("div",{"data-icon":"",className:Pr(q?.icon,v==null||(o=v.classNames)==null?void 0:o.icon)},v.promise||v.type==="loading"&&!v.icon?v.icon||Us():null,v.type!=="loading"?ar:null):null,de.createElement("div",{"data-content":"",className:Pr(q?.content,v==null||(u=v.classNames)==null?void 0:u.content)},de.createElement("div",{"data-title":"",className:Pr(q?.title,v==null||(h=v.classNames)==null?void 0:h.title)},v.jsx?v.jsx:typeof v.title=="function"?v.title():v.title),v.description?de.createElement("div",{"data-description":"",className:Pr(V,La,q?.description,v==null||(d=v.classNames)==null?void 0:d.description)},typeof v.description=="function"?v.description():v.description):null),de.isValidElement(v.cancel)?v.cancel:v.cancel&&hh(v.cancel)?de.createElement("button",{"data-button":!0,"data-cancel":!0,style:v.cancelButtonStyle||A,onClick:Se=>{hh(v.cancel)&&Mn&&(v.cancel.onClick==null||v.cancel.onClick.call(v.cancel,Se),In())},className:Pr(q?.cancelButton,v==null||(p=v.classNames)==null?void 0:p.cancelButton)},v.cancel.label):null,de.isValidElement(v.action)?v.action:v.action&&hh(v.action)?de.createElement("button",{"data-button":!0,"data-action":!0,style:v.actionButtonStyle||R,onClick:Se=>{hh(v.action)&&(v.action.onClick==null||v.action.onClick.call(v.action,Se),!Se.defaultPrevented&&In())},className:Pr(q?.actionButton,v==null||(g=v.classNames)==null?void 0:g.actionButton)},v.action.label):null)};function s0(){if(typeof window>"u"||typeof document>"u")return"ltr";const r=document.documentElement.getAttribute("dir");return r==="auto"||!r?window.getComputedStyle(document.documentElement).direction:r}function kA(r,e){const t={};return[r,e].forEach((s,o)=>{const u=o===1,h=u?"--mobile-offset":"--offset",d=u?RA:AA;function p(g){["top","right","bottom","left"].forEach(_=>{t[`${h}-${_}`]=typeof g=="number"?`${g}px`:g})}typeof s=="number"||typeof s=="string"?p(s):typeof s=="object"?["top","right","bottom","left"].forEach(g=>{s[g]===void 0?t[`${h}-${g}`]=d:t[`${h}-${g}`]=typeof s[g]=="number"?`${s[g]}px`:s[g]}):p(d)}),t}const MA=de.forwardRef(function(e,t){const{invert:s,position:o="bottom-right",hotkey:u=["altKey","KeyT"],expand:h,closeButton:d,className:p,offset:g,mobileOffset:_,theme:v="light",richColors:T,duration:I,style:C,visibleToasts:M=SA,toastOptions:x,dir:j=s0(),gap:Q=IA,icons:Y,containerAriaLabel:le="Notifications"}=e,[re,ce]=de.useState([]),k=de.useMemo(()=>Array.from(new Set([o].concat(re.filter(Z=>Z.position).map(Z=>Z.position)))),[re,o]),[A,R]=de.useState([]),[O,V]=de.useState(!1),[L,D]=de.useState(!1),[Qe,Re]=de.useState(v!=="system"?v:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),q=de.useRef(null),ue=u.join("+").replace(/Key/g,"").replace(/Digit/g,""),te=de.useRef(null),Ie=de.useRef(!1),P=de.useCallback(Z=>{ce(oe=>{var J;return(J=oe.find(fe=>fe.id===Z.id))!=null&&J.delete||On.dismiss(Z.id),oe.filter(({id:fe})=>fe!==Z.id)})},[]);return de.useEffect(()=>On.subscribe(Z=>{if(Z.dismiss){requestAnimationFrame(()=>{ce(oe=>oe.map(J=>J.id===Z.id?{...J,delete:!0}:J))});return}setTimeout(()=>{oA.flushSync(()=>{ce(oe=>{const J=oe.findIndex(fe=>fe.id===Z.id);return J!==-1?[...oe.slice(0,J),{...oe[J],...Z},...oe.slice(J+1)]:[Z,...oe]})})})}),[re]),de.useEffect(()=>{if(v!=="system"){Re(v);return}if(v==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?Re("dark"):Re("light")),typeof window>"u")return;const Z=window.matchMedia("(prefers-color-scheme: dark)");try{Z.addEventListener("change",({matches:oe})=>{Re(oe?"dark":"light")})}catch{Z.addListener(({matches:J})=>{try{Re(J?"dark":"light")}catch(fe){console.error(fe)}})}},[v]),de.useEffect(()=>{re.length<=1&&V(!1)},[re]),de.useEffect(()=>{const Z=oe=>{var J;if(u.every(me=>oe[me]||oe.code===me)){var we;V(!0),(we=q.current)==null||we.focus()}oe.code==="Escape"&&(document.activeElement===q.current||(J=q.current)!=null&&J.contains(document.activeElement))&&V(!1)};return document.addEventListener("keydown",Z),()=>document.removeEventListener("keydown",Z)},[u]),de.useEffect(()=>{if(q.current)return()=>{te.current&&(te.current.focus({preventScroll:!0}),te.current=null,Ie.current=!1)}},[q.current]),de.createElement("section",{ref:t,"aria-label":`${le} ${ue}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},k.map((Z,oe)=>{var J;const[fe,we]=Z.split("-");return re.length?de.createElement("ol",{key:Z,dir:j==="auto"?s0():j,tabIndex:-1,ref:q,className:p,"data-sonner-toaster":!0,"data-sonner-theme":Qe,"data-y-position":fe,"data-x-position":we,style:{"--front-toast-height":`${((J=A[0])==null?void 0:J.height)||0}px`,"--width":`${CA}px`,"--gap":`${Q}px`,...C,...kA(g,_)},onBlur:me=>{Ie.current&&!me.currentTarget.contains(me.relatedTarget)&&(Ie.current=!1,te.current&&(te.current.focus({preventScroll:!0}),te.current=null))},onFocus:me=>{me.target instanceof HTMLElement&&me.target.dataset.dismissible==="false"||Ie.current||(Ie.current=!0,te.current=me.relatedTarget)},onMouseEnter:()=>V(!0),onMouseMove:()=>V(!0),onMouseLeave:()=>{L||V(!1)},onDragEnd:()=>V(!1),onPointerDown:me=>{me.target instanceof HTMLElement&&me.target.dataset.dismissible==="false"||D(!0)},onPointerUp:()=>D(!1)},re.filter(me=>!me.position&&oe===0||me.position===Z).map((me,Oe)=>{var je,Tt;return de.createElement(OA,{key:me.id,icons:Y,index:Oe,toast:me,defaultRichColors:T,duration:(je=x?.duration)!=null?je:I,className:x?.className,descriptionClassName:x?.descriptionClassName,invert:s,visibleToasts:M,closeButton:(Tt=x?.closeButton)!=null?Tt:d,interacting:L,position:Z,style:x?.style,unstyled:x?.unstyled,classNames:x?.classNames,cancelButtonStyle:x?.cancelButtonStyle,actionButtonStyle:x?.actionButtonStyle,closeButtonAriaLabel:x?.closeButtonAriaLabel,removeToast:P,toasts:re.filter(be=>be.position==me.position),heights:A.filter(be=>be.position==me.position),setHeights:R,expandByDefault:h,gap:Q,expanded:O,swipeDirections:e.swipeDirections})})):null}))});var of=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(r){return this.listeners.add(r),this.onSubscribe(),()=>{this.listeners.delete(r),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},lf=typeof window>"u"||"Deno"in globalThis;function dr(){}function PA(r,e){return typeof r=="function"?r(e):r}function VA(r){return typeof r=="number"&&r>=0&&r!==1/0}function LA(r,e){return Math.max(r+(e||0)-Date.now(),0)}function Xm(r,e){return typeof r=="function"?r(e):r}function UA(r,e){return typeof r=="function"?r(e):r}function a0(r,e){const{type:t="all",exact:s,fetchStatus:o,predicate:u,queryKey:h,stale:d}=r;if(h){if(s){if(e.queryHash!==Op(h,e.options))return!1}else if(!vu(e.queryKey,h))return!1}if(t!=="all"){const p=e.isActive();if(t==="active"&&!p||t==="inactive"&&p)return!1}return!(typeof d=="boolean"&&e.isStale()!==d||o&&o!==e.state.fetchStatus||u&&!u(e))}function o0(r,e){const{exact:t,status:s,predicate:o,mutationKey:u}=r;if(u){if(!e.options.mutationKey)return!1;if(t){if(yu(e.options.mutationKey)!==yu(u))return!1}else if(!vu(e.options.mutationKey,u))return!1}return!(s&&e.state.status!==s||o&&!o(e))}function Op(r,e){return(e?.queryKeyHashFn||yu)(r)}function yu(r){return JSON.stringify(r,(e,t)=>Wm(t)?Object.keys(t).sort().reduce((s,o)=>(s[o]=t[o],s),{}):t)}function vu(r,e){return r===e?!0:typeof r!=typeof e?!1:r&&e&&typeof r=="object"&&typeof e=="object"?Object.keys(e).every(t=>vu(r[t],e[t])):!1}function fE(r,e){if(r===e)return r;const t=l0(r)&&l0(e);if(t||Wm(r)&&Wm(e)){const s=t?r:Object.keys(r),o=s.length,u=t?e:Object.keys(e),h=u.length,d=t?[]:{},p=new Set(s);let g=0;for(let _=0;_<h;_++){const v=t?_:u[_];(!t&&p.has(v)||t)&&r[v]===void 0&&e[v]===void 0?(d[v]=void 0,g++):(d[v]=fE(r[v],e[v]),d[v]===r[v]&&r[v]!==void 0&&g++)}return o===h&&g===o?r:d}return e}function l0(r){return Array.isArray(r)&&r.length===Object.keys(r).length}function Wm(r){if(!u0(r))return!1;const e=r.constructor;if(e===void 0)return!0;const t=e.prototype;return!(!u0(t)||!t.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(r)!==Object.prototype)}function u0(r){return Object.prototype.toString.call(r)==="[object Object]"}function zA(r){return new Promise(e=>{setTimeout(e,r)})}function jA(r,e,t){return typeof t.structuralSharing=="function"?t.structuralSharing(r,e):t.structuralSharing!==!1?fE(r,e):e}function BA(r,e,t=0){const s=[...r,e];return t&&s.length>t?s.slice(1):s}function qA(r,e,t=0){const s=[e,...r];return t&&s.length>t?s.slice(0,-1):s}var kp=Symbol();function dE(r,e){return!r.queryFn&&e?.initialPromise?()=>e.initialPromise:!r.queryFn||r.queryFn===kp?()=>Promise.reject(new Error(`Missing queryFn: '${r.queryHash}'`)):r.queryFn}var FA=class extends of{#e;#t;#n;constructor(){super(),this.#n=r=>{if(!lf&&window.addEventListener){const e=()=>r();return window.addEventListener("visibilitychange",e,!1),()=>{window.removeEventListener("visibilitychange",e)}}}}onSubscribe(){this.#t||this.setEventListener(this.#n)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(r){this.#n=r,this.#t?.(),this.#t=r(e=>{typeof e=="boolean"?this.setFocused(e):this.onFocus()})}setFocused(r){this.#e!==r&&(this.#e=r,this.onFocus())}onFocus(){const r=this.isFocused();this.listeners.forEach(e=>{e(r)})}isFocused(){return typeof this.#e=="boolean"?this.#e:globalThis.document?.visibilityState!=="hidden"}},mE=new FA,HA=class extends of{#e=!0;#t;#n;constructor(){super(),this.#n=r=>{if(!lf&&window.addEventListener){const e=()=>r(!0),t=()=>r(!1);return window.addEventListener("online",e,!1),window.addEventListener("offline",t,!1),()=>{window.removeEventListener("online",e),window.removeEventListener("offline",t)}}}}onSubscribe(){this.#t||this.setEventListener(this.#n)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(r){this.#n=r,this.#t?.(),this.#t=r(this.setOnline.bind(this))}setOnline(r){this.#e!==r&&(this.#e=r,this.listeners.forEach(t=>{t(r)}))}isOnline(){return this.#e}},Ph=new HA;function GA(){let r,e;const t=new Promise((o,u)=>{r=o,e=u});t.status="pending",t.catch(()=>{});function s(o){Object.assign(t,o),delete t.resolve,delete t.reject}return t.resolve=o=>{s({status:"fulfilled",value:o}),r(o)},t.reject=o=>{s({status:"rejected",reason:o}),e(o)},t}function KA(r){return Math.min(1e3*2**r,3e4)}function pE(r){return(r??"online")==="online"?Ph.isOnline():!0}var gE=class extends Error{constructor(r){super("CancelledError"),this.revert=r?.revert,this.silent=r?.silent}};function Om(r){return r instanceof gE}function yE(r){let e=!1,t=0,s=!1,o;const u=GA(),h=M=>{s||(T(new gE(M)),r.abort?.())},d=()=>{e=!0},p=()=>{e=!1},g=()=>mE.isFocused()&&(r.networkMode==="always"||Ph.isOnline())&&r.canRun(),_=()=>pE(r.networkMode)&&r.canRun(),v=M=>{s||(s=!0,r.onSuccess?.(M),o?.(),u.resolve(M))},T=M=>{s||(s=!0,r.onError?.(M),o?.(),u.reject(M))},I=()=>new Promise(M=>{o=x=>{(s||g())&&M(x)},r.onPause?.()}).then(()=>{o=void 0,s||r.onContinue?.()}),C=()=>{if(s)return;let M;const x=t===0?r.initialPromise:void 0;try{M=x??r.fn()}catch(j){M=Promise.reject(j)}Promise.resolve(M).then(v).catch(j=>{if(s)return;const Q=r.retry??(lf?0:3),Y=r.retryDelay??KA,le=typeof Y=="function"?Y(t,j):Y,re=Q===!0||typeof Q=="number"&&t<Q||typeof Q=="function"&&Q(t,j);if(e||!re){T(j);return}t++,r.onFail?.(t,j),zA(le).then(()=>g()?void 0:I()).then(()=>{e?T(j):C()})})};return{promise:u,cancel:h,continue:()=>(o?.(),u),cancelRetry:d,continueRetry:p,canStart:_,start:()=>(_()?C():I().then(C),u)}}var QA=r=>setTimeout(r,0);function $A(){let r=[],e=0,t=d=>{d()},s=d=>{d()},o=QA;const u=d=>{e?r.push(d):o(()=>{t(d)})},h=()=>{const d=r;r=[],d.length&&o(()=>{s(()=>{d.forEach(p=>{t(p)})})})};return{batch:d=>{let p;e++;try{p=d()}finally{e--,e||h()}return p},batchCalls:d=>(...p)=>{u(()=>{d(...p)})},schedule:u,setNotifyFunction:d=>{t=d},setBatchNotifyFunction:d=>{s=d},setScheduler:d=>{o=d}}}var An=$A(),vE=class{#e;destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),VA(this.gcTime)&&(this.#e=setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(r){this.gcTime=Math.max(this.gcTime||0,r??(lf?1/0:5*60*1e3))}clearGcTimeout(){this.#e&&(clearTimeout(this.#e),this.#e=void 0)}},YA=class extends vE{#e;#t;#n;#i;#r;#a;#o;constructor(e){super(),this.#o=!1,this.#a=e.defaultOptions,this.setOptions(e.options),this.observers=[],this.#i=e.client,this.#n=this.#i.getQueryCache(),this.queryKey=e.queryKey,this.queryHash=e.queryHash,this.#e=WA(this.options),this.state=e.state??this.#e,this.scheduleGc()}get meta(){return this.options.meta}get promise(){return this.#r?.promise}setOptions(e){this.options={...this.#a,...e},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&this.#n.remove(this)}setData(e,t){const s=jA(this.state.data,e,this.options);return this.#s({data:s,type:"success",dataUpdatedAt:t?.updatedAt,manual:t?.manual}),s}setState(e,t){this.#s({type:"setState",state:e,setStateOptions:t})}cancel(e){const t=this.#r?.promise;return this.#r?.cancel(e),t?t.then(dr).catch(dr):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(this.#e)}isActive(){return this.observers.some(e=>UA(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===kp||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(e=>Xm(e.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(e=0){return this.state.data===void 0?!0:e==="static"?!1:this.state.isInvalidated?!0:!LA(this.state.dataUpdatedAt,e)}onFocus(){this.observers.find(t=>t.shouldFetchOnWindowFocus())?.refetch({cancelRefetch:!1}),this.#r?.continue()}onOnline(){this.observers.find(t=>t.shouldFetchOnReconnect())?.refetch({cancelRefetch:!1}),this.#r?.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),this.#n.notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(t=>t!==e),this.observers.length||(this.#r&&(this.#o?this.#r.cancel({revert:!0}):this.#r.cancelRetry()),this.scheduleGc()),this.#n.notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||this.#s({type:"invalidate"})}fetch(e,t){if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&t?.cancelRefetch)this.cancel({silent:!0});else if(this.#r)return this.#r.continueRetry(),this.#r.promise}if(e&&this.setOptions(e),!this.options.queryFn){const g=this.observers.find(_=>_.options.queryFn);g&&this.setOptions(g.options)}const s=new AbortController,o=g=>{Object.defineProperty(g,"signal",{enumerable:!0,get:()=>(this.#o=!0,s.signal)})},u=()=>{const g=dE(this.options,t),v=(()=>{const T={client:this.#i,queryKey:this.queryKey,meta:this.meta};return o(T),T})();return this.#o=!1,this.options.persister?this.options.persister(g,v,this):g(v)},d=(()=>{const g={fetchOptions:t,options:this.options,queryKey:this.queryKey,client:this.#i,state:this.state,fetchFn:u};return o(g),g})();this.options.behavior?.onFetch(d,this),this.#t=this.state,(this.state.fetchStatus==="idle"||this.state.fetchMeta!==d.fetchOptions?.meta)&&this.#s({type:"fetch",meta:d.fetchOptions?.meta});const p=g=>{Om(g)&&g.silent||this.#s({type:"error",error:g}),Om(g)||(this.#n.config.onError?.(g,this),this.#n.config.onSettled?.(this.state.data,g,this)),this.scheduleGc()};return this.#r=yE({initialPromise:t?.initialPromise,fn:d.fetchFn,abort:s.abort.bind(s),onSuccess:g=>{if(g===void 0){p(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(g)}catch(_){p(_);return}this.#n.config.onSuccess?.(g,this),this.#n.config.onSettled?.(g,this.state.error,this),this.scheduleGc()},onError:p,onFail:(g,_)=>{this.#s({type:"failed",failureCount:g,error:_})},onPause:()=>{this.#s({type:"pause"})},onContinue:()=>{this.#s({type:"continue"})},retry:d.options.retry,retryDelay:d.options.retryDelay,networkMode:d.options.networkMode,canRun:()=>!0}),this.#r.start()}#s(e){const t=s=>{switch(e.type){case"failed":return{...s,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...s,fetchStatus:"paused"};case"continue":return{...s,fetchStatus:"fetching"};case"fetch":return{...s,...XA(s.data,this.options),fetchMeta:e.meta??null};case"success":return this.#t=void 0,{...s,data:e.data,dataUpdateCount:s.dataUpdateCount+1,dataUpdatedAt:e.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const o=e.error;return Om(o)&&o.revert&&this.#t?{...this.#t,fetchStatus:"idle"}:{...s,error:o,errorUpdateCount:s.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:s.fetchFailureCount+1,fetchFailureReason:o,fetchStatus:"idle",status:"error"};case"invalidate":return{...s,isInvalidated:!0};case"setState":return{...s,...e.state}}};this.state=t(this.state),An.batch(()=>{this.observers.forEach(s=>{s.onQueryUpdate()}),this.#n.notify({query:this,type:"updated",action:e})})}};function XA(r,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:pE(e.networkMode)?"fetching":"paused",...r===void 0&&{error:null,status:"pending"}}}function WA(r){const e=typeof r.initialData=="function"?r.initialData():r.initialData,t=e!==void 0,s=t?typeof r.initialDataUpdatedAt=="function"?r.initialDataUpdatedAt():r.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:t?s??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:t?"success":"pending",fetchStatus:"idle"}}var ZA=class extends of{constructor(r={}){super(),this.config=r,this.#e=new Map}#e;build(r,e,t){const s=e.queryKey,o=e.queryHash??Op(s,e);let u=this.get(o);return u||(u=new YA({client:r,queryKey:s,queryHash:o,options:r.defaultQueryOptions(e),state:t,defaultOptions:r.getQueryDefaults(s)}),this.add(u)),u}add(r){this.#e.has(r.queryHash)||(this.#e.set(r.queryHash,r),this.notify({type:"added",query:r}))}remove(r){const e=this.#e.get(r.queryHash);e&&(r.destroy(),e===r&&this.#e.delete(r.queryHash),this.notify({type:"removed",query:r}))}clear(){An.batch(()=>{this.getAll().forEach(r=>{this.remove(r)})})}get(r){return this.#e.get(r)}getAll(){return[...this.#e.values()]}find(r){const e={exact:!0,...r};return this.getAll().find(t=>a0(e,t))}findAll(r={}){const e=this.getAll();return Object.keys(r).length>0?e.filter(t=>a0(r,t)):e}notify(r){An.batch(()=>{this.listeners.forEach(e=>{e(r)})})}onFocus(){An.batch(()=>{this.getAll().forEach(r=>{r.onFocus()})})}onOnline(){An.batch(()=>{this.getAll().forEach(r=>{r.onOnline()})})}},JA=class extends vE{#e;#t;#n;constructor(e){super(),this.mutationId=e.mutationId,this.#t=e.mutationCache,this.#e=[],this.state=e.state||eR(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){this.#e.includes(e)||(this.#e.push(e),this.clearGcTimeout(),this.#t.notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){this.#e=this.#e.filter(t=>t!==e),this.scheduleGc(),this.#t.notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){this.#e.length||(this.state.status==="pending"?this.scheduleGc():this.#t.remove(this))}continue(){return this.#n?.continue()??this.execute(this.state.variables)}async execute(e){const t=()=>{this.#i({type:"continue"})};this.#n=yE({fn:()=>this.options.mutationFn?this.options.mutationFn(e):Promise.reject(new Error("No mutationFn found")),onFail:(u,h)=>{this.#i({type:"failed",failureCount:u,error:h})},onPause:()=>{this.#i({type:"pause"})},onContinue:t,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>this.#t.canRun(this)});const s=this.state.status==="pending",o=!this.#n.canStart();try{if(s)t();else{this.#i({type:"pending",variables:e,isPaused:o}),await this.#t.config.onMutate?.(e,this);const h=await this.options.onMutate?.(e);h!==this.state.context&&this.#i({type:"pending",context:h,variables:e,isPaused:o})}const u=await this.#n.start();return await this.#t.config.onSuccess?.(u,e,this.state.context,this),await this.options.onSuccess?.(u,e,this.state.context),await this.#t.config.onSettled?.(u,null,this.state.variables,this.state.context,this),await this.options.onSettled?.(u,null,e,this.state.context),this.#i({type:"success",data:u}),u}catch(u){try{throw await this.#t.config.onError?.(u,e,this.state.context,this),await this.options.onError?.(u,e,this.state.context),await this.#t.config.onSettled?.(void 0,u,this.state.variables,this.state.context,this),await this.options.onSettled?.(void 0,u,e,this.state.context),u}finally{this.#i({type:"error",error:u})}}finally{this.#t.runNext(this)}}#i(e){const t=s=>{switch(e.type){case"failed":return{...s,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...s,isPaused:!0};case"continue":return{...s,isPaused:!1};case"pending":return{...s,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...s,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...s,data:void 0,error:e.error,failureCount:s.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=t(this.state),An.batch(()=>{this.#e.forEach(s=>{s.onMutationUpdate(e)}),this.#t.notify({mutation:this,type:"updated",action:e})})}};function eR(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var tR=class extends of{constructor(r={}){super(),this.config=r,this.#e=new Set,this.#t=new Map,this.#n=0}#e;#t;#n;build(r,e,t){const s=new JA({mutationCache:this,mutationId:++this.#n,options:r.defaultMutationOptions(e),state:t});return this.add(s),s}add(r){this.#e.add(r);const e=fh(r);if(typeof e=="string"){const t=this.#t.get(e);t?t.push(r):this.#t.set(e,[r])}this.notify({type:"added",mutation:r})}remove(r){if(this.#e.delete(r)){const e=fh(r);if(typeof e=="string"){const t=this.#t.get(e);if(t)if(t.length>1){const s=t.indexOf(r);s!==-1&&t.splice(s,1)}else t[0]===r&&this.#t.delete(e)}}this.notify({type:"removed",mutation:r})}canRun(r){const e=fh(r);if(typeof e=="string"){const s=this.#t.get(e)?.find(o=>o.state.status==="pending");return!s||s===r}else return!0}runNext(r){const e=fh(r);return typeof e=="string"?this.#t.get(e)?.find(s=>s!==r&&s.state.isPaused)?.continue()??Promise.resolve():Promise.resolve()}clear(){An.batch(()=>{this.#e.forEach(r=>{this.notify({type:"removed",mutation:r})}),this.#e.clear(),this.#t.clear()})}getAll(){return Array.from(this.#e)}find(r){const e={exact:!0,...r};return this.getAll().find(t=>o0(e,t))}findAll(r={}){return this.getAll().filter(e=>o0(r,e))}notify(r){An.batch(()=>{this.listeners.forEach(e=>{e(r)})})}resumePausedMutations(){const r=this.getAll().filter(e=>e.state.isPaused);return An.batch(()=>Promise.all(r.map(e=>e.continue().catch(dr))))}};function fh(r){return r.options.scope?.id}function c0(r){return{onFetch:(e,t)=>{const s=e.options,o=e.fetchOptions?.meta?.fetchMore?.direction,u=e.state.data?.pages||[],h=e.state.data?.pageParams||[];let d={pages:[],pageParams:[]},p=0;const g=async()=>{let _=!1;const v=C=>{Object.defineProperty(C,"signal",{enumerable:!0,get:()=>(e.signal.aborted?_=!0:e.signal.addEventListener("abort",()=>{_=!0}),e.signal)})},T=dE(e.options,e.fetchOptions),I=async(C,M,x)=>{if(_)return Promise.reject();if(M==null&&C.pages.length)return Promise.resolve(C);const Q=(()=>{const ce={client:e.client,queryKey:e.queryKey,pageParam:M,direction:x?"backward":"forward",meta:e.options.meta};return v(ce),ce})(),Y=await T(Q),{maxPages:le}=e.options,re=x?qA:BA;return{pages:re(C.pages,Y,le),pageParams:re(C.pageParams,M,le)}};if(o&&u.length){const C=o==="backward",M=C?nR:h0,x={pages:u,pageParams:h},j=M(s,x);d=await I(x,j,C)}else{const C=r??u.length;do{const M=p===0?h[0]??s.initialPageParam:h0(s,d);if(p>0&&M==null)break;d=await I(d,M),p++}while(p<C)}return d};e.options.persister?e.fetchFn=()=>e.options.persister?.(g,{client:e.client,queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},t):e.fetchFn=g}}}function h0(r,{pages:e,pageParams:t}){const s=e.length-1;return e.length>0?r.getNextPageParam(e[s],e,t[s],t):void 0}function nR(r,{pages:e,pageParams:t}){return e.length>0?r.getPreviousPageParam?.(e[0],e,t[0],t):void 0}var rR=class{#e;#t;#n;#i;#r;#a;#o;#s;constructor(r={}){this.#e=r.queryCache||new ZA,this.#t=r.mutationCache||new tR,this.#n=r.defaultOptions||{},this.#i=new Map,this.#r=new Map,this.#a=0}mount(){this.#a++,this.#a===1&&(this.#o=mE.subscribe(async r=>{r&&(await this.resumePausedMutations(),this.#e.onFocus())}),this.#s=Ph.subscribe(async r=>{r&&(await this.resumePausedMutations(),this.#e.onOnline())}))}unmount(){this.#a--,this.#a===0&&(this.#o?.(),this.#o=void 0,this.#s?.(),this.#s=void 0)}isFetching(r){return this.#e.findAll({...r,fetchStatus:"fetching"}).length}isMutating(r){return this.#t.findAll({...r,status:"pending"}).length}getQueryData(r){const e=this.defaultQueryOptions({queryKey:r});return this.#e.get(e.queryHash)?.state.data}ensureQueryData(r){const e=this.defaultQueryOptions(r),t=this.#e.build(this,e),s=t.state.data;return s===void 0?this.fetchQuery(r):(r.revalidateIfStale&&t.isStaleByTime(Xm(e.staleTime,t))&&this.prefetchQuery(e),Promise.resolve(s))}getQueriesData(r){return this.#e.findAll(r).map(({queryKey:e,state:t})=>{const s=t.data;return[e,s]})}setQueryData(r,e,t){const s=this.defaultQueryOptions({queryKey:r}),u=this.#e.get(s.queryHash)?.state.data,h=PA(e,u);if(h!==void 0)return this.#e.build(this,s).setData(h,{...t,manual:!0})}setQueriesData(r,e,t){return An.batch(()=>this.#e.findAll(r).map(({queryKey:s})=>[s,this.setQueryData(s,e,t)]))}getQueryState(r){const e=this.defaultQueryOptions({queryKey:r});return this.#e.get(e.queryHash)?.state}removeQueries(r){const e=this.#e;An.batch(()=>{e.findAll(r).forEach(t=>{e.remove(t)})})}resetQueries(r,e){const t=this.#e;return An.batch(()=>(t.findAll(r).forEach(s=>{s.reset()}),this.refetchQueries({type:"active",...r},e)))}cancelQueries(r,e={}){const t={revert:!0,...e},s=An.batch(()=>this.#e.findAll(r).map(o=>o.cancel(t)));return Promise.all(s).then(dr).catch(dr)}invalidateQueries(r,e={}){return An.batch(()=>(this.#e.findAll(r).forEach(t=>{t.invalidate()}),r?.refetchType==="none"?Promise.resolve():this.refetchQueries({...r,type:r?.refetchType??r?.type??"active"},e)))}refetchQueries(r,e={}){const t={...e,cancelRefetch:e.cancelRefetch??!0},s=An.batch(()=>this.#e.findAll(r).filter(o=>!o.isDisabled()&&!o.isStatic()).map(o=>{let u=o.fetch(void 0,t);return t.throwOnError||(u=u.catch(dr)),o.state.fetchStatus==="paused"?Promise.resolve():u}));return Promise.all(s).then(dr)}fetchQuery(r){const e=this.defaultQueryOptions(r);e.retry===void 0&&(e.retry=!1);const t=this.#e.build(this,e);return t.isStaleByTime(Xm(e.staleTime,t))?t.fetch(e):Promise.resolve(t.state.data)}prefetchQuery(r){return this.fetchQuery(r).then(dr).catch(dr)}fetchInfiniteQuery(r){return r.behavior=c0(r.pages),this.fetchQuery(r)}prefetchInfiniteQuery(r){return this.fetchInfiniteQuery(r).then(dr).catch(dr)}ensureInfiniteQueryData(r){return r.behavior=c0(r.pages),this.ensureQueryData(r)}resumePausedMutations(){return Ph.isOnline()?this.#t.resumePausedMutations():Promise.resolve()}getQueryCache(){return this.#e}getMutationCache(){return this.#t}getDefaultOptions(){return this.#n}setDefaultOptions(r){this.#n=r}setQueryDefaults(r,e){this.#i.set(yu(r),{queryKey:r,defaultOptions:e})}getQueryDefaults(r){const e=[...this.#i.values()],t={};return e.forEach(s=>{vu(r,s.queryKey)&&Object.assign(t,s.defaultOptions)}),t}setMutationDefaults(r,e){this.#r.set(yu(r),{mutationKey:r,defaultOptions:e})}getMutationDefaults(r){const e=[...this.#r.values()],t={};return e.forEach(s=>{vu(r,s.mutationKey)&&Object.assign(t,s.defaultOptions)}),t}defaultQueryOptions(r){if(r._defaulted)return r;const e={...this.#n.queries,...this.getQueryDefaults(r.queryKey),...r,_defaulted:!0};return e.queryHash||(e.queryHash=Op(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.queryFn===kp&&(e.enabled=!1),e}defaultMutationOptions(r){return r?._defaulted?r:{...this.#n.mutations,...r?.mutationKey&&this.getMutationDefaults(r.mutationKey),...r,_defaulted:!0}}clear(){this.#e.clear(),this.#t.clear()}},iR=U.createContext(void 0),sR=({client:r,children:e})=>(U.useEffect(()=>(r.mount(),()=>{r.unmount()}),[r]),X.jsx(iR.Provider,{value:r,children:e})),tu={},f0;function aR(){if(f0)return tu;f0=1,Object.defineProperty(tu,"__esModule",{value:!0}),tu.parse=h,tu.serialize=g;const r=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,t=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,s=/^[\u0020-\u003A\u003D-\u007E]*$/,o=Object.prototype.toString,u=(()=>{const T=function(){};return T.prototype=Object.create(null),T})();function h(T,I){const C=new u,M=T.length;if(M<2)return C;const x=I?.decode||_;let j=0;do{const Q=T.indexOf("=",j);if(Q===-1)break;const Y=T.indexOf(";",j),le=Y===-1?M:Y;if(Q>le){j=T.lastIndexOf(";",Q-1)+1;continue}const re=d(T,j,Q),ce=p(T,Q,re),k=T.slice(re,ce);if(C[k]===void 0){let A=d(T,Q+1,le),R=p(T,le,A);const O=x(T.slice(A,R));C[k]=O}j=le+1}while(j<M);return C}function d(T,I,C){do{const M=T.charCodeAt(I);if(M!==32&&M!==9)return I}while(++I<C);return C}function p(T,I,C){for(;I>C;){const M=T.charCodeAt(--I);if(M!==32&&M!==9)return I+1}return C}function g(T,I,C){const M=C?.encode||encodeURIComponent;if(!r.test(T))throw new TypeError(`argument name is invalid: ${T}`);const x=M(I);if(!e.test(x))throw new TypeError(`argument val is invalid: ${I}`);let j=T+"="+x;if(!C)return j;if(C.maxAge!==void 0){if(!Number.isInteger(C.maxAge))throw new TypeError(`option maxAge is invalid: ${C.maxAge}`);j+="; Max-Age="+C.maxAge}if(C.domain){if(!t.test(C.domain))throw new TypeError(`option domain is invalid: ${C.domain}`);j+="; Domain="+C.domain}if(C.path){if(!s.test(C.path))throw new TypeError(`option path is invalid: ${C.path}`);j+="; Path="+C.path}if(C.expires){if(!v(C.expires)||!Number.isFinite(C.expires.valueOf()))throw new TypeError(`option expires is invalid: ${C.expires}`);j+="; Expires="+C.expires.toUTCString()}if(C.httpOnly&&(j+="; HttpOnly"),C.secure&&(j+="; Secure"),C.partitioned&&(j+="; Partitioned"),C.priority)switch(typeof C.priority=="string"?C.priority.toLowerCase():void 0){case"low":j+="; Priority=Low";break;case"medium":j+="; Priority=Medium";break;case"high":j+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${C.priority}`)}if(C.sameSite)switch(typeof C.sameSite=="string"?C.sameSite.toLowerCase():C.sameSite){case!0:case"strict":j+="; SameSite=Strict";break;case"lax":j+="; SameSite=Lax";break;case"none":j+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${C.sameSite}`)}return j}function _(T){if(T.indexOf("%")===-1)return T;try{return decodeURIComponent(T)}catch{return T}}function v(T){return o.call(T)==="[object Date]"}return tu}aR();var d0="popstate";function oR(r={}){function e(s,o){let{pathname:u,search:h,hash:d}=s.location;return Zm("",{pathname:u,search:h,hash:d},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function t(s,o){return typeof o=="string"?o:_u(o)}return uR(e,t,null,r)}function St(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function Gr(r,e){if(!r){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function lR(){return Math.random().toString(36).substring(2,10)}function m0(r,e){return{usr:r.state,key:r.key,idx:e}}function Zm(r,e,t=null,s){return{pathname:typeof r=="string"?r:r.pathname,search:"",hash:"",...typeof e=="string"?Go(e):e,state:t,key:e&&e.key||s||lR()}}function _u({pathname:r="/",search:e="",hash:t=""}){return e&&e!=="?"&&(r+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(r+=t.charAt(0)==="#"?t:"#"+t),r}function Go(r){let e={};if(r){let t=r.indexOf("#");t>=0&&(e.hash=r.substring(t),r=r.substring(0,t));let s=r.indexOf("?");s>=0&&(e.search=r.substring(s),r=r.substring(0,s)),r&&(e.pathname=r)}return e}function uR(r,e,t,s={}){let{window:o=document.defaultView,v5Compat:u=!1}=s,h=o.history,d="POP",p=null,g=_();g==null&&(g=0,h.replaceState({...h.state,idx:g},""));function _(){return(h.state||{idx:null}).idx}function v(){d="POP";let x=_(),j=x==null?null:x-g;g=x,p&&p({action:d,location:M.location,delta:j})}function T(x,j){d="PUSH";let Q=Zm(M.location,x,j);g=_()+1;let Y=m0(Q,g),le=M.createHref(Q);try{h.pushState(Y,"",le)}catch(re){if(re instanceof DOMException&&re.name==="DataCloneError")throw re;o.location.assign(le)}u&&p&&p({action:d,location:M.location,delta:1})}function I(x,j){d="REPLACE";let Q=Zm(M.location,x,j);g=_();let Y=m0(Q,g),le=M.createHref(Q);h.replaceState(Y,"",le),u&&p&&p({action:d,location:M.location,delta:0})}function C(x){return cR(x)}let M={get action(){return d},get location(){return r(o,h)},listen(x){if(p)throw new Error("A history only accepts one active listener");return o.addEventListener(d0,v),p=x,()=>{o.removeEventListener(d0,v),p=null}},createHref(x){return e(o,x)},createURL:C,encodeLocation(x){let j=C(x);return{pathname:j.pathname,search:j.search,hash:j.hash}},push:T,replace:I,go(x){return h.go(x)}};return M}function cR(r,e=!1){let t="http://localhost";typeof window<"u"&&(t=window.location.origin!=="null"?window.location.origin:window.location.href),St(t,"No window.location.(origin|href) available to create URL");let s=typeof r=="string"?r:_u(r);return s=s.replace(/ $/,"%20"),!e&&s.startsWith("//")&&(s=t+s),new URL(s,t)}function _E(r,e,t="/"){return hR(r,e,t,!1)}function hR(r,e,t,s){let o=typeof e=="string"?Go(e):e,u=Mi(o.pathname||"/",t);if(u==null)return null;let h=bE(r);fR(h);let d=null;for(let p=0;d==null&&p<h.length;++p){let g=wR(u);d=ER(h[p],g,s)}return d}function bE(r,e=[],t=[],s=""){let o=(u,h,d)=>{let p={relativePath:d===void 0?u.path||"":d,caseSensitive:u.caseSensitive===!0,childrenIndex:h,route:u};p.relativePath.startsWith("/")&&(St(p.relativePath.startsWith(s),`Absolute route path "${p.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),p.relativePath=p.relativePath.slice(s.length));let g=Oi([s,p.relativePath]),_=t.concat(p);u.children&&u.children.length>0&&(St(u.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${g}".`),bE(u.children,e,_,g)),!(u.path==null&&!u.index)&&e.push({path:g,score:_R(g,u.index),routesMeta:_})};return r.forEach((u,h)=>{if(u.path===""||!u.path?.includes("?"))o(u,h);else for(let d of EE(u.path))o(u,h,d)}),e}function EE(r){let e=r.split("/");if(e.length===0)return[];let[t,...s]=e,o=t.endsWith("?"),u=t.replace(/\?$/,"");if(s.length===0)return o?[u,""]:[u];let h=EE(s.join("/")),d=[];return d.push(...h.map(p=>p===""?u:[u,p].join("/"))),o&&d.push(...h),d.map(p=>r.startsWith("/")&&p===""?"/":p)}function fR(r){r.sort((e,t)=>e.score!==t.score?t.score-e.score:bR(e.routesMeta.map(s=>s.childrenIndex),t.routesMeta.map(s=>s.childrenIndex)))}var dR=/^:[\w-]+$/,mR=3,pR=2,gR=1,yR=10,vR=-2,p0=r=>r==="*";function _R(r,e){let t=r.split("/"),s=t.length;return t.some(p0)&&(s+=vR),e&&(s+=pR),t.filter(o=>!p0(o)).reduce((o,u)=>o+(dR.test(u)?mR:u===""?gR:yR),s)}function bR(r,e){return r.length===e.length&&r.slice(0,-1).every((s,o)=>s===e[o])?r[r.length-1]-e[e.length-1]:0}function ER(r,e,t=!1){let{routesMeta:s}=r,o={},u="/",h=[];for(let d=0;d<s.length;++d){let p=s[d],g=d===s.length-1,_=u==="/"?e:e.slice(u.length)||"/",v=Vh({path:p.relativePath,caseSensitive:p.caseSensitive,end:g},_),T=p.route;if(!v&&g&&t&&!s[s.length-1].route.index&&(v=Vh({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},_)),!v)return null;Object.assign(o,v.params),h.push({params:o,pathname:Oi([u,v.pathname]),pathnameBase:CR(Oi([u,v.pathnameBase])),route:T}),v.pathnameBase!=="/"&&(u=Oi([u,v.pathnameBase]))}return h}function Vh(r,e){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[t,s]=TR(r.path,r.caseSensitive,r.end),o=e.match(t);if(!o)return null;let u=o[0],h=u.replace(/(.)\/+$/,"$1"),d=o.slice(1);return{params:s.reduce((g,{paramName:_,isOptional:v},T)=>{if(_==="*"){let C=d[T]||"";h=u.slice(0,u.length-C.length).replace(/(.)\/+$/,"$1")}const I=d[T];return v&&!I?g[_]=void 0:g[_]=(I||"").replace(/%2F/g,"/"),g},{}),pathname:u,pathnameBase:h,pattern:r}}function TR(r,e=!1,t=!0){Gr(r==="*"||!r.endsWith("*")||r.endsWith("/*"),`Route path "${r}" will be treated as if it were "${r.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${r.replace(/\*$/,"/*")}".`);let s=[],o="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(h,d,p)=>(s.push({paramName:d,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)"));return r.endsWith("*")?(s.push({paramName:"*"}),o+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?o+="\\/*$":r!==""&&r!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),s]}function wR(r){try{return r.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Gr(!1,`The URL path "${r}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),r}}function Mi(r,e){if(e==="/")return r;if(!r.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,s=r.charAt(t);return s&&s!=="/"?null:r.slice(t)||"/"}function SR(r,e="/"){let{pathname:t,search:s="",hash:o=""}=typeof r=="string"?Go(r):r;return{pathname:t?t.startsWith("/")?t:AR(t,e):e,search:IR(s),hash:xR(o)}}function AR(r,e){let t=e.replace(/\/+$/,"").split("/");return r.split("/").forEach(o=>{o===".."?t.length>1&&t.pop():o!=="."&&t.push(o)}),t.length>1?t.join("/"):"/"}function km(r,e,t,s){return`Cannot include a '${r}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function RR(r){return r.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function TE(r){let e=RR(r);return e.map((t,s)=>s===e.length-1?t.pathname:t.pathnameBase)}function wE(r,e,t,s=!1){let o;typeof r=="string"?o=Go(r):(o={...r},St(!o.pathname||!o.pathname.includes("?"),km("?","pathname","search",o)),St(!o.pathname||!o.pathname.includes("#"),km("#","pathname","hash",o)),St(!o.search||!o.search.includes("#"),km("#","search","hash",o)));let u=r===""||o.pathname==="",h=u?"/":o.pathname,d;if(h==null)d=t;else{let v=e.length-1;if(!s&&h.startsWith("..")){let T=h.split("/");for(;T[0]==="..";)T.shift(),v-=1;o.pathname=T.join("/")}d=v>=0?e[v]:"/"}let p=SR(o,d),g=h&&h!=="/"&&h.endsWith("/"),_=(u||h===".")&&t.endsWith("/");return!p.pathname.endsWith("/")&&(g||_)&&(p.pathname+="/"),p}var Oi=r=>r.join("/").replace(/\/\/+/g,"/"),CR=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),IR=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,xR=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r;function DR(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}var SE=["POST","PUT","PATCH","DELETE"];new Set(SE);var NR=["GET",...SE];new Set(NR);var Ko=U.createContext(null);Ko.displayName="DataRouter";var uf=U.createContext(null);uf.displayName="DataRouterState";var AE=U.createContext({isTransitioning:!1});AE.displayName="ViewTransition";var OR=U.createContext(new Map);OR.displayName="Fetchers";var kR=U.createContext(null);kR.displayName="Await";var $r=U.createContext(null);$r.displayName="Navigation";var Du=U.createContext(null);Du.displayName="Location";var Yr=U.createContext({outlet:null,matches:[],isDataRoute:!1});Yr.displayName="Route";var Mp=U.createContext(null);Mp.displayName="RouteError";function MR(r,{relative:e}={}){St(Nu(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:s}=U.useContext($r),{hash:o,pathname:u,search:h}=Ou(r,{relative:e}),d=u;return t!=="/"&&(d=u==="/"?t:Oi([t,u])),s.createHref({pathname:d,search:h,hash:o})}function Nu(){return U.useContext(Du)!=null}function Ca(){return St(Nu(),"useLocation() may be used only in the context of a <Router> component."),U.useContext(Du).location}var RE="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function CE(r){U.useContext($r).static||U.useLayoutEffect(r)}function Pp(){let{isDataRoute:r}=U.useContext(Yr);return r?$R():PR()}function PR(){St(Nu(),"useNavigate() may be used only in the context of a <Router> component.");let r=U.useContext(Ko),{basename:e,navigator:t}=U.useContext($r),{matches:s}=U.useContext(Yr),{pathname:o}=Ca(),u=JSON.stringify(TE(s)),h=U.useRef(!1);return CE(()=>{h.current=!0}),U.useCallback((p,g={})=>{if(Gr(h.current,RE),!h.current)return;if(typeof p=="number"){t.go(p);return}let _=wE(p,JSON.parse(u),o,g.relative==="path");r==null&&e!=="/"&&(_.pathname=_.pathname==="/"?e:Oi([e,_.pathname])),(g.replace?t.replace:t.push)(_,g.state,g)},[e,t,u,o,r])}U.createContext(null);function VR(){let{matches:r}=U.useContext(Yr),e=r[r.length-1];return e?e.params:{}}function Ou(r,{relative:e}={}){let{matches:t}=U.useContext(Yr),{pathname:s}=Ca(),o=JSON.stringify(TE(t));return U.useMemo(()=>wE(r,JSON.parse(o),s,e==="path"),[r,o,s,e])}function LR(r,e){return IE(r,e)}function IE(r,e,t,s){St(Nu(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o}=U.useContext($r),{matches:u}=U.useContext(Yr),h=u[u.length-1],d=h?h.params:{},p=h?h.pathname:"/",g=h?h.pathnameBase:"/",_=h&&h.route;{let j=_&&_.path||"";xE(p,!_||j.endsWith("*")||j.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${p}" (under <Route path="${j}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${j}"> to <Route path="${j==="/"?"*":`${j}/*`}">.`)}let v=Ca(),T;if(e){let j=typeof e=="string"?Go(e):e;St(g==="/"||j.pathname?.startsWith(g),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${g}" but pathname "${j.pathname}" was given in the \`location\` prop.`),T=j}else T=v;let I=T.pathname||"/",C=I;if(g!=="/"){let j=g.replace(/^\//,"").split("/");C="/"+I.replace(/^\//,"").split("/").slice(j.length).join("/")}let M=_E(r,{pathname:C});Gr(_||M!=null,`No routes matched location "${T.pathname}${T.search}${T.hash}" `),Gr(M==null||M[M.length-1].route.element!==void 0||M[M.length-1].route.Component!==void 0||M[M.length-1].route.lazy!==void 0,`Matched leaf route at location "${T.pathname}${T.search}${T.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let x=qR(M&&M.map(j=>Object.assign({},j,{params:Object.assign({},d,j.params),pathname:Oi([g,o.encodeLocation?o.encodeLocation(j.pathname).pathname:j.pathname]),pathnameBase:j.pathnameBase==="/"?g:Oi([g,o.encodeLocation?o.encodeLocation(j.pathnameBase).pathname:j.pathnameBase])})),u,t,s);return e&&x?U.createElement(Du.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...T},navigationType:"POP"}},x):x}function UR(){let r=QR(),e=DR(r)?`${r.status} ${r.statusText}`:r instanceof Error?r.message:JSON.stringify(r),t=r instanceof Error?r.stack:null,s="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:s},u={padding:"2px 4px",backgroundColor:s},h=null;return console.error("Error handled by React Router default ErrorBoundary:",r),h=U.createElement(U.Fragment,null,U.createElement("p",null,"💿 Hey developer 👋"),U.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",U.createElement("code",{style:u},"ErrorBoundary")," or"," ",U.createElement("code",{style:u},"errorElement")," prop on your route.")),U.createElement(U.Fragment,null,U.createElement("h2",null,"Unexpected Application Error!"),U.createElement("h3",{style:{fontStyle:"italic"}},e),t?U.createElement("pre",{style:o},t):null,h)}var zR=U.createElement(UR,null),jR=class extends U.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,e){return e.location!==r.location||e.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:e.error,location:e.location,revalidation:r.revalidation||e.revalidation}}componentDidCatch(r,e){console.error("React Router caught the following error during render",r,e)}render(){return this.state.error!==void 0?U.createElement(Yr.Provider,{value:this.props.routeContext},U.createElement(Mp.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function BR({routeContext:r,match:e,children:t}){let s=U.useContext(Ko);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),U.createElement(Yr.Provider,{value:r},t)}function qR(r,e=[],t=null,s=null){if(r==null){if(!t)return null;if(t.errors)r=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)r=t.matches;else return null}let o=r,u=t?.errors;if(u!=null){let p=o.findIndex(g=>g.route.id&&u?.[g.route.id]!==void 0);St(p>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(u).join(",")}`),o=o.slice(0,Math.min(o.length,p+1))}let h=!1,d=-1;if(t)for(let p=0;p<o.length;p++){let g=o[p];if((g.route.HydrateFallback||g.route.hydrateFallbackElement)&&(d=p),g.route.id){let{loaderData:_,errors:v}=t,T=g.route.loader&&!_.hasOwnProperty(g.route.id)&&(!v||v[g.route.id]===void 0);if(g.route.lazy||T){h=!0,d>=0?o=o.slice(0,d+1):o=[o[0]];break}}}return o.reduceRight((p,g,_)=>{let v,T=!1,I=null,C=null;t&&(v=u&&g.route.id?u[g.route.id]:void 0,I=g.route.errorElement||zR,h&&(d<0&&_===0?(xE("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),T=!0,C=null):d===_&&(T=!0,C=g.route.hydrateFallbackElement||null)));let M=e.concat(o.slice(0,_+1)),x=()=>{let j;return v?j=I:T?j=C:g.route.Component?j=U.createElement(g.route.Component,null):g.route.element?j=g.route.element:j=p,U.createElement(BR,{match:g,routeContext:{outlet:p,matches:M,isDataRoute:t!=null},children:j})};return t&&(g.route.ErrorBoundary||g.route.errorElement||_===0)?U.createElement(jR,{location:t.location,revalidation:t.revalidation,component:I,error:v,children:x(),routeContext:{outlet:null,matches:M,isDataRoute:!0}}):x()},null)}function Vp(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function FR(r){let e=U.useContext(Ko);return St(e,Vp(r)),e}function HR(r){let e=U.useContext(uf);return St(e,Vp(r)),e}function GR(r){let e=U.useContext(Yr);return St(e,Vp(r)),e}function Lp(r){let e=GR(r),t=e.matches[e.matches.length-1];return St(t.route.id,`${r} can only be used on routes that contain a unique "id"`),t.route.id}function KR(){return Lp("useRouteId")}function QR(){let r=U.useContext(Mp),e=HR("useRouteError"),t=Lp("useRouteError");return r!==void 0?r:e.errors?.[t]}function $R(){let{router:r}=FR("useNavigate"),e=Lp("useNavigate"),t=U.useRef(!1);return CE(()=>{t.current=!0}),U.useCallback(async(o,u={})=>{Gr(t.current,RE),t.current&&(typeof o=="number"?r.navigate(o):await r.navigate(o,{fromRouteId:e,...u}))},[r,e])}var g0={};function xE(r,e,t){!e&&!g0[r]&&(g0[r]=!0,Gr(!1,t))}U.memo(YR);function YR({routes:r,future:e,state:t}){return IE(r,void 0,t,e)}function Jm(r){St(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function XR({basename:r="/",children:e=null,location:t,navigationType:s="POP",navigator:o,static:u=!1}){St(!Nu(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let h=r.replace(/^\/*/,"/"),d=U.useMemo(()=>({basename:h,navigator:o,static:u,future:{}}),[h,o,u]);typeof t=="string"&&(t=Go(t));let{pathname:p="/",search:g="",hash:_="",state:v=null,key:T="default"}=t,I=U.useMemo(()=>{let C=Mi(p,h);return C==null?null:{location:{pathname:C,search:g,hash:_,state:v,key:T},navigationType:s}},[h,p,g,_,v,T,s]);return Gr(I!=null,`<Router basename="${h}"> is not able to match the URL "${p}${g}${_}" because it does not start with the basename, so the <Router> won't render anything.`),I==null?null:U.createElement($r.Provider,{value:d},U.createElement(Du.Provider,{children:e,value:I}))}function WR({children:r,location:e}){return LR(ep(r),e)}function ep(r,e=[]){let t=[];return U.Children.forEach(r,(s,o)=>{if(!U.isValidElement(s))return;let u=[...e,o];if(s.type===U.Fragment){t.push.apply(t,ep(s.props.children,u));return}St(s.type===Jm,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),St(!s.props.index||!s.props.children,"An index route cannot have child routes.");let h={id:s.props.id||u.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(h.children=ep(s.props.children,u)),t.push(h)}),t}var wh="get",Sh="application/x-www-form-urlencoded";function cf(r){return r!=null&&typeof r.tagName=="string"}function ZR(r){return cf(r)&&r.tagName.toLowerCase()==="button"}function JR(r){return cf(r)&&r.tagName.toLowerCase()==="form"}function eC(r){return cf(r)&&r.tagName.toLowerCase()==="input"}function tC(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function nC(r,e){return r.button===0&&(!e||e==="_self")&&!tC(r)}var dh=null;function rC(){if(dh===null)try{new FormData(document.createElement("form"),0),dh=!1}catch{dh=!0}return dh}var iC=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Mm(r){return r!=null&&!iC.has(r)?(Gr(!1,`"${r}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Sh}"`),null):r}function sC(r,e){let t,s,o,u,h;if(JR(r)){let d=r.getAttribute("action");s=d?Mi(d,e):null,t=r.getAttribute("method")||wh,o=Mm(r.getAttribute("enctype"))||Sh,u=new FormData(r)}else if(ZR(r)||eC(r)&&(r.type==="submit"||r.type==="image")){let d=r.form;if(d==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=r.getAttribute("formaction")||d.getAttribute("action");if(s=p?Mi(p,e):null,t=r.getAttribute("formmethod")||d.getAttribute("method")||wh,o=Mm(r.getAttribute("formenctype"))||Mm(d.getAttribute("enctype"))||Sh,u=new FormData(d,r),!rC()){let{name:g,type:_,value:v}=r;if(_==="image"){let T=g?`${g}.`:"";u.append(`${T}x`,"0"),u.append(`${T}y`,"0")}else g&&u.append(g,v)}}else{if(cf(r))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=wh,s=null,o=Sh,h=r}return u&&o==="text/plain"&&(h=u,u=void 0),{action:s,method:t.toLowerCase(),encType:o,formData:u,body:h}}function Up(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}async function aC(r,e){if(r.id in e)return e[r.id];try{let t=await import(r.module);return e[r.id]=t,t}catch(t){return console.error(`Error loading route module \`${r.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function oC(r){return r==null?!1:r.href==null?r.rel==="preload"&&typeof r.imageSrcSet=="string"&&typeof r.imageSizes=="string":typeof r.rel=="string"&&typeof r.href=="string"}async function lC(r,e,t){let s=await Promise.all(r.map(async o=>{let u=e.routes[o.route.id];if(u){let h=await aC(u,t);return h.links?h.links():[]}return[]}));return fC(s.flat(1).filter(oC).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function y0(r,e,t,s,o,u){let h=(p,g)=>t[g]?p.route.id!==t[g].route.id:!0,d=(p,g)=>t[g].pathname!==p.pathname||t[g].route.path?.endsWith("*")&&t[g].params["*"]!==p.params["*"];return u==="assets"?e.filter((p,g)=>h(p,g)||d(p,g)):u==="data"?e.filter((p,g)=>{let _=s.routes[p.route.id];if(!_||!_.hasLoader)return!1;if(h(p,g)||d(p,g))return!0;if(p.route.shouldRevalidate){let v=p.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:t[0]?.params||{},nextUrl:new URL(r,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof v=="boolean")return v}return!0}):[]}function uC(r,e,{includeHydrateFallback:t}={}){return cC(r.map(s=>{let o=e.routes[s.route.id];if(!o)return[];let u=[o.module];return o.clientActionModule&&(u=u.concat(o.clientActionModule)),o.clientLoaderModule&&(u=u.concat(o.clientLoaderModule)),t&&o.hydrateFallbackModule&&(u=u.concat(o.hydrateFallbackModule)),o.imports&&(u=u.concat(o.imports)),u}).flat(1))}function cC(r){return[...new Set(r)]}function hC(r){let e={},t=Object.keys(r).sort();for(let s of t)e[s]=r[s];return e}function fC(r,e){let t=new Set;return new Set(e),r.reduce((s,o)=>{let u=JSON.stringify(hC(o));return t.has(u)||(t.add(u),s.push({key:u,link:o})),s},[])}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var dC=new Set([100,101,204,205]);function mC(r,e){let t=typeof r=="string"?new URL(r,typeof window>"u"?"server://singlefetch/":window.location.origin):r;return t.pathname==="/"?t.pathname="_root.data":e&&Mi(t.pathname,e)==="/"?t.pathname=`${e.replace(/\/$/,"")}/_root.data`:t.pathname=`${t.pathname.replace(/\/$/,"")}.data`,t}function DE(){let r=U.useContext(Ko);return Up(r,"You must render this element inside a <DataRouterContext.Provider> element"),r}function pC(){let r=U.useContext(uf);return Up(r,"You must render this element inside a <DataRouterStateContext.Provider> element"),r}var zp=U.createContext(void 0);zp.displayName="FrameworkContext";function NE(){let r=U.useContext(zp);return Up(r,"You must render this element inside a <HydratedRouter> element"),r}function gC(r,e){let t=U.useContext(zp),[s,o]=U.useState(!1),[u,h]=U.useState(!1),{onFocus:d,onBlur:p,onMouseEnter:g,onMouseLeave:_,onTouchStart:v}=e,T=U.useRef(null);U.useEffect(()=>{if(r==="render"&&h(!0),r==="viewport"){let M=j=>{j.forEach(Q=>{h(Q.isIntersecting)})},x=new IntersectionObserver(M,{threshold:.5});return T.current&&x.observe(T.current),()=>{x.disconnect()}}},[r]),U.useEffect(()=>{if(s){let M=setTimeout(()=>{h(!0)},100);return()=>{clearTimeout(M)}}},[s]);let I=()=>{o(!0)},C=()=>{o(!1),h(!1)};return t?r!=="intent"?[u,T,{}]:[u,T,{onFocus:nu(d,I),onBlur:nu(p,C),onMouseEnter:nu(g,I),onMouseLeave:nu(_,C),onTouchStart:nu(v,I)}]:[!1,T,{}]}function nu(r,e){return t=>{r&&r(t),t.defaultPrevented||e(t)}}function yC({page:r,...e}){let{router:t}=DE(),s=U.useMemo(()=>_E(t.routes,r,t.basename),[t.routes,r,t.basename]);return s?U.createElement(_C,{page:r,matches:s,...e}):null}function vC(r){let{manifest:e,routeModules:t}=NE(),[s,o]=U.useState([]);return U.useEffect(()=>{let u=!1;return lC(r,e,t).then(h=>{u||o(h)}),()=>{u=!0}},[r,e,t]),s}function _C({page:r,matches:e,...t}){let s=Ca(),{manifest:o,routeModules:u}=NE(),{basename:h}=DE(),{loaderData:d,matches:p}=pC(),g=U.useMemo(()=>y0(r,e,p,o,s,"data"),[r,e,p,o,s]),_=U.useMemo(()=>y0(r,e,p,o,s,"assets"),[r,e,p,o,s]),v=U.useMemo(()=>{if(r===s.pathname+s.search+s.hash)return[];let C=new Set,M=!1;if(e.forEach(j=>{let Q=o.routes[j.route.id];!Q||!Q.hasLoader||(!g.some(Y=>Y.route.id===j.route.id)&&j.route.id in d&&u[j.route.id]?.shouldRevalidate||Q.hasClientLoader?M=!0:C.add(j.route.id))}),C.size===0)return[];let x=mC(r,h);return M&&C.size>0&&x.searchParams.set("_routes",e.filter(j=>C.has(j.route.id)).map(j=>j.route.id).join(",")),[x.pathname+x.search]},[h,d,s,o,g,e,r,u]),T=U.useMemo(()=>uC(_,o),[_,o]),I=vC(_);return U.createElement(U.Fragment,null,v.map(C=>U.createElement("link",{key:C,rel:"prefetch",as:"fetch",href:C,...t})),T.map(C=>U.createElement("link",{key:C,rel:"modulepreload",href:C,...t})),I.map(({key:C,link:M})=>U.createElement("link",{key:C,...M})))}function bC(...r){return e=>{r.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var OE=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{OE&&(window.__reactRouterVersion="7.6.3")}catch{}function EC({basename:r,children:e,window:t}){let s=U.useRef();s.current==null&&(s.current=oR({window:t,v5Compat:!0}));let o=s.current,[u,h]=U.useState({action:o.action,location:o.location}),d=U.useCallback(p=>{U.startTransition(()=>h(p))},[h]);return U.useLayoutEffect(()=>o.listen(d),[o,d]),U.createElement(XR,{basename:r,children:e,location:u.location,navigationType:u.action,navigator:o})}var kE=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ME=U.forwardRef(function({onClick:e,discover:t="render",prefetch:s="none",relative:o,reloadDocument:u,replace:h,state:d,target:p,to:g,preventScrollReset:_,viewTransition:v,...T},I){let{basename:C}=U.useContext($r),M=typeof g=="string"&&kE.test(g),x,j=!1;if(typeof g=="string"&&M&&(x=g,OE))try{let R=new URL(window.location.href),O=g.startsWith("//")?new URL(R.protocol+g):new URL(g),V=Mi(O.pathname,C);O.origin===R.origin&&V!=null?g=V+O.search+O.hash:j=!0}catch{Gr(!1,`<Link to="${g}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let Q=MR(g,{relative:o}),[Y,le,re]=gC(s,T),ce=AC(g,{replace:h,state:d,target:p,preventScrollReset:_,relative:o,viewTransition:v});function k(R){e&&e(R),R.defaultPrevented||ce(R)}let A=U.createElement("a",{...T,...re,href:x||Q,onClick:j||u?e:k,ref:bC(I,le),target:p,"data-discover":!M&&t==="render"?"true":void 0});return Y&&!M?U.createElement(U.Fragment,null,A,U.createElement(yC,{page:Q})):A});ME.displayName="Link";var TC=U.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:s="",end:o=!1,style:u,to:h,viewTransition:d,children:p,...g},_){let v=Ou(h,{relative:g.relative}),T=Ca(),I=U.useContext(uf),{navigator:C,basename:M}=U.useContext($r),x=I!=null&&DC(v)&&d===!0,j=C.encodeLocation?C.encodeLocation(v).pathname:v.pathname,Q=T.pathname,Y=I&&I.navigation&&I.navigation.location?I.navigation.location.pathname:null;t||(Q=Q.toLowerCase(),Y=Y?Y.toLowerCase():null,j=j.toLowerCase()),Y&&M&&(Y=Mi(Y,M)||Y);const le=j!=="/"&&j.endsWith("/")?j.length-1:j.length;let re=Q===j||!o&&Q.startsWith(j)&&Q.charAt(le)==="/",ce=Y!=null&&(Y===j||!o&&Y.startsWith(j)&&Y.charAt(j.length)==="/"),k={isActive:re,isPending:ce,isTransitioning:x},A=re?e:void 0,R;typeof s=="function"?R=s(k):R=[s,re?"active":null,ce?"pending":null,x?"transitioning":null].filter(Boolean).join(" ");let O=typeof u=="function"?u(k):u;return U.createElement(ME,{...g,"aria-current":A,className:R,ref:_,style:O,to:h,viewTransition:d},typeof p=="function"?p(k):p)});TC.displayName="NavLink";var wC=U.forwardRef(({discover:r="render",fetcherKey:e,navigate:t,reloadDocument:s,replace:o,state:u,method:h=wh,action:d,onSubmit:p,relative:g,preventScrollReset:_,viewTransition:v,...T},I)=>{let C=IC(),M=xC(d,{relative:g}),x=h.toLowerCase()==="get"?"get":"post",j=typeof d=="string"&&kE.test(d),Q=Y=>{if(p&&p(Y),Y.defaultPrevented)return;Y.preventDefault();let le=Y.nativeEvent.submitter,re=le?.getAttribute("formmethod")||h;C(le||Y.currentTarget,{fetcherKey:e,method:re,navigate:t,replace:o,state:u,relative:g,preventScrollReset:_,viewTransition:v})};return U.createElement("form",{ref:I,method:x,action:M,onSubmit:s?p:Q,...T,"data-discover":!j&&r==="render"?"true":void 0})});wC.displayName="Form";function SC(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function PE(r){let e=U.useContext(Ko);return St(e,SC(r)),e}function AC(r,{target:e,replace:t,state:s,preventScrollReset:o,relative:u,viewTransition:h}={}){let d=Pp(),p=Ca(),g=Ou(r,{relative:u});return U.useCallback(_=>{if(nC(_,e)){_.preventDefault();let v=t!==void 0?t:_u(p)===_u(g);d(r,{replace:v,state:s,preventScrollReset:o,relative:u,viewTransition:h})}},[p,d,g,t,s,e,r,o,u,h])}var RC=0,CC=()=>`__${String(++RC)}__`;function IC(){let{router:r}=PE("useSubmit"),{basename:e}=U.useContext($r),t=KR();return U.useCallback(async(s,o={})=>{let{action:u,method:h,encType:d,formData:p,body:g}=sC(s,e);if(o.navigate===!1){let _=o.fetcherKey||CC();await r.fetch(_,t,o.action||u,{preventScrollReset:o.preventScrollReset,formData:p,body:g,formMethod:o.method||h,formEncType:o.encType||d,flushSync:o.flushSync})}else await r.navigate(o.action||u,{preventScrollReset:o.preventScrollReset,formData:p,body:g,formMethod:o.method||h,formEncType:o.encType||d,replace:o.replace,state:o.state,fromRouteId:t,flushSync:o.flushSync,viewTransition:o.viewTransition})},[r,e,t])}function xC(r,{relative:e}={}){let{basename:t}=U.useContext($r),s=U.useContext(Yr);St(s,"useFormAction must be used inside a RouteContext");let[o]=s.matches.slice(-1),u={...Ou(r||".",{relative:e})},h=Ca();if(r==null){u.search=h.search;let d=new URLSearchParams(u.search),p=d.getAll("index");if(p.some(_=>_==="")){d.delete("index"),p.filter(v=>v).forEach(v=>d.append("index",v));let _=d.toString();u.search=_?`?${_}`:""}}return(!r||r===".")&&o.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(u.pathname=u.pathname==="/"?t:Oi([t,u.pathname])),_u(u)}function DC(r,e={}){let t=U.useContext(AE);St(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=PE("useViewTransitionState"),o=Ou(r,{relative:e.relative});if(!t.isTransitioning)return!1;let u=Mi(t.currentLocation.pathname,s)||t.currentLocation.pathname,h=Mi(t.nextLocation.pathname,s)||t.nextLocation.pathname;return Vh(o.pathname,h)!=null||Vh(o.pathname,u)!=null}[...dC];const NC=({initialPosition:r,onDragEnd:e,disabled:t=!1,zoom:s=1})=>{const[o,u]=U.useState(!1),[h,d]=U.useState(r),[p,g]=U.useState(!1),_=U.useRef({x:0,y:0}),v=U.useRef(r),T=U.useRef(!1),I=U.useRef(r),C=U.useCallback(M=>{if(t)return;M.preventDefault(),M.stopPropagation(),u(!0),T.current=!0,g(!1),_.current={x:M.clientX,y:M.clientY},v.current=h;const x=Q=>{if(t||!T.current)return;const Y=(Q.clientX-_.current.x)/s,le=(Q.clientY-_.current.y)/s;!p&&(Math.abs(Y*s)>5||Math.abs(le*s)>5)&&g(!0);const re={x:v.current.x+Y,y:v.current.y+le};d(re),I.current=re},j=()=>{u(!1),T.current=!1,e&&!t&&e(I.current),document.removeEventListener("mousemove",x),document.removeEventListener("mouseup",j)};document.addEventListener("mousemove",x),document.addEventListener("mouseup",j)},[h,e,p,t,s]);return U.useEffect(()=>{T.current||(d(r),I.current=r)},[r.x,r.y]),{isDragging:o&&!t,position:h,hasDragged:p,handleMouseDown:C}},OC=({note:r,onClick:e,onPositionChange:t,isSelected:s=!1,hasDraggedGroup:o=!1,zoom:u})=>{const{isDragging:h,position:d,hasDragged:p,handleMouseDown:g}=NC({initialPosition:{x:r.x,y:r.y},onDragEnd:I=>{t(r.id,I.x,I.y)},disabled:s,zoom:u});U.useEffect(()=>{},[r.x,r.y]);const _=I=>{switch(I){case"yellow":return"bg-yellow-200 border-yellow-300 shadow-yellow-200/50";case"pink":return"bg-pink-200 border-pink-300 shadow-pink-200/50";case"blue":return"bg-blue-200 border-blue-300 shadow-blue-200/50";case"green":return"bg-green-200 border-green-300 shadow-green-200/50";case"orange":return"bg-orange-200 border-orange-300 shadow-orange-200/50";default:return"bg-yellow-200 border-yellow-300 shadow-yellow-200/50"}},v=I=>{!p&&!I.shiftKey&&!o&&e()},T=I=>{I.shiftKey||s||g(I)};return X.jsxs("div",{className:`sticky-note absolute w-48 h-48 p-4 rounded-lg border-2 select-none will-change-transform ${_(r.color)} ${h?"cursor-grabbing z-30 transition-none":"cursor-grab transition-all duration-200 ease-out hover:scale-105 hover:z-20"} ${s?"ring-4 ring-blue-400 ring-opacity-50 scale-105 z-20":""}`,style:{left:`${d.x*u}px`,top:`${d.y*u}px`,transform:`translate(-50%, -50%) rotate(${r.rotation}deg) scale(${u}) ${h||s?"scale(1.05)":""}`,boxShadow:h?"0 20px 40px rgba(0, 0, 0, 0.3), 0 10px 20px rgba(0, 0, 0, 0.2)":s?"0 16px 35px rgba(59, 130, 246, 0.4), 0 8px 18px rgba(59, 130, 246, 0.3)":"0 8px 25px rgba(0, 0, 0, 0.15), 0 4px 10px rgba(0, 0, 0, 0.1)"},"data-note-id":r.id,"data-x":d.x,"data-y":d.y,onMouseDown:T,onClick:v,onMouseEnter:I=>{if(!h&&!s){const C=I.currentTarget;C.style.transform=`translate(-50%, -50%) rotate(${r.rotation+2}deg) scale(${u*1.02})`}},onMouseLeave:I=>{if(!h&&!s){const C=I.currentTarget;C.style.transform=`translate(-50%, -50%) rotate(${r.rotation}deg) scale(${u})`}},children:[X.jsx("div",{className:"absolute -top-3 left-1/2 transform -translate-x-1/2 w-16 h-6 bg-white/60 rounded-sm shadow-sm border border-gray-200"}),X.jsxs("div",{className:"h-full flex flex-col pointer-events-none",children:[r.title&&X.jsx("h3",{className:"font-semibold text-gray-800 mb-2 line-clamp-2 text-sm",children:r.title}),X.jsx("p",{className:"text-gray-700 text-xs leading-relaxed line-clamp-6 flex-1",children:r.content})]})]})},kC=({path:r,zoom:e,panOffset:t})=>{if(r.length<2)return null;const s=r.map((o,u)=>{const h=o.x*e+t.x,d=o.y*e+t.y;return`${u===0?"M":"L"} ${h} ${d}`}).join(" ")+" Z";return X.jsx("svg",{className:"absolute inset-0 pointer-events-none z-20",style:{overflow:"visible"},children:X.jsx("path",{d:s,fill:"rgba(59, 130, 246, 0.1)",stroke:"rgb(59, 130, 246)",strokeWidth:"2",strokeDasharray:"5,5"})})},MC=({notes:r,selectedNoteIds:e,isSelecting:t,selectionPath:s,zoom:o,panOffset:u,hasDraggedGroup:h,onBoardClick:d,onBoardMouseDown:p,onNoteClick:g,onNotePositionChange:_})=>{const v=U.useRef(null);return X.jsxs("div",{ref:v,className:"absolute top-0 left-0 w-[200%] h-[200%] cursor-crosshair",style:{transform:`translate(${u.x}px, ${u.y}px)`,transformOrigin:"0 0"},onClick:d,onMouseDown:p,children:[r.map(T=>X.jsx(OC,{note:T,onClick:()=>g(T),onPositionChange:_,isSelected:e.includes(T.id),hasDraggedGroup:h,zoom:o,"data-note-id":T.id},T.id)),t&&X.jsx(kC,{path:s,zoom:o,panOffset:u})]})};/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PC=r=>r.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),VC=r=>r.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,s)=>s?s.toUpperCase():t.toLowerCase()),v0=r=>{const e=VC(r);return e.charAt(0).toUpperCase()+e.slice(1)},VE=(...r)=>r.filter((e,t,s)=>!!e&&e.trim()!==""&&s.indexOf(e)===t).join(" ").trim(),LC=r=>{for(const e in r)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var UC={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zC=U.forwardRef(({color:r="currentColor",size:e=24,strokeWidth:t=2,absoluteStrokeWidth:s,className:o="",children:u,iconNode:h,...d},p)=>U.createElement("svg",{ref:p,...UC,width:e,height:e,stroke:r,strokeWidth:s?Number(t)*24/Number(e):t,className:VE("lucide",o),...!u&&!LC(d)&&{"aria-hidden":"true"},...d},[...h.map(([g,_])=>U.createElement(g,_)),...Array.isArray(u)?u:[u]]));/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xr=(r,e)=>{const t=U.forwardRef(({className:s,...o},u)=>U.createElement(zC,{ref:u,iconNode:e,className:VE(`lucide-${PC(v0(r))}`,`lucide-${r}`,s),...o}));return t.displayName=v0(r),t};/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jC=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],BC=Xr("arrow-left",jC);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qC=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],_0=Xr("info",qC);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FC=[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]],HC=Xr("link",FC);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GC=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],KC=Xr("log-out",GC);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QC=[["path",{d:"m14 10 7-7",key:"oa77jy"}],["path",{d:"M20 10h-6V4",key:"mjg0md"}],["path",{d:"m3 21 7-7",key:"tjx5ai"}],["path",{d:"M4 14h6v6",key:"rmj7iw"}]],$C=Xr("minimize-2",QC);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YC=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],XC=Xr("rotate-ccw",YC);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WC=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]],LE=Xr("trash-2",WC);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZC=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],JC=Xr("x",ZC);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eI=[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"11",x2:"11",y1:"8",y2:"14",key:"1vmskp"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]],tI=Xr("zoom-in",eI);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nI=[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]],rI=Xr("zoom-out",nI);function b0(r,e){if(typeof r=="function")return r(e);r!=null&&(r.current=e)}function iI(...r){return e=>{let t=!1;const s=r.map(o=>{const u=b0(o,e);return!t&&typeof u=="function"&&(t=!0),u});if(t)return()=>{for(let o=0;o<s.length;o++){const u=s[o];typeof u=="function"?u():b0(r[o],null)}}}}function sI(r){const e=oI(r),t=U.forwardRef((s,o)=>{const{children:u,...h}=s,d=U.Children.toArray(u),p=d.find(uI);if(p){const g=p.props.children,_=d.map(v=>v===p?U.Children.count(g)>1?U.Children.only(null):U.isValidElement(g)?g.props.children:null:v);return X.jsx(e,{...h,ref:o,children:U.isValidElement(g)?U.cloneElement(g,void 0,_):null})}return X.jsx(e,{...h,ref:o,children:u})});return t.displayName=`${r}.Slot`,t}var aI=sI("Slot");function oI(r){const e=U.forwardRef((t,s)=>{const{children:o,...u}=t;if(U.isValidElement(o)){const h=hI(o),d=cI(u,o.props);return o.type!==U.Fragment&&(d.ref=s?iI(s,h):h),U.cloneElement(o,d)}return U.Children.count(o)>1?U.Children.only(null):null});return e.displayName=`${r}.SlotClone`,e}var lI=Symbol("radix.slottable");function uI(r){return U.isValidElement(r)&&typeof r.type=="function"&&"__radixId"in r.type&&r.type.__radixId===lI}function cI(r,e){const t={...e};for(const s in e){const o=r[s],u=e[s];/^on[A-Z]/.test(s)?o&&u?t[s]=(...d)=>{const p=u(...d);return o(...d),p}:o&&(t[s]=o):s==="style"?t[s]={...o,...u}:s==="className"&&(t[s]=[o,u].filter(Boolean).join(" "))}return{...r,...t}}function hI(r){let e=Object.getOwnPropertyDescriptor(r.props,"ref")?.get,t=e&&"isReactWarning"in e&&e.isReactWarning;return t?r.ref:(e=Object.getOwnPropertyDescriptor(r,"ref")?.get,t=e&&"isReactWarning"in e&&e.isReactWarning,t?r.props.ref:r.props.ref||r.ref)}function UE(r){var e,t,s="";if(typeof r=="string"||typeof r=="number")s+=r;else if(typeof r=="object")if(Array.isArray(r)){var o=r.length;for(e=0;e<o;e++)r[e]&&(t=UE(r[e]))&&(s&&(s+=" "),s+=t)}else for(t in r)r[t]&&(s&&(s+=" "),s+=t);return s}function zE(){for(var r,e,t=0,s="",o=arguments.length;t<o;t++)(r=arguments[t])&&(e=UE(r))&&(s&&(s+=" "),s+=e);return s}const E0=r=>typeof r=="boolean"?`${r}`:r===0?"0":r,T0=zE,fI=(r,e)=>t=>{var s;if(e?.variants==null)return T0(r,t?.class,t?.className);const{variants:o,defaultVariants:u}=e,h=Object.keys(o).map(g=>{const _=t?.[g],v=u?.[g];if(_===null)return null;const T=E0(_)||E0(v);return o[g][T]}),d=t&&Object.entries(t).reduce((g,_)=>{let[v,T]=_;return T===void 0||(g[v]=T),g},{}),p=e==null||(s=e.compoundVariants)===null||s===void 0?void 0:s.reduce((g,_)=>{let{class:v,className:T,...I}=_;return Object.entries(I).every(C=>{let[M,x]=C;return Array.isArray(x)?x.includes({...u,...d}[M]):{...u,...d}[M]===x})?[...g,v,T]:g},[]);return T0(r,h,p,t?.class,t?.className)},jp="-",dI=r=>{const e=pI(r),{conflictingClassGroups:t,conflictingClassGroupModifiers:s}=r;return{getClassGroupId:h=>{const d=h.split(jp);return d[0]===""&&d.length!==1&&d.shift(),jE(d,e)||mI(h)},getConflictingClassGroupIds:(h,d)=>{const p=t[h]||[];return d&&s[h]?[...p,...s[h]]:p}}},jE=(r,e)=>{if(r.length===0)return e.classGroupId;const t=r[0],s=e.nextPart.get(t),o=s?jE(r.slice(1),s):void 0;if(o)return o;if(e.validators.length===0)return;const u=r.join(jp);return e.validators.find(({validator:h})=>h(u))?.classGroupId},w0=/^\[(.+)\]$/,mI=r=>{if(w0.test(r)){const e=w0.exec(r)[1],t=e?.substring(0,e.indexOf(":"));if(t)return"arbitrary.."+t}},pI=r=>{const{theme:e,classGroups:t}=r,s={nextPart:new Map,validators:[]};for(const o in t)tp(t[o],s,o,e);return s},tp=(r,e,t,s)=>{r.forEach(o=>{if(typeof o=="string"){const u=o===""?e:S0(e,o);u.classGroupId=t;return}if(typeof o=="function"){if(gI(o)){tp(o(s),e,t,s);return}e.validators.push({validator:o,classGroupId:t});return}Object.entries(o).forEach(([u,h])=>{tp(h,S0(e,u),t,s)})})},S0=(r,e)=>{let t=r;return e.split(jp).forEach(s=>{t.nextPart.has(s)||t.nextPart.set(s,{nextPart:new Map,validators:[]}),t=t.nextPart.get(s)}),t},gI=r=>r.isThemeGetter,yI=r=>{if(r<1)return{get:()=>{},set:()=>{}};let e=0,t=new Map,s=new Map;const o=(u,h)=>{t.set(u,h),e++,e>r&&(e=0,s=t,t=new Map)};return{get(u){let h=t.get(u);if(h!==void 0)return h;if((h=s.get(u))!==void 0)return o(u,h),h},set(u,h){t.has(u)?t.set(u,h):o(u,h)}}},np="!",rp=":",vI=rp.length,_I=r=>{const{prefix:e,experimentalParseClassName:t}=r;let s=o=>{const u=[];let h=0,d=0,p=0,g;for(let C=0;C<o.length;C++){let M=o[C];if(h===0&&d===0){if(M===rp){u.push(o.slice(p,C)),p=C+vI;continue}if(M==="/"){g=C;continue}}M==="["?h++:M==="]"?h--:M==="("?d++:M===")"&&d--}const _=u.length===0?o:o.substring(p),v=bI(_),T=v!==_,I=g&&g>p?g-p:void 0;return{modifiers:u,hasImportantModifier:T,baseClassName:v,maybePostfixModifierPosition:I}};if(e){const o=e+rp,u=s;s=h=>h.startsWith(o)?u(h.substring(o.length)):{isExternal:!0,modifiers:[],hasImportantModifier:!1,baseClassName:h,maybePostfixModifierPosition:void 0}}if(t){const o=s;s=u=>t({className:u,parseClassName:o})}return s},bI=r=>r.endsWith(np)?r.substring(0,r.length-1):r.startsWith(np)?r.substring(1):r,EI=r=>{const e=Object.fromEntries(r.orderSensitiveModifiers.map(s=>[s,!0]));return s=>{if(s.length<=1)return s;const o=[];let u=[];return s.forEach(h=>{h[0]==="["||e[h]?(o.push(...u.sort(),h),u=[]):u.push(h)}),o.push(...u.sort()),o}},TI=r=>({cache:yI(r.cacheSize),parseClassName:_I(r),sortModifiers:EI(r),...dI(r)}),wI=/\s+/,SI=(r,e)=>{const{parseClassName:t,getClassGroupId:s,getConflictingClassGroupIds:o,sortModifiers:u}=e,h=[],d=r.trim().split(wI);let p="";for(let g=d.length-1;g>=0;g-=1){const _=d[g],{isExternal:v,modifiers:T,hasImportantModifier:I,baseClassName:C,maybePostfixModifierPosition:M}=t(_);if(v){p=_+(p.length>0?" "+p:p);continue}let x=!!M,j=s(x?C.substring(0,M):C);if(!j){if(!x){p=_+(p.length>0?" "+p:p);continue}if(j=s(C),!j){p=_+(p.length>0?" "+p:p);continue}x=!1}const Q=u(T).join(":"),Y=I?Q+np:Q,le=Y+j;if(h.includes(le))continue;h.push(le);const re=o(j,x);for(let ce=0;ce<re.length;++ce){const k=re[ce];h.push(Y+k)}p=_+(p.length>0?" "+p:p)}return p};function AI(){let r=0,e,t,s="";for(;r<arguments.length;)(e=arguments[r++])&&(t=BE(e))&&(s&&(s+=" "),s+=t);return s}const BE=r=>{if(typeof r=="string")return r;let e,t="";for(let s=0;s<r.length;s++)r[s]&&(e=BE(r[s]))&&(t&&(t+=" "),t+=e);return t};function RI(r,...e){let t,s,o,u=h;function h(p){const g=e.reduce((_,v)=>v(_),r());return t=TI(g),s=t.cache.get,o=t.cache.set,u=d,d(p)}function d(p){const g=s(p);if(g)return g;const _=SI(p,t);return o(p,_),_}return function(){return u(AI.apply(null,arguments))}}const Qt=r=>{const e=t=>t[r]||[];return e.isThemeGetter=!0,e},qE=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,FE=/^\((?:(\w[\w-]*):)?(.+)\)$/i,CI=/^\d+\/\d+$/,II=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,xI=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,DI=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,NI=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,OI=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Io=r=>CI.test(r),Ue=r=>!!r&&!Number.isNaN(Number(r)),ds=r=>!!r&&Number.isInteger(Number(r)),Pm=r=>r.endsWith("%")&&Ue(r.slice(0,-1)),xi=r=>II.test(r),kI=()=>!0,MI=r=>xI.test(r)&&!DI.test(r),HE=()=>!1,PI=r=>NI.test(r),VI=r=>OI.test(r),LI=r=>!ve(r)&&!_e(r),UI=r=>Qo(r,QE,HE),ve=r=>qE.test(r),ma=r=>Qo(r,$E,MI),Vm=r=>Qo(r,FI,Ue),A0=r=>Qo(r,GE,HE),zI=r=>Qo(r,KE,VI),mh=r=>Qo(r,YE,PI),_e=r=>FE.test(r),ru=r=>$o(r,$E),jI=r=>$o(r,HI),R0=r=>$o(r,GE),BI=r=>$o(r,QE),qI=r=>$o(r,KE),ph=r=>$o(r,YE,!0),Qo=(r,e,t)=>{const s=qE.exec(r);return s?s[1]?e(s[1]):t(s[2]):!1},$o=(r,e,t=!1)=>{const s=FE.exec(r);return s?s[1]?e(s[1]):t:!1},GE=r=>r==="position"||r==="percentage",KE=r=>r==="image"||r==="url",QE=r=>r==="length"||r==="size"||r==="bg-size",$E=r=>r==="length",FI=r=>r==="number",HI=r=>r==="family-name",YE=r=>r==="shadow",GI=()=>{const r=Qt("color"),e=Qt("font"),t=Qt("text"),s=Qt("font-weight"),o=Qt("tracking"),u=Qt("leading"),h=Qt("breakpoint"),d=Qt("container"),p=Qt("spacing"),g=Qt("radius"),_=Qt("shadow"),v=Qt("inset-shadow"),T=Qt("text-shadow"),I=Qt("drop-shadow"),C=Qt("blur"),M=Qt("perspective"),x=Qt("aspect"),j=Qt("ease"),Q=Qt("animate"),Y=()=>["auto","avoid","all","avoid-page","page","left","right","column"],le=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],re=()=>[...le(),_e,ve],ce=()=>["auto","hidden","clip","visible","scroll"],k=()=>["auto","contain","none"],A=()=>[_e,ve,p],R=()=>[Io,"full","auto",...A()],O=()=>[ds,"none","subgrid",_e,ve],V=()=>["auto",{span:["full",ds,_e,ve]},ds,_e,ve],L=()=>[ds,"auto",_e,ve],D=()=>["auto","min","max","fr",_e,ve],Qe=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],Re=()=>["start","end","center","stretch","center-safe","end-safe"],q=()=>["auto",...A()],ue=()=>[Io,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...A()],te=()=>[r,_e,ve],Ie=()=>[...le(),R0,A0,{position:[_e,ve]}],P=()=>["no-repeat",{repeat:["","x","y","space","round"]}],Z=()=>["auto","cover","contain",BI,UI,{size:[_e,ve]}],oe=()=>[Pm,ru,ma],J=()=>["","none","full",g,_e,ve],fe=()=>["",Ue,ru,ma],we=()=>["solid","dashed","dotted","double"],me=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],Oe=()=>[Ue,Pm,R0,A0],je=()=>["","none",C,_e,ve],Tt=()=>["none",Ue,_e,ve],be=()=>["none",Ue,_e,ve],Pe=()=>[Ue,_e,ve],$e=()=>[Io,"full",...A()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[xi],breakpoint:[xi],color:[kI],container:[xi],"drop-shadow":[xi],ease:["in","out","in-out"],font:[LI],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[xi],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[xi],shadow:[xi],spacing:["px",Ue],text:[xi],"text-shadow":[xi],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",Io,ve,_e,x]}],container:["container"],columns:[{columns:[Ue,ve,_e,d]}],"break-after":[{"break-after":Y()}],"break-before":[{"break-before":Y()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:re()}],overflow:[{overflow:ce()}],"overflow-x":[{"overflow-x":ce()}],"overflow-y":[{"overflow-y":ce()}],overscroll:[{overscroll:k()}],"overscroll-x":[{"overscroll-x":k()}],"overscroll-y":[{"overscroll-y":k()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:R()}],"inset-x":[{"inset-x":R()}],"inset-y":[{"inset-y":R()}],start:[{start:R()}],end:[{end:R()}],top:[{top:R()}],right:[{right:R()}],bottom:[{bottom:R()}],left:[{left:R()}],visibility:["visible","invisible","collapse"],z:[{z:[ds,"auto",_e,ve]}],basis:[{basis:[Io,"full","auto",d,...A()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[Ue,Io,"auto","initial","none",ve]}],grow:[{grow:["",Ue,_e,ve]}],shrink:[{shrink:["",Ue,_e,ve]}],order:[{order:[ds,"first","last","none",_e,ve]}],"grid-cols":[{"grid-cols":O()}],"col-start-end":[{col:V()}],"col-start":[{"col-start":L()}],"col-end":[{"col-end":L()}],"grid-rows":[{"grid-rows":O()}],"row-start-end":[{row:V()}],"row-start":[{"row-start":L()}],"row-end":[{"row-end":L()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":D()}],"auto-rows":[{"auto-rows":D()}],gap:[{gap:A()}],"gap-x":[{"gap-x":A()}],"gap-y":[{"gap-y":A()}],"justify-content":[{justify:[...Qe(),"normal"]}],"justify-items":[{"justify-items":[...Re(),"normal"]}],"justify-self":[{"justify-self":["auto",...Re()]}],"align-content":[{content:["normal",...Qe()]}],"align-items":[{items:[...Re(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...Re(),{baseline:["","last"]}]}],"place-content":[{"place-content":Qe()}],"place-items":[{"place-items":[...Re(),"baseline"]}],"place-self":[{"place-self":["auto",...Re()]}],p:[{p:A()}],px:[{px:A()}],py:[{py:A()}],ps:[{ps:A()}],pe:[{pe:A()}],pt:[{pt:A()}],pr:[{pr:A()}],pb:[{pb:A()}],pl:[{pl:A()}],m:[{m:q()}],mx:[{mx:q()}],my:[{my:q()}],ms:[{ms:q()}],me:[{me:q()}],mt:[{mt:q()}],mr:[{mr:q()}],mb:[{mb:q()}],ml:[{ml:q()}],"space-x":[{"space-x":A()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":A()}],"space-y-reverse":["space-y-reverse"],size:[{size:ue()}],w:[{w:[d,"screen",...ue()]}],"min-w":[{"min-w":[d,"screen","none",...ue()]}],"max-w":[{"max-w":[d,"screen","none","prose",{screen:[h]},...ue()]}],h:[{h:["screen","lh",...ue()]}],"min-h":[{"min-h":["screen","lh","none",...ue()]}],"max-h":[{"max-h":["screen","lh",...ue()]}],"font-size":[{text:["base",t,ru,ma]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[s,_e,Vm]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",Pm,ve]}],"font-family":[{font:[jI,ve,e]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[o,_e,ve]}],"line-clamp":[{"line-clamp":[Ue,"none",_e,Vm]}],leading:[{leading:[u,...A()]}],"list-image":[{"list-image":["none",_e,ve]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",_e,ve]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:te()}],"text-color":[{text:te()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...we(),"wavy"]}],"text-decoration-thickness":[{decoration:[Ue,"from-font","auto",_e,ma]}],"text-decoration-color":[{decoration:te()}],"underline-offset":[{"underline-offset":[Ue,"auto",_e,ve]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:A()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",_e,ve]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",_e,ve]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:Ie()}],"bg-repeat":[{bg:P()}],"bg-size":[{bg:Z()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},ds,_e,ve],radial:["",_e,ve],conic:[ds,_e,ve]},qI,zI]}],"bg-color":[{bg:te()}],"gradient-from-pos":[{from:oe()}],"gradient-via-pos":[{via:oe()}],"gradient-to-pos":[{to:oe()}],"gradient-from":[{from:te()}],"gradient-via":[{via:te()}],"gradient-to":[{to:te()}],rounded:[{rounded:J()}],"rounded-s":[{"rounded-s":J()}],"rounded-e":[{"rounded-e":J()}],"rounded-t":[{"rounded-t":J()}],"rounded-r":[{"rounded-r":J()}],"rounded-b":[{"rounded-b":J()}],"rounded-l":[{"rounded-l":J()}],"rounded-ss":[{"rounded-ss":J()}],"rounded-se":[{"rounded-se":J()}],"rounded-ee":[{"rounded-ee":J()}],"rounded-es":[{"rounded-es":J()}],"rounded-tl":[{"rounded-tl":J()}],"rounded-tr":[{"rounded-tr":J()}],"rounded-br":[{"rounded-br":J()}],"rounded-bl":[{"rounded-bl":J()}],"border-w":[{border:fe()}],"border-w-x":[{"border-x":fe()}],"border-w-y":[{"border-y":fe()}],"border-w-s":[{"border-s":fe()}],"border-w-e":[{"border-e":fe()}],"border-w-t":[{"border-t":fe()}],"border-w-r":[{"border-r":fe()}],"border-w-b":[{"border-b":fe()}],"border-w-l":[{"border-l":fe()}],"divide-x":[{"divide-x":fe()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":fe()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...we(),"hidden","none"]}],"divide-style":[{divide:[...we(),"hidden","none"]}],"border-color":[{border:te()}],"border-color-x":[{"border-x":te()}],"border-color-y":[{"border-y":te()}],"border-color-s":[{"border-s":te()}],"border-color-e":[{"border-e":te()}],"border-color-t":[{"border-t":te()}],"border-color-r":[{"border-r":te()}],"border-color-b":[{"border-b":te()}],"border-color-l":[{"border-l":te()}],"divide-color":[{divide:te()}],"outline-style":[{outline:[...we(),"none","hidden"]}],"outline-offset":[{"outline-offset":[Ue,_e,ve]}],"outline-w":[{outline:["",Ue,ru,ma]}],"outline-color":[{outline:te()}],shadow:[{shadow:["","none",_,ph,mh]}],"shadow-color":[{shadow:te()}],"inset-shadow":[{"inset-shadow":["none",v,ph,mh]}],"inset-shadow-color":[{"inset-shadow":te()}],"ring-w":[{ring:fe()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:te()}],"ring-offset-w":[{"ring-offset":[Ue,ma]}],"ring-offset-color":[{"ring-offset":te()}],"inset-ring-w":[{"inset-ring":fe()}],"inset-ring-color":[{"inset-ring":te()}],"text-shadow":[{"text-shadow":["none",T,ph,mh]}],"text-shadow-color":[{"text-shadow":te()}],opacity:[{opacity:[Ue,_e,ve]}],"mix-blend":[{"mix-blend":[...me(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":me()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[Ue]}],"mask-image-linear-from-pos":[{"mask-linear-from":Oe()}],"mask-image-linear-to-pos":[{"mask-linear-to":Oe()}],"mask-image-linear-from-color":[{"mask-linear-from":te()}],"mask-image-linear-to-color":[{"mask-linear-to":te()}],"mask-image-t-from-pos":[{"mask-t-from":Oe()}],"mask-image-t-to-pos":[{"mask-t-to":Oe()}],"mask-image-t-from-color":[{"mask-t-from":te()}],"mask-image-t-to-color":[{"mask-t-to":te()}],"mask-image-r-from-pos":[{"mask-r-from":Oe()}],"mask-image-r-to-pos":[{"mask-r-to":Oe()}],"mask-image-r-from-color":[{"mask-r-from":te()}],"mask-image-r-to-color":[{"mask-r-to":te()}],"mask-image-b-from-pos":[{"mask-b-from":Oe()}],"mask-image-b-to-pos":[{"mask-b-to":Oe()}],"mask-image-b-from-color":[{"mask-b-from":te()}],"mask-image-b-to-color":[{"mask-b-to":te()}],"mask-image-l-from-pos":[{"mask-l-from":Oe()}],"mask-image-l-to-pos":[{"mask-l-to":Oe()}],"mask-image-l-from-color":[{"mask-l-from":te()}],"mask-image-l-to-color":[{"mask-l-to":te()}],"mask-image-x-from-pos":[{"mask-x-from":Oe()}],"mask-image-x-to-pos":[{"mask-x-to":Oe()}],"mask-image-x-from-color":[{"mask-x-from":te()}],"mask-image-x-to-color":[{"mask-x-to":te()}],"mask-image-y-from-pos":[{"mask-y-from":Oe()}],"mask-image-y-to-pos":[{"mask-y-to":Oe()}],"mask-image-y-from-color":[{"mask-y-from":te()}],"mask-image-y-to-color":[{"mask-y-to":te()}],"mask-image-radial":[{"mask-radial":[_e,ve]}],"mask-image-radial-from-pos":[{"mask-radial-from":Oe()}],"mask-image-radial-to-pos":[{"mask-radial-to":Oe()}],"mask-image-radial-from-color":[{"mask-radial-from":te()}],"mask-image-radial-to-color":[{"mask-radial-to":te()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":le()}],"mask-image-conic-pos":[{"mask-conic":[Ue]}],"mask-image-conic-from-pos":[{"mask-conic-from":Oe()}],"mask-image-conic-to-pos":[{"mask-conic-to":Oe()}],"mask-image-conic-from-color":[{"mask-conic-from":te()}],"mask-image-conic-to-color":[{"mask-conic-to":te()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:Ie()}],"mask-repeat":[{mask:P()}],"mask-size":[{mask:Z()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",_e,ve]}],filter:[{filter:["","none",_e,ve]}],blur:[{blur:je()}],brightness:[{brightness:[Ue,_e,ve]}],contrast:[{contrast:[Ue,_e,ve]}],"drop-shadow":[{"drop-shadow":["","none",I,ph,mh]}],"drop-shadow-color":[{"drop-shadow":te()}],grayscale:[{grayscale:["",Ue,_e,ve]}],"hue-rotate":[{"hue-rotate":[Ue,_e,ve]}],invert:[{invert:["",Ue,_e,ve]}],saturate:[{saturate:[Ue,_e,ve]}],sepia:[{sepia:["",Ue,_e,ve]}],"backdrop-filter":[{"backdrop-filter":["","none",_e,ve]}],"backdrop-blur":[{"backdrop-blur":je()}],"backdrop-brightness":[{"backdrop-brightness":[Ue,_e,ve]}],"backdrop-contrast":[{"backdrop-contrast":[Ue,_e,ve]}],"backdrop-grayscale":[{"backdrop-grayscale":["",Ue,_e,ve]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[Ue,_e,ve]}],"backdrop-invert":[{"backdrop-invert":["",Ue,_e,ve]}],"backdrop-opacity":[{"backdrop-opacity":[Ue,_e,ve]}],"backdrop-saturate":[{"backdrop-saturate":[Ue,_e,ve]}],"backdrop-sepia":[{"backdrop-sepia":["",Ue,_e,ve]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":A()}],"border-spacing-x":[{"border-spacing-x":A()}],"border-spacing-y":[{"border-spacing-y":A()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",_e,ve]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[Ue,"initial",_e,ve]}],ease:[{ease:["linear","initial",j,_e,ve]}],delay:[{delay:[Ue,_e,ve]}],animate:[{animate:["none",Q,_e,ve]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[M,_e,ve]}],"perspective-origin":[{"perspective-origin":re()}],rotate:[{rotate:Tt()}],"rotate-x":[{"rotate-x":Tt()}],"rotate-y":[{"rotate-y":Tt()}],"rotate-z":[{"rotate-z":Tt()}],scale:[{scale:be()}],"scale-x":[{"scale-x":be()}],"scale-y":[{"scale-y":be()}],"scale-z":[{"scale-z":be()}],"scale-3d":["scale-3d"],skew:[{skew:Pe()}],"skew-x":[{"skew-x":Pe()}],"skew-y":[{"skew-y":Pe()}],transform:[{transform:[_e,ve,"","none","gpu","cpu"]}],"transform-origin":[{origin:re()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:$e()}],"translate-x":[{"translate-x":$e()}],"translate-y":[{"translate-y":$e()}],"translate-z":[{"translate-z":$e()}],"translate-none":["translate-none"],accent:[{accent:te()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:te()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",_e,ve]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":A()}],"scroll-mx":[{"scroll-mx":A()}],"scroll-my":[{"scroll-my":A()}],"scroll-ms":[{"scroll-ms":A()}],"scroll-me":[{"scroll-me":A()}],"scroll-mt":[{"scroll-mt":A()}],"scroll-mr":[{"scroll-mr":A()}],"scroll-mb":[{"scroll-mb":A()}],"scroll-ml":[{"scroll-ml":A()}],"scroll-p":[{"scroll-p":A()}],"scroll-px":[{"scroll-px":A()}],"scroll-py":[{"scroll-py":A()}],"scroll-ps":[{"scroll-ps":A()}],"scroll-pe":[{"scroll-pe":A()}],"scroll-pt":[{"scroll-pt":A()}],"scroll-pr":[{"scroll-pr":A()}],"scroll-pb":[{"scroll-pb":A()}],"scroll-pl":[{"scroll-pl":A()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",_e,ve]}],fill:[{fill:["none",...te()]}],"stroke-w":[{stroke:[Ue,ru,ma,Vm]}],stroke:[{stroke:["none",...te()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},KI=RI(GI);function QI(...r){return KI(zE(r))}const $I=fI("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground shadow-xs hover:bg-primary/90",destructive:"bg-destructive text-white shadow-xs hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground shadow-xs hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9"}},defaultVariants:{variant:"default",size:"default"}});function ko({className:r,variant:e,size:t,asChild:s=!1,...o}){const u=s?aI:"button";return X.jsx(u,{"data-slot":"button",className:QI($I({variant:e,size:t,className:r})),...o})}const YI=({isOpen:r,onClose:e,onSave:t,onDelete:s,initialData:o})=>{const[u,h]=U.useState(""),[d,p]=U.useState(""),[g,_]=U.useState("yellow"),v=[{name:"yellow",class:"bg-yellow-200 border-yellow-300",label:"Yellow"},{name:"pink",class:"bg-pink-200 border-pink-300",label:"Pink"},{name:"blue",class:"bg-blue-200 border-blue-300",label:"Blue"},{name:"green",class:"bg-green-200 border-green-300",label:"Green"},{name:"orange",class:"bg-orange-200 border-orange-300",label:"Orange"}];U.useEffect(()=>{o?(h(o.title),p(o.content),_(o.color)):(h(""),p(""),_("yellow"))},[o,r]);const T=I=>{I.preventDefault(),d.trim()&&t({title:u.trim(),content:d.trim(),color:g})};return r?X.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:X.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-md",children:[X.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-100",children:[X.jsx("h2",{className:"text-xl font-semibold text-gray-800",children:o?"Edit Note":"Create New Note"}),X.jsx(ko,{variant:"ghost",size:"sm",onClick:e,className:"h-8 w-8 p-0 hover:bg-gray-100",children:X.jsx(JC,{className:"h-4 w-4"})})]}),X.jsxs("form",{onSubmit:T,className:"p-6 space-y-4",children:[X.jsxs("div",{children:[X.jsx("label",{htmlFor:"title",className:"block text-sm font-medium text-gray-700 mb-1",children:"Title (optional)"}),X.jsx("input",{type:"text",id:"title",value:u,onChange:I=>h(I.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-amber-500 focus:border-transparent outline-none transition-colors",placeholder:"Enter a title...",maxLength:50})]}),X.jsxs("div",{children:[X.jsx("label",{htmlFor:"content",className:"block text-sm font-medium text-gray-700 mb-1",children:"Content *"}),X.jsx("textarea",{id:"content",value:d,onChange:I=>p(I.target.value),rows:4,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-amber-500 focus:border-transparent outline-none transition-colors resize-none",placeholder:"Write your note here...",maxLength:200,required:!0}),X.jsxs("div",{className:"text-xs text-gray-500 mt-1",children:[d.length,"/200 characters"]})]}),X.jsxs("div",{children:[X.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Color"}),X.jsx("div",{className:"flex gap-2",children:v.map(I=>X.jsx("button",{type:"button",onClick:()=>_(I.name),className:`w-8 h-8 rounded-full border-2 transition-all duration-200 ${I.class} ${g===I.name?"ring-2 ring-amber-500 ring-offset-2 scale-110":"hover:scale-105"}`,title:I.label},I.name))})]}),X.jsxs("div",{className:"flex gap-3 pt-4",children:[s&&X.jsxs(ko,{type:"button",variant:"destructive",size:"sm",onClick:s,className:"flex items-center gap-2",children:[X.jsx(LE,{className:"h-4 w-4"}),"Delete"]}),X.jsx("div",{className:"flex-1"}),X.jsx(ko,{type:"button",variant:"outline",onClick:e,children:"Cancel"}),X.jsxs(ko,{type:"submit",className:"bg-amber-600 hover:bg-amber-700",disabled:!d.trim(),children:[o?"Update":"Create"," Note"]})]})]})]})}):null},XI=({zoom:r,onZoomIn:e,onZoomOut:t,onReset:s})=>X.jsxs("div",{className:"absolute bottom-4 right-4 bg-white/90 backdrop-blur-sm p-2 rounded-lg shadow-lg z-10 flex flex-col gap-2",children:[X.jsx("button",{onClick:e,className:"p-2 hover:bg-gray-100 rounded-md transition-colors",title:"Zoom In",children:X.jsx(tI,{size:20})}),X.jsxs("div",{className:"text-xs text-center text-gray-600 px-2",children:[Math.round(r*100),"%"]}),X.jsx("button",{onClick:t,className:"p-2 hover:bg-gray-100 rounded-md transition-colors",title:"Zoom Out",children:X.jsx(rI,{size:20})}),X.jsx("button",{onClick:s,className:"p-2 hover:bg-gray-100 rounded-md transition-colors border-t border-gray-200 mt-1",title:"Reset View",children:X.jsx(XC,{size:16})})]}),WI=({selectedCount:r,totalNotes:e})=>{const[t,s]=U.useState(!0);return t?X.jsx("button",{onClick:()=>s(!1),className:"bg-blue-500 hover:bg-blue-600 text-white p-3 rounded-full shadow-lg transition-colors",title:"Show info",children:X.jsx(_0,{size:20})}):X.jsxs("div",{className:"z-30 bg-white/95 backdrop-blur-sm p-4 rounded-lg shadow-lg max-w-sm",children:[X.jsxs("div",{className:"flex items-center justify-between mb-3",children:[X.jsxs("h2",{className:"font-semibold text-amber-900 flex items-center gap-2",children:[X.jsx(_0,{size:18}),"Collaboard"]}),X.jsx("button",{onClick:()=>s(!0),className:"p-1 hover:bg-gray-100 rounded-md transition-colors cursor-pointer",title:"Collapse",children:X.jsx($C,{size:16})})]}),X.jsxs("div",{className:"space-y-2 text-sm",children:[X.jsxs("div",{className:"flex justify-between text-amber-800",children:[X.jsx("span",{children:"Total Notes:"}),X.jsx("span",{className:"font-medium",children:e})]}),r>0&&X.jsxs("div",{className:"flex justify-between text-blue-600",children:[X.jsx("span",{children:"Selected:"}),X.jsx("span",{className:"font-medium",children:r})]})]}),X.jsxs("div",{className:"mt-3 pt-3 border-t border-gray-200",children:[X.jsxs("p",{className:"text-xs text-amber-700 mb-2",children:[X.jsx("strong",{children:"Click"})," anywhere to create a note"]}),X.jsxs("p",{className:"text-xs text-amber-700 mb-2",children:[X.jsx("strong",{children:"Shift + drag"})," to select multiple notes"]}),X.jsxs("p",{className:"text-xs text-amber-700 mb-2",children:[X.jsx("strong",{children:"Drag selected notes"})," to move them together"]}),X.jsxs("p",{className:"text-xs text-amber-700",children:[X.jsx("strong",{children:"Mouse wheel:"})," zoom • ",X.jsx("strong",{children:"Middle-click:"})," ","pan"]})]})]})},ZI=({minZoom:r=.5,maxZoom:e=3,initialZoom:t=1}={})=>{const[s,o]=U.useState(t),[u,h]=U.useState({x:0,y:0}),d=U.useRef(!1),p=U.useRef({x:0,y:0}),g=U.useCallback(x=>{x.preventDefault();const j=x.deltaY>0?-.1:.1;o(Q=>Math.min(e,Math.max(r,Q+j)))},[r,e]),_=U.useCallback(x=>{(x.button===1||x.ctrlKey)&&(x.preventDefault(),d.current=!0,p.current={x:x.clientX,y:x.clientY})},[]),v=U.useCallback(x=>{if(d.current){const j=x.clientX-p.current.x,Q=x.clientY-p.current.y;h(Y=>({x:Y.x+j,y:Y.y+Q})),p.current={x:x.clientX,y:x.clientY}}},[]),T=U.useCallback(()=>{d.current=!1},[]),I=U.useCallback(()=>{o(x=>Math.min(e,x+.2))},[e]),C=U.useCallback(()=>{o(x=>Math.max(r,x-.2))},[r]),M=U.useCallback(()=>{o(t),h({x:0,y:0})},[t]);return{zoom:s,panOffset:u,handleWheel:g,handleMouseDown:_,handleMouseMove:v,handleMouseUp:T,zoomIn:I,zoomOut:C,resetZoom:M}},JI=({notes:r,zoom:e,panOffset:t})=>{const[s,o]=U.useState([]),[u,h]=U.useState(!1),[d,p]=U.useState([]),g=U.useRef(null),_=U.useRef(null),v=U.useCallback((Q,Y)=>{_.current=Y;const le=Y.getBoundingClientRect(),re=(Q.clientX-le.left-t.x)/e,ce=(Q.clientY-le.top-t.y)/e;g.current={x:re,y:ce},h(!0),p([{x:re,y:ce}]),o([])},[e,t]),T=U.useCallback(Q=>{if(!u||!g.current||!_.current)return;const Y=_.current.getBoundingClientRect(),le=(Q.clientX-Y.left-t.x)/e,re=(Q.clientY-Y.top-t.y)/e;p(ce=>[...ce,{x:le,y:re}])},[u,e,t]),I=U.useCallback((Q,Y)=>{if(Y.length<3)return!1;let le=!1;for(let re=0,ce=Y.length-1;re<Y.length;ce=re++){const k=Y[re].x,A=Y[re].y,R=Y[ce].x,O=Y[ce].y;A>Q.y!=O>Q.y&&Q.x<(R-k)*(Q.y-A)/(O-A)+k&&(le=!le)}return le},[]),C=U.useCallback((Q,Y,le=50)=>{for(let re=0;re<Y.length-1;re++){const ce=Y[re],k=Y[re+1],A=Q.x-ce.x,R=Q.y-ce.y,O=k.x-ce.x,V=k.y-ce.y,L=A*O+R*V,D=O*O+V*V;if(D===0)continue;const Qe=L/D;let Re,q;Qe<0?(Re=ce.x,q=ce.y):Qe>1?(Re=k.x,q=k.y):(Re=ce.x+Qe*O,q=ce.y+Qe*V);const ue=Q.x-Re,te=Q.y-q;if(Math.sqrt(ue*ue+te*te)<=le)return!0}return!1},[]),M=U.useCallback(()=>{if(!u)return;const Q=Math.min(...d.map(L=>L.x)),Y=Math.max(...d.map(L=>L.x)),le=Math.min(...d.map(L=>L.y)),re=Math.max(...d.map(L=>L.y)),ce=20/e,k=Q-ce,A=Y+ce,R=le-ce,O=re+ce,V=r.filter(L=>{const D={x:L.x,y:L.y},Qe=d.length>=3&&I(D,d),Re=L.x>=k&&L.x<=A&&L.y>=R&&L.y<=O,q=d.length>=2&&C(D,d,60/e);return Qe||Re||q});console.log("Selection completed:",{pathLength:d.length,selectedCount:V.length,boundingBox:{minX:k,maxX:A,minY:R,maxY:O}}),o(V.map(L=>L.id)),h(!1),p([]),g.current=null,_.current=null},[u,r,d,I,C,e]),x=U.useCallback(()=>{o([])},[]),j=U.useCallback((Q,Y)=>s.map(le=>({id:le,deltaX:Q,deltaY:Y})),[s]);return{selectedNoteIds:s,isSelecting:u,selectionPath:d,handleSelectionStart:v,handleSelectionMove:T,handleSelectionEnd:M,clearSelection:x,moveSelectedNotes:j}},ex=({selectedNoteIds:r,notes:e,zoom:t,onNotesMove:s})=>{const[o,u]=U.useState(!1),[h,d]=U.useState({x:0,y:0}),[p,g]=U.useState({}),[_,v]=U.useState(!1),T=U.useCallback(M=>{console.log("Starting group drag for",r.length,"notes"),u(!0),v(!1),d({x:M.clientX,y:M.clientY});const x={};r.forEach(j=>{const Q=e.find(Y=>Y.id===j);Q&&(x[j]={x:Q.x,y:Q.y})}),g(x)},[r,e]),I=U.useCallback(M=>{if(!o||r.length===0)return;const x=(M.clientX-h.x)/t,j=(M.clientY-h.y)/t;!_&&(Math.abs(x)>5||Math.abs(j)>5)&&v(!0);const Q=r.map(Y=>{const le=p[Y];if(!le){const re=e.find(ce=>ce.id===Y);return{id:Y,x:re?.x||0,y:re?.y||0}}return{id:Y,x:le.x+x,y:le.y+j}});s(Q)},[o,h,r,t,p,e,s,_]),C=U.useCallback(()=>{console.log("Stopping group drag"),u(!1),g({})},[]);return{isDraggingSelected:o,hasDraggedGroup:_,startDraggingSelected:T,handleSelectedNotesMove:I,stopDraggingSelected:C}},tx=()=>{};var C0={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XE=function(r){const e=[];let t=0;for(let s=0;s<r.length;s++){let o=r.charCodeAt(s);o<128?e[t++]=o:o<2048?(e[t++]=o>>6|192,e[t++]=o&63|128):(o&64512)===55296&&s+1<r.length&&(r.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(r.charCodeAt(++s)&1023),e[t++]=o>>18|240,e[t++]=o>>12&63|128,e[t++]=o>>6&63|128,e[t++]=o&63|128):(e[t++]=o>>12|224,e[t++]=o>>6&63|128,e[t++]=o&63|128)}return e},nx=function(r){const e=[];let t=0,s=0;for(;t<r.length;){const o=r[t++];if(o<128)e[s++]=String.fromCharCode(o);else if(o>191&&o<224){const u=r[t++];e[s++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=r[t++],h=r[t++],d=r[t++],p=((o&7)<<18|(u&63)<<12|(h&63)<<6|d&63)-65536;e[s++]=String.fromCharCode(55296+(p>>10)),e[s++]=String.fromCharCode(56320+(p&1023))}else{const u=r[t++],h=r[t++];e[s++]=String.fromCharCode((o&15)<<12|(u&63)<<6|h&63)}}return e.join("")},WE={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,e){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<r.length;o+=3){const u=r[o],h=o+1<r.length,d=h?r[o+1]:0,p=o+2<r.length,g=p?r[o+2]:0,_=u>>2,v=(u&3)<<4|d>>4;let T=(d&15)<<2|g>>6,I=g&63;p||(I=64,h||(T=64)),s.push(t[_],t[v],t[T],t[I])}return s.join("")},encodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(r):this.encodeByteArray(XE(r),e)},decodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(r):nx(this.decodeStringToByteArray(r,e))},decodeStringToByteArray(r,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<r.length;){const u=t[r.charAt(o++)],d=o<r.length?t[r.charAt(o)]:0;++o;const g=o<r.length?t[r.charAt(o)]:64;++o;const v=o<r.length?t[r.charAt(o)]:64;if(++o,u==null||d==null||g==null||v==null)throw new rx;const T=u<<2|d>>4;if(s.push(T),g!==64){const I=d<<4&240|g>>2;if(s.push(I),v!==64){const C=g<<6&192|v;s.push(C)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class rx extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const ix=function(r){const e=XE(r);return WE.encodeByteArray(e,!0)},Lh=function(r){return ix(r).replace(/\./g,"")},ZE=function(r){try{return WE.decodeString(r,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sx(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ax=()=>sx().__FIREBASE_DEFAULTS__,ox=()=>{if(typeof process>"u"||typeof C0>"u")return;const r=C0.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},lx=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=r&&ZE(r[1]);return e&&JSON.parse(e)},hf=()=>{try{return tx()||ax()||ox()||lx()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},JE=r=>{var e,t;return(t=(e=hf())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[r]},eT=r=>{const e=JE(r);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),s]:[e.substring(0,t),s]},tT=()=>{var r;return(r=hf())===null||r===void 0?void 0:r.config},nT=r=>{var e;return(e=hf())===null||e===void 0?void 0:e[`_${r}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ux{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,s)=>{t?this.reject(t):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,s))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ia(r){try{return(r.startsWith("http://")||r.startsWith("https://")?new URL(r).hostname:r).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Bp(r){return(await fetch(r,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rT(r,e){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},s=e||"demo-project",o=r.iat||0,u=r.sub||r.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const h=Object.assign({iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}}},r);return[Lh(JSON.stringify(t)),Lh(JSON.stringify(h)),""].join(".")}const hu={};function cx(){const r={prod:[],emulator:[]};for(const e of Object.keys(hu))hu[e]?r.emulator.push(e):r.prod.push(e);return r}function hx(r){let e=document.getElementById(r),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",r),t=!0),{created:t,element:e}}let I0=!1;function qp(r,e){if(typeof window>"u"||typeof document>"u"||!Ia(window.location.host)||hu[r]===e||hu[r]||I0)return;hu[r]=e;function t(T){return`__firebase__banner__${T}`}const s="__firebase__banner",u=cx().prod.length>0;function h(){const T=document.getElementById(s);T&&T.remove()}function d(T){T.style.display="flex",T.style.background="#7faaf0",T.style.position="fixed",T.style.bottom="5px",T.style.left="5px",T.style.padding=".5em",T.style.borderRadius="5px",T.style.alignItems="center"}function p(T,I){T.setAttribute("width","24"),T.setAttribute("id",I),T.setAttribute("height","24"),T.setAttribute("viewBox","0 0 24 24"),T.setAttribute("fill","none"),T.style.marginLeft="-6px"}function g(){const T=document.createElement("span");return T.style.cursor="pointer",T.style.marginLeft="16px",T.style.fontSize="24px",T.innerHTML=" &times;",T.onclick=()=>{I0=!0,h()},T}function _(T,I){T.setAttribute("id",I),T.innerText="Learn more",T.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",T.setAttribute("target","__blank"),T.style.paddingLeft="5px",T.style.textDecoration="underline"}function v(){const T=hx(s),I=t("text"),C=document.getElementById(I)||document.createElement("span"),M=t("learnmore"),x=document.getElementById(M)||document.createElement("a"),j=t("preprendIcon"),Q=document.getElementById(j)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(T.created){const Y=T.element;d(Y),_(x,M);const le=g();p(Q,j),Y.append(Q,C,x,le),document.body.appendChild(Y)}u?(C.innerText="Preview backend disconnected.",Q.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(Q.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,C.innerText="Preview backend running in this workspace."),C.setAttribute("id",I)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",v):v()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _n(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function fx(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(_n())}function dx(){var r;const e=(r=hf())===null||r===void 0?void 0:r.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function mx(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function px(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function gx(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function yx(){const r=_n();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function vx(){return!dx()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function _x(){try{return typeof indexedDB=="object"}catch{return!1}}function bx(){return new Promise((r,e)=>{try{let t=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),t||self.indexedDB.deleteDatabase(s),r(!0)},o.onupgradeneeded=()=>{t=!1},o.onerror=()=>{var u;e(((u=o.error)===null||u===void 0?void 0:u.message)||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ex="FirebaseError";class Wr extends Error{constructor(e,t,s){super(t),this.code=e,this.customData=s,this.name=Ex,Object.setPrototypeOf(this,Wr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ku.prototype.create)}}class ku{constructor(e,t,s){this.service=e,this.serviceName=t,this.errors=s}create(e,...t){const s=t[0]||{},o=`${this.service}/${e}`,u=this.errors[e],h=u?Tx(u,s):"Error",d=`${this.serviceName}: ${h} (${o}).`;return new Wr(o,d,s)}}function Tx(r,e){return r.replace(wx,(t,s)=>{const o=e[s];return o!=null?String(o):`<${s}?>`})}const wx=/\{\$([^}]+)}/g;function Sx(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}function ba(r,e){if(r===e)return!0;const t=Object.keys(r),s=Object.keys(e);for(const o of t){if(!s.includes(o))return!1;const u=r[o],h=e[o];if(x0(u)&&x0(h)){if(!ba(u,h))return!1}else if(u!==h)return!1}for(const o of s)if(!t.includes(o))return!1;return!0}function x0(r){return r!==null&&typeof r=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mu(r){const e=[];for(const[t,s]of Object.entries(r))Array.isArray(s)?s.forEach(o=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function su(r){const e={};return r.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[o,u]=s.split("=");e[decodeURIComponent(o)]=decodeURIComponent(u)}}),e}function au(r){const e=r.indexOf("?");if(!e)return"";const t=r.indexOf("#",e);return r.substring(e,t>0?t:void 0)}function Ax(r,e){const t=new Rx(r,e);return t.subscribe.bind(t)}class Rx{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,s){let o;if(e===void 0&&t===void 0&&s===void 0)throw new Error("Missing Observer.");Cx(e,["next","error","complete"])?o=e:o={next:e,error:t,complete:s},o.next===void 0&&(o.next=Lm),o.error===void 0&&(o.error=Lm),o.complete===void 0&&(o.complete=Lm);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Cx(r,e){if(typeof r!="object"||r===null)return!1;for(const t of e)if(t in r&&typeof r[t]=="function")return!0;return!1}function Lm(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hn(r){return r&&r._delegate?r._delegate:r}class As{constructor(e,t,s){this.name=e,this.instanceFactory=t,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pa="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ix{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const s=new ux;if(this.instancesDeferred.set(t,s),this.isInitialized(t)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:t});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const s=this.normalizeInstanceIdentifier(e?.identifier),o=(t=e?.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(u){if(o)return null;throw u}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(Dx(e))try{this.getOrInitializeService({instanceIdentifier:pa})}catch{}for(const[t,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(t);try{const u=this.getOrInitializeService({instanceIdentifier:o});s.resolve(u)}catch{}}}}clearInstance(e=pa){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=pa){return this.instances.has(e)}getOptions(e=pa){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:t});for(const[u,h]of this.instancesDeferred.entries()){const d=this.normalizeInstanceIdentifier(u);s===d&&h.resolve(o)}return o}onInit(e,t){var s;const o=this.normalizeInstanceIdentifier(t),u=(s=this.onInitCallbacks.get(o))!==null&&s!==void 0?s:new Set;u.add(e),this.onInitCallbacks.set(o,u);const h=this.instances.get(o);return h&&e(h,o),()=>{u.delete(e)}}invokeOnInitCallbacks(e,t){const s=this.onInitCallbacks.get(t);if(s)for(const o of s)try{o(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:xx(e),options:t}),this.instances.set(e,s),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=pa){return this.component?this.component.multipleInstances?e:pa:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function xx(r){return r===pa?void 0:r}function Dx(r){return r.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nx{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new Ix(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ge;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(Ge||(Ge={}));const Ox={debug:Ge.DEBUG,verbose:Ge.VERBOSE,info:Ge.INFO,warn:Ge.WARN,error:Ge.ERROR,silent:Ge.SILENT},kx=Ge.INFO,Mx={[Ge.DEBUG]:"log",[Ge.VERBOSE]:"log",[Ge.INFO]:"info",[Ge.WARN]:"warn",[Ge.ERROR]:"error"},Px=(r,e,...t)=>{if(e<r.logLevel)return;const s=new Date().toISOString(),o=Mx[e];if(o)console[o](`[${s}]  ${r.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Fp{constructor(e){this.name=e,this._logLevel=kx,this._logHandler=Px,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ge))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?Ox[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ge.DEBUG,...e),this._logHandler(this,Ge.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ge.VERBOSE,...e),this._logHandler(this,Ge.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ge.INFO,...e),this._logHandler(this,Ge.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ge.WARN,...e),this._logHandler(this,Ge.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ge.ERROR,...e),this._logHandler(this,Ge.ERROR,...e)}}const Vx=(r,e)=>e.some(t=>r instanceof t);let D0,N0;function Lx(){return D0||(D0=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Ux(){return N0||(N0=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const iT=new WeakMap,ip=new WeakMap,sT=new WeakMap,Um=new WeakMap,Hp=new WeakMap;function zx(r){const e=new Promise((t,s)=>{const o=()=>{r.removeEventListener("success",u),r.removeEventListener("error",h)},u=()=>{t(bs(r.result)),o()},h=()=>{s(r.error),o()};r.addEventListener("success",u),r.addEventListener("error",h)});return e.then(t=>{t instanceof IDBCursor&&iT.set(t,r)}).catch(()=>{}),Hp.set(e,r),e}function jx(r){if(ip.has(r))return;const e=new Promise((t,s)=>{const o=()=>{r.removeEventListener("complete",u),r.removeEventListener("error",h),r.removeEventListener("abort",h)},u=()=>{t(),o()},h=()=>{s(r.error||new DOMException("AbortError","AbortError")),o()};r.addEventListener("complete",u),r.addEventListener("error",h),r.addEventListener("abort",h)});ip.set(r,e)}let sp={get(r,e,t){if(r instanceof IDBTransaction){if(e==="done")return ip.get(r);if(e==="objectStoreNames")return r.objectStoreNames||sT.get(r);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return bs(r[e])},set(r,e,t){return r[e]=t,!0},has(r,e){return r instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in r}};function Bx(r){sp=r(sp)}function qx(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const s=r.call(zm(this),e,...t);return sT.set(s,e.sort?e.sort():[e]),bs(s)}:Ux().includes(r)?function(...e){return r.apply(zm(this),e),bs(iT.get(this))}:function(...e){return bs(r.apply(zm(this),e))}}function Fx(r){return typeof r=="function"?qx(r):(r instanceof IDBTransaction&&jx(r),Vx(r,Lx())?new Proxy(r,sp):r)}function bs(r){if(r instanceof IDBRequest)return zx(r);if(Um.has(r))return Um.get(r);const e=Fx(r);return e!==r&&(Um.set(r,e),Hp.set(e,r)),e}const zm=r=>Hp.get(r);function Hx(r,e,{blocked:t,upgrade:s,blocking:o,terminated:u}={}){const h=indexedDB.open(r,e),d=bs(h);return s&&h.addEventListener("upgradeneeded",p=>{s(bs(h.result),p.oldVersion,p.newVersion,bs(h.transaction),p)}),t&&h.addEventListener("blocked",p=>t(p.oldVersion,p.newVersion,p)),d.then(p=>{u&&p.addEventListener("close",()=>u()),o&&p.addEventListener("versionchange",g=>o(g.oldVersion,g.newVersion,g))}).catch(()=>{}),d}const Gx=["get","getKey","getAll","getAllKeys","count"],Kx=["put","add","delete","clear"],jm=new Map;function O0(r,e){if(!(r instanceof IDBDatabase&&!(e in r)&&typeof e=="string"))return;if(jm.get(e))return jm.get(e);const t=e.replace(/FromIndex$/,""),s=e!==t,o=Kx.includes(t);if(!(t in(s?IDBIndex:IDBObjectStore).prototype)||!(o||Gx.includes(t)))return;const u=async function(h,...d){const p=this.transaction(h,o?"readwrite":"readonly");let g=p.store;return s&&(g=g.index(d.shift())),(await Promise.all([g[t](...d),o&&p.done]))[0]};return jm.set(e,u),u}Bx(r=>({...r,get:(e,t,s)=>O0(e,t)||r.get(e,t,s),has:(e,t)=>!!O0(e,t)||r.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qx{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if($x(t)){const s=t.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(t=>t).join(" ")}}function $x(r){const e=r.getComponent();return e?.type==="VERSION"}const ap="@firebase/app",k0="0.13.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pi=new Fp("@firebase/app"),Yx="@firebase/app-compat",Xx="@firebase/analytics-compat",Wx="@firebase/analytics",Zx="@firebase/app-check-compat",Jx="@firebase/app-check",e2="@firebase/auth",t2="@firebase/auth-compat",n2="@firebase/database",r2="@firebase/data-connect",i2="@firebase/database-compat",s2="@firebase/functions",a2="@firebase/functions-compat",o2="@firebase/installations",l2="@firebase/installations-compat",u2="@firebase/messaging",c2="@firebase/messaging-compat",h2="@firebase/performance",f2="@firebase/performance-compat",d2="@firebase/remote-config",m2="@firebase/remote-config-compat",p2="@firebase/storage",g2="@firebase/storage-compat",y2="@firebase/firestore",v2="@firebase/ai",_2="@firebase/firestore-compat",b2="firebase",E2="11.10.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const op="[DEFAULT]",T2={[ap]:"fire-core",[Yx]:"fire-core-compat",[Wx]:"fire-analytics",[Xx]:"fire-analytics-compat",[Jx]:"fire-app-check",[Zx]:"fire-app-check-compat",[e2]:"fire-auth",[t2]:"fire-auth-compat",[n2]:"fire-rtdb",[r2]:"fire-data-connect",[i2]:"fire-rtdb-compat",[s2]:"fire-fn",[a2]:"fire-fn-compat",[o2]:"fire-iid",[l2]:"fire-iid-compat",[u2]:"fire-fcm",[c2]:"fire-fcm-compat",[h2]:"fire-perf",[f2]:"fire-perf-compat",[d2]:"fire-rc",[m2]:"fire-rc-compat",[p2]:"fire-gcs",[g2]:"fire-gcs-compat",[y2]:"fire-fst",[_2]:"fire-fst-compat",[v2]:"fire-vertex","fire-js":"fire-js",[b2]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uh=new Map,w2=new Map,lp=new Map;function M0(r,e){try{r.container.addComponent(e)}catch(t){Pi.debug(`Component ${e.name} failed to register with FirebaseApp ${r.name}`,t)}}function Ea(r){const e=r.name;if(lp.has(e))return Pi.debug(`There were multiple attempts to register component ${e}.`),!1;lp.set(e,r);for(const t of Uh.values())M0(t,r);for(const t of w2.values())M0(t,r);return!0}function ff(r,e){const t=r.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),r.container.getProvider(e)}function Hn(r){return r==null?!1:r.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S2={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Es=new ku("app","Firebase",S2);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A2{constructor(e,t,s){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new As("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Es.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xa=E2;function aT(r,e={}){let t=r;typeof e!="object"&&(e={name:e});const s=Object.assign({name:op,automaticDataCollectionEnabled:!0},e),o=s.name;if(typeof o!="string"||!o)throw Es.create("bad-app-name",{appName:String(o)});if(t||(t=tT()),!t)throw Es.create("no-options");const u=Uh.get(o);if(u){if(ba(t,u.options)&&ba(s,u.config))return u;throw Es.create("duplicate-app",{appName:o})}const h=new Nx(o);for(const p of lp.values())h.addComponent(p);const d=new A2(t,s,h);return Uh.set(o,d),d}function Gp(r=op){const e=Uh.get(r);if(!e&&r===op&&tT())return aT();if(!e)throw Es.create("no-app",{appName:r});return e}function Lr(r,e,t){var s;let o=(s=T2[r])!==null&&s!==void 0?s:r;t&&(o+=`-${t}`);const u=o.match(/\s|\//),h=e.match(/\s|\//);if(u||h){const d=[`Unable to register library "${o}" with version "${e}":`];u&&d.push(`library name "${o}" contains illegal characters (whitespace or "/")`),u&&h&&d.push("and"),h&&d.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Pi.warn(d.join(" "));return}Ea(new As(`${o}-version`,()=>({library:o,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R2="firebase-heartbeat-database",C2=1,bu="firebase-heartbeat-store";let Bm=null;function oT(){return Bm||(Bm=Hx(R2,C2,{upgrade:(r,e)=>{switch(e){case 0:try{r.createObjectStore(bu)}catch(t){console.warn(t)}}}}).catch(r=>{throw Es.create("idb-open",{originalErrorMessage:r.message})})),Bm}async function I2(r){try{const t=(await oT()).transaction(bu),s=await t.objectStore(bu).get(lT(r));return await t.done,s}catch(e){if(e instanceof Wr)Pi.warn(e.message);else{const t=Es.create("idb-get",{originalErrorMessage:e?.message});Pi.warn(t.message)}}}async function P0(r,e){try{const s=(await oT()).transaction(bu,"readwrite");await s.objectStore(bu).put(e,lT(r)),await s.done}catch(t){if(t instanceof Wr)Pi.warn(t.message);else{const s=Es.create("idb-set",{originalErrorMessage:t?.message});Pi.warn(s.message)}}}function lT(r){return`${r.name}!${r.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x2=1024,D2=30;class N2{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new k2(t),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var e,t;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),u=V0();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===u||this._heartbeatsCache.heartbeats.some(h=>h.date===u))return;if(this._heartbeatsCache.heartbeats.push({date:u,agent:o}),this._heartbeatsCache.heartbeats.length>D2){const h=M2(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(h,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(s){Pi.warn(s)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=V0(),{heartbeatsToSend:s,unsentEntries:o}=O2(this._heartbeatsCache.heartbeats),u=Lh(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=t,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),u}catch(t){return Pi.warn(t),""}}}function V0(){return new Date().toISOString().substring(0,10)}function O2(r,e=x2){const t=[];let s=r.slice();for(const o of r){const u=t.find(h=>h.agent===o.agent);if(u){if(u.dates.push(o.date),L0(t)>e){u.dates.pop();break}}else if(t.push({agent:o.agent,dates:[o.date]}),L0(t)>e){t.pop();break}s=s.slice(1)}return{heartbeatsToSend:t,unsentEntries:s}}class k2{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return _x()?bx().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await I2(this.app);return t?.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const o=await this.read();return P0(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const o=await this.read();return P0(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}else return}}function L0(r){return Lh(JSON.stringify({version:2,heartbeats:r})).length}function M2(r){if(r.length===0)return-1;let e=0,t=r[0].date;for(let s=1;s<r.length;s++)r[s].date<t&&(t=r[s].date,e=s);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function P2(r){Ea(new As("platform-logger",e=>new Qx(e),"PRIVATE")),Ea(new As("heartbeat",e=>new N2(e),"PRIVATE")),Lr(ap,k0,r),Lr(ap,k0,"esm2017"),Lr("fire-js","")}P2("");function Kp(r,e){var t={};for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&e.indexOf(s)<0&&(t[s]=r[s]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,s=Object.getOwnPropertySymbols(r);o<s.length;o++)e.indexOf(s[o])<0&&Object.prototype.propertyIsEnumerable.call(r,s[o])&&(t[s[o]]=r[s[o]]);return t}function uT(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const V2=uT,cT=new ku("auth","Firebase",uT());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zh=new Fp("@firebase/auth");function L2(r,...e){zh.logLevel<=Ge.WARN&&zh.warn(`Auth (${xa}): ${r}`,...e)}function Ah(r,...e){zh.logLevel<=Ge.ERROR&&zh.error(`Auth (${xa}): ${r}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vr(r,...e){throw Qp(r,...e)}function Ur(r,...e){return Qp(r,...e)}function hT(r,e,t){const s=Object.assign(Object.assign({},V2()),{[e]:t});return new ku("auth","Firebase",s).create(e,{appName:r.name})}function ki(r){return hT(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Qp(r,...e){if(typeof r!="string"){const t=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=r.name),r._errorFactory.create(t,...s)}return cT.create(r,...e)}function xe(r,e,...t){if(!r)throw Qp(e,...t)}function Di(r){const e="INTERNAL ASSERTION FAILED: "+r;throw Ah(e),new Error(e)}function Vi(r,e){r||Di(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function up(){var r;return typeof self<"u"&&((r=self.location)===null||r===void 0?void 0:r.href)||""}function U2(){return U0()==="http:"||U0()==="https:"}function U0(){var r;return typeof self<"u"&&((r=self.location)===null||r===void 0?void 0:r.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function z2(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(U2()||px()||"connection"in navigator)?navigator.onLine:!0}function j2(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pu{constructor(e,t){this.shortDelay=e,this.longDelay=t,Vi(t>e,"Short delay should be less than long delay!"),this.isMobile=fx()||gx()}get(){return z2()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $p(r,e){Vi(r.emulator,"Emulator should always be set here");const{url:t}=r.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fT{static initialize(e,t,s){this.fetchImpl=e,t&&(this.headersImpl=t),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Di("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Di("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Di("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B2={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q2=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],F2=new Pu(3e4,6e4);function ks(r,e){return r.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:r.tenantId}):e}async function Ms(r,e,t,s,o={}){return dT(r,o,async()=>{let u={},h={};s&&(e==="GET"?h=s:u={body:JSON.stringify(s)});const d=Mu(Object.assign({key:r.config.apiKey},h)).slice(1),p=await r._getAdditionalHeaders();p["Content-Type"]="application/json",r.languageCode&&(p["X-Firebase-Locale"]=r.languageCode);const g=Object.assign({method:e,headers:p},u);return mx()||(g.referrerPolicy="no-referrer"),r.emulatorConfig&&Ia(r.emulatorConfig.host)&&(g.credentials="include"),fT.fetch()(await mT(r,r.config.apiHost,t,d),g)})}async function dT(r,e,t){r._canInitEmulator=!1;const s=Object.assign(Object.assign({},B2),e);try{const o=new G2(r),u=await Promise.race([t(),o.promise]);o.clearNetworkTimeout();const h=await u.json();if("needConfirmation"in h)throw gh(r,"account-exists-with-different-credential",h);if(u.ok&&!("errorMessage"in h))return h;{const d=u.ok?h.errorMessage:h.error.message,[p,g]=d.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw gh(r,"credential-already-in-use",h);if(p==="EMAIL_EXISTS")throw gh(r,"email-already-in-use",h);if(p==="USER_DISABLED")throw gh(r,"user-disabled",h);const _=s[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(g)throw hT(r,_,g);vr(r,_)}}catch(o){if(o instanceof Wr)throw o;vr(r,"network-request-failed",{message:String(o)})}}async function Vu(r,e,t,s,o={}){const u=await Ms(r,e,t,s,o);return"mfaPendingCredential"in u&&vr(r,"multi-factor-auth-required",{_serverResponse:u}),u}async function mT(r,e,t,s){const o=`${e}${t}?${s}`,u=r,h=u.config.emulator?$p(r.config,o):`${r.config.apiScheme}://${o}`;return q2.includes(t)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(h).toString():h}function H2(r){switch(r){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class G2{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,s)=>{this.timer=setTimeout(()=>s(Ur(this.auth,"network-request-failed")),F2.get())})}}function gh(r,e,t){const s={appName:r.name};t.email&&(s.email=t.email),t.phoneNumber&&(s.phoneNumber=t.phoneNumber);const o=Ur(r,e,s);return o.customData._tokenResponse=t,o}function z0(r){return r!==void 0&&r.enterprise!==void 0}class K2{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return H2(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function Q2(r,e){return Ms(r,"GET","/v2/recaptchaConfig",ks(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $2(r,e){return Ms(r,"POST","/v1/accounts:delete",e)}async function jh(r,e){return Ms(r,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fu(r){if(r)try{const e=new Date(Number(r));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function Y2(r,e=!1){const t=hn(r),s=await t.getIdToken(e),o=Yp(s);xe(o&&o.exp&&o.auth_time&&o.iat,t.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,h=u?.sign_in_provider;return{claims:o,token:s,authTime:fu(qm(o.auth_time)),issuedAtTime:fu(qm(o.iat)),expirationTime:fu(qm(o.exp)),signInProvider:h||null,signInSecondFactor:u?.sign_in_second_factor||null}}function qm(r){return Number(r)*1e3}function Yp(r){const[e,t,s]=r.split(".");if(e===void 0||t===void 0||s===void 0)return Ah("JWT malformed, contained fewer than 3 sections"),null;try{const o=ZE(t);return o?JSON.parse(o):(Ah("Failed to decode base64 JWT payload"),null)}catch(o){return Ah("Caught error parsing JWT payload as JSON",o?.toString()),null}}function j0(r){const e=Yp(r);return xe(e,"internal-error"),xe(typeof e.exp<"u","internal-error"),xe(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Eu(r,e,t=!1){if(t)return e;try{return await e}catch(s){throw s instanceof Wr&&X2(s)&&r.auth.currentUser===r&&await r.auth.signOut(),s}}function X2({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W2{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const s=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),s}else{this.errorBackoff=3e4;const o=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,o)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cp{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=fu(this.lastLoginAt),this.creationTime=fu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Bh(r){var e;const t=r.auth,s=await r.getIdToken(),o=await Eu(r,jh(t,{idToken:s}));xe(o?.users.length,t,"internal-error");const u=o.users[0];r._notifyReloadListener(u);const h=!((e=u.providerUserInfo)===null||e===void 0)&&e.length?pT(u.providerUserInfo):[],d=J2(r.providerData,h),p=r.isAnonymous,g=!(r.email&&u.passwordHash)&&!d?.length,_=p?g:!1,v={uid:u.localId,displayName:u.displayName||null,photoURL:u.photoUrl||null,email:u.email||null,emailVerified:u.emailVerified||!1,phoneNumber:u.phoneNumber||null,tenantId:u.tenantId||null,providerData:d,metadata:new cp(u.createdAt,u.lastLoginAt),isAnonymous:_};Object.assign(r,v)}async function Z2(r){const e=hn(r);await Bh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function J2(r,e){return[...r.filter(s=>!e.some(o=>o.providerId===s.providerId)),...e]}function pT(r){return r.map(e=>{var{providerId:t}=e,s=Kp(e,["providerId"]);return{providerId:t,uid:s.rawId||"",displayName:s.displayName||null,email:s.email||null,phoneNumber:s.phoneNumber||null,photoURL:s.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function eD(r,e){const t=await dT(r,{},async()=>{const s=Mu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:u}=r.config,h=await mT(r,o,"/v1/token",`key=${u}`),d=await r._getAdditionalHeaders();d["Content-Type"]="application/x-www-form-urlencoded";const p={method:"POST",headers:d,body:s};return r.emulatorConfig&&Ia(r.emulatorConfig.host)&&(p.credentials="include"),fT.fetch()(h,p)});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function tD(r,e){return Ms(r,"POST","/v2/accounts:revokeToken",ks(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Po{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){xe(e.idToken,"internal-error"),xe(typeof e.idToken<"u","internal-error"),xe(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):j0(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){xe(e.length!==0,"internal-error");const t=j0(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(xe(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:s,refreshToken:o,expiresIn:u}=await eD(e,t);this.updateTokensAndExpiration(s,o,Number(u))}updateTokensAndExpiration(e,t,s){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,t){const{refreshToken:s,accessToken:o,expirationTime:u}=t,h=new Po;return s&&(xe(typeof s=="string","internal-error",{appName:e}),h.refreshToken=s),o&&(xe(typeof o=="string","internal-error",{appName:e}),h.accessToken=o),u&&(xe(typeof u=="number","internal-error",{appName:e}),h.expirationTime=u),h}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Po,this.toJSON())}_performRefresh(){return Di("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ms(r,e){xe(typeof r=="string"||typeof r>"u","internal-error",{appName:e})}class mr{constructor(e){var{uid:t,auth:s,stsTokenManager:o}=e,u=Kp(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new W2(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=s,this.stsTokenManager=o,this.accessToken=o.accessToken,this.displayName=u.displayName||null,this.email=u.email||null,this.emailVerified=u.emailVerified||!1,this.phoneNumber=u.phoneNumber||null,this.photoURL=u.photoURL||null,this.isAnonymous=u.isAnonymous||!1,this.tenantId=u.tenantId||null,this.providerData=u.providerData?[...u.providerData]:[],this.metadata=new cp(u.createdAt||void 0,u.lastLoginAt||void 0)}async getIdToken(e){const t=await Eu(this,this.stsTokenManager.getToken(this.auth,e));return xe(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return Y2(this,e)}reload(){return Z2(this)}_assign(e){this!==e&&(xe(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new mr(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){xe(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),t&&await Bh(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Hn(this.auth.app))return Promise.reject(ki(this.auth));const e=await this.getIdToken();return await Eu(this,$2(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var s,o,u,h,d,p,g,_;const v=(s=t.displayName)!==null&&s!==void 0?s:void 0,T=(o=t.email)!==null&&o!==void 0?o:void 0,I=(u=t.phoneNumber)!==null&&u!==void 0?u:void 0,C=(h=t.photoURL)!==null&&h!==void 0?h:void 0,M=(d=t.tenantId)!==null&&d!==void 0?d:void 0,x=(p=t._redirectEventId)!==null&&p!==void 0?p:void 0,j=(g=t.createdAt)!==null&&g!==void 0?g:void 0,Q=(_=t.lastLoginAt)!==null&&_!==void 0?_:void 0,{uid:Y,emailVerified:le,isAnonymous:re,providerData:ce,stsTokenManager:k}=t;xe(Y&&k,e,"internal-error");const A=Po.fromJSON(this.name,k);xe(typeof Y=="string",e,"internal-error"),ms(v,e.name),ms(T,e.name),xe(typeof le=="boolean",e,"internal-error"),xe(typeof re=="boolean",e,"internal-error"),ms(I,e.name),ms(C,e.name),ms(M,e.name),ms(x,e.name),ms(j,e.name),ms(Q,e.name);const R=new mr({uid:Y,auth:e,email:T,emailVerified:le,displayName:v,isAnonymous:re,photoURL:C,phoneNumber:I,tenantId:M,stsTokenManager:A,createdAt:j,lastLoginAt:Q});return ce&&Array.isArray(ce)&&(R.providerData=ce.map(O=>Object.assign({},O))),x&&(R._redirectEventId=x),R}static async _fromIdTokenResponse(e,t,s=!1){const o=new Po;o.updateFromServerResponse(t);const u=new mr({uid:t.localId,auth:e,stsTokenManager:o,isAnonymous:s});return await Bh(u),u}static async _fromGetAccountInfoResponse(e,t,s){const o=t.users[0];xe(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?pT(o.providerUserInfo):[],h=!(o.email&&o.passwordHash)&&!u?.length,d=new Po;d.updateFromIdToken(s);const p=new mr({uid:o.localId,auth:e,stsTokenManager:d,isAnonymous:h}),g={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new cp(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!u?.length};return Object.assign(p,g),p}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B0=new Map;function Ni(r){Vi(r instanceof Function,"Expected a class definition");let e=B0.get(r);return e?(Vi(e instanceof r,"Instance stored in cache mismatched with class"),e):(e=new r,B0.set(r,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gT{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}gT.type="NONE";const q0=gT;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rh(r,e,t){return`firebase:${r}:${e}:${t}`}class Vo{constructor(e,t,s){this.persistence=e,this.auth=t,this.userKey=s;const{config:o,name:u}=this.auth;this.fullUserKey=Rh(this.userKey,o.apiKey,u),this.fullPersistenceKey=Rh("persistence",o.apiKey,u),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await jh(this.auth,{idToken:e}).catch(()=>{});return t?mr._fromGetAccountInfoResponse(this.auth,t,e):null}return mr._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,s="authUser"){if(!t.length)return new Vo(Ni(q0),e,s);const o=(await Promise.all(t.map(async g=>{if(await g._isAvailable())return g}))).filter(g=>g);let u=o[0]||Ni(q0);const h=Rh(s,e.config.apiKey,e.name);let d=null;for(const g of t)try{const _=await g._get(h);if(_){let v;if(typeof _=="string"){const T=await jh(e,{idToken:_}).catch(()=>{});if(!T)break;v=await mr._fromGetAccountInfoResponse(e,T,_)}else v=mr._fromJSON(e,_);g!==u&&(d=v),u=g;break}}catch{}const p=o.filter(g=>g._shouldAllowMigration);return!u._shouldAllowMigration||!p.length?new Vo(u,e,s):(u=p[0],d&&await u._set(h,d.toJSON()),await Promise.all(t.map(async g=>{if(g!==u)try{await g._remove(h)}catch{}})),new Vo(u,e,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function F0(r){const e=r.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(bT(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(yT(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(TT(e))return"Blackberry";if(wT(e))return"Webos";if(vT(e))return"Safari";if((e.includes("chrome/")||_T(e))&&!e.includes("edge/"))return"Chrome";if(ET(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=r.match(t);if(s?.length===2)return s[1]}return"Other"}function yT(r=_n()){return/firefox\//i.test(r)}function vT(r=_n()){const e=r.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function _T(r=_n()){return/crios\//i.test(r)}function bT(r=_n()){return/iemobile/i.test(r)}function ET(r=_n()){return/android/i.test(r)}function TT(r=_n()){return/blackberry/i.test(r)}function wT(r=_n()){return/webos/i.test(r)}function Xp(r=_n()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function nD(r=_n()){var e;return Xp(r)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function rD(){return yx()&&document.documentMode===10}function ST(r=_n()){return Xp(r)||ET(r)||wT(r)||TT(r)||/windows phone/i.test(r)||bT(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AT(r,e=[]){let t;switch(r){case"Browser":t=F0(_n());break;case"Worker":t=`${F0(_n())}-${r}`;break;default:t=r}const s=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${xa}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iD{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const s=u=>new Promise((h,d)=>{try{const p=e(u);h(p)}catch(p){d(p)}});s.onAbort=t,this.queue.push(s);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const s of this.queue)await s(e),s.onAbort&&t.push(s.onAbort)}catch(s){t.reverse();for(const o of t)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sD(r,e={}){return Ms(r,"GET","/v2/passwordPolicy",ks(r,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aD=6;class oD{constructor(e){var t,s,o,u;const h=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=h.minPasswordLength)!==null&&t!==void 0?t:aD,h.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=h.maxPasswordLength),h.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=h.containsLowercaseCharacter),h.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=h.containsUppercaseCharacter),h.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=h.containsNumericCharacter),h.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=h.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(o=(s=e.allowedNonAlphanumericCharacters)===null||s===void 0?void 0:s.join(""))!==null&&o!==void 0?o:"",this.forceUpgradeOnSignin=(u=e.forceUpgradeOnSignin)!==null&&u!==void 0?u:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,s,o,u,h,d;const p={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,p),this.validatePasswordCharacterOptions(e,p),p.isValid&&(p.isValid=(t=p.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),p.isValid&&(p.isValid=(s=p.meetsMaxPasswordLength)!==null&&s!==void 0?s:!0),p.isValid&&(p.isValid=(o=p.containsLowercaseLetter)!==null&&o!==void 0?o:!0),p.isValid&&(p.isValid=(u=p.containsUppercaseLetter)!==null&&u!==void 0?u:!0),p.isValid&&(p.isValid=(h=p.containsNumericCharacter)!==null&&h!==void 0?h:!0),p.isValid&&(p.isValid=(d=p.containsNonAlphanumericCharacter)!==null&&d!==void 0?d:!0),p}validatePasswordLengthOptions(e,t){const s=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;s&&(t.meetsMinPasswordLength=e.length>=s),o&&(t.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let s;for(let o=0;o<e.length;o++)s=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(t,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,t,s,o,u){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lD{constructor(e,t,s,o){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=s,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new H0(this),this.idTokenSubscription=new H0(this),this.beforeStateQueue=new iD(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=cT,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Ni(t)),this._initializationPromise=this.queue(async()=>{var s,o,u;if(!this._deleted&&(this.persistenceManager=await Vo.create(this,e),(s=this._resolvePersistenceManagerAvailable)===null||s===void 0||s.call(this),!this._deleted)){if(!((o=this._popupRedirectResolver)===null||o===void 0)&&o._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((u=this.currentUser)===null||u===void 0?void 0:u.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await jh(this,{idToken:e}),s=await mr._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(s)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(Hn(this.app)){const h=this.app.settings.authIdToken;return h?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(h).then(d,d))}):this.directlySetCurrentUser(null)}const s=await this.assertedPersistence.getCurrentUser();let o=s,u=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const h=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,d=o?._redirectEventId,p=await this.tryRedirectSignIn(e);(!h||h===d)&&p?.user&&(o=p.user,u=!0)}if(!o)return this.directlySetCurrentUser(null);if(!o._redirectEventId){if(u)try{await this.beforeStateQueue.runMiddleware(o)}catch(h){o=s,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(h))}return o?this.reloadAndSetCurrentUserOrClear(o):this.directlySetCurrentUser(null)}return xe(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===o._redirectEventId?this.directlySetCurrentUser(o):this.reloadAndSetCurrentUserOrClear(o)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await Bh(e)}catch(t){if(t?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=j2()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Hn(this.app))return Promise.reject(ki(this));const t=e?hn(e):null;return t&&xe(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&xe(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Hn(this.app)?Promise.reject(ki(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Hn(this.app)?Promise.reject(ki(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Ni(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await sD(this),t=new oD(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new ku("auth","Firebase",e())}onAuthStateChanged(e,t,s){return this.registerStateListener(this.authStateSubscription,e,t,s)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,s){return this.registerStateListener(this.idTokenSubscription,e,t,s)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(s.tenantId=this.tenantId),await tD(this,s)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,t){const s=await this.getOrInitRedirectPersistenceManager(t);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&Ni(e)||this._popupRedirectResolver;xe(t,this,"argument-error"),this.redirectPersistenceManager=await Vo.create(this,[Ni(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,s;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((s=this.redirectUser)===null||s===void 0?void 0:s._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const s=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==s&&(this.lastNotifiedUid=s,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,s,o){if(this._deleted)return()=>{};const u=typeof t=="function"?t:t.next.bind(t);let h=!1;const d=this._isInitialized?Promise.resolve():this._initializationPromise;if(xe(d,this,"internal-error"),d.then(()=>{h||u(this.currentUser)}),typeof t=="function"){const p=e.addObserver(t,s,o);return()=>{h=!0,p()}}else{const p=e.addObserver(t);return()=>{h=!0,p()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return xe(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=AT(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const s=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());s&&(t["X-Firebase-Client"]=s);const o=await this._getAppCheckToken();return o&&(t["X-Firebase-AppCheck"]=o),t}async _getAppCheckToken(){var e;if(Hn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return t?.error&&L2(`Error while retrieving App Check token: ${t.error}`),t?.token}}function Da(r){return hn(r)}class H0{constructor(e){this.auth=e,this.observer=null,this.addObserver=Ax(t=>this.observer=t)}get next(){return xe(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let df={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function uD(r){df=r}function RT(r){return df.loadJS(r)}function cD(){return df.recaptchaEnterpriseScript}function hD(){return df.gapiScript}function fD(r){return`__${r}${Math.floor(Math.random()*1e6)}`}class dD{constructor(){this.enterprise=new mD}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class mD{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const pD="recaptcha-enterprise",CT="NO_RECAPTCHA";class gD{constructor(e){this.type=pD,this.auth=Da(e)}async verify(e="verify",t=!1){async function s(u){if(!t){if(u.tenantId==null&&u._agentRecaptchaConfig!=null)return u._agentRecaptchaConfig.siteKey;if(u.tenantId!=null&&u._tenantRecaptchaConfigs[u.tenantId]!==void 0)return u._tenantRecaptchaConfigs[u.tenantId].siteKey}return new Promise(async(h,d)=>{Q2(u,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(p=>{if(p.recaptchaKey===void 0)d(new Error("recaptcha Enterprise site key undefined"));else{const g=new K2(p);return u.tenantId==null?u._agentRecaptchaConfig=g:u._tenantRecaptchaConfigs[u.tenantId]=g,h(g.siteKey)}}).catch(p=>{d(p)})})}function o(u,h,d){const p=window.grecaptcha;z0(p)?p.enterprise.ready(()=>{p.enterprise.execute(u,{action:e}).then(g=>{h(g)}).catch(()=>{h(CT)})}):d(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new dD().execute("siteKey",{action:"verify"}):new Promise((u,h)=>{s(this.auth).then(d=>{if(!t&&z0(window.grecaptcha))o(d,u,h);else{if(typeof window>"u"){h(new Error("RecaptchaVerifier is only supported in browser"));return}let p=cD();p.length!==0&&(p+=d),RT(p).then(()=>{o(d,u,h)}).catch(g=>{h(g)})}}).catch(d=>{h(d)})})}}async function G0(r,e,t,s=!1,o=!1){const u=new gD(r);let h;if(o)h=CT;else try{h=await u.verify(t)}catch{h=await u.verify(t,!0)}const d=Object.assign({},e);if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in d){const p=d.phoneEnrollmentInfo.phoneNumber,g=d.phoneEnrollmentInfo.recaptchaToken;Object.assign(d,{phoneEnrollmentInfo:{phoneNumber:p,recaptchaToken:g,captchaResponse:h,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in d){const p=d.phoneSignInInfo.recaptchaToken;Object.assign(d,{phoneSignInInfo:{recaptchaToken:p,captchaResponse:h,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return d}return s?Object.assign(d,{captchaResp:h}):Object.assign(d,{captchaResponse:h}),Object.assign(d,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(d,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),d}async function hp(r,e,t,s,o){var u;if(!((u=r._getRecaptchaConfig())===null||u===void 0)&&u.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const h=await G0(r,e,t,t==="getOobCode");return s(r,h)}else return s(r,e).catch(async h=>{if(h.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const d=await G0(r,e,t,t==="getOobCode");return s(r,d)}else return Promise.reject(h)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yD(r,e){const t=ff(r,"auth");if(t.isInitialized()){const o=t.getImmediate(),u=t.getOptions();if(ba(u,e??{}))return o;vr(o,"already-initialized")}return t.initialize({options:e})}function vD(r,e){const t=e?.persistence||[],s=(Array.isArray(t)?t:[t]).map(Ni);e?.errorMap&&r._updateErrorMap(e.errorMap),r._initializeWithPersistence(s,e?.popupRedirectResolver)}function _D(r,e,t){const s=Da(r);xe(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const o=!1,u=IT(e),{host:h,port:d}=bD(e),p=d===null?"":`:${d}`,g={url:`${u}//${h}${p}/`},_=Object.freeze({host:h,port:d,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!s._canInitEmulator){xe(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),xe(ba(g,s.config.emulator)&&ba(_,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=g,s.emulatorConfig=_,s.settings.appVerificationDisabledForTesting=!0,Ia(h)?(Bp(`${u}//${h}${p}`),qp("Auth",!0)):ED()}function IT(r){const e=r.indexOf(":");return e<0?"":r.substr(0,e+1)}function bD(r){const e=IT(r),t=/(\/\/)?([^?#/]+)/.exec(r.substr(e.length));if(!t)return{host:"",port:null};const s=t[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(s);if(o){const u=o[1];return{host:u,port:K0(s.substr(u.length+1))}}else{const[u,h]=s.split(":");return{host:u,port:K0(h)}}}function K0(r){if(!r)return null;const e=Number(r);return isNaN(e)?null:e}function ED(){function r(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wp{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Di("not implemented")}_getIdTokenResponse(e){return Di("not implemented")}_linkToIdToken(e,t){return Di("not implemented")}_getReauthenticationResolver(e){return Di("not implemented")}}async function TD(r,e){return Ms(r,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wD(r,e){return Vu(r,"POST","/v1/accounts:signInWithPassword",ks(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function SD(r,e){return Vu(r,"POST","/v1/accounts:signInWithEmailLink",ks(r,e))}async function AD(r,e){return Vu(r,"POST","/v1/accounts:signInWithEmailLink",ks(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tu extends Wp{constructor(e,t,s,o=null){super("password",s),this._email=e,this._password=t,this._tenantId=o}static _fromEmailAndPassword(e,t){return new Tu(e,t,"password")}static _fromEmailAndCode(e,t,s=null){return new Tu(e,t,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t?.email&&t?.password){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return hp(e,t,"signInWithPassword",wD);case"emailLink":return SD(e,{email:this._email,oobCode:this._password});default:vr(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const s={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return hp(e,s,"signUpPassword",TD);case"emailLink":return AD(e,{idToken:t,email:this._email,oobCode:this._password});default:vr(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Lo(r,e){return Vu(r,"POST","/v1/accounts:signInWithIdp",ks(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RD="http://localhost";class Ta extends Wp{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Ta(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):vr("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:o}=t,u=Kp(t,["providerId","signInMethod"]);if(!s||!o)return null;const h=new Ta(s,o);return h.idToken=u.idToken||void 0,h.accessToken=u.accessToken||void 0,h.secret=u.secret,h.nonce=u.nonce,h.pendingToken=u.pendingToken||null,h}_getIdTokenResponse(e){const t=this.buildRequest();return Lo(e,t)}_linkToIdToken(e,t){const s=this.buildRequest();return s.idToken=t,Lo(e,s)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Lo(e,t)}buildRequest(){const e={requestUri:RD,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Mu(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CD(r){switch(r){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function ID(r){const e=su(au(r)).link,t=e?su(au(e)).deep_link_id:null,s=su(au(r)).deep_link_id;return(s?su(au(s)).link:null)||s||t||e||r}class Zp{constructor(e){var t,s,o,u,h,d;const p=su(au(e)),g=(t=p.apiKey)!==null&&t!==void 0?t:null,_=(s=p.oobCode)!==null&&s!==void 0?s:null,v=CD((o=p.mode)!==null&&o!==void 0?o:null);xe(g&&_&&v,"argument-error"),this.apiKey=g,this.operation=v,this.code=_,this.continueUrl=(u=p.continueUrl)!==null&&u!==void 0?u:null,this.languageCode=(h=p.lang)!==null&&h!==void 0?h:null,this.tenantId=(d=p.tenantId)!==null&&d!==void 0?d:null}static parseLink(e){const t=ID(e);try{return new Zp(t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yo{constructor(){this.providerId=Yo.PROVIDER_ID}static credential(e,t){return Tu._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const s=Zp.parseLink(t);return xe(s,"argument-error"),Tu._fromEmailAndCode(e,s.code,s.tenantId)}}Yo.PROVIDER_ID="password";Yo.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Yo.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xT{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lu extends xT{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ps extends Lu{constructor(){super("facebook.com")}static credential(e){return Ta._fromParams({providerId:ps.PROVIDER_ID,signInMethod:ps.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ps.credentialFromTaggedObject(e)}static credentialFromError(e){return ps.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ps.credential(e.oauthAccessToken)}catch{return null}}}ps.FACEBOOK_SIGN_IN_METHOD="facebook.com";ps.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gs extends Lu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return Ta._fromParams({providerId:gs.PROVIDER_ID,signInMethod:gs.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return gs.credentialFromTaggedObject(e)}static credentialFromError(e){return gs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:s}=e;if(!t&&!s)return null;try{return gs.credential(t,s)}catch{return null}}}gs.GOOGLE_SIGN_IN_METHOD="google.com";gs.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ys extends Lu{constructor(){super("github.com")}static credential(e){return Ta._fromParams({providerId:ys.PROVIDER_ID,signInMethod:ys.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ys.credentialFromTaggedObject(e)}static credentialFromError(e){return ys.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ys.credential(e.oauthAccessToken)}catch{return null}}}ys.GITHUB_SIGN_IN_METHOD="github.com";ys.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vs extends Lu{constructor(){super("twitter.com")}static credential(e,t){return Ta._fromParams({providerId:vs.PROVIDER_ID,signInMethod:vs.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return vs.credentialFromTaggedObject(e)}static credentialFromError(e){return vs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:s}=e;if(!t||!s)return null;try{return vs.credential(t,s)}catch{return null}}}vs.TWITTER_SIGN_IN_METHOD="twitter.com";vs.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xD(r,e){return Vu(r,"POST","/v1/accounts:signUp",ks(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wa{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,s,o=!1){const u=await mr._fromIdTokenResponse(e,s,o),h=Q0(s);return new wa({user:u,providerId:h,_tokenResponse:s,operationType:t})}static async _forOperation(e,t,s){await e._updateTokensIfNecessary(s,!0);const o=Q0(s);return new wa({user:e,providerId:o,_tokenResponse:s,operationType:t})}}function Q0(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qh extends Wr{constructor(e,t,s,o){var u;super(t.code,t.message),this.operationType=s,this.user=o,Object.setPrototypeOf(this,qh.prototype),this.customData={appName:e.name,tenantId:(u=e.tenantId)!==null&&u!==void 0?u:void 0,_serverResponse:t.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,t,s,o){return new qh(e,t,s,o)}}function DT(r,e,t,s){return(e==="reauthenticate"?t._getReauthenticationResolver(r):t._getIdTokenResponse(r)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?qh._fromErrorAndOperation(r,u,e,s):u})}async function DD(r,e,t=!1){const s=await Eu(r,e._linkToIdToken(r.auth,await r.getIdToken()),t);return wa._forOperation(r,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ND(r,e,t=!1){const{auth:s}=r;if(Hn(s.app))return Promise.reject(ki(s));const o="reauthenticate";try{const u=await Eu(r,DT(s,o,e,r),t);xe(u.idToken,s,"internal-error");const h=Yp(u.idToken);xe(h,s,"internal-error");const{sub:d}=h;return xe(r.uid===d,s,"user-mismatch"),wa._forOperation(r,o,u)}catch(u){throw u?.code==="auth/user-not-found"&&vr(s,"user-mismatch"),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function NT(r,e,t=!1){if(Hn(r.app))return Promise.reject(ki(r));const s="signIn",o=await DT(r,s,e),u=await wa._fromIdTokenResponse(r,s,o);return t||await r._updateCurrentUser(u.user),u}async function OD(r,e){return NT(Da(r),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function OT(r){const e=Da(r);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function kD(r,e,t){if(Hn(r.app))return Promise.reject(ki(r));const s=Da(r),h=await hp(s,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",xD).catch(p=>{throw p.code==="auth/password-does-not-meet-requirements"&&OT(r),p}),d=await wa._fromIdTokenResponse(s,"signIn",h);return await s._updateCurrentUser(d.user),d}function MD(r,e,t){return Hn(r.app)?Promise.reject(ki(r)):OD(hn(r),Yo.credential(e,t)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&OT(r),s})}function PD(r,e,t,s){return hn(r).onIdTokenChanged(e,t,s)}function VD(r,e,t){return hn(r).beforeAuthStateChanged(e,t)}function LD(r,e,t,s){return hn(r).onAuthStateChanged(e,t,s)}function UD(r){return hn(r).signOut()}const Fh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kT{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Fh,"1"),this.storage.removeItem(Fh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zD=1e3,jD=10;class MT extends kT{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=ST(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const s=this.storage.getItem(t),o=this.localCache[t];s!==o&&e(t,o,s)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((h,d,p)=>{this.notifyListeners(h,p)});return}const s=e.key;t?this.detachListener():this.stopPolling();const o=()=>{const h=this.storage.getItem(s);!t&&this.localCache[s]===h||this.notifyListeners(s,h)},u=this.storage.getItem(s);rD()&&u!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,jD):o()}notifyListeners(e,t){this.localCache[e]=t;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:s}),!0)})},zD)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}MT.type="LOCAL";const BD=MT;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PT extends kT{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}PT.type="SESSION";const VT=PT;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qD(r){return Promise.all(r.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mf{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(o=>o.isListeningto(e));if(t)return t;const s=new mf(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:s,eventType:o,data:u}=t.data,h=this.handlersMap[o];if(!h?.size)return;t.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const d=Array.from(h).map(async g=>g(t.origin,u)),p=await qD(d);t.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:p})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}mf.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jp(r="",e=10){let t="";for(let s=0;s<e;s++)t+=Math.floor(Math.random()*10);return r+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FD{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,s=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,h;return new Promise((d,p)=>{const g=Jp("",20);o.port1.start();const _=setTimeout(()=>{p(new Error("unsupported_event"))},s);h={messageChannel:o,onMessage(v){const T=v;if(T.data.eventId===g)switch(T.data.status){case"ack":clearTimeout(_),u=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),d(T.data.response);break;default:clearTimeout(_),clearTimeout(u),p(new Error("invalid_response"));break}}},this.handlers.add(h),o.port1.addEventListener("message",h.onMessage),this.target.postMessage({eventType:e,eventId:g,data:t},[o.port2])}).finally(()=>{h&&this.removeMessageHandler(h)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zr(){return window}function HD(r){zr().location.href=r}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LT(){return typeof zr().WorkerGlobalScope<"u"&&typeof zr().importScripts=="function"}async function GD(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function KD(){var r;return((r=navigator?.serviceWorker)===null||r===void 0?void 0:r.controller)||null}function QD(){return LT()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UT="firebaseLocalStorageDb",$D=1,Hh="firebaseLocalStorage",zT="fbase_key";class Uu{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function pf(r,e){return r.transaction([Hh],e?"readwrite":"readonly").objectStore(Hh)}function YD(){const r=indexedDB.deleteDatabase(UT);return new Uu(r).toPromise()}function fp(){const r=indexedDB.open(UT,$D);return new Promise((e,t)=>{r.addEventListener("error",()=>{t(r.error)}),r.addEventListener("upgradeneeded",()=>{const s=r.result;try{s.createObjectStore(Hh,{keyPath:zT})}catch(o){t(o)}}),r.addEventListener("success",async()=>{const s=r.result;s.objectStoreNames.contains(Hh)?e(s):(s.close(),await YD(),e(await fp()))})})}async function $0(r,e,t){const s=pf(r,!0).put({[zT]:e,value:t});return new Uu(s).toPromise()}async function XD(r,e){const t=pf(r,!1).get(e),s=await new Uu(t).toPromise();return s===void 0?null:s.value}function Y0(r,e){const t=pf(r,!0).delete(e);return new Uu(t).toPromise()}const WD=800,ZD=3;class jT{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await fp(),this.db)}async _withRetries(e){let t=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(t++>ZD)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return LT()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=mf._getInstance(QD()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await GD(),!this.activeServiceWorker)return;this.sender=new FD(this.activeServiceWorker);const s=await this.sender._send("ping",{},800);s&&!((e=s[0])===null||e===void 0)&&e.fulfilled&&!((t=s[0])===null||t===void 0)&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||KD()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await fp();return await $0(e,Fh,"1"),await Y0(e,Fh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(s=>$0(s,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(s=>XD(s,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>Y0(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const u=pf(o,!1).getAll();return new Uu(u).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],s=new Set;if(e.length!==0)for(const{fbase_key:o,value:u}of e)s.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),t.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!s.has(o)&&(this.notifyListeners(o,null),t.push(o));return t}notifyListeners(e,t){this.localCache[e]=t;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),WD)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}jT.type="LOCAL";const JD=jT;new Pu(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eN(r,e){return e?Ni(e):(xe(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eg extends Wp{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Lo(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Lo(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Lo(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function tN(r){return NT(r.auth,new eg(r),r.bypassAuthState)}function nN(r){const{auth:e,user:t}=r;return xe(t,e,"internal-error"),ND(t,new eg(r),r.bypassAuthState)}async function rN(r){const{auth:e,user:t}=r;return xe(t,e,"internal-error"),DD(t,new eg(r),r.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BT{constructor(e,t,s,o,u=!1){this.auth=e,this.resolver=s,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:s,postBody:o,tenantId:u,error:h,type:d}=e;if(h){this.reject(h);return}const p={auth:this.auth,requestUri:t,sessionId:s,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(d)(p))}catch(g){this.reject(g)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return tN;case"linkViaPopup":case"linkViaRedirect":return rN;case"reauthViaPopup":case"reauthViaRedirect":return nN;default:vr(this.auth,"internal-error")}}resolve(e){Vi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Vi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iN=new Pu(2e3,1e4);class Mo extends BT{constructor(e,t,s,o,u){super(e,t,o,u),this.provider=s,this.authWindow=null,this.pollId=null,Mo.currentPopupAction&&Mo.currentPopupAction.cancel(),Mo.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return xe(e,this.auth,"internal-error"),e}async onExecution(){Vi(this.filter.length===1,"Popup operations only handle one event");const e=Jp();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(Ur(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Ur(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Mo.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,s;if(!((s=(t=this.authWindow)===null||t===void 0?void 0:t.window)===null||s===void 0)&&s.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Ur(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,iN.get())};e()}}Mo.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sN="pendingRedirect",Ch=new Map;class aN extends BT{constructor(e,t,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,s),this.eventId=null}async execute(){let e=Ch.get(this.auth._key());if(!e){try{const s=await oN(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(t){e=()=>Promise.reject(t)}Ch.set(this.auth._key(),e)}return this.bypassAuthState||Ch.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function oN(r,e){const t=cN(e),s=uN(r);if(!await s._isAvailable())return!1;const o=await s._get(t)==="true";return await s._remove(t),o}function lN(r,e){Ch.set(r._key(),e)}function uN(r){return Ni(r._redirectPersistence)}function cN(r){return Rh(sN,r.config.apiKey,r.name)}async function hN(r,e,t=!1){if(Hn(r.app))return Promise.reject(ki(r));const s=Da(r),o=eN(s,e),h=await new aN(s,o,t).execute();return h&&!t&&(delete h.user._redirectEventId,await s._persistUserIfCurrent(h.user),await s._setRedirectUser(null,e)),h}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fN=10*60*1e3;class dN{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(t=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!mN(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var s;if(e.error&&!qT(e)){const o=((s=e.error.code)===null||s===void 0?void 0:s.split("auth/")[1])||"internal-error";t.onError(Ur(this.auth,o))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const s=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=fN&&this.cachedEventUids.clear(),this.cachedEventUids.has(X0(e))}saveEventToCache(e){this.cachedEventUids.add(X0(e)),this.lastProcessedEventTime=Date.now()}}function X0(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(e=>e).join("-")}function qT({type:r,error:e}){return r==="unknown"&&e?.code==="auth/no-auth-event"}function mN(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return qT(r);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pN(r,e={}){return Ms(r,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gN=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,yN=/^https?/;async function vN(r){if(r.config.emulator)return;const{authorizedDomains:e}=await pN(r);for(const t of e)try{if(_N(t))return}catch{}vr(r,"unauthorized-domain")}function _N(r){const e=up(),{protocol:t,hostname:s}=new URL(e);if(r.startsWith("chrome-extension://")){const h=new URL(r);return h.hostname===""&&s===""?t==="chrome-extension:"&&r.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&h.hostname===s}if(!yN.test(t))return!1;if(gN.test(r))return s===r;const o=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bN=new Pu(3e4,6e4);function W0(){const r=zr().___jsl;if(r?.H){for(const e of Object.keys(r.H))if(r.H[e].r=r.H[e].r||[],r.H[e].L=r.H[e].L||[],r.H[e].r=[...r.H[e].L],r.CP)for(let t=0;t<r.CP.length;t++)r.CP[t]=null}}function EN(r){return new Promise((e,t)=>{var s,o,u;function h(){W0(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{W0(),t(Ur(r,"network-request-failed"))},timeout:bN.get()})}if(!((o=(s=zr().gapi)===null||s===void 0?void 0:s.iframes)===null||o===void 0)&&o.Iframe)e(gapi.iframes.getContext());else if(!((u=zr().gapi)===null||u===void 0)&&u.load)h();else{const d=fD("iframefcb");return zr()[d]=()=>{gapi.load?h():t(Ur(r,"network-request-failed"))},RT(`${hD()}?onload=${d}`).catch(p=>t(p))}}).catch(e=>{throw Ih=null,e})}let Ih=null;function TN(r){return Ih=Ih||EN(r),Ih}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wN=new Pu(5e3,15e3),SN="__/auth/iframe",AN="emulator/auth/iframe",RN={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},CN=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function IN(r){const e=r.config;xe(e.authDomain,r,"auth-domain-config-required");const t=e.emulator?$p(e,AN):`https://${r.config.authDomain}/${SN}`,s={apiKey:e.apiKey,appName:r.name,v:xa},o=CN.get(r.config.apiHost);o&&(s.eid=o);const u=r._getFrameworks();return u.length&&(s.fw=u.join(",")),`${t}?${Mu(s).slice(1)}`}async function xN(r){const e=await TN(r),t=zr().gapi;return xe(t,r,"internal-error"),e.open({where:document.body,url:IN(r),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:RN,dontclear:!0},s=>new Promise(async(o,u)=>{await s.restyle({setHideOnLeave:!1});const h=Ur(r,"network-request-failed"),d=zr().setTimeout(()=>{u(h)},wN.get());function p(){zr().clearTimeout(d),o(s)}s.ping(p).then(p,()=>{u(h)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DN={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},NN=500,ON=600,kN="_blank",MN="http://localhost";class Z0{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function PN(r,e,t,s=NN,o=ON){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),h=Math.max((window.screen.availWidth-s)/2,0).toString();let d="";const p=Object.assign(Object.assign({},DN),{width:s.toString(),height:o.toString(),top:u,left:h}),g=_n().toLowerCase();t&&(d=_T(g)?kN:t),yT(g)&&(e=e||MN,p.scrollbars="yes");const _=Object.entries(p).reduce((T,[I,C])=>`${T}${I}=${C},`,"");if(nD(g)&&d!=="_self")return VN(e||"",d),new Z0(null);const v=window.open(e||"",d,_);xe(v,r,"popup-blocked");try{v.focus()}catch{}return new Z0(v)}function VN(r,e){const t=document.createElement("a");t.href=r,t.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LN="__/auth/handler",UN="emulator/auth/handler",zN=encodeURIComponent("fac");async function J0(r,e,t,s,o,u){xe(r.config.authDomain,r,"auth-domain-config-required"),xe(r.config.apiKey,r,"invalid-api-key");const h={apiKey:r.config.apiKey,appName:r.name,authType:t,redirectUrl:s,v:xa,eventId:o};if(e instanceof xT){e.setDefaultLanguage(r.languageCode),h.providerId=e.providerId||"",Sx(e.getCustomParameters())||(h.customParameters=JSON.stringify(e.getCustomParameters()));for(const[_,v]of Object.entries({}))h[_]=v}if(e instanceof Lu){const _=e.getScopes().filter(v=>v!=="");_.length>0&&(h.scopes=_.join(","))}r.tenantId&&(h.tid=r.tenantId);const d=h;for(const _ of Object.keys(d))d[_]===void 0&&delete d[_];const p=await r._getAppCheckToken(),g=p?`#${zN}=${encodeURIComponent(p)}`:"";return`${jN(r)}?${Mu(d).slice(1)}${g}`}function jN({config:r}){return r.emulator?$p(r,UN):`https://${r.authDomain}/${LN}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fm="webStorageSupport";class BN{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=VT,this._completeRedirectFn=hN,this._overrideRedirectResult=lN}async _openPopup(e,t,s,o){var u;Vi((u=this.eventManagers[e._key()])===null||u===void 0?void 0:u.manager,"_initialize() not called before _openPopup()");const h=await J0(e,t,s,up(),o);return PN(e,h,Jp())}async _openRedirect(e,t,s,o){await this._originValidation(e);const u=await J0(e,t,s,up(),o);return HD(u),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:o,promise:u}=this.eventManagers[t];return o?Promise.resolve(o):(Vi(u,"If manager is not set, promise should be"),u)}const s=this.initAndGetManager(e);return this.eventManagers[t]={promise:s},s.catch(()=>{delete this.eventManagers[t]}),s}async initAndGetManager(e){const t=await xN(e),s=new dN(e);return t.register("authEvent",o=>(xe(o?.authEvent,e,"invalid-auth-event"),{status:s.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=t,s}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Fm,{type:Fm},o=>{var u;const h=(u=o?.[0])===null||u===void 0?void 0:u[Fm];h!==void 0&&t(!!h),vr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=vN(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return ST()||vT()||Xp()}}const qN=BN;var eb="@firebase/auth",tb="1.10.8";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FN{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(s=>{e(s?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){xe(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HN(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function GN(r){Ea(new As("auth",(e,{options:t})=>{const s=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),u=e.getProvider("app-check-internal"),{apiKey:h,authDomain:d}=s.options;xe(h&&!h.includes(":"),"invalid-api-key",{appName:s.name});const p={apiKey:h,authDomain:d,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:AT(r)},g=new lD(s,o,u,p);return vD(g,t),g},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,s)=>{e.getProvider("auth-internal").initialize()})),Ea(new As("auth-internal",e=>{const t=Da(e.getProvider("auth").getImmediate());return(s=>new FN(s))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),Lr(eb,tb,HN(r)),Lr(eb,tb,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KN=5*60,QN=nT("authIdTokenMaxAge")||KN;let nb=null;const $N=r=>async e=>{const t=e&&await e.getIdTokenResult(),s=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(s&&s>QN)return;const o=t?.token;nb!==o&&(nb=o,await fetch(r,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function YN(r=Gp()){const e=ff(r,"auth");if(e.isInitialized())return e.getImmediate();const t=yD(r,{popupRedirectResolver:qN,persistence:[JD,BD,VT]}),s=nT("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(s,location.origin);if(location.origin===u.origin){const h=$N(u.toString());VD(t,h,()=>h(t.currentUser)),PD(t,d=>h(d))}}const o=JE("auth");return o&&_D(t,`http://${o}`),t}function XN(){var r,e;return(e=(r=document.getElementsByTagName("head"))===null||r===void 0?void 0:r[0])!==null&&e!==void 0?e:document}uD({loadJS(r){return new Promise((e,t)=>{const s=document.createElement("script");s.setAttribute("src",r),s.onload=e,s.onerror=o=>{const u=Ur("internal-error");u.customData=o,t(u)},s.type="text/javascript",s.charset="UTF-8",XN().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});GN("Browser");var WN="firebase",ZN="11.10.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Lr(WN,ZN,"app");var rb=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Ts,FT;(function(){var r;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(k,A){function R(){}R.prototype=A.prototype,k.D=A.prototype,k.prototype=new R,k.prototype.constructor=k,k.C=function(O,V,L){for(var D=Array(arguments.length-2),Qe=2;Qe<arguments.length;Qe++)D[Qe-2]=arguments[Qe];return A.prototype[V].apply(O,D)}}function t(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(s,t),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(k,A,R){R||(R=0);var O=Array(16);if(typeof A=="string")for(var V=0;16>V;++V)O[V]=A.charCodeAt(R++)|A.charCodeAt(R++)<<8|A.charCodeAt(R++)<<16|A.charCodeAt(R++)<<24;else for(V=0;16>V;++V)O[V]=A[R++]|A[R++]<<8|A[R++]<<16|A[R++]<<24;A=k.g[0],R=k.g[1],V=k.g[2];var L=k.g[3],D=A+(L^R&(V^L))+O[0]+3614090360&4294967295;A=R+(D<<7&4294967295|D>>>25),D=L+(V^A&(R^V))+O[1]+3905402710&4294967295,L=A+(D<<12&4294967295|D>>>20),D=V+(R^L&(A^R))+O[2]+606105819&4294967295,V=L+(D<<17&4294967295|D>>>15),D=R+(A^V&(L^A))+O[3]+3250441966&4294967295,R=V+(D<<22&4294967295|D>>>10),D=A+(L^R&(V^L))+O[4]+4118548399&4294967295,A=R+(D<<7&4294967295|D>>>25),D=L+(V^A&(R^V))+O[5]+1200080426&4294967295,L=A+(D<<12&4294967295|D>>>20),D=V+(R^L&(A^R))+O[6]+2821735955&4294967295,V=L+(D<<17&4294967295|D>>>15),D=R+(A^V&(L^A))+O[7]+4249261313&4294967295,R=V+(D<<22&4294967295|D>>>10),D=A+(L^R&(V^L))+O[8]+1770035416&4294967295,A=R+(D<<7&4294967295|D>>>25),D=L+(V^A&(R^V))+O[9]+2336552879&4294967295,L=A+(D<<12&4294967295|D>>>20),D=V+(R^L&(A^R))+O[10]+4294925233&4294967295,V=L+(D<<17&4294967295|D>>>15),D=R+(A^V&(L^A))+O[11]+2304563134&4294967295,R=V+(D<<22&4294967295|D>>>10),D=A+(L^R&(V^L))+O[12]+1804603682&4294967295,A=R+(D<<7&4294967295|D>>>25),D=L+(V^A&(R^V))+O[13]+4254626195&4294967295,L=A+(D<<12&4294967295|D>>>20),D=V+(R^L&(A^R))+O[14]+2792965006&4294967295,V=L+(D<<17&4294967295|D>>>15),D=R+(A^V&(L^A))+O[15]+1236535329&4294967295,R=V+(D<<22&4294967295|D>>>10),D=A+(V^L&(R^V))+O[1]+4129170786&4294967295,A=R+(D<<5&4294967295|D>>>27),D=L+(R^V&(A^R))+O[6]+3225465664&4294967295,L=A+(D<<9&4294967295|D>>>23),D=V+(A^R&(L^A))+O[11]+643717713&4294967295,V=L+(D<<14&4294967295|D>>>18),D=R+(L^A&(V^L))+O[0]+3921069994&4294967295,R=V+(D<<20&4294967295|D>>>12),D=A+(V^L&(R^V))+O[5]+3593408605&4294967295,A=R+(D<<5&4294967295|D>>>27),D=L+(R^V&(A^R))+O[10]+38016083&4294967295,L=A+(D<<9&4294967295|D>>>23),D=V+(A^R&(L^A))+O[15]+3634488961&4294967295,V=L+(D<<14&4294967295|D>>>18),D=R+(L^A&(V^L))+O[4]+3889429448&4294967295,R=V+(D<<20&4294967295|D>>>12),D=A+(V^L&(R^V))+O[9]+568446438&4294967295,A=R+(D<<5&4294967295|D>>>27),D=L+(R^V&(A^R))+O[14]+3275163606&4294967295,L=A+(D<<9&4294967295|D>>>23),D=V+(A^R&(L^A))+O[3]+4107603335&4294967295,V=L+(D<<14&4294967295|D>>>18),D=R+(L^A&(V^L))+O[8]+1163531501&4294967295,R=V+(D<<20&4294967295|D>>>12),D=A+(V^L&(R^V))+O[13]+2850285829&4294967295,A=R+(D<<5&4294967295|D>>>27),D=L+(R^V&(A^R))+O[2]+4243563512&4294967295,L=A+(D<<9&4294967295|D>>>23),D=V+(A^R&(L^A))+O[7]+1735328473&4294967295,V=L+(D<<14&4294967295|D>>>18),D=R+(L^A&(V^L))+O[12]+2368359562&4294967295,R=V+(D<<20&4294967295|D>>>12),D=A+(R^V^L)+O[5]+4294588738&4294967295,A=R+(D<<4&4294967295|D>>>28),D=L+(A^R^V)+O[8]+2272392833&4294967295,L=A+(D<<11&4294967295|D>>>21),D=V+(L^A^R)+O[11]+1839030562&4294967295,V=L+(D<<16&4294967295|D>>>16),D=R+(V^L^A)+O[14]+4259657740&4294967295,R=V+(D<<23&4294967295|D>>>9),D=A+(R^V^L)+O[1]+2763975236&4294967295,A=R+(D<<4&4294967295|D>>>28),D=L+(A^R^V)+O[4]+1272893353&4294967295,L=A+(D<<11&4294967295|D>>>21),D=V+(L^A^R)+O[7]+4139469664&4294967295,V=L+(D<<16&4294967295|D>>>16),D=R+(V^L^A)+O[10]+3200236656&4294967295,R=V+(D<<23&4294967295|D>>>9),D=A+(R^V^L)+O[13]+681279174&4294967295,A=R+(D<<4&4294967295|D>>>28),D=L+(A^R^V)+O[0]+3936430074&4294967295,L=A+(D<<11&4294967295|D>>>21),D=V+(L^A^R)+O[3]+3572445317&4294967295,V=L+(D<<16&4294967295|D>>>16),D=R+(V^L^A)+O[6]+76029189&4294967295,R=V+(D<<23&4294967295|D>>>9),D=A+(R^V^L)+O[9]+3654602809&4294967295,A=R+(D<<4&4294967295|D>>>28),D=L+(A^R^V)+O[12]+3873151461&4294967295,L=A+(D<<11&4294967295|D>>>21),D=V+(L^A^R)+O[15]+530742520&4294967295,V=L+(D<<16&4294967295|D>>>16),D=R+(V^L^A)+O[2]+3299628645&4294967295,R=V+(D<<23&4294967295|D>>>9),D=A+(V^(R|~L))+O[0]+4096336452&4294967295,A=R+(D<<6&4294967295|D>>>26),D=L+(R^(A|~V))+O[7]+1126891415&4294967295,L=A+(D<<10&4294967295|D>>>22),D=V+(A^(L|~R))+O[14]+2878612391&4294967295,V=L+(D<<15&4294967295|D>>>17),D=R+(L^(V|~A))+O[5]+4237533241&4294967295,R=V+(D<<21&4294967295|D>>>11),D=A+(V^(R|~L))+O[12]+1700485571&4294967295,A=R+(D<<6&4294967295|D>>>26),D=L+(R^(A|~V))+O[3]+2399980690&4294967295,L=A+(D<<10&4294967295|D>>>22),D=V+(A^(L|~R))+O[10]+4293915773&4294967295,V=L+(D<<15&4294967295|D>>>17),D=R+(L^(V|~A))+O[1]+2240044497&4294967295,R=V+(D<<21&4294967295|D>>>11),D=A+(V^(R|~L))+O[8]+1873313359&4294967295,A=R+(D<<6&4294967295|D>>>26),D=L+(R^(A|~V))+O[15]+4264355552&4294967295,L=A+(D<<10&4294967295|D>>>22),D=V+(A^(L|~R))+O[6]+2734768916&4294967295,V=L+(D<<15&4294967295|D>>>17),D=R+(L^(V|~A))+O[13]+1309151649&4294967295,R=V+(D<<21&4294967295|D>>>11),D=A+(V^(R|~L))+O[4]+4149444226&4294967295,A=R+(D<<6&4294967295|D>>>26),D=L+(R^(A|~V))+O[11]+3174756917&4294967295,L=A+(D<<10&4294967295|D>>>22),D=V+(A^(L|~R))+O[2]+718787259&4294967295,V=L+(D<<15&4294967295|D>>>17),D=R+(L^(V|~A))+O[9]+3951481745&4294967295,k.g[0]=k.g[0]+A&4294967295,k.g[1]=k.g[1]+(V+(D<<21&4294967295|D>>>11))&4294967295,k.g[2]=k.g[2]+V&4294967295,k.g[3]=k.g[3]+L&4294967295}s.prototype.u=function(k,A){A===void 0&&(A=k.length);for(var R=A-this.blockSize,O=this.B,V=this.h,L=0;L<A;){if(V==0)for(;L<=R;)o(this,k,L),L+=this.blockSize;if(typeof k=="string"){for(;L<A;)if(O[V++]=k.charCodeAt(L++),V==this.blockSize){o(this,O),V=0;break}}else for(;L<A;)if(O[V++]=k[L++],V==this.blockSize){o(this,O),V=0;break}}this.h=V,this.o+=A},s.prototype.v=function(){var k=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);k[0]=128;for(var A=1;A<k.length-8;++A)k[A]=0;var R=8*this.o;for(A=k.length-8;A<k.length;++A)k[A]=R&255,R/=256;for(this.u(k),k=Array(16),A=R=0;4>A;++A)for(var O=0;32>O;O+=8)k[R++]=this.g[A]>>>O&255;return k};function u(k,A){var R=d;return Object.prototype.hasOwnProperty.call(R,k)?R[k]:R[k]=A(k)}function h(k,A){this.h=A;for(var R=[],O=!0,V=k.length-1;0<=V;V--){var L=k[V]|0;O&&L==A||(R[V]=L,O=!1)}this.g=R}var d={};function p(k){return-128<=k&&128>k?u(k,function(A){return new h([A|0],0>A?-1:0)}):new h([k|0],0>k?-1:0)}function g(k){if(isNaN(k)||!isFinite(k))return v;if(0>k)return x(g(-k));for(var A=[],R=1,O=0;k>=R;O++)A[O]=k/R|0,R*=4294967296;return new h(A,0)}function _(k,A){if(k.length==0)throw Error("number format error: empty string");if(A=A||10,2>A||36<A)throw Error("radix out of range: "+A);if(k.charAt(0)=="-")return x(_(k.substring(1),A));if(0<=k.indexOf("-"))throw Error('number format error: interior "-" character');for(var R=g(Math.pow(A,8)),O=v,V=0;V<k.length;V+=8){var L=Math.min(8,k.length-V),D=parseInt(k.substring(V,V+L),A);8>L?(L=g(Math.pow(A,L)),O=O.j(L).add(g(D))):(O=O.j(R),O=O.add(g(D)))}return O}var v=p(0),T=p(1),I=p(16777216);r=h.prototype,r.m=function(){if(M(this))return-x(this).m();for(var k=0,A=1,R=0;R<this.g.length;R++){var O=this.i(R);k+=(0<=O?O:4294967296+O)*A,A*=4294967296}return k},r.toString=function(k){if(k=k||10,2>k||36<k)throw Error("radix out of range: "+k);if(C(this))return"0";if(M(this))return"-"+x(this).toString(k);for(var A=g(Math.pow(k,6)),R=this,O="";;){var V=le(R,A).g;R=j(R,V.j(A));var L=((0<R.g.length?R.g[0]:R.h)>>>0).toString(k);if(R=V,C(R))return L+O;for(;6>L.length;)L="0"+L;O=L+O}},r.i=function(k){return 0>k?0:k<this.g.length?this.g[k]:this.h};function C(k){if(k.h!=0)return!1;for(var A=0;A<k.g.length;A++)if(k.g[A]!=0)return!1;return!0}function M(k){return k.h==-1}r.l=function(k){return k=j(this,k),M(k)?-1:C(k)?0:1};function x(k){for(var A=k.g.length,R=[],O=0;O<A;O++)R[O]=~k.g[O];return new h(R,~k.h).add(T)}r.abs=function(){return M(this)?x(this):this},r.add=function(k){for(var A=Math.max(this.g.length,k.g.length),R=[],O=0,V=0;V<=A;V++){var L=O+(this.i(V)&65535)+(k.i(V)&65535),D=(L>>>16)+(this.i(V)>>>16)+(k.i(V)>>>16);O=D>>>16,L&=65535,D&=65535,R[V]=D<<16|L}return new h(R,R[R.length-1]&-2147483648?-1:0)};function j(k,A){return k.add(x(A))}r.j=function(k){if(C(this)||C(k))return v;if(M(this))return M(k)?x(this).j(x(k)):x(x(this).j(k));if(M(k))return x(this.j(x(k)));if(0>this.l(I)&&0>k.l(I))return g(this.m()*k.m());for(var A=this.g.length+k.g.length,R=[],O=0;O<2*A;O++)R[O]=0;for(O=0;O<this.g.length;O++)for(var V=0;V<k.g.length;V++){var L=this.i(O)>>>16,D=this.i(O)&65535,Qe=k.i(V)>>>16,Re=k.i(V)&65535;R[2*O+2*V]+=D*Re,Q(R,2*O+2*V),R[2*O+2*V+1]+=L*Re,Q(R,2*O+2*V+1),R[2*O+2*V+1]+=D*Qe,Q(R,2*O+2*V+1),R[2*O+2*V+2]+=L*Qe,Q(R,2*O+2*V+2)}for(O=0;O<A;O++)R[O]=R[2*O+1]<<16|R[2*O];for(O=A;O<2*A;O++)R[O]=0;return new h(R,0)};function Q(k,A){for(;(k[A]&65535)!=k[A];)k[A+1]+=k[A]>>>16,k[A]&=65535,A++}function Y(k,A){this.g=k,this.h=A}function le(k,A){if(C(A))throw Error("division by zero");if(C(k))return new Y(v,v);if(M(k))return A=le(x(k),A),new Y(x(A.g),x(A.h));if(M(A))return A=le(k,x(A)),new Y(x(A.g),A.h);if(30<k.g.length){if(M(k)||M(A))throw Error("slowDivide_ only works with positive integers.");for(var R=T,O=A;0>=O.l(k);)R=re(R),O=re(O);var V=ce(R,1),L=ce(O,1);for(O=ce(O,2),R=ce(R,2);!C(O);){var D=L.add(O);0>=D.l(k)&&(V=V.add(R),L=D),O=ce(O,1),R=ce(R,1)}return A=j(k,V.j(A)),new Y(V,A)}for(V=v;0<=k.l(A);){for(R=Math.max(1,Math.floor(k.m()/A.m())),O=Math.ceil(Math.log(R)/Math.LN2),O=48>=O?1:Math.pow(2,O-48),L=g(R),D=L.j(A);M(D)||0<D.l(k);)R-=O,L=g(R),D=L.j(A);C(L)&&(L=T),V=V.add(L),k=j(k,D)}return new Y(V,k)}r.A=function(k){return le(this,k).h},r.and=function(k){for(var A=Math.max(this.g.length,k.g.length),R=[],O=0;O<A;O++)R[O]=this.i(O)&k.i(O);return new h(R,this.h&k.h)},r.or=function(k){for(var A=Math.max(this.g.length,k.g.length),R=[],O=0;O<A;O++)R[O]=this.i(O)|k.i(O);return new h(R,this.h|k.h)},r.xor=function(k){for(var A=Math.max(this.g.length,k.g.length),R=[],O=0;O<A;O++)R[O]=this.i(O)^k.i(O);return new h(R,this.h^k.h)};function re(k){for(var A=k.g.length+1,R=[],O=0;O<A;O++)R[O]=k.i(O)<<1|k.i(O-1)>>>31;return new h(R,k.h)}function ce(k,A){var R=A>>5;A%=32;for(var O=k.g.length-R,V=[],L=0;L<O;L++)V[L]=0<A?k.i(L+R)>>>A|k.i(L+R+1)<<32-A:k.i(L+R);return new h(V,k.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,FT=s,h.prototype.add=h.prototype.add,h.prototype.multiply=h.prototype.j,h.prototype.modulo=h.prototype.A,h.prototype.compare=h.prototype.l,h.prototype.toNumber=h.prototype.m,h.prototype.toString=h.prototype.toString,h.prototype.getBits=h.prototype.i,h.fromNumber=g,h.fromString=_,Ts=h}).apply(typeof rb<"u"?rb:typeof self<"u"?self:typeof window<"u"?window:{});var yh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var HT,ou,GT,xh,dp,KT,QT,$T;(function(){var r,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,y,b){return c==Array.prototype||c==Object.prototype||(c[y]=b.value),c};function t(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof yh=="object"&&yh];for(var y=0;y<c.length;++y){var b=c[y];if(b&&b.Math==Math)return b}throw Error("Cannot find global object")}var s=t(this);function o(c,y){if(y)e:{var b=s;c=c.split(".");for(var S=0;S<c.length-1;S++){var F=c[S];if(!(F in b))break e;b=b[F]}c=c[c.length-1],S=b[c],y=y(S),y!=S&&y!=null&&e(b,c,{configurable:!0,writable:!0,value:y})}}function u(c,y){c instanceof String&&(c+="");var b=0,S=!1,F={next:function(){if(!S&&b<c.length){var W=b++;return{value:y(W,c[W]),done:!1}}return S=!0,{done:!0,value:void 0}}};return F[Symbol.iterator]=function(){return F},F}o("Array.prototype.values",function(c){return c||function(){return u(this,function(y,b){return b})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var h=h||{},d=this||self;function p(c){var y=typeof c;return y=y!="object"?y:c?Array.isArray(c)?"array":y:"null",y=="array"||y=="object"&&typeof c.length=="number"}function g(c){var y=typeof c;return y=="object"&&c!=null||y=="function"}function _(c,y,b){return c.call.apply(c.bind,arguments)}function v(c,y,b){if(!c)throw Error();if(2<arguments.length){var S=Array.prototype.slice.call(arguments,2);return function(){var F=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(F,S),c.apply(y,F)}}return function(){return c.apply(y,arguments)}}function T(c,y,b){return T=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?_:v,T.apply(null,arguments)}function I(c,y){var b=Array.prototype.slice.call(arguments,1);return function(){var S=b.slice();return S.push.apply(S,arguments),c.apply(this,S)}}function C(c,y){function b(){}b.prototype=y.prototype,c.aa=y.prototype,c.prototype=new b,c.prototype.constructor=c,c.Qb=function(S,F,W){for(var he=Array(arguments.length-2),Ye=2;Ye<arguments.length;Ye++)he[Ye-2]=arguments[Ye];return y.prototype[F].apply(S,he)}}function M(c){const y=c.length;if(0<y){const b=Array(y);for(let S=0;S<y;S++)b[S]=c[S];return b}return[]}function x(c,y){for(let b=1;b<arguments.length;b++){const S=arguments[b];if(p(S)){const F=c.length||0,W=S.length||0;c.length=F+W;for(let he=0;he<W;he++)c[F+he]=S[he]}else c.push(S)}}class j{constructor(y,b){this.i=y,this.j=b,this.h=0,this.g=null}get(){let y;return 0<this.h?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function Q(c){return/^[\s\xa0]*$/.test(c)}function Y(){var c=d.navigator;return c&&(c=c.userAgent)?c:""}function le(c){return le[" "](c),c}le[" "]=function(){};var re=Y().indexOf("Gecko")!=-1&&!(Y().toLowerCase().indexOf("webkit")!=-1&&Y().indexOf("Edge")==-1)&&!(Y().indexOf("Trident")!=-1||Y().indexOf("MSIE")!=-1)&&Y().indexOf("Edge")==-1;function ce(c,y,b){for(const S in c)y.call(b,c[S],S,c)}function k(c,y){for(const b in c)y.call(void 0,c[b],b,c)}function A(c){const y={};for(const b in c)y[b]=c[b];return y}const R="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function O(c,y){let b,S;for(let F=1;F<arguments.length;F++){S=arguments[F];for(b in S)c[b]=S[b];for(let W=0;W<R.length;W++)b=R[W],Object.prototype.hasOwnProperty.call(S,b)&&(c[b]=S[b])}}function V(c){var y=1;c=c.split(":");const b=[];for(;0<y&&c.length;)b.push(c.shift()),y--;return c.length&&b.push(c.join(":")),b}function L(c){d.setTimeout(()=>{throw c},0)}function D(){var c=Ie;let y=null;return c.g&&(y=c.g,c.g=c.g.next,c.g||(c.h=null),y.next=null),y}class Qe{constructor(){this.h=this.g=null}add(y,b){const S=Re.get();S.set(y,b),this.h?this.h.next=S:this.g=S,this.h=S}}var Re=new j(()=>new q,c=>c.reset());class q{constructor(){this.next=this.g=this.h=null}set(y,b){this.h=y,this.g=b,this.next=null}reset(){this.next=this.g=this.h=null}}let ue,te=!1,Ie=new Qe,P=()=>{const c=d.Promise.resolve(void 0);ue=()=>{c.then(Z)}};var Z=()=>{for(var c;c=D();){try{c.h.call(c.g)}catch(b){L(b)}var y=Re;y.j(c),100>y.h&&(y.h++,c.next=y.g,y.g=c)}te=!1};function oe(){this.s=this.s,this.C=this.C}oe.prototype.s=!1,oe.prototype.ma=function(){this.s||(this.s=!0,this.N())},oe.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function J(c,y){this.type=c,this.g=this.target=y,this.defaultPrevented=!1}J.prototype.h=function(){this.defaultPrevented=!0};var fe=function(){if(!d.addEventListener||!Object.defineProperty)return!1;var c=!1,y=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const b=()=>{};d.addEventListener("test",b,y),d.removeEventListener("test",b,y)}catch{}return c}();function we(c,y){if(J.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var b=this.type=c.type,S=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=y,y=c.relatedTarget){if(re){e:{try{le(y.nodeName);var F=!0;break e}catch{}F=!1}F||(y=null)}}else b=="mouseover"?y=c.fromElement:b=="mouseout"&&(y=c.toElement);this.relatedTarget=y,S?(this.clientX=S.clientX!==void 0?S.clientX:S.pageX,this.clientY=S.clientY!==void 0?S.clientY:S.pageY,this.screenX=S.screenX||0,this.screenY=S.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:me[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&we.aa.h.call(this)}}C(we,J);var me={2:"touch",3:"pen",4:"mouse"};we.prototype.h=function(){we.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var Oe="closure_listenable_"+(1e6*Math.random()|0),je=0;function Tt(c,y,b,S,F){this.listener=c,this.proxy=null,this.src=y,this.type=b,this.capture=!!S,this.ha=F,this.key=++je,this.da=this.fa=!1}function be(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function Pe(c){this.src=c,this.g={},this.h=0}Pe.prototype.add=function(c,y,b,S,F){var W=c.toString();c=this.g[W],c||(c=this.g[W]=[],this.h++);var he=gt(c,y,S,F);return-1<he?(y=c[he],b||(y.fa=!1)):(y=new Tt(y,this.src,W,!!S,F),y.fa=b,c.push(y)),y};function $e(c,y){var b=y.type;if(b in c.g){var S=c.g[b],F=Array.prototype.indexOf.call(S,y,void 0),W;(W=0<=F)&&Array.prototype.splice.call(S,F,1),W&&(be(y),c.g[b].length==0&&(delete c.g[b],c.h--))}}function gt(c,y,b,S){for(var F=0;F<c.length;++F){var W=c[F];if(!W.da&&W.listener==y&&W.capture==!!b&&W.ha==S)return F}return-1}var Rt="closure_lm_"+(1e6*Math.random()|0),Ps={};function Vs(c,y,b,S,F){if(Array.isArray(y)){for(var W=0;W<y.length;W++)Vs(c,y[W],b,S,F);return null}return b=La(b),c&&c[Oe]?c.K(y,b,g(S)?!!S.capture:!1,F):Yt(c,y,b,!1,S,F)}function Yt(c,y,b,S,F,W){if(!y)throw Error("Invalid event type");var he=g(F)?!!F.capture:!!F,Ye=Mn(c);if(Ye||(c[Rt]=Ye=new Pe(c)),b=Ye.add(y,b,S,he,W),b.proxy)return b;if(S=Va(),b.proxy=S,S.src=c,S.listener=b,c.addEventListener)fe||(F=he),F===void 0&&(F=!1),c.addEventListener(y.toString(),S,F);else if(c.attachEvent)c.attachEvent(Jr(y.toString()),S);else if(c.addListener&&c.removeListener)c.addListener(S);else throw Error("addEventListener and attachEvent are unavailable.");return b}function Va(){function c(b){return y.call(c.src,c.listener,b)}const y=nn;return c}function bn(c,y,b,S,F){if(Array.isArray(y))for(var W=0;W<y.length;W++)bn(c,y[W],b,S,F);else S=g(S)?!!S.capture:!!S,b=La(b),c&&c[Oe]?(c=c.i,y=String(y).toString(),y in c.g&&(W=c.g[y],b=gt(W,b,S,F),-1<b&&(be(W[b]),Array.prototype.splice.call(W,b,1),W.length==0&&(delete c.g[y],c.h--)))):c&&(c=Mn(c))&&(y=c.g[y.toString()],c=-1,y&&(c=gt(y,b,S,F)),(b=-1<c?y[c]:null)&&zi(b))}function zi(c){if(typeof c!="number"&&c&&!c.da){var y=c.src;if(y&&y[Oe])$e(y.i,c);else{var b=c.type,S=c.proxy;y.removeEventListener?y.removeEventListener(b,S,c.capture):y.detachEvent?y.detachEvent(Jr(b),S):y.addListener&&y.removeListener&&y.removeListener(S),(b=Mn(y))?($e(b,c),b.h==0&&(b.src=null,y[Rt]=null)):be(c)}}}function Jr(c){return c in Ps?Ps[c]:Ps[c]="on"+c}function nn(c,y){if(c.da)c=!0;else{y=new we(y,this);var b=c.listener,S=c.ha||c.src;c.fa&&zi(c),c=b.call(S,y)}return c}function Mn(c){return c=c[Rt],c instanceof Pe?c:null}var Ls="__closure_events_fn_"+(1e9*Math.random()>>>0);function La(c){return typeof c=="function"?c:(c[Ls]||(c[Ls]=function(y){return c.handleEvent(y)}),c[Ls])}function ht(){oe.call(this),this.i=new Pe(this),this.M=this,this.F=null}C(ht,oe),ht.prototype[Oe]=!0,ht.prototype.removeEventListener=function(c,y,b,S){bn(this,c,y,b,S)};function tt(c,y){var b,S=c.F;if(S)for(b=[];S;S=S.F)b.push(S);if(c=c.M,S=y.type||y,typeof y=="string")y=new J(y,c);else if(y instanceof J)y.target=y.target||c;else{var F=y;y=new J(S,c),O(y,F)}if(F=!0,b)for(var W=b.length-1;0<=W;W--){var he=y.g=b[W];F=dn(he,S,!0,y)&&F}if(he=y.g=c,F=dn(he,S,!0,y)&&F,F=dn(he,S,!1,y)&&F,b)for(W=0;W<b.length;W++)he=y.g=b[W],F=dn(he,S,!1,y)&&F}ht.prototype.N=function(){if(ht.aa.N.call(this),this.i){var c=this.i,y;for(y in c.g){for(var b=c.g[y],S=0;S<b.length;S++)be(b[S]);delete c.g[y],c.h--}}this.F=null},ht.prototype.K=function(c,y,b,S){return this.i.add(String(c),y,!1,b,S)},ht.prototype.L=function(c,y,b,S){return this.i.add(String(c),y,!0,b,S)};function dn(c,y,b,S){if(y=c.i.g[String(y)],!y)return!0;y=y.concat();for(var F=!0,W=0;W<y.length;++W){var he=y[W];if(he&&!he.da&&he.capture==b){var Ye=he.listener,Ft=he.ha||he.src;he.fa&&$e(c.i,he),F=Ye.call(Ft,S)!==!1&&F}}return F&&!S.defaultPrevented}function Mt(c,y,b){if(typeof c=="function")b&&(c=T(c,b));else if(c&&typeof c.handleEvent=="function")c=T(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(y)?-1:d.setTimeout(c,y||0)}function sr(c){c.g=Mt(()=>{c.g=null,c.i&&(c.i=!1,sr(c))},c.l);const y=c.h;c.h=null,c.m.apply(null,y)}class Ua extends oe{constructor(y,b){super(),this.m=y,this.l=b,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:sr(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Rn(c){oe.call(this),this.h=c,this.g={}}C(Rn,oe);var ei=[];function ti(c){ce(c.g,function(y,b){this.g.hasOwnProperty(b)&&zi(y)},c),c.g={}}Rn.prototype.N=function(){Rn.aa.N.call(this),ti(this)},Rn.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Cn=d.JSON.stringify,ni=d.JSON.parse,ri=class{stringify(c){return d.JSON.stringify(c,void 0)}parse(c){return d.JSON.parse(c,void 0)}};function ii(){}ii.prototype.h=null;function In(c){return c.h||(c.h=c.i())}function Us(){}var ar={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Gn(){J.call(this,"d")}C(Gn,J);function ji(){J.call(this,"c")}C(ji,J);var Se={},vt=null;function yt(){return vt=vt||new ht}Se.La="serverreachability";function Pt(c){J.call(this,Se.La,c)}C(Pt,J);function Pn(c){const y=yt();tt(y,new Pt(y))}Se.STAT_EVENT="statevent";function Ct(c,y){J.call(this,Se.STAT_EVENT,c),this.stat=y}C(Ct,J);function qe(c){const y=yt();tt(y,new Ct(y,c))}Se.Ma="timingevent";function _t(c,y){J.call(this,Se.Ma,c),this.size=y}C(_t,J);function Je(c,y){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){c()},y)}function bt(){this.g=!0}bt.prototype.xa=function(){this.g=!1};function Bi(c,y,b,S,F,W){c.info(function(){if(c.g)if(W)for(var he="",Ye=W.split("&"),Ft=0;Ft<Ye.length;Ft++){var Xe=Ye[Ft].split("=");if(1<Xe.length){var Wt=Xe[0];Xe=Xe[1];var Ht=Wt.split("_");he=2<=Ht.length&&Ht[1]=="type"?he+(Wt+"="+Xe+"&"):he+(Wt+"=redacted&")}}else he=null;else he=W;return"XMLHTTP REQ ("+S+") [attempt "+F+"]: "+y+`
`+b+`
`+he})}function or(c,y,b,S,F,W,he){c.info(function(){return"XMLHTTP RESP ("+S+") [ attempt "+F+"]: "+y+`
`+b+`
`+W+" "+he})}function si(c,y,b,S){c.info(function(){return"XMLHTTP TEXT ("+y+"): "+zs(c,b)+(S?" "+S:"")})}function Gu(c,y){c.info(function(){return"TIMEOUT: "+y})}bt.prototype.info=function(){};function zs(c,y){if(!c.g)return y;if(!y)return null;try{var b=JSON.parse(y);if(b){for(c=0;c<b.length;c++)if(Array.isArray(b[c])){var S=b[c];if(!(2>S.length)){var F=S[1];if(Array.isArray(F)&&!(1>F.length)){var W=F[0];if(W!="noop"&&W!="stop"&&W!="close")for(var he=1;he<F.length;he++)F[he]=""}}}}return Cn(b)}catch{return y}}var qi={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},ai={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},br;function Er(){}C(Er,ii),Er.prototype.g=function(){return new XMLHttpRequest},Er.prototype.i=function(){return{}},br=new Er;function En(c,y,b,S){this.j=c,this.i=y,this.l=b,this.R=S||1,this.U=new Rn(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Dt}function Dt(){this.i=null,this.g="",this.h=!1}var el={},za={};function lr(c,y,b){c.L=1,c.v=Hs(Vn(y)),c.m=b,c.P=!0,oi(c,null)}function oi(c,y){c.F=Date.now(),js(c),c.A=Vn(c.v);var b=c.A,S=c.R;Array.isArray(S)||(S=[String(S)]),al(b.i,"t",S),c.C=0,b=c.j.J,c.h=new Dt,c.g=oc(c.j,b?y:null,!c.m),0<c.O&&(c.M=new Ua(T(c.Y,c,c.g),c.O)),y=c.U,b=c.g,S=c.ca;var F="readystatechange";Array.isArray(F)||(F&&(ei[0]=F.toString()),F=ei);for(var W=0;W<F.length;W++){var he=Vs(b,F[W],S||y.handleEvent,!1,y.h||y);if(!he)break;y.g[he.key]=he}y=c.H?A(c.H):{},c.m?(c.u||(c.u="POST"),y["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,y)):(c.u="GET",c.g.ea(c.A,c.u,null,y)),Pn(),Bi(c.i,c.u,c.A,c.l,c.R,c.m)}En.prototype.ca=function(c){c=c.target;const y=this.M;y&&Yn(c)==3?y.j():this.Y(c)},En.prototype.Y=function(c){try{if(c==this.g)e:{const Ht=Yn(this.g);var y=this.g.Ba();const pi=this.g.Z();if(!(3>Ht)&&(Ht!=3||this.g&&(this.h.h||this.g.oa()||Ju(this.g)))){this.J||Ht!=4||y==7||(y==8||0>=pi?Pn(3):Pn(2)),Fi(this);var b=this.g.Z();this.X=b;t:if(Ku(this)){var S=Ju(this.g);c="";var F=S.length,W=Yn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){rn(this),Tr(this);var he="";break t}this.h.i=new d.TextDecoder}for(y=0;y<F;y++)this.h.h=!0,c+=this.h.i.decode(S[y],{stream:!(W&&y==F-1)});S.length=0,this.h.g+=c,this.C=0,he=this.h.g}else he=this.g.oa();if(this.o=b==200,or(this.i,this.u,this.A,this.l,this.R,Ht,b),this.o){if(this.T&&!this.K){t:{if(this.g){var Ye,Ft=this.g;if((Ye=Ft.g?Ft.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Q(Ye)){var Xe=Ye;break t}}Xe=null}if(b=Xe)si(this.i,this.l,b,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Bs(this,b);else{this.o=!1,this.s=3,qe(12),rn(this),Tr(this);break e}}if(this.P){b=!0;let sn;for(;!this.J&&this.C<he.length;)if(sn=Qu(this,he),sn==za){Ht==4&&(this.s=4,qe(14),b=!1),si(this.i,this.l,null,"[Incomplete Response]");break}else if(sn==el){this.s=4,qe(15),si(this.i,this.l,he,"[Invalid Chunk]"),b=!1;break}else si(this.i,this.l,sn,null),Bs(this,sn);if(Ku(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ht!=4||he.length!=0||this.h.h||(this.s=1,qe(16),b=!1),this.o=this.o&&b,!b)si(this.i,this.l,he,"[Invalid Chunked Response]"),rn(this),Tr(this);else if(0<he.length&&!this.W){this.W=!0;var Wt=this.j;Wt.g==this&&Wt.ba&&!Wt.M&&(Wt.j.info("Great, no buffering proxy detected. Bytes received: "+he.length),Zs(Wt),Wt.M=!0,qe(11))}}else si(this.i,this.l,he,null),Bs(this,he);Ht==4&&rn(this),this.o&&!this.J&&(Ht==4?ic(this.j,this):(this.o=!1,js(this)))}else Mf(this.g),b==400&&0<he.indexOf("Unknown SID")?(this.s=3,qe(12)):(this.s=0,qe(13)),rn(this),Tr(this)}}}catch{}finally{}};function Ku(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function Qu(c,y){var b=c.C,S=y.indexOf(`
`,b);return S==-1?za:(b=Number(y.substring(b,S)),isNaN(b)?el:(S+=1,S+b>y.length?za:(y=y.slice(S,S+b),c.C=S+b,y)))}En.prototype.cancel=function(){this.J=!0,rn(this)};function js(c){c.S=Date.now()+c.I,$u(c,c.I)}function $u(c,y){if(c.B!=null)throw Error("WatchDog timer not null");c.B=Je(T(c.ba,c),y)}function Fi(c){c.B&&(d.clearTimeout(c.B),c.B=null)}En.prototype.ba=function(){this.B=null;const c=Date.now();0<=c-this.S?(Gu(this.i,this.A),this.L!=2&&(Pn(),qe(17)),rn(this),this.s=2,Tr(this)):$u(this,this.S-c)};function Tr(c){c.j.G==0||c.J||ic(c.j,c)}function rn(c){Fi(c);var y=c.M;y&&typeof y.ma=="function"&&y.ma(),c.M=null,ti(c.U),c.g&&(y=c.g,c.g=null,y.abort(),y.ma())}function Bs(c,y){try{var b=c.j;if(b.G!=0&&(b.g==c||tl(b.h,c))){if(!c.K&&tl(b.h,c)&&b.G==3){try{var S=b.Da.g.parse(y)}catch{S=null}if(Array.isArray(S)&&S.length==3){var F=S;if(F[0]==0){e:if(!b.u){if(b.g)if(b.g.F+3e3<c.F)Wa(b),Ya(b);else break e;hl(b),qe(18)}}else b.za=F[1],0<b.za-b.T&&37500>F[2]&&b.F&&b.v==0&&!b.C&&(b.C=Je(T(b.Za,b),6e3));if(1>=Ba(b.h)&&b.ca){try{b.ca()}catch{}b.ca=void 0}}else mi(b,11)}else if((c.K||b.g==c)&&Wa(b),!Q(y))for(F=b.Da.g.parse(y),y=0;y<F.length;y++){let Xe=F[y];if(b.T=Xe[0],Xe=Xe[1],b.G==2)if(Xe[0]=="c"){b.K=Xe[1],b.ia=Xe[2];const Wt=Xe[3];Wt!=null&&(b.la=Wt,b.j.info("VER="+b.la));const Ht=Xe[4];Ht!=null&&(b.Aa=Ht,b.j.info("SVER="+b.Aa));const pi=Xe[5];pi!=null&&typeof pi=="number"&&0<pi&&(S=1.5*pi,b.L=S,b.j.info("backChannelRequestTimeoutMs_="+S)),S=b;const sn=c.g;if(sn){const xr=sn.g?sn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(xr){var W=S.h;W.g||xr.indexOf("spdy")==-1&&xr.indexOf("quic")==-1&&xr.indexOf("h2")==-1||(W.j=W.l,W.g=new Set,W.h&&(qa(W,W.h),W.h=null))}if(S.D){const dl=sn.g?sn.g.getResponseHeader("X-HTTP-Session-Id"):null;dl&&(S.ya=dl,ot(S.I,S.D,dl))}}b.G=3,b.l&&b.l.ua(),b.ba&&(b.R=Date.now()-c.F,b.j.info("Handshake RTT: "+b.R+"ms")),S=b;var he=c;if(S.qa=ac(S,S.J?S.ia:null,S.W),he.K){Tn(S.h,he);var Ye=he,Ft=S.L;Ft&&(Ye.I=Ft),Ye.B&&(Fi(Ye),js(Ye)),S.g=he}else nc(S);0<b.i.length&&Xa(b)}else Xe[0]!="stop"&&Xe[0]!="close"||mi(b,7);else b.G==3&&(Xe[0]=="stop"||Xe[0]=="close"?Xe[0]=="stop"?mi(b,7):ul(b):Xe[0]!="noop"&&b.l&&b.l.ta(Xe),b.v=0)}}Pn(4)}catch{}}var Yu=class{constructor(c,y){this.g=c,this.map=y}};function li(c){this.l=c||10,d.PerformanceNavigationTiming?(c=d.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function ja(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function Ba(c){return c.h?1:c.g?c.g.size:0}function tl(c,y){return c.h?c.h==y:c.g?c.g.has(y):!1}function qa(c,y){c.g?c.g.add(y):c.h=y}function Tn(c,y){c.h&&c.h==y?c.h=null:c.g&&c.g.has(y)&&c.g.delete(y)}li.prototype.cancel=function(){if(this.i=nl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function nl(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let y=c.i;for(const b of c.g.values())y=y.concat(b.D);return y}return M(c.i)}function Df(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(p(c)){for(var y=[],b=c.length,S=0;S<b;S++)y.push(c[S]);return y}y=[],b=0;for(S in c)y[b++]=c[S];return y}function Fa(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(p(c)||typeof c=="string"){var y=[];c=c.length;for(var b=0;b<c;b++)y.push(b);return y}y=[],b=0;for(const S in c)y[b++]=S;return y}}}function rl(c,y){if(c.forEach&&typeof c.forEach=="function")c.forEach(y,void 0);else if(p(c)||typeof c=="string")Array.prototype.forEach.call(c,y,void 0);else for(var b=Fa(c),S=Df(c),F=S.length,W=0;W<F;W++)y.call(void 0,S[W],b&&b[W],c)}var qs=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Nf(c,y){if(c){c=c.split("&");for(var b=0;b<c.length;b++){var S=c[b].indexOf("="),F=null;if(0<=S){var W=c[b].substring(0,S);F=c[b].substring(S+1)}else W=c[b];y(W,F?decodeURIComponent(F.replace(/\+/g," ")):"")}}}function Vt(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof Vt){this.h=c.h,Fs(this,c.j),this.o=c.o,this.g=c.g,Hi(this,c.s),this.l=c.l;var y=c.i,b=new ci;b.i=y.i,y.g&&(b.g=new Map(y.g),b.h=y.h),ui(this,b),this.m=c.m}else c&&(y=String(c).match(qs))?(this.h=!1,Fs(this,y[1]||"",!0),this.o=Kn(y[2]||""),this.g=Kn(y[3]||"",!0),Hi(this,y[4]),this.l=Kn(y[5]||"",!0),ui(this,y[6]||"",!0),this.m=Kn(y[7]||"")):(this.h=!1,this.i=new ci(null,this.h))}Vt.prototype.toString=function(){var c=[],y=this.j;y&&c.push(Gs(y,il,!0),":");var b=this.g;return(b||y=="file")&&(c.push("//"),(y=this.o)&&c.push(Gs(y,il,!0),"@"),c.push(encodeURIComponent(String(b)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),b=this.s,b!=null&&c.push(":",String(b))),(b=this.l)&&(this.g&&b.charAt(0)!="/"&&c.push("/"),c.push(Gs(b,b.charAt(0)=="/"?Of:sl,!0))),(b=this.i.toString())&&c.push("?",b),(b=this.m)&&c.push("#",Gs(b,Ha)),c.join("")};function Vn(c){return new Vt(c)}function Fs(c,y,b){c.j=b?Kn(y,!0):y,c.j&&(c.j=c.j.replace(/:$/,""))}function Hi(c,y){if(y){if(y=Number(y),isNaN(y)||0>y)throw Error("Bad port number "+y);c.s=y}else c.s=null}function ui(c,y,b){y instanceof ci?(c.i=y,Wu(c.i,c.h)):(b||(y=Gs(y,kf)),c.i=new ci(y,c.h))}function ot(c,y,b){c.i.set(y,b)}function Hs(c){return ot(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function Kn(c,y){return c?y?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function Gs(c,y,b){return typeof c=="string"?(c=encodeURI(c).replace(y,Xu),b&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function Xu(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var il=/[#\/\?@]/g,sl=/[#\?:]/g,Of=/[#\?]/g,kf=/[#\?@]/g,Ha=/#/g;function ci(c,y){this.h=this.g=null,this.i=c||null,this.j=!!y}function Qn(c){c.g||(c.g=new Map,c.h=0,c.i&&Nf(c.i,function(y,b){c.add(decodeURIComponent(y.replace(/\+/g," ")),b)}))}r=ci.prototype,r.add=function(c,y){Qn(this),this.i=null,c=wr(this,c);var b=this.g.get(c);return b||this.g.set(c,b=[]),b.push(y),this.h+=1,this};function hi(c,y){Qn(c),y=wr(c,y),c.g.has(y)&&(c.i=null,c.h-=c.g.get(y).length,c.g.delete(y))}function fi(c,y){return Qn(c),y=wr(c,y),c.g.has(y)}r.forEach=function(c,y){Qn(this),this.g.forEach(function(b,S){b.forEach(function(F){c.call(y,F,S,this)},this)},this)},r.na=function(){Qn(this);const c=Array.from(this.g.values()),y=Array.from(this.g.keys()),b=[];for(let S=0;S<y.length;S++){const F=c[S];for(let W=0;W<F.length;W++)b.push(y[S])}return b},r.V=function(c){Qn(this);let y=[];if(typeof c=="string")fi(this,c)&&(y=y.concat(this.g.get(wr(this,c))));else{c=Array.from(this.g.values());for(let b=0;b<c.length;b++)y=y.concat(c[b])}return y},r.set=function(c,y){return Qn(this),this.i=null,c=wr(this,c),fi(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[y]),this.h+=1,this},r.get=function(c,y){return c?(c=this.V(c),0<c.length?String(c[0]):y):y};function al(c,y,b){hi(c,y),0<b.length&&(c.i=null,c.g.set(wr(c,y),M(b)),c.h+=b.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],y=Array.from(this.g.keys());for(var b=0;b<y.length;b++){var S=y[b];const W=encodeURIComponent(String(S)),he=this.V(S);for(S=0;S<he.length;S++){var F=W;he[S]!==""&&(F+="="+encodeURIComponent(String(he[S]))),c.push(F)}}return this.i=c.join("&")};function wr(c,y){return y=String(y),c.j&&(y=y.toLowerCase()),y}function Wu(c,y){y&&!c.j&&(Qn(c),c.i=null,c.g.forEach(function(b,S){var F=S.toLowerCase();S!=F&&(hi(this,S),al(this,F,b))},c)),c.j=y}function Ks(c,y){const b=new bt;if(d.Image){const S=new Image;S.onload=I($n,b,"TestLoadImage: loaded",!0,y,S),S.onerror=I($n,b,"TestLoadImage: error",!1,y,S),S.onabort=I($n,b,"TestLoadImage: abort",!1,y,S),S.ontimeout=I($n,b,"TestLoadImage: timeout",!1,y,S),d.setTimeout(function(){S.ontimeout&&S.ontimeout()},1e4),S.src=c}else y(!1)}function ur(c,y){const b=new bt,S=new AbortController,F=setTimeout(()=>{S.abort(),$n(b,"TestPingServer: timeout",!1,y)},1e4);fetch(c,{signal:S.signal}).then(W=>{clearTimeout(F),W.ok?$n(b,"TestPingServer: ok",!0,y):$n(b,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(F),$n(b,"TestPingServer: error",!1,y)})}function $n(c,y,b,S,F){try{F&&(F.onload=null,F.onerror=null,F.onabort=null,F.ontimeout=null),S(b)}catch{}}function Qs(){this.g=new ri}function Sr(c,y,b){const S=b||"";try{rl(c,function(F,W){let he=F;g(F)&&(he=Cn(F)),y.push(S+W+"="+encodeURIComponent(he))})}catch(F){throw y.push(S+"type="+encodeURIComponent("_badmap")),F}}function Gi(c){this.l=c.Ub||null,this.j=c.eb||!1}C(Gi,ii),Gi.prototype.g=function(){return new di(this.l,this.j)},Gi.prototype.i=function(c){return function(){return c}}({});function di(c,y){ht.call(this),this.D=c,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}C(di,ht),r=di.prototype,r.open=function(c,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=y,this.readyState=1,Rr(this)},r.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const y={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(y.body=c),(this.D||d).fetch(new Request(this.A,y)).then(this.Sa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Ar(this)),this.readyState=0},r.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,Rr(this)),this.g&&(this.readyState=3,Rr(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;ol(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function ol(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}r.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var y=c.value?c.value:new Uint8Array(0);(y=this.v.decode(y,{stream:!c.done}))&&(this.response=this.responseText+=y)}c.done?Ar(this):Rr(this),this.readyState==3&&ol(this)}},r.Ra=function(c){this.g&&(this.response=this.responseText=c,Ar(this))},r.Qa=function(c){this.g&&(this.response=c,Ar(this))},r.ga=function(){this.g&&Ar(this)};function Ar(c){c.readyState=4,c.l=null,c.j=null,c.v=null,Rr(c)}r.setRequestHeader=function(c,y){this.u.append(c,y)},r.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],y=this.h.entries();for(var b=y.next();!b.done;)b=b.value,c.push(b[0]+": "+b[1]),b=y.next();return c.join(`\r
`)};function Rr(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(di.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function ll(c){let y="";return ce(c,function(b,S){y+=S,y+=":",y+=b,y+=`\r
`}),y}function Xt(c,y,b){e:{for(S in b){var S=!1;break e}S=!0}S||(b=ll(b),typeof c=="string"?b!=null&&encodeURIComponent(String(b)):ot(c,y,b))}function rt(c){ht.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}C(rt,ht);var Ga=/^https?$/i,$s=["POST","PUT"];r=rt.prototype,r.Ha=function(c){this.J=c},r.ea=function(c,y,b,S){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);y=y?y.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():br.g(),this.v=this.o?In(this.o):In(br),this.g.onreadystatechange=T(this.Ea,this);try{this.B=!0,this.g.open(y,String(c),!0),this.B=!1}catch(W){Zu(this,W);return}if(c=b||"",b=new Map(this.headers),S)if(Object.getPrototypeOf(S)===Object.prototype)for(var F in S)b.set(F,S[F]);else if(typeof S.keys=="function"&&typeof S.get=="function")for(const W of S.keys())b.set(W,S.get(W));else throw Error("Unknown input type for opt_headers: "+String(S));S=Array.from(b.keys()).find(W=>W.toLowerCase()=="content-type"),F=d.FormData&&c instanceof d.FormData,!(0<=Array.prototype.indexOf.call($s,y,void 0))||S||F||b.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[W,he]of b)this.g.setRequestHeader(W,he);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Ys(this),this.u=!0,this.g.send(c),this.u=!1}catch(W){Zu(this,W)}};function Zu(c,y){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=y,c.m=5,Ka(c),Cr(c)}function Ka(c){c.A||(c.A=!0,tt(c,"complete"),tt(c,"error"))}r.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,tt(this,"complete"),tt(this,"abort"),Cr(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Cr(this,!0)),rt.aa.N.call(this)},r.Ea=function(){this.s||(this.B||this.u||this.j?Qa(this):this.bb())},r.bb=function(){Qa(this)};function Qa(c){if(c.h&&typeof h<"u"&&(!c.v[1]||Yn(c)!=4||c.Z()!=2)){if(c.u&&Yn(c)==4)Mt(c.Ea,0,c);else if(tt(c,"readystatechange"),Yn(c)==4){c.h=!1;try{const he=c.Z();e:switch(he){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break e;default:y=!1}var b;if(!(b=y)){var S;if(S=he===0){var F=String(c.D).match(qs)[1]||null;!F&&d.self&&d.self.location&&(F=d.self.location.protocol.slice(0,-1)),S=!Ga.test(F?F.toLowerCase():"")}b=S}if(b)tt(c,"complete"),tt(c,"success");else{c.m=6;try{var W=2<Yn(c)?c.g.statusText:""}catch{W=""}c.l=W+" ["+c.Z()+"]",Ka(c)}}finally{Cr(c)}}}}function Cr(c,y){if(c.g){Ys(c);const b=c.g,S=c.v[0]?()=>{}:null;c.g=null,c.v=null,y||tt(c,"ready");try{b.onreadystatechange=S}catch{}}}function Ys(c){c.I&&(d.clearTimeout(c.I),c.I=null)}r.isActive=function(){return!!this.g};function Yn(c){return c.g?c.g.readyState:0}r.Z=function(){try{return 2<Yn(this)?this.g.status:-1}catch{return-1}},r.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.Oa=function(c){if(this.g){var y=this.g.responseText;return c&&y.indexOf(c)==0&&(y=y.substring(c.length)),ni(y)}};function Ju(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function Mf(c){const y={};c=(c.g&&2<=Yn(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let S=0;S<c.length;S++){if(Q(c[S]))continue;var b=V(c[S]);const F=b[0];if(b=b[1],typeof b!="string")continue;b=b.trim();const W=y[F]||[];y[F]=W,W.push(b)}k(y,function(S){return S.join(", ")})}r.Ba=function(){return this.m},r.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Xs(c,y,b){return b&&b.internalChannelParams&&b.internalChannelParams[c]||y}function $a(c){this.Aa=0,this.i=[],this.j=new bt,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Xs("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Xs("baseRetryDelayMs",5e3,c),this.cb=Xs("retryDelaySeedMs",1e4,c),this.Wa=Xs("forwardChannelMaxRetries",2,c),this.wa=Xs("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new li(c&&c.concurrentRequestLimit),this.Da=new Qs,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}r=$a.prototype,r.la=8,r.G=1,r.connect=function(c,y,b,S){qe(0),this.W=c,this.H=y||{},b&&S!==void 0&&(this.H.OSID=b,this.H.OAID=S),this.F=this.X,this.I=ac(this,null,this.W),Xa(this)};function ul(c){if(ec(c),c.G==3){var y=c.U++,b=Vn(c.I);if(ot(b,"SID",c.K),ot(b,"RID",y),ot(b,"TYPE","terminate"),Ws(c,b),y=new En(c,c.j,y),y.L=2,y.v=Hs(Vn(b)),b=!1,d.navigator&&d.navigator.sendBeacon)try{b=d.navigator.sendBeacon(y.v.toString(),"")}catch{}!b&&d.Image&&(new Image().src=y.v,b=!0),b||(y.g=oc(y.j,null),y.g.ea(y.v)),y.F=Date.now(),js(y)}sc(c)}function Ya(c){c.g&&(Zs(c),c.g.cancel(),c.g=null)}function ec(c){Ya(c),c.u&&(d.clearTimeout(c.u),c.u=null),Wa(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&d.clearTimeout(c.s),c.s=null)}function Xa(c){if(!ja(c.h)&&!c.s){c.s=!0;var y=c.Ga;ue||P(),te||(ue(),te=!0),Ie.add(y,c),c.B=0}}function Pf(c,y){return Ba(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=y.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=Je(T(c.Ga,c,y),fl(c,c.B)),c.B++,!0)}r.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;const F=new En(this,this.j,c);let W=this.o;if(this.S&&(W?(W=A(W),O(W,this.S)):W=this.S),this.m!==null||this.O||(F.H=W,W=null),this.P)e:{for(var y=0,b=0;b<this.i.length;b++){t:{var S=this.i[b];if("__data__"in S.map&&(S=S.map.__data__,typeof S=="string")){S=S.length;break t}S=void 0}if(S===void 0)break;if(y+=S,4096<y){y=b;break e}if(y===4096||b===this.i.length-1){y=b+1;break e}}y=1e3}else y=1e3;y=tc(this,F,y),b=Vn(this.I),ot(b,"RID",c),ot(b,"CVER",22),this.D&&ot(b,"X-HTTP-Session-Id",this.D),Ws(this,b),W&&(this.O?y="headers="+encodeURIComponent(String(ll(W)))+"&"+y:this.m&&Xt(b,this.m,W)),qa(this.h,F),this.Ua&&ot(b,"TYPE","init"),this.P?(ot(b,"$req",y),ot(b,"SID","null"),F.T=!0,lr(F,b,null)):lr(F,b,y),this.G=2}}else this.G==3&&(c?cl(this,c):this.i.length==0||ja(this.h)||cl(this))};function cl(c,y){var b;y?b=y.l:b=c.U++;const S=Vn(c.I);ot(S,"SID",c.K),ot(S,"RID",b),ot(S,"AID",c.T),Ws(c,S),c.m&&c.o&&Xt(S,c.m,c.o),b=new En(c,c.j,b,c.B+1),c.m===null&&(b.H=c.o),y&&(c.i=y.D.concat(c.i)),y=tc(c,b,1e3),b.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),qa(c.h,b),lr(b,S,y)}function Ws(c,y){c.H&&ce(c.H,function(b,S){ot(y,S,b)}),c.l&&rl({},function(b,S){ot(y,S,b)})}function tc(c,y,b){b=Math.min(c.i.length,b);var S=c.l?T(c.l.Na,c.l,c):null;e:{var F=c.i;let W=-1;for(;;){const he=["count="+b];W==-1?0<b?(W=F[0].g,he.push("ofs="+W)):W=0:he.push("ofs="+W);let Ye=!0;for(let Ft=0;Ft<b;Ft++){let Xe=F[Ft].g;const Wt=F[Ft].map;if(Xe-=W,0>Xe)W=Math.max(0,F[Ft].g-100),Ye=!1;else try{Sr(Wt,he,"req"+Xe+"_")}catch{S&&S(Wt)}}if(Ye){S=he.join("&");break e}}}return c=c.i.splice(0,b),y.D=c,S}function nc(c){if(!c.g&&!c.u){c.Y=1;var y=c.Fa;ue||P(),te||(ue(),te=!0),Ie.add(y,c),c.v=0}}function hl(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=Je(T(c.Fa,c),fl(c,c.v)),c.v++,!0)}r.Fa=function(){if(this.u=null,rc(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=Je(T(this.ab,this),c)}},r.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,qe(10),Ya(this),rc(this))};function Zs(c){c.A!=null&&(d.clearTimeout(c.A),c.A=null)}function rc(c){c.g=new En(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var y=Vn(c.qa);ot(y,"RID","rpc"),ot(y,"SID",c.K),ot(y,"AID",c.T),ot(y,"CI",c.F?"0":"1"),!c.F&&c.ja&&ot(y,"TO",c.ja),ot(y,"TYPE","xmlhttp"),Ws(c,y),c.m&&c.o&&Xt(y,c.m,c.o),c.L&&(c.g.I=c.L);var b=c.g;c=c.ia,b.L=1,b.v=Hs(Vn(y)),b.m=null,b.P=!0,oi(b,c)}r.Za=function(){this.C!=null&&(this.C=null,Ya(this),hl(this),qe(19))};function Wa(c){c.C!=null&&(d.clearTimeout(c.C),c.C=null)}function ic(c,y){var b=null;if(c.g==y){Wa(c),Zs(c),c.g=null;var S=2}else if(tl(c.h,y))b=y.D,Tn(c.h,y),S=1;else return;if(c.G!=0){if(y.o)if(S==1){b=y.m?y.m.length:0,y=Date.now()-y.F;var F=c.B;S=yt(),tt(S,new _t(S,b)),Xa(c)}else nc(c);else if(F=y.s,F==3||F==0&&0<y.X||!(S==1&&Pf(c,y)||S==2&&hl(c)))switch(b&&0<b.length&&(y=c.h,y.i=y.i.concat(b)),F){case 1:mi(c,5);break;case 4:mi(c,10);break;case 3:mi(c,6);break;default:mi(c,2)}}}function fl(c,y){let b=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(b*=2),b*y}function mi(c,y){if(c.j.info("Error code "+y),y==2){var b=T(c.fb,c),S=c.Xa;const F=!S;S=new Vt(S||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||Fs(S,"https"),Hs(S),F?Ks(S.toString(),b):ur(S.toString(),b)}else qe(2);c.G=0,c.l&&c.l.sa(y),sc(c),ec(c)}r.fb=function(c){c?(this.j.info("Successfully pinged google.com"),qe(2)):(this.j.info("Failed to ping google.com"),qe(1))};function sc(c){if(c.G=0,c.ka=[],c.l){const y=nl(c.h);(y.length!=0||c.i.length!=0)&&(x(c.ka,y),x(c.ka,c.i),c.h.i.length=0,M(c.i),c.i.length=0),c.l.ra()}}function ac(c,y,b){var S=b instanceof Vt?Vn(b):new Vt(b);if(S.g!="")y&&(S.g=y+"."+S.g),Hi(S,S.s);else{var F=d.location;S=F.protocol,y=y?y+"."+F.hostname:F.hostname,F=+F.port;var W=new Vt(null);S&&Fs(W,S),y&&(W.g=y),F&&Hi(W,F),b&&(W.l=b),S=W}return b=c.D,y=c.ya,b&&y&&ot(S,b,y),ot(S,"VER",c.la),Ws(c,S),S}function oc(c,y,b){if(y&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return y=c.Ca&&!c.pa?new rt(new Gi({eb:b})):new rt(c.pa),y.Ha(c.J),y}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function lc(){}r=lc.prototype,r.ua=function(){},r.ta=function(){},r.sa=function(){},r.ra=function(){},r.isActive=function(){return!0},r.Na=function(){};function Za(){}Za.prototype.g=function(c,y){return new wn(c,y)};function wn(c,y){ht.call(this),this.g=new $a(y),this.l=c,this.h=y&&y.messageUrlParams||null,c=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(c?c["X-WebChannel-Content-Type"]=y.messageContentType:c={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.va&&(c?c["X-WebChannel-Client-Profile"]=y.va:c={"X-WebChannel-Client-Profile":y.va}),this.g.S=c,(c=y&&y.Sb)&&!Q(c)&&(this.g.m=c),this.v=y&&y.supportsCrossDomainXhr||!1,this.u=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!Q(y)&&(this.g.D=y,c=this.h,c!==null&&y in c&&(c=this.h,y in c&&delete c[y])),this.j=new Ir(this)}C(wn,ht),wn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},wn.prototype.close=function(){ul(this.g)},wn.prototype.o=function(c){var y=this.g;if(typeof c=="string"){var b={};b.__data__=c,c=b}else this.u&&(b={},b.__data__=Cn(c),c=b);y.i.push(new Yu(y.Ya++,c)),y.G==3&&Xa(y)},wn.prototype.N=function(){this.g.l=null,delete this.j,ul(this.g),delete this.g,wn.aa.N.call(this)};function uc(c){Gn.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var y=c.__sm__;if(y){e:{for(const b in y){c=b;break e}c=void 0}(this.i=c)&&(c=this.i,y=y!==null&&c in y?y[c]:void 0),this.data=y}else this.data=c}C(uc,Gn);function cc(){ji.call(this),this.status=1}C(cc,ji);function Ir(c){this.g=c}C(Ir,lc),Ir.prototype.ua=function(){tt(this.g,"a")},Ir.prototype.ta=function(c){tt(this.g,new uc(c))},Ir.prototype.sa=function(c){tt(this.g,new cc)},Ir.prototype.ra=function(){tt(this.g,"b")},Za.prototype.createWebChannel=Za.prototype.g,wn.prototype.send=wn.prototype.o,wn.prototype.open=wn.prototype.m,wn.prototype.close=wn.prototype.close,$T=function(){return new Za},QT=function(){return yt()},KT=Se,dp={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},qi.NO_ERROR=0,qi.TIMEOUT=8,qi.HTTP_ERROR=6,xh=qi,ai.COMPLETE="complete",GT=ai,Us.EventType=ar,ar.OPEN="a",ar.CLOSE="b",ar.ERROR="c",ar.MESSAGE="d",ht.prototype.listen=ht.prototype.K,ou=Us,rt.prototype.listenOnce=rt.prototype.L,rt.prototype.getLastError=rt.prototype.Ka,rt.prototype.getLastErrorCode=rt.prototype.Ba,rt.prototype.getStatus=rt.prototype.Z,rt.prototype.getResponseJson=rt.prototype.Oa,rt.prototype.getResponseText=rt.prototype.oa,rt.prototype.send=rt.prototype.ea,rt.prototype.setWithCredentials=rt.prototype.Ha,HT=rt}).apply(typeof yh<"u"?yh:typeof self<"u"?self:typeof window<"u"?window:{});const ib="@firebase/firestore",sb="4.8.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}yn.UNAUTHENTICATED=new yn(null),yn.GOOGLE_CREDENTIALS=new yn("google-credentials-uid"),yn.FIRST_PARTY=new yn("first-party-uid"),yn.MOCK_USER=new yn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Xo="11.10.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sa=new Fp("@firebase/firestore");function xo(){return Sa.logLevel}function pe(r,...e){if(Sa.logLevel<=Ge.DEBUG){const t=e.map(tg);Sa.debug(`Firestore (${Xo}): ${r}`,...t)}}function Li(r,...e){if(Sa.logLevel<=Ge.ERROR){const t=e.map(tg);Sa.error(`Firestore (${Xo}): ${r}`,...t)}}function Rs(r,...e){if(Sa.logLevel<=Ge.WARN){const t=e.map(tg);Sa.warn(`Firestore (${Xo}): ${r}`,...t)}}function tg(r){if(typeof r=="string")return r;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(t){return JSON.stringify(t)}(r)}catch{return r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function De(r,e,t){let s="Unexpected state";typeof e=="string"?s=e:t=e,YT(r,s,t)}function YT(r,e,t){let s=`FIRESTORE (${Xo}) INTERNAL ASSERTION FAILED: ${e} (ID: ${r.toString(16)})`;if(t!==void 0)try{s+=" CONTEXT: "+JSON.stringify(t)}catch{s+=" CONTEXT: "+t}throw Li(s),new Error(s)}function it(r,e,t,s){let o="Unexpected state";typeof t=="string"?o=t:s=t,r||YT(e,o,s)}function Me(r,e){return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const se={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ge extends Wr{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ws{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XT{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class JN{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(yn.UNAUTHENTICATED))}shutdown(){}}class eO{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class tO{constructor(e){this.t=e,this.currentUser=yn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){it(this.o===void 0,42304);let s=this.i;const o=p=>this.i!==s?(s=this.i,t(p)):Promise.resolve();let u=new ws;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new ws,e.enqueueRetryable(()=>o(this.currentUser))};const h=()=>{const p=u;e.enqueueRetryable(async()=>{await p.promise,await o(this.currentUser)})},d=p=>{pe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),h())};this.t.onInit(p=>d(p)),setTimeout(()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?d(p):(pe("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new ws)}},0),h()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(s=>this.i!==e?(pe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(it(typeof s.accessToken=="string",31837,{l:s}),new XT(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return it(e===null||typeof e=="string",2055,{h:e}),new yn(e)}}class nO{constructor(e,t,s){this.P=e,this.T=t,this.I=s,this.type="FirstParty",this.user=yn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class rO{constructor(e,t,s){this.P=e,this.T=t,this.I=s}getToken(){return Promise.resolve(new nO(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable(()=>t(yn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class ab{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class iO{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Hn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){it(this.o===void 0,3512);const s=u=>{u.error!=null&&pe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const h=u.token!==this.m;return this.m=u.token,pe("FirebaseAppCheckTokenProvider",`Received ${h?"new":"existing"} token.`),h?t(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable(()=>s(u))};const o=u=>{pe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(u=>o(u)),setTimeout(()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?o(u):pe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new ab(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(it(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new ab(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sO(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(r);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let s=0;s<r;s++)t[s]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WT(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ng{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=sO(40);for(let u=0;u<o.length;++u)s.length<20&&o[u]<t&&(s+=e.charAt(o[u]%62))}return s}}function ze(r,e){return r<e?-1:r>e?1:0}function mp(r,e){let t=0;for(;t<r.length&&t<e.length;){const s=r.codePointAt(t),o=e.codePointAt(t);if(s!==o){if(s<128&&o<128)return ze(s,o);{const u=WT(),h=aO(u.encode(ob(r,t)),u.encode(ob(e,t)));return h!==0?h:ze(s,o)}}t+=s>65535?2:1}return ze(r.length,e.length)}function ob(r,e){return r.codePointAt(e)>65535?r.substring(e,e+2):r.substring(e,e+1)}function aO(r,e){for(let t=0;t<r.length&&t<e.length;++t)if(r[t]!==e[t])return ze(r[t],e[t]);return ze(r.length,e.length)}function zo(r,e,t){return r.length===e.length&&r.every((s,o)=>t(s,e[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lb="__name__";class Vr{constructor(e,t,s){t===void 0?t=0:t>e.length&&De(637,{offset:t,range:e.length}),s===void 0?s=e.length-t:s>e.length-t&&De(1746,{length:s,range:e.length-t}),this.segments=e,this.offset=t,this.len=s}get length(){return this.len}isEqual(e){return Vr.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Vr?e.forEach(s=>{t.push(s)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,s=this.limit();t<s;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const s=Math.min(e.length,t.length);for(let o=0;o<s;o++){const u=Vr.compareSegments(e.get(o),t.get(o));if(u!==0)return u}return ze(e.length,t.length)}static compareSegments(e,t){const s=Vr.isNumericId(e),o=Vr.isNumericId(t);return s&&!o?-1:!s&&o?1:s&&o?Vr.extractNumericId(e).compare(Vr.extractNumericId(t)):mp(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Ts.fromString(e.substring(4,e.length-2))}}class mt extends Vr{construct(e,t,s){return new mt(e,t,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const s of e){if(s.indexOf("//")>=0)throw new ge(se.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);t.push(...s.split("/").filter(o=>o.length>0))}return new mt(t)}static emptyPath(){return new mt([])}}const oO=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class cn extends Vr{construct(e,t,s){return new cn(e,t,s)}static isValidIdentifier(e){return oO.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),cn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===lb}static keyField(){return new cn([lb])}static fromServerFormat(e){const t=[];let s="",o=0;const u=()=>{if(s.length===0)throw new ge(se.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(s),s=""};let h=!1;for(;o<e.length;){const d=e[o];if(d==="\\"){if(o+1===e.length)throw new ge(se.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[o+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new ge(se.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=p,o+=2}else d==="`"?(h=!h,o++):d!=="."||h?(s+=d,o++):(u(),o++)}if(u(),h)throw new ge(se.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new cn(t)}static emptyPath(){return new cn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Te{constructor(e){this.path=e}static fromPath(e){return new Te(mt.fromString(e))}static fromName(e){return new Te(mt.fromString(e).popFirst(5))}static empty(){return new Te(mt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&mt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return mt.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Te(new mt(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZT(r,e,t){if(!t)throw new ge(se.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function lO(r,e,t,s){if(e===!0&&s===!0)throw new ge(se.INVALID_ARGUMENT,`${r} and ${t} cannot be used together.`)}function ub(r){if(!Te.isDocumentKey(r))throw new ge(se.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function cb(r){if(Te.isDocumentKey(r))throw new ge(se.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function JT(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}function gf(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const e=function(s){return s.constructor?s.constructor.name:null}(r);return e?`a custom ${e} object`:"an object"}}return typeof r=="function"?"a function":De(12329,{type:typeof r})}function jr(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new ge(se.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=gf(r);throw new ge(se.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return r}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bt(r,e){const t={typeString:r};return e&&(t.value=e),t}function zu(r,e){if(!JT(r))throw new ge(se.INVALID_ARGUMENT,"JSON must be an object");let t;for(const s in e)if(e[s]){const o=e[s].typeString,u="value"in e[s]?{value:e[s].value}:void 0;if(!(s in r)){t=`JSON missing required field: '${s}'`;break}const h=r[s];if(o&&typeof h!==o){t=`JSON field '${s}' must be a ${o}.`;break}if(u!==void 0&&h!==u.value){t=`Expected '${s}' field to equal '${u.value}'`;break}}if(t)throw new ge(se.INVALID_ARGUMENT,t);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hb=-62135596800,fb=1e6;class pt{static now(){return pt.fromMillis(Date.now())}static fromDate(e){return pt.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),s=Math.floor((e-1e3*t)*fb);return new pt(t,s)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new ge(se.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new ge(se.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<hb)throw new ge(se.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ge(se.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/fb}_compareTo(e){return this.seconds===e.seconds?ze(this.nanoseconds,e.nanoseconds):ze(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:pt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(zu(e,pt._jsonSchema))return new pt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-hb;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}pt._jsonSchemaVersion="firestore/timestamp/1.0",pt._jsonSchema={type:Bt("string",pt._jsonSchemaVersion),seconds:Bt("number"),nanoseconds:Bt("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ke{static fromTimestamp(e){return new ke(e)}static min(){return new ke(new pt(0,0))}static max(){return new ke(new pt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wu=-1;function uO(r,e){const t=r.toTimestamp().seconds,s=r.toTimestamp().nanoseconds+1,o=ke.fromTimestamp(s===1e9?new pt(t+1,0):new pt(t,s));return new Cs(o,Te.empty(),e)}function cO(r){return new Cs(r.readTime,r.key,wu)}class Cs{constructor(e,t,s){this.readTime=e,this.documentKey=t,this.largestBatchId=s}static min(){return new Cs(ke.min(),Te.empty(),wu)}static max(){return new Cs(ke.max(),Te.empty(),wu)}}function hO(r,e){let t=r.readTime.compareTo(e.readTime);return t!==0?t:(t=Te.comparator(r.documentKey,e.documentKey),t!==0?t:ze(r.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fO="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class dO{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Wo(r){if(r.code!==se.FAILED_PRECONDITION||r.message!==fO)throw r;pe("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ae{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&De(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new ae((s,o)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(s,o)},this.catchCallback=u=>{this.wrapFailure(t,u).next(s,o)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof ae?t:ae.resolve(t)}catch(t){return ae.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):ae.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):ae.reject(t)}static resolve(e){return new ae((t,s)=>{t(e)})}static reject(e){return new ae((t,s)=>{s(e)})}static waitFor(e){return new ae((t,s)=>{let o=0,u=0,h=!1;e.forEach(d=>{++o,d.next(()=>{++u,h&&u===o&&t()},p=>s(p))}),h=!0,u===o&&t()})}static or(e){let t=ae.resolve(!1);for(const s of e)t=t.next(o=>o?ae.resolve(o):s());return t}static forEach(e,t){const s=[];return e.forEach((o,u)=>{s.push(t.call(this,o,u))}),this.waitFor(s)}static mapArray(e,t){return new ae((s,o)=>{const u=e.length,h=new Array(u);let d=0;for(let p=0;p<u;p++){const g=p;t(e[g]).next(_=>{h[g]=_,++d,d===u&&s(h)},_=>o(_))}})}static doWhile(e,t){return new ae((s,o)=>{const u=()=>{e()===!0?t().next(()=>{u()},o):s()};u()})}}function mO(r){const e=r.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function Zo(r){return r.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yf{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=s=>this._e(s),this.ae=s=>t.writeSequenceNumber(s))}_e(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ae&&this.ae(e),e}}yf.ue=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rg=-1;function vf(r){return r==null}function Gh(r){return r===0&&1/r==-1/0}function pO(r){return typeof r=="number"&&Number.isInteger(r)&&!Gh(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ew="";function gO(r){let e="";for(let t=0;t<r.length;t++)e.length>0&&(e=db(e)),e=yO(r.get(t),e);return db(e)}function yO(r,e){let t=e;const s=r.length;for(let o=0;o<s;o++){const u=r.charAt(o);switch(u){case"\0":t+="";break;case ew:t+="";break;default:t+=u}}return t}function db(r){return r+ew+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mb(r){let e=0;for(const t in r)Object.prototype.hasOwnProperty.call(r,t)&&e++;return e}function Na(r,e){for(const t in r)Object.prototype.hasOwnProperty.call(r,t)&&e(t,r[t])}function tw(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class At{constructor(e,t){this.comparator=e,this.root=t||un.EMPTY}insert(e,t){return new At(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,un.BLACK,null,null))}remove(e){return new At(this.comparator,this.root.remove(e,this.comparator).copy(null,null,un.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const s=this.comparator(e,t.key);if(s===0)return t.value;s<0?t=t.left:s>0&&(t=t.right)}return null}indexOf(e){let t=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(e,s.key);if(o===0)return t+s.left.size;o<0?s=s.left:(t+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,s)=>(e(t,s),!1))}toString(){const e=[];return this.inorderTraversal((t,s)=>(e.push(`${t}:${s}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new vh(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new vh(this.root,e,this.comparator,!1)}getReverseIterator(){return new vh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new vh(this.root,e,this.comparator,!0)}}class vh{constructor(e,t,s,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=t?s(e.key,t):1,t&&o&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(u===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class un{constructor(e,t,s,o,u){this.key=e,this.value=t,this.color=s??un.RED,this.left=o??un.EMPTY,this.right=u??un.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,s,o,u){return new un(e??this.key,t??this.value,s??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,s){let o=this;const u=s(e,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(e,t,s),null):u===0?o.copy(null,t,null,null,null):o.copy(null,null,null,null,o.right.insert(e,t,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return un.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let s,o=this;if(t(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,t),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),t(e,o.key)===0){if(o.right.isEmpty())return un.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,t))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,un.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,un.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw De(43730,{key:this.key,value:this.value});if(this.right.isRed())throw De(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw De(27949);return e+(this.isRed()?0:1)}}un.EMPTY=null,un.RED=!0,un.BLACK=!1;un.EMPTY=new class{constructor(){this.size=0}get key(){throw De(57766)}get value(){throw De(16141)}get color(){throw De(16727)}get left(){throw De(29726)}get right(){throw De(36894)}copy(e,t,s,o,u){return this}insert(e,t,s){return new un(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $t{constructor(e){this.comparator=e,this.data=new At(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,s)=>(e(t),!1))}forEachInRange(e,t){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,e[1])>=0)return;t(o.key)}}forEachWhile(e,t){let s;for(s=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new pb(this.data.getIterator())}getIteratorFrom(e){return new pb(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(s=>{t=t.add(s)}),t}isEqual(e){if(!(e instanceof $t)||this.size!==e.size)return!1;const t=this.data.getIterator(),s=e.data.getIterator();for(;t.hasNext();){const o=t.getNext().key,u=s.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new $t(this.comparator);return t.data=e,t}}class pb{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pr{constructor(e){this.fields=e,e.sort(cn.comparator)}static empty(){return new pr([])}unionWith(e){let t=new $t(cn.comparator);for(const s of this.fields)t=t.add(s);for(const s of e)t=t.add(s);return new pr(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return zo(this.fields,e.fields,(t,s)=>t.isEqual(s))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nw extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fn{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new nw("Invalid base64 string: "+u):u}}(e);return new fn(t)}static fromUint8Array(e){const t=function(o){let u="";for(let h=0;h<o.length;++h)u+=String.fromCharCode(o[h]);return u}(e);return new fn(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){const s=new Uint8Array(t.length);for(let o=0;o<t.length;o++)s[o]=t.charCodeAt(o);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ze(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}fn.EMPTY_BYTE_STRING=new fn("");const vO=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Is(r){if(it(!!r,39018),typeof r=="string"){let e=0;const t=vO.exec(r);if(it(!!t,46558,{timestamp:r}),t[1]){let o=t[1];o=(o+"000000000").substr(0,9),e=Number(o)}const s=new Date(r);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:kt(r.seconds),nanos:kt(r.nanos)}}function kt(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function xs(r){return typeof r=="string"?fn.fromBase64String(r):fn.fromUint8Array(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rw="server_timestamp",iw="__type__",sw="__previous_value__",aw="__local_write_time__";function ig(r){var e,t;return((t=(((e=r?.mapValue)===null||e===void 0?void 0:e.fields)||{})[iw])===null||t===void 0?void 0:t.stringValue)===rw}function _f(r){const e=r.mapValue.fields[sw];return ig(e)?_f(e):e}function Su(r){const e=Is(r.mapValue.fields[aw].timestampValue);return new pt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _O{constructor(e,t,s,o,u,h,d,p,g,_){this.databaseId=e,this.appId=t,this.persistenceKey=s,this.host=o,this.ssl=u,this.forceLongPolling=h,this.autoDetectLongPolling=d,this.longPollingOptions=p,this.useFetchStreams=g,this.isUsingEmulator=_}}const Kh="(default)";class Au{constructor(e,t){this.projectId=e,this.database=t||Kh}static empty(){return new Au("","")}get isDefaultDatabase(){return this.database===Kh}isEqual(e){return e instanceof Au&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ow="__type__",bO="__max__",_h={mapValue:{}},lw="__vector__",Qh="value";function Ds(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?ig(r)?4:TO(r)?9007199254740991:EO(r)?10:11:De(28295,{value:r})}function Kr(r,e){if(r===e)return!0;const t=Ds(r);if(t!==Ds(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return Su(r).isEqual(Su(e));case 3:return function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const h=Is(o.timestampValue),d=Is(u.timestampValue);return h.seconds===d.seconds&&h.nanos===d.nanos}(r,e);case 5:return r.stringValue===e.stringValue;case 6:return function(o,u){return xs(o.bytesValue).isEqual(xs(u.bytesValue))}(r,e);case 7:return r.referenceValue===e.referenceValue;case 8:return function(o,u){return kt(o.geoPointValue.latitude)===kt(u.geoPointValue.latitude)&&kt(o.geoPointValue.longitude)===kt(u.geoPointValue.longitude)}(r,e);case 2:return function(o,u){if("integerValue"in o&&"integerValue"in u)return kt(o.integerValue)===kt(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const h=kt(o.doubleValue),d=kt(u.doubleValue);return h===d?Gh(h)===Gh(d):isNaN(h)&&isNaN(d)}return!1}(r,e);case 9:return zo(r.arrayValue.values||[],e.arrayValue.values||[],Kr);case 10:case 11:return function(o,u){const h=o.mapValue.fields||{},d=u.mapValue.fields||{};if(mb(h)!==mb(d))return!1;for(const p in h)if(h.hasOwnProperty(p)&&(d[p]===void 0||!Kr(h[p],d[p])))return!1;return!0}(r,e);default:return De(52216,{left:r})}}function Ru(r,e){return(r.values||[]).find(t=>Kr(t,e))!==void 0}function jo(r,e){if(r===e)return 0;const t=Ds(r),s=Ds(e);if(t!==s)return ze(t,s);switch(t){case 0:case 9007199254740991:return 0;case 1:return ze(r.booleanValue,e.booleanValue);case 2:return function(u,h){const d=kt(u.integerValue||u.doubleValue),p=kt(h.integerValue||h.doubleValue);return d<p?-1:d>p?1:d===p?0:isNaN(d)?isNaN(p)?0:-1:1}(r,e);case 3:return gb(r.timestampValue,e.timestampValue);case 4:return gb(Su(r),Su(e));case 5:return mp(r.stringValue,e.stringValue);case 6:return function(u,h){const d=xs(u),p=xs(h);return d.compareTo(p)}(r.bytesValue,e.bytesValue);case 7:return function(u,h){const d=u.split("/"),p=h.split("/");for(let g=0;g<d.length&&g<p.length;g++){const _=ze(d[g],p[g]);if(_!==0)return _}return ze(d.length,p.length)}(r.referenceValue,e.referenceValue);case 8:return function(u,h){const d=ze(kt(u.latitude),kt(h.latitude));return d!==0?d:ze(kt(u.longitude),kt(h.longitude))}(r.geoPointValue,e.geoPointValue);case 9:return yb(r.arrayValue,e.arrayValue);case 10:return function(u,h){var d,p,g,_;const v=u.fields||{},T=h.fields||{},I=(d=v[Qh])===null||d===void 0?void 0:d.arrayValue,C=(p=T[Qh])===null||p===void 0?void 0:p.arrayValue,M=ze(((g=I?.values)===null||g===void 0?void 0:g.length)||0,((_=C?.values)===null||_===void 0?void 0:_.length)||0);return M!==0?M:yb(I,C)}(r.mapValue,e.mapValue);case 11:return function(u,h){if(u===_h.mapValue&&h===_h.mapValue)return 0;if(u===_h.mapValue)return 1;if(h===_h.mapValue)return-1;const d=u.fields||{},p=Object.keys(d),g=h.fields||{},_=Object.keys(g);p.sort(),_.sort();for(let v=0;v<p.length&&v<_.length;++v){const T=mp(p[v],_[v]);if(T!==0)return T;const I=jo(d[p[v]],g[_[v]]);if(I!==0)return I}return ze(p.length,_.length)}(r.mapValue,e.mapValue);default:throw De(23264,{le:t})}}function gb(r,e){if(typeof r=="string"&&typeof e=="string"&&r.length===e.length)return ze(r,e);const t=Is(r),s=Is(e),o=ze(t.seconds,s.seconds);return o!==0?o:ze(t.nanos,s.nanos)}function yb(r,e){const t=r.values||[],s=e.values||[];for(let o=0;o<t.length&&o<s.length;++o){const u=jo(t[o],s[o]);if(u)return u}return ze(t.length,s.length)}function Bo(r){return pp(r)}function pp(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?function(t){const s=Is(t);return`time(${s.seconds},${s.nanos})`}(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?function(t){return xs(t).toBase64()}(r.bytesValue):"referenceValue"in r?function(t){return Te.fromName(t).toString()}(r.referenceValue):"geoPointValue"in r?function(t){return`geo(${t.latitude},${t.longitude})`}(r.geoPointValue):"arrayValue"in r?function(t){let s="[",o=!0;for(const u of t.values||[])o?o=!1:s+=",",s+=pp(u);return s+"]"}(r.arrayValue):"mapValue"in r?function(t){const s=Object.keys(t.fields||{}).sort();let o="{",u=!0;for(const h of s)u?u=!1:o+=",",o+=`${h}:${pp(t.fields[h])}`;return o+"}"}(r.mapValue):De(61005,{value:r})}function Dh(r){switch(Ds(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=_f(r);return e?16+Dh(e):16;case 5:return 2*r.stringValue.length;case 6:return xs(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return function(s){return(s.values||[]).reduce((o,u)=>o+Dh(u),0)}(r.arrayValue);case 10:case 11:return function(s){let o=0;return Na(s.fields,(u,h)=>{o+=u.length+Dh(h)}),o}(r.mapValue);default:throw De(13486,{value:r})}}function vb(r,e){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${e.path.canonicalString()}`}}function gp(r){return!!r&&"integerValue"in r}function sg(r){return!!r&&"arrayValue"in r}function _b(r){return!!r&&"nullValue"in r}function bb(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function Nh(r){return!!r&&"mapValue"in r}function EO(r){var e,t;return((t=(((e=r?.mapValue)===null||e===void 0?void 0:e.fields)||{})[ow])===null||t===void 0?void 0:t.stringValue)===lw}function du(r){if(r.geoPointValue)return{geoPointValue:Object.assign({},r.geoPointValue)};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:Object.assign({},r.timestampValue)};if(r.mapValue){const e={mapValue:{fields:{}}};return Na(r.mapValue.fields,(t,s)=>e.mapValue.fields[t]=du(s)),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(r.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=du(r.arrayValue.values[t]);return e}return Object.assign({},r)}function TO(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===bO}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rr{constructor(e){this.value=e}static empty(){return new rr({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let s=0;s<e.length-1;++s)if(t=(t.mapValue.fields||{})[e.get(s)],!Nh(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=du(t)}setAll(e){let t=cn.emptyPath(),s={},o=[];e.forEach((h,d)=>{if(!t.isImmediateParentOf(d)){const p=this.getFieldsMap(t);this.applyChanges(p,s,o),s={},o=[],t=d.popLast()}h?s[d.lastSegment()]=du(h):o.push(d.lastSegment())});const u=this.getFieldsMap(t);this.applyChanges(u,s,o)}delete(e){const t=this.field(e.popLast());Nh(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Kr(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let s=0;s<e.length;++s){let o=t.mapValue.fields[e.get(s)];Nh(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},t.mapValue.fields[e.get(s)]=o),t=o}return t.mapValue.fields}applyChanges(e,t,s){Na(t,(o,u)=>e[o]=u);for(const o of s)delete e[o]}clone(){return new rr(du(this.value))}}function uw(r){const e=[];return Na(r.fields,(t,s)=>{const o=new cn([t]);if(Nh(s)){const u=uw(s.mapValue).fields;if(u.length===0)e.push(o);else for(const h of u)e.push(o.child(h))}else e.push(o)}),new pr(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vn{constructor(e,t,s,o,u,h,d){this.key=e,this.documentType=t,this.version=s,this.readTime=o,this.createTime=u,this.data=h,this.documentState=d}static newInvalidDocument(e){return new vn(e,0,ke.min(),ke.min(),ke.min(),rr.empty(),0)}static newFoundDocument(e,t,s,o){return new vn(e,1,t,ke.min(),s,o,0)}static newNoDocument(e,t){return new vn(e,2,t,ke.min(),ke.min(),rr.empty(),0)}static newUnknownDocument(e,t){return new vn(e,3,t,ke.min(),ke.min(),rr.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(ke.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=rr.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=rr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ke.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof vn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new vn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $h{constructor(e,t){this.position=e,this.inclusive=t}}function Eb(r,e,t){let s=0;for(let o=0;o<r.position.length;o++){const u=e[o],h=r.position[o];if(u.field.isKeyField()?s=Te.comparator(Te.fromName(h.referenceValue),t.key):s=jo(h,t.data.field(u.field)),u.dir==="desc"&&(s*=-1),s!==0)break}return s}function Tb(r,e){if(r===null)return e===null;if(e===null||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let t=0;t<r.position.length;t++)if(!Kr(r.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yh{constructor(e,t="asc"){this.field=e,this.dir=t}}function wO(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cw{}class jt extends cw{constructor(e,t,s){super(),this.field=e,this.op=t,this.value=s}static create(e,t,s){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,s):new AO(e,t,s):t==="array-contains"?new IO(e,s):t==="in"?new xO(e,s):t==="not-in"?new DO(e,s):t==="array-contains-any"?new NO(e,s):new jt(e,t,s)}static createKeyFieldInFilter(e,t,s){return t==="in"?new RO(e,s):new CO(e,s)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(jo(t,this.value)):t!==null&&Ds(this.value)===Ds(t)&&this.matchesComparison(jo(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return De(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class _r extends cw{constructor(e,t){super(),this.filters=e,this.op=t,this.he=null}static create(e,t){return new _r(e,t)}matches(e){return hw(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.he!==null||(this.he=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.he}getFilters(){return Object.assign([],this.filters)}}function hw(r){return r.op==="and"}function fw(r){return SO(r)&&hw(r)}function SO(r){for(const e of r.filters)if(e instanceof _r)return!1;return!0}function yp(r){if(r instanceof jt)return r.field.canonicalString()+r.op.toString()+Bo(r.value);if(fw(r))return r.filters.map(e=>yp(e)).join(",");{const e=r.filters.map(t=>yp(t)).join(",");return`${r.op}(${e})`}}function dw(r,e){return r instanceof jt?function(s,o){return o instanceof jt&&s.op===o.op&&s.field.isEqual(o.field)&&Kr(s.value,o.value)}(r,e):r instanceof _r?function(s,o){return o instanceof _r&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce((u,h,d)=>u&&dw(h,o.filters[d]),!0):!1}(r,e):void De(19439)}function mw(r){return r instanceof jt?function(t){return`${t.field.canonicalString()} ${t.op} ${Bo(t.value)}`}(r):r instanceof _r?function(t){return t.op.toString()+" {"+t.getFilters().map(mw).join(" ,")+"}"}(r):"Filter"}class AO extends jt{constructor(e,t,s){super(e,t,s),this.key=Te.fromName(s.referenceValue)}matches(e){const t=Te.comparator(e.key,this.key);return this.matchesComparison(t)}}class RO extends jt{constructor(e,t){super(e,"in",t),this.keys=pw("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class CO extends jt{constructor(e,t){super(e,"not-in",t),this.keys=pw("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function pw(r,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(s=>Te.fromName(s.referenceValue))}class IO extends jt{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return sg(t)&&Ru(t.arrayValue,this.value)}}class xO extends jt{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&Ru(this.value.arrayValue,t)}}class DO extends jt{constructor(e,t){super(e,"not-in",t)}matches(e){if(Ru(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!Ru(this.value.arrayValue,t)}}class NO extends jt{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!sg(t)||!t.arrayValue.values)&&t.arrayValue.values.some(s=>Ru(this.value.arrayValue,s))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OO{constructor(e,t=null,s=[],o=[],u=null,h=null,d=null){this.path=e,this.collectionGroup=t,this.orderBy=s,this.filters=o,this.limit=u,this.startAt=h,this.endAt=d,this.Pe=null}}function wb(r,e=null,t=[],s=[],o=null,u=null,h=null){return new OO(r,e,t,s,o,u,h)}function ag(r){const e=Me(r);if(e.Pe===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(s=>yp(s)).join(","),t+="|ob:",t+=e.orderBy.map(s=>function(u){return u.field.canonicalString()+u.dir}(s)).join(","),vf(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(s=>Bo(s)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(s=>Bo(s)).join(",")),e.Pe=t}return e.Pe}function og(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<r.orderBy.length;t++)if(!wO(r.orderBy[t],e.orderBy[t]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let t=0;t<r.filters.length;t++)if(!dw(r.filters[t],e.filters[t]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!Tb(r.startAt,e.startAt)&&Tb(r.endAt,e.endAt)}function vp(r){return Te.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ju{constructor(e,t=null,s=[],o=[],u=null,h="F",d=null,p=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=s,this.filters=o,this.limit=u,this.limitType=h,this.startAt=d,this.endAt=p,this.Te=null,this.Ie=null,this.de=null,this.startAt,this.endAt}}function kO(r,e,t,s,o,u,h,d){return new ju(r,e,t,s,o,u,h,d)}function lg(r){return new ju(r)}function Sb(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function gw(r){return r.collectionGroup!==null}function mu(r){const e=Me(r);if(e.Te===null){e.Te=[];const t=new Set;for(const u of e.explicitOrderBy)e.Te.push(u),t.add(u.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(h){let d=new $t(cn.comparator);return h.filters.forEach(p=>{p.getFlattenedFilters().forEach(g=>{g.isInequality()&&(d=d.add(g.field))})}),d})(e).forEach(u=>{t.has(u.canonicalString())||u.isKeyField()||e.Te.push(new Yh(u,s))}),t.has(cn.keyField().canonicalString())||e.Te.push(new Yh(cn.keyField(),s))}return e.Te}function Br(r){const e=Me(r);return e.Ie||(e.Ie=MO(e,mu(r))),e.Ie}function MO(r,e){if(r.limitType==="F")return wb(r.path,r.collectionGroup,e,r.filters,r.limit,r.startAt,r.endAt);{e=e.map(o=>{const u=o.dir==="desc"?"asc":"desc";return new Yh(o.field,u)});const t=r.endAt?new $h(r.endAt.position,r.endAt.inclusive):null,s=r.startAt?new $h(r.startAt.position,r.startAt.inclusive):null;return wb(r.path,r.collectionGroup,e,r.filters,r.limit,t,s)}}function _p(r,e){const t=r.filters.concat([e]);return new ju(r.path,r.collectionGroup,r.explicitOrderBy.slice(),t,r.limit,r.limitType,r.startAt,r.endAt)}function bp(r,e,t){return new ju(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,t,r.startAt,r.endAt)}function bf(r,e){return og(Br(r),Br(e))&&r.limitType===e.limitType}function yw(r){return`${ag(Br(r))}|lt:${r.limitType}`}function Do(r){return`Query(target=${function(t){let s=t.path.canonicalString();return t.collectionGroup!==null&&(s+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(s+=`, filters: [${t.filters.map(o=>mw(o)).join(", ")}]`),vf(t.limit)||(s+=", limit: "+t.limit),t.orderBy.length>0&&(s+=`, orderBy: [${t.orderBy.map(o=>function(h){return`${h.field.canonicalString()} (${h.dir})`}(o)).join(", ")}]`),t.startAt&&(s+=", startAt: ",s+=t.startAt.inclusive?"b:":"a:",s+=t.startAt.position.map(o=>Bo(o)).join(",")),t.endAt&&(s+=", endAt: ",s+=t.endAt.inclusive?"a:":"b:",s+=t.endAt.position.map(o=>Bo(o)).join(",")),`Target(${s})`}(Br(r))}; limitType=${r.limitType})`}function Ef(r,e){return e.isFoundDocument()&&function(s,o){const u=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(u):Te.isDocumentKey(s.path)?s.path.isEqual(u):s.path.isImmediateParentOf(u)}(r,e)&&function(s,o){for(const u of mu(s))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0}(r,e)&&function(s,o){for(const u of s.filters)if(!u.matches(o))return!1;return!0}(r,e)&&function(s,o){return!(s.startAt&&!function(h,d,p){const g=Eb(h,d,p);return h.inclusive?g<=0:g<0}(s.startAt,mu(s),o)||s.endAt&&!function(h,d,p){const g=Eb(h,d,p);return h.inclusive?g>=0:g>0}(s.endAt,mu(s),o))}(r,e)}function PO(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function vw(r){return(e,t)=>{let s=!1;for(const o of mu(r)){const u=VO(o,e,t);if(u!==0)return u;s=s||o.field.isKeyField()}return 0}}function VO(r,e,t){const s=r.field.isKeyField()?Te.comparator(e.key,t.key):function(u,h,d){const p=h.data.field(u),g=d.data.field(u);return p!==null&&g!==null?jo(p,g):De(42886)}(r.field,e,t);switch(r.dir){case"asc":return s;case"desc":return-1*s;default:return De(19790,{direction:r.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oa{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),s=this.inner[t];if(s!==void 0){for(const[o,u]of s)if(this.equalsFn(o,e))return u}}has(e){return this.get(e)!==void 0}set(e,t){const s=this.mapKeyFn(e),o=this.inner[s];if(o===void 0)return this.inner[s]=[[e,t]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return void(o[u]=[e,t]);o.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),s=this.inner[t];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return s.length===1?delete this.inner[t]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(e){Na(this.inner,(t,s)=>{for(const[o,u]of s)e(o,u)})}isEmpty(){return tw(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LO=new At(Te.comparator);function Ui(){return LO}const _w=new At(Te.comparator);function lu(...r){let e=_w;for(const t of r)e=e.insert(t.key,t);return e}function bw(r){let e=_w;return r.forEach((t,s)=>e=e.insert(t,s.overlayedDocument)),e}function ga(){return pu()}function Ew(){return pu()}function pu(){return new Oa(r=>r.toString(),(r,e)=>r.isEqual(e))}const UO=new At(Te.comparator),zO=new $t(Te.comparator);function Ke(...r){let e=zO;for(const t of r)e=e.add(t);return e}const jO=new $t(ze);function BO(){return jO}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ug(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Gh(e)?"-0":e}}function Tw(r){return{integerValue:""+r}}function qO(r,e){return pO(e)?Tw(e):ug(r,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tf{constructor(){this._=void 0}}function FO(r,e,t){return r instanceof Xh?function(o,u){const h={fields:{[iw]:{stringValue:rw},[aw]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&ig(u)&&(u=_f(u)),u&&(h.fields[sw]=u),{mapValue:h}}(t,e):r instanceof Cu?Sw(r,e):r instanceof Iu?Aw(r,e):function(o,u){const h=ww(o,u),d=Ab(h)+Ab(o.Ee);return gp(h)&&gp(o.Ee)?Tw(d):ug(o.serializer,d)}(r,e)}function HO(r,e,t){return r instanceof Cu?Sw(r,e):r instanceof Iu?Aw(r,e):t}function ww(r,e){return r instanceof Wh?function(s){return gp(s)||function(u){return!!u&&"doubleValue"in u}(s)}(e)?e:{integerValue:0}:null}class Xh extends Tf{}class Cu extends Tf{constructor(e){super(),this.elements=e}}function Sw(r,e){const t=Rw(e);for(const s of r.elements)t.some(o=>Kr(o,s))||t.push(s);return{arrayValue:{values:t}}}class Iu extends Tf{constructor(e){super(),this.elements=e}}function Aw(r,e){let t=Rw(e);for(const s of r.elements)t=t.filter(o=>!Kr(o,s));return{arrayValue:{values:t}}}class Wh extends Tf{constructor(e,t){super(),this.serializer=e,this.Ee=t}}function Ab(r){return kt(r.integerValue||r.doubleValue)}function Rw(r){return sg(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}function GO(r,e){return r.field.isEqual(e.field)&&function(s,o){return s instanceof Cu&&o instanceof Cu||s instanceof Iu&&o instanceof Iu?zo(s.elements,o.elements,Kr):s instanceof Wh&&o instanceof Wh?Kr(s.Ee,o.Ee):s instanceof Xh&&o instanceof Xh}(r.transform,e.transform)}class KO{constructor(e,t){this.version=e,this.transformResults=t}}class yr{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new yr}static exists(e){return new yr(void 0,e)}static updateTime(e){return new yr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Oh(r,e){return r.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(r.updateTime):r.exists===void 0||r.exists===e.isFoundDocument()}class wf{}function Cw(r,e){if(!r.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return r.isNoDocument()?new cg(r.key,yr.none()):new Bu(r.key,r.data,yr.none());{const t=r.data,s=rr.empty();let o=new $t(cn.comparator);for(let u of e.fields)if(!o.has(u)){let h=t.field(u);h===null&&u.length>1&&(u=u.popLast(),h=t.field(u)),h===null?s.delete(u):s.set(u,h),o=o.add(u)}return new ka(r.key,s,new pr(o.toArray()),yr.none())}}function QO(r,e,t){r instanceof Bu?function(o,u,h){const d=o.value.clone(),p=Cb(o.fieldTransforms,u,h.transformResults);d.setAll(p),u.convertToFoundDocument(h.version,d).setHasCommittedMutations()}(r,e,t):r instanceof ka?function(o,u,h){if(!Oh(o.precondition,u))return void u.convertToUnknownDocument(h.version);const d=Cb(o.fieldTransforms,u,h.transformResults),p=u.data;p.setAll(Iw(o)),p.setAll(d),u.convertToFoundDocument(h.version,p).setHasCommittedMutations()}(r,e,t):function(o,u,h){u.convertToNoDocument(h.version).setHasCommittedMutations()}(0,e,t)}function gu(r,e,t,s){return r instanceof Bu?function(u,h,d,p){if(!Oh(u.precondition,h))return d;const g=u.value.clone(),_=Ib(u.fieldTransforms,p,h);return g.setAll(_),h.convertToFoundDocument(h.version,g).setHasLocalMutations(),null}(r,e,t,s):r instanceof ka?function(u,h,d,p){if(!Oh(u.precondition,h))return d;const g=Ib(u.fieldTransforms,p,h),_=h.data;return _.setAll(Iw(u)),_.setAll(g),h.convertToFoundDocument(h.version,_).setHasLocalMutations(),d===null?null:d.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map(v=>v.field))}(r,e,t,s):function(u,h,d){return Oh(u.precondition,h)?(h.convertToNoDocument(h.version).setHasLocalMutations(),null):d}(r,e,t)}function $O(r,e){let t=null;for(const s of r.fieldTransforms){const o=e.data.field(s.field),u=ww(s.transform,o||null);u!=null&&(t===null&&(t=rr.empty()),t.set(s.field,u))}return t||null}function Rb(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&!!function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&zo(s,o,(u,h)=>GO(u,h))}(r.fieldTransforms,e.fieldTransforms)&&(r.type===0?r.value.isEqual(e.value):r.type!==1||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask))}class Bu extends wf{constructor(e,t,s,o=[]){super(),this.key=e,this.value=t,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class ka extends wf{constructor(e,t,s,o,u=[]){super(),this.key=e,this.data=t,this.fieldMask=s,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function Iw(r){const e=new Map;return r.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const s=r.data.field(t);e.set(t,s)}}),e}function Cb(r,e,t){const s=new Map;it(r.length===t.length,32656,{Ae:t.length,Re:r.length});for(let o=0;o<t.length;o++){const u=r[o],h=u.transform,d=e.data.field(u.field);s.set(u.field,HO(h,d,t[o]))}return s}function Ib(r,e,t){const s=new Map;for(const o of r){const u=o.transform,h=t.data.field(o.field);s.set(o.field,FO(u,h,e))}return s}class cg extends wf{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class YO extends wf{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XO{constructor(e,t,s,o){this.batchId=e,this.localWriteTime=t,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(e,t){const s=t.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(e.key)&&QO(u,e,s[o])}}applyToLocalView(e,t){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(t=gu(s,e,t,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(t=gu(s,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const s=Ew();return this.mutations.forEach(o=>{const u=e.get(o.key),h=u.overlayedDocument;let d=this.applyToLocalView(h,u.mutatedFields);d=t.has(o.key)?null:d;const p=Cw(h,d);p!==null&&s.set(o.key,p),h.isValidDocument()||h.convertToNoDocument(ke.min())}),s}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Ke())}isEqual(e){return this.batchId===e.batchId&&zo(this.mutations,e.mutations,(t,s)=>Rb(t,s))&&zo(this.baseMutations,e.baseMutations,(t,s)=>Rb(t,s))}}class hg{constructor(e,t,s,o){this.batch=e,this.commitVersion=t,this.mutationResults=s,this.docVersions=o}static from(e,t,s){it(e.mutations.length===s.length,58842,{Ve:e.mutations.length,me:s.length});let o=function(){return UO}();const u=e.mutations;for(let h=0;h<u.length;h++)o=o.insert(u[h].key,s[h].version);return new hg(e,t,s,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WO{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZO{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var zt,Ze;function JO(r){switch(r){case se.OK:return De(64938);case se.CANCELLED:case se.UNKNOWN:case se.DEADLINE_EXCEEDED:case se.RESOURCE_EXHAUSTED:case se.INTERNAL:case se.UNAVAILABLE:case se.UNAUTHENTICATED:return!1;case se.INVALID_ARGUMENT:case se.NOT_FOUND:case se.ALREADY_EXISTS:case se.PERMISSION_DENIED:case se.FAILED_PRECONDITION:case se.ABORTED:case se.OUT_OF_RANGE:case se.UNIMPLEMENTED:case se.DATA_LOSS:return!0;default:return De(15467,{code:r})}}function xw(r){if(r===void 0)return Li("GRPC error has no .code"),se.UNKNOWN;switch(r){case zt.OK:return se.OK;case zt.CANCELLED:return se.CANCELLED;case zt.UNKNOWN:return se.UNKNOWN;case zt.DEADLINE_EXCEEDED:return se.DEADLINE_EXCEEDED;case zt.RESOURCE_EXHAUSTED:return se.RESOURCE_EXHAUSTED;case zt.INTERNAL:return se.INTERNAL;case zt.UNAVAILABLE:return se.UNAVAILABLE;case zt.UNAUTHENTICATED:return se.UNAUTHENTICATED;case zt.INVALID_ARGUMENT:return se.INVALID_ARGUMENT;case zt.NOT_FOUND:return se.NOT_FOUND;case zt.ALREADY_EXISTS:return se.ALREADY_EXISTS;case zt.PERMISSION_DENIED:return se.PERMISSION_DENIED;case zt.FAILED_PRECONDITION:return se.FAILED_PRECONDITION;case zt.ABORTED:return se.ABORTED;case zt.OUT_OF_RANGE:return se.OUT_OF_RANGE;case zt.UNIMPLEMENTED:return se.UNIMPLEMENTED;case zt.DATA_LOSS:return se.DATA_LOSS;default:return De(39323,{code:r})}}(Ze=zt||(zt={}))[Ze.OK=0]="OK",Ze[Ze.CANCELLED=1]="CANCELLED",Ze[Ze.UNKNOWN=2]="UNKNOWN",Ze[Ze.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ze[Ze.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ze[Ze.NOT_FOUND=5]="NOT_FOUND",Ze[Ze.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ze[Ze.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ze[Ze.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ze[Ze.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ze[Ze.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ze[Ze.ABORTED=10]="ABORTED",Ze[Ze.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ze[Ze.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ze[Ze.INTERNAL=13]="INTERNAL",Ze[Ze.UNAVAILABLE=14]="UNAVAILABLE",Ze[Ze.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ek=new Ts([4294967295,4294967295],0);function xb(r){const e=WT().encode(r),t=new FT;return t.update(e),new Uint8Array(t.digest())}function Db(r){const e=new DataView(r.buffer),t=e.getUint32(0,!0),s=e.getUint32(4,!0),o=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new Ts([t,s],0),new Ts([o,u],0)]}class fg{constructor(e,t,s){if(this.bitmap=e,this.padding=t,this.hashCount=s,t<0||t>=8)throw new uu(`Invalid padding: ${t}`);if(s<0)throw new uu(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new uu(`Invalid hash count: ${s}`);if(e.length===0&&t!==0)throw new uu(`Invalid padding when bitmap length is 0: ${t}`);this.fe=8*e.length-t,this.ge=Ts.fromNumber(this.fe)}pe(e,t,s){let o=e.add(t.multiply(Ts.fromNumber(s)));return o.compare(ek)===1&&(o=new Ts([o.getBits(0),o.getBits(1)],0)),o.modulo(this.ge).toNumber()}ye(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.fe===0)return!1;const t=xb(e),[s,o]=Db(t);for(let u=0;u<this.hashCount;u++){const h=this.pe(s,o,u);if(!this.ye(h))return!1}return!0}static create(e,t,s){const o=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),h=new fg(u,o,t);return s.forEach(d=>h.insert(d)),h}insert(e){if(this.fe===0)return;const t=xb(e),[s,o]=Db(t);for(let u=0;u<this.hashCount;u++){const h=this.pe(s,o,u);this.we(h)}}we(e){const t=Math.floor(e/8),s=e%8;this.bitmap[t]|=1<<s}}class uu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sf{constructor(e,t,s,o,u){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,t,s){const o=new Map;return o.set(e,qu.createSynthesizedTargetChangeForCurrentChange(e,t,s)),new Sf(ke.min(),o,new At(ze),Ui(),Ke())}}class qu{constructor(e,t,s,o,u){this.resumeToken=e,this.current=t,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,t,s){return new qu(s,t,Ke(),Ke(),Ke())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kh{constructor(e,t,s,o){this.Se=e,this.removedTargetIds=t,this.key=s,this.be=o}}class Dw{constructor(e,t){this.targetId=e,this.De=t}}class Nw{constructor(e,t,s=fn.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=t,this.resumeToken=s,this.cause=o}}class Nb{constructor(){this.ve=0,this.Ce=Ob(),this.Fe=fn.EMPTY_BYTE_STRING,this.Me=!1,this.xe=!0}get current(){return this.Me}get resumeToken(){return this.Fe}get Oe(){return this.ve!==0}get Ne(){return this.xe}Be(e){e.approximateByteSize()>0&&(this.xe=!0,this.Fe=e)}Le(){let e=Ke(),t=Ke(),s=Ke();return this.Ce.forEach((o,u)=>{switch(u){case 0:e=e.add(o);break;case 2:t=t.add(o);break;case 1:s=s.add(o);break;default:De(38017,{changeType:u})}}),new qu(this.Fe,this.Me,e,t,s)}ke(){this.xe=!1,this.Ce=Ob()}qe(e,t){this.xe=!0,this.Ce=this.Ce.insert(e,t)}Qe(e){this.xe=!0,this.Ce=this.Ce.remove(e)}$e(){this.ve+=1}Ue(){this.ve-=1,it(this.ve>=0,3241,{ve:this.ve})}Ke(){this.xe=!0,this.Me=!0}}class tk{constructor(e){this.We=e,this.Ge=new Map,this.ze=Ui(),this.je=bh(),this.Je=bh(),this.He=new At(ze)}Ye(e){for(const t of e.Se)e.be&&e.be.isFoundDocument()?this.Ze(t,e.be):this.Xe(t,e.key,e.be);for(const t of e.removedTargetIds)this.Xe(t,e.key,e.be)}et(e){this.forEachTarget(e,t=>{const s=this.tt(t);switch(e.state){case 0:this.nt(t)&&s.Be(e.resumeToken);break;case 1:s.Ue(),s.Oe||s.ke(),s.Be(e.resumeToken);break;case 2:s.Ue(),s.Oe||this.removeTarget(t);break;case 3:this.nt(t)&&(s.Ke(),s.Be(e.resumeToken));break;case 4:this.nt(t)&&(this.rt(t),s.Be(e.resumeToken));break;default:De(56790,{state:e.state})}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Ge.forEach((s,o)=>{this.nt(o)&&t(o)})}it(e){const t=e.targetId,s=e.De.count,o=this.st(t);if(o){const u=o.target;if(vp(u))if(s===0){const h=new Te(u.path);this.Xe(t,h,vn.newNoDocument(h,ke.min()))}else it(s===1,20013,{expectedCount:s});else{const h=this.ot(t);if(h!==s){const d=this._t(e),p=d?this.ut(d,e,h):1;if(p!==0){this.rt(t);const g=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.He=this.He.insert(t,g)}}}}}_t(e){const t=e.De.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:u=0}=t;let h,d;try{h=xs(s).toUint8Array()}catch(p){if(p instanceof nw)return Rs("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{d=new fg(h,o,u)}catch(p){return Rs(p instanceof uu?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return d.fe===0?null:d}ut(e,t,s){return t.De.count===s-this.ht(e,t.targetId)?0:2}ht(e,t){const s=this.We.getRemoteKeysForTarget(t);let o=0;return s.forEach(u=>{const h=this.We.lt(),d=`projects/${h.projectId}/databases/${h.database}/documents/${u.path.canonicalString()}`;e.mightContain(d)||(this.Xe(t,u,null),o++)}),o}Pt(e){const t=new Map;this.Ge.forEach((u,h)=>{const d=this.st(h);if(d){if(u.current&&vp(d.target)){const p=new Te(d.target.path);this.Tt(p).has(h)||this.It(h,p)||this.Xe(h,p,vn.newNoDocument(p,e))}u.Ne&&(t.set(h,u.Le()),u.ke())}});let s=Ke();this.Je.forEach((u,h)=>{let d=!0;h.forEachWhile(p=>{const g=this.st(p);return!g||g.purpose==="TargetPurposeLimboResolution"||(d=!1,!1)}),d&&(s=s.add(u))}),this.ze.forEach((u,h)=>h.setReadTime(e));const o=new Sf(e,t,this.He,this.ze,s);return this.ze=Ui(),this.je=bh(),this.Je=bh(),this.He=new At(ze),o}Ze(e,t){if(!this.nt(e))return;const s=this.It(e,t.key)?2:0;this.tt(e).qe(t.key,s),this.ze=this.ze.insert(t.key,t),this.je=this.je.insert(t.key,this.Tt(t.key).add(e)),this.Je=this.Je.insert(t.key,this.dt(t.key).add(e))}Xe(e,t,s){if(!this.nt(e))return;const o=this.tt(e);this.It(e,t)?o.qe(t,1):o.Qe(t),this.Je=this.Je.insert(t,this.dt(t).delete(e)),this.Je=this.Je.insert(t,this.dt(t).add(e)),s&&(this.ze=this.ze.insert(t,s))}removeTarget(e){this.Ge.delete(e)}ot(e){const t=this.tt(e).Le();return this.We.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}$e(e){this.tt(e).$e()}tt(e){let t=this.Ge.get(e);return t||(t=new Nb,this.Ge.set(e,t)),t}dt(e){let t=this.Je.get(e);return t||(t=new $t(ze),this.Je=this.Je.insert(e,t)),t}Tt(e){let t=this.je.get(e);return t||(t=new $t(ze),this.je=this.je.insert(e,t)),t}nt(e){const t=this.st(e)!==null;return t||pe("WatchChangeAggregator","Detected inactive target",e),t}st(e){const t=this.Ge.get(e);return t&&t.Oe?null:this.We.Et(e)}rt(e){this.Ge.set(e,new Nb),this.We.getRemoteKeysForTarget(e).forEach(t=>{this.Xe(e,t,null)})}It(e,t){return this.We.getRemoteKeysForTarget(e).has(t)}}function bh(){return new At(Te.comparator)}function Ob(){return new At(Te.comparator)}const nk={asc:"ASCENDING",desc:"DESCENDING"},rk={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},ik={and:"AND",or:"OR"};class sk{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function Ep(r,e){return r.useProto3Json||vf(e)?e:{value:e}}function Zh(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Ow(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function ak(r,e){return Zh(r,e.toTimestamp())}function qr(r){return it(!!r,49232),ke.fromTimestamp(function(t){const s=Is(t);return new pt(s.seconds,s.nanos)}(r))}function dg(r,e){return Tp(r,e).canonicalString()}function Tp(r,e){const t=function(o){return new mt(["projects",o.projectId,"databases",o.database])}(r).child("documents");return e===void 0?t:t.child(e)}function kw(r){const e=mt.fromString(r);return it(Uw(e),10190,{key:e.toString()}),e}function wp(r,e){return dg(r.databaseId,e.path)}function Hm(r,e){const t=kw(e);if(t.get(1)!==r.databaseId.projectId)throw new ge(se.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+r.databaseId.projectId);if(t.get(3)!==r.databaseId.database)throw new ge(se.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+r.databaseId.database);return new Te(Pw(t))}function Mw(r,e){return dg(r.databaseId,e)}function ok(r){const e=kw(r);return e.length===4?mt.emptyPath():Pw(e)}function Sp(r){return new mt(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function Pw(r){return it(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function kb(r,e,t){return{name:wp(r,e),fields:t.value.mapValue.fields}}function lk(r,e){let t;if("targetChange"in e){e.targetChange;const s=function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:De(39313,{state:g})}(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],u=function(g,_){return g.useProto3Json?(it(_===void 0||typeof _=="string",58123),fn.fromBase64String(_||"")):(it(_===void 0||_ instanceof Buffer||_ instanceof Uint8Array,16193),fn.fromUint8Array(_||new Uint8Array))}(r,e.targetChange.resumeToken),h=e.targetChange.cause,d=h&&function(g){const _=g.code===void 0?se.UNKNOWN:xw(g.code);return new ge(_,g.message||"")}(h);t=new Nw(s,o,u,d||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const o=Hm(r,s.document.name),u=qr(s.document.updateTime),h=s.document.createTime?qr(s.document.createTime):ke.min(),d=new rr({mapValue:{fields:s.document.fields}}),p=vn.newFoundDocument(o,u,h,d),g=s.targetIds||[],_=s.removedTargetIds||[];t=new kh(g,_,p.key,p)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const o=Hm(r,s.document),u=s.readTime?qr(s.readTime):ke.min(),h=vn.newNoDocument(o,u),d=s.removedTargetIds||[];t=new kh([],d,h.key,h)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const o=Hm(r,s.document),u=s.removedTargetIds||[];t=new kh([],u,o,null)}else{if(!("filter"in e))return De(11601,{At:e});{e.filter;const s=e.filter;s.targetId;const{count:o=0,unchangedNames:u}=s,h=new ZO(o,u),d=s.targetId;t=new Dw(d,h)}}return t}function uk(r,e){let t;if(e instanceof Bu)t={update:kb(r,e.key,e.value)};else if(e instanceof cg)t={delete:wp(r,e.key)};else if(e instanceof ka)t={update:kb(r,e.key,e.data),updateMask:vk(e.fieldMask)};else{if(!(e instanceof YO))return De(16599,{Rt:e.type});t={verify:wp(r,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(s=>function(u,h){const d=h.transform;if(d instanceof Xh)return{fieldPath:h.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(d instanceof Cu)return{fieldPath:h.field.canonicalString(),appendMissingElements:{values:d.elements}};if(d instanceof Iu)return{fieldPath:h.field.canonicalString(),removeAllFromArray:{values:d.elements}};if(d instanceof Wh)return{fieldPath:h.field.canonicalString(),increment:d.Ee};throw De(20930,{transform:h.transform})}(0,s))),e.precondition.isNone||(t.currentDocument=function(o,u){return u.updateTime!==void 0?{updateTime:ak(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:De(27497)}(r,e.precondition)),t}function ck(r,e){return r&&r.length>0?(it(e!==void 0,14353),r.map(t=>function(o,u){let h=o.updateTime?qr(o.updateTime):qr(u);return h.isEqual(ke.min())&&(h=qr(u)),new KO(h,o.transformResults||[])}(t,e))):[]}function hk(r,e){return{documents:[Mw(r,e.path)]}}function fk(r,e){const t={structuredQuery:{}},s=e.path;let o;e.collectionGroup!==null?(o=s,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=s.popLast(),t.structuredQuery.from=[{collectionId:s.lastSegment()}]),t.parent=Mw(r,o);const u=function(g){if(g.length!==0)return Lw(_r.create(g,"and"))}(e.filters);u&&(t.structuredQuery.where=u);const h=function(g){if(g.length!==0)return g.map(_=>function(T){return{field:No(T.field),direction:pk(T.dir)}}(_))}(e.orderBy);h&&(t.structuredQuery.orderBy=h);const d=Ep(r,e.limit);return d!==null&&(t.structuredQuery.limit=d),e.startAt&&(t.structuredQuery.startAt=function(g){return{before:g.inclusive,values:g.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(g){return{before:!g.inclusive,values:g.position}}(e.endAt)),{Vt:t,parent:o}}function dk(r){let e=ok(r.parent);const t=r.structuredQuery,s=t.from?t.from.length:0;let o=null;if(s>0){it(s===1,65062);const _=t.from[0];_.allDescendants?o=_.collectionId:e=e.child(_.collectionId)}let u=[];t.where&&(u=function(v){const T=Vw(v);return T instanceof _r&&fw(T)?T.getFilters():[T]}(t.where));let h=[];t.orderBy&&(h=function(v){return v.map(T=>function(C){return new Yh(Oo(C.field),function(x){switch(x){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(C.direction))}(T))}(t.orderBy));let d=null;t.limit&&(d=function(v){let T;return T=typeof v=="object"?v.value:v,vf(T)?null:T}(t.limit));let p=null;t.startAt&&(p=function(v){const T=!!v.before,I=v.values||[];return new $h(I,T)}(t.startAt));let g=null;return t.endAt&&(g=function(v){const T=!v.before,I=v.values||[];return new $h(I,T)}(t.endAt)),kO(e,o,h,u,d,"F",p,g)}function mk(r,e){const t=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return De(28987,{purpose:o})}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function Vw(r){return r.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const s=Oo(t.unaryFilter.field);return jt.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=Oo(t.unaryFilter.field);return jt.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=Oo(t.unaryFilter.field);return jt.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const h=Oo(t.unaryFilter.field);return jt.create(h,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return De(61313);default:return De(60726)}}(r):r.fieldFilter!==void 0?function(t){return jt.create(Oo(t.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return De(58110);default:return De(50506)}}(t.fieldFilter.op),t.fieldFilter.value)}(r):r.compositeFilter!==void 0?function(t){return _r.create(t.compositeFilter.filters.map(s=>Vw(s)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return De(1026)}}(t.compositeFilter.op))}(r):De(30097,{filter:r})}function pk(r){return nk[r]}function gk(r){return rk[r]}function yk(r){return ik[r]}function No(r){return{fieldPath:r.canonicalString()}}function Oo(r){return cn.fromServerFormat(r.fieldPath)}function Lw(r){return r instanceof jt?function(t){if(t.op==="=="){if(bb(t.value))return{unaryFilter:{field:No(t.field),op:"IS_NAN"}};if(_b(t.value))return{unaryFilter:{field:No(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(bb(t.value))return{unaryFilter:{field:No(t.field),op:"IS_NOT_NAN"}};if(_b(t.value))return{unaryFilter:{field:No(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:No(t.field),op:gk(t.op),value:t.value}}}(r):r instanceof _r?function(t){const s=t.getFilters().map(o=>Lw(o));return s.length===1?s[0]:{compositeFilter:{op:yk(t.op),filters:s}}}(r):De(54877,{filter:r})}function vk(r){const e=[];return r.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function Uw(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _s{constructor(e,t,s,o,u=ke.min(),h=ke.min(),d=fn.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=t,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=h,this.resumeToken=d,this.expectedCount=p}withSequenceNumber(e){return new _s(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new _s(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new _s(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new _s(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _k{constructor(e){this.gt=e}}function bk(r){const e=dk({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?bp(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ek{constructor(){this.Dn=new Tk}addToCollectionParentIndex(e,t){return this.Dn.add(t),ae.resolve()}getCollectionParents(e,t){return ae.resolve(this.Dn.getEntries(t))}addFieldIndex(e,t){return ae.resolve()}deleteFieldIndex(e,t){return ae.resolve()}deleteAllFieldIndexes(e){return ae.resolve()}createTargetIndexes(e,t){return ae.resolve()}getDocumentsMatchingTarget(e,t){return ae.resolve(null)}getIndexType(e,t){return ae.resolve(0)}getFieldIndexes(e,t){return ae.resolve([])}getNextCollectionGroupToUpdate(e){return ae.resolve(null)}getMinOffset(e,t){return ae.resolve(Cs.min())}getMinOffsetFromCollectionGroup(e,t){return ae.resolve(Cs.min())}updateCollectionGroup(e,t,s){return ae.resolve()}updateIndexEntries(e,t){return ae.resolve()}}class Tk{constructor(){this.index={}}add(e){const t=e.lastSegment(),s=e.popLast(),o=this.index[t]||new $t(mt.comparator),u=!o.has(s);return this.index[t]=o.add(s),u}has(e){const t=e.lastSegment(),s=e.popLast(),o=this.index[t];return o&&o.has(s)}getEntries(e){return(this.index[e]||new $t(mt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mb={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},zw=41943040;class kn{static withCacheSize(e){return new kn(e,kn.DEFAULT_COLLECTION_PERCENTILE,kn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */kn.DEFAULT_COLLECTION_PERCENTILE=10,kn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,kn.DEFAULT=new kn(zw,kn.DEFAULT_COLLECTION_PERCENTILE,kn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),kn.DISABLED=new kn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qo{constructor(e){this._r=e}next(){return this._r+=2,this._r}static ar(){return new qo(0)}static ur(){return new qo(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pb="LruGarbageCollector",wk=1048576;function Vb([r,e],[t,s]){const o=ze(r,t);return o===0?ze(e,s):o}class Sk{constructor(e){this.Tr=e,this.buffer=new $t(Vb),this.Ir=0}dr(){return++this.Ir}Er(e){const t=[e,this.dr()];if(this.buffer.size<this.Tr)this.buffer=this.buffer.add(t);else{const s=this.buffer.last();Vb(t,s)<0&&(this.buffer=this.buffer.delete(s).add(t))}}get maxValue(){return this.buffer.last()[0]}}class Ak{constructor(e,t,s){this.garbageCollector=e,this.asyncQueue=t,this.localStore=s,this.Ar=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Rr(6e4)}stop(){this.Ar&&(this.Ar.cancel(),this.Ar=null)}get started(){return this.Ar!==null}Rr(e){pe(Pb,`Garbage collection scheduled in ${e}ms`),this.Ar=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Ar=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){Zo(t)?pe(Pb,"Ignoring IndexedDB error during garbage collection: ",t):await Wo(t)}await this.Rr(3e5)})}}class Rk{constructor(e,t){this.Vr=e,this.params=t}calculateTargetCount(e,t){return this.Vr.mr(e).next(s=>Math.floor(t/100*s))}nthSequenceNumber(e,t){if(t===0)return ae.resolve(yf.ue);const s=new Sk(t);return this.Vr.forEachTarget(e,o=>s.Er(o.sequenceNumber)).next(()=>this.Vr.gr(e,o=>s.Er(o))).next(()=>s.maxValue)}removeTargets(e,t,s){return this.Vr.removeTargets(e,t,s)}removeOrphanedDocuments(e,t){return this.Vr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(pe("LruGarbageCollector","Garbage collection skipped; disabled"),ae.resolve(Mb)):this.getCacheSize(e).next(s=>s<this.params.cacheSizeCollectionThreshold?(pe("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Mb):this.pr(e,t))}getCacheSize(e){return this.Vr.getCacheSize(e)}pr(e,t){let s,o,u,h,d,p,g;const _=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(v=>(v>this.params.maximumSequenceNumbersToCollect?(pe("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${v}`),o=this.params.maximumSequenceNumbersToCollect):o=v,h=Date.now(),this.nthSequenceNumber(e,o))).next(v=>(s=v,d=Date.now(),this.removeTargets(e,s,t))).next(v=>(u=v,p=Date.now(),this.removeOrphanedDocuments(e,s))).next(v=>(g=Date.now(),xo()<=Ge.DEBUG&&pe("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${h-_}ms
	Determined least recently used ${o} in `+(d-h)+`ms
	Removed ${u} targets in `+(p-d)+`ms
	Removed ${v} documents in `+(g-p)+`ms
Total Duration: ${g-_}ms`),ae.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:v})))}}function Ck(r,e){return new Rk(r,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ik{constructor(){this.changes=new Oa(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,vn.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const s=this.changes.get(t);return s!==void 0?ae.resolve(s):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xk{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dk{constructor(e,t,s,o){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=s,this.indexManager=o}getDocument(e,t){let s=null;return this.documentOverlayCache.getOverlay(e,t).next(o=>(s=o,this.remoteDocumentCache.getEntry(e,t))).next(o=>(s!==null&&gu(s.mutation,o,pr.empty(),pt.now()),o))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(s=>this.getLocalViewOfDocuments(e,s,Ke()).next(()=>s))}getLocalViewOfDocuments(e,t,s=Ke()){const o=ga();return this.populateOverlays(e,o,t).next(()=>this.computeViews(e,t,o,s).next(u=>{let h=lu();return u.forEach((d,p)=>{h=h.insert(d,p.overlayedDocument)}),h}))}getOverlayedDocuments(e,t){const s=ga();return this.populateOverlays(e,s,t).next(()=>this.computeViews(e,t,s,Ke()))}populateOverlays(e,t,s){const o=[];return s.forEach(u=>{t.has(u)||o.push(u)}),this.documentOverlayCache.getOverlays(e,o).next(u=>{u.forEach((h,d)=>{t.set(h,d)})})}computeViews(e,t,s,o){let u=Ui();const h=pu(),d=function(){return pu()}();return t.forEach((p,g)=>{const _=s.get(g.key);o.has(g.key)&&(_===void 0||_.mutation instanceof ka)?u=u.insert(g.key,g):_!==void 0?(h.set(g.key,_.mutation.getFieldMask()),gu(_.mutation,g,_.mutation.getFieldMask(),pt.now())):h.set(g.key,pr.empty())}),this.recalculateAndSaveOverlays(e,u).next(p=>(p.forEach((g,_)=>h.set(g,_)),t.forEach((g,_)=>{var v;return d.set(g,new xk(_,(v=h.get(g))!==null&&v!==void 0?v:null))}),d))}recalculateAndSaveOverlays(e,t){const s=pu();let o=new At((h,d)=>h-d),u=Ke();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(h=>{for(const d of h)d.keys().forEach(p=>{const g=t.get(p);if(g===null)return;let _=s.get(p)||pr.empty();_=d.applyToLocalView(g,_),s.set(p,_);const v=(o.get(d.batchId)||Ke()).add(p);o=o.insert(d.batchId,v)})}).next(()=>{const h=[],d=o.getReverseIterator();for(;d.hasNext();){const p=d.getNext(),g=p.key,_=p.value,v=Ew();_.forEach(T=>{if(!u.has(T)){const I=Cw(t.get(T),s.get(T));I!==null&&v.set(T,I),u=u.add(T)}}),h.push(this.documentOverlayCache.saveOverlays(e,g,v))}return ae.waitFor(h)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(s=>this.recalculateAndSaveOverlays(e,s))}getDocumentsMatchingQuery(e,t,s,o){return function(h){return Te.isDocumentKey(h.path)&&h.collectionGroup===null&&h.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):gw(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,s,o):this.getDocumentsMatchingCollectionQuery(e,t,s,o)}getNextDocuments(e,t,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,s,o).next(u=>{const h=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,s.largestBatchId,o-u.size):ae.resolve(ga());let d=wu,p=u;return h.next(g=>ae.forEach(g,(_,v)=>(d<v.largestBatchId&&(d=v.largestBatchId),u.get(_)?ae.resolve():this.remoteDocumentCache.getEntry(e,_).next(T=>{p=p.insert(_,T)}))).next(()=>this.populateOverlays(e,g,u)).next(()=>this.computeViews(e,p,g,Ke())).next(_=>({batchId:d,changes:bw(_)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Te(t)).next(s=>{let o=lu();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o})}getDocumentsMatchingCollectionGroupQuery(e,t,s,o){const u=t.collectionGroup;let h=lu();return this.indexManager.getCollectionParents(e,u).next(d=>ae.forEach(d,p=>{const g=function(v,T){return new ju(T,null,v.explicitOrderBy.slice(),v.filters.slice(),v.limit,v.limitType,v.startAt,v.endAt)}(t,p.child(u));return this.getDocumentsMatchingCollectionQuery(e,g,s,o).next(_=>{_.forEach((v,T)=>{h=h.insert(v,T)})})}).next(()=>h))}getDocumentsMatchingCollectionQuery(e,t,s,o){let u;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,s.largestBatchId).next(h=>(u=h,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,s,u,o))).next(h=>{u.forEach((p,g)=>{const _=g.getKey();h.get(_)===null&&(h=h.insert(_,vn.newInvalidDocument(_)))});let d=lu();return h.forEach((p,g)=>{const _=u.get(p);_!==void 0&&gu(_.mutation,g,pr.empty(),pt.now()),Ef(t,g)&&(d=d.insert(p,g))}),d})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nk{constructor(e){this.serializer=e,this.Br=new Map,this.Lr=new Map}getBundleMetadata(e,t){return ae.resolve(this.Br.get(t))}saveBundleMetadata(e,t){return this.Br.set(t.id,function(o){return{id:o.id,version:o.version,createTime:qr(o.createTime)}}(t)),ae.resolve()}getNamedQuery(e,t){return ae.resolve(this.Lr.get(t))}saveNamedQuery(e,t){return this.Lr.set(t.name,function(o){return{name:o.name,query:bk(o.bundledQuery),readTime:qr(o.readTime)}}(t)),ae.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ok{constructor(){this.overlays=new At(Te.comparator),this.kr=new Map}getOverlay(e,t){return ae.resolve(this.overlays.get(t))}getOverlays(e,t){const s=ga();return ae.forEach(t,o=>this.getOverlay(e,o).next(u=>{u!==null&&s.set(o,u)})).next(()=>s)}saveOverlays(e,t,s){return s.forEach((o,u)=>{this.wt(e,t,u)}),ae.resolve()}removeOverlaysForBatchId(e,t,s){const o=this.kr.get(s);return o!==void 0&&(o.forEach(u=>this.overlays=this.overlays.remove(u)),this.kr.delete(s)),ae.resolve()}getOverlaysForCollection(e,t,s){const o=ga(),u=t.length+1,h=new Te(t.child("")),d=this.overlays.getIteratorFrom(h);for(;d.hasNext();){const p=d.getNext().value,g=p.getKey();if(!t.isPrefixOf(g.path))break;g.path.length===u&&p.largestBatchId>s&&o.set(p.getKey(),p)}return ae.resolve(o)}getOverlaysForCollectionGroup(e,t,s,o){let u=new At((g,_)=>g-_);const h=this.overlays.getIterator();for(;h.hasNext();){const g=h.getNext().value;if(g.getKey().getCollectionGroup()===t&&g.largestBatchId>s){let _=u.get(g.largestBatchId);_===null&&(_=ga(),u=u.insert(g.largestBatchId,_)),_.set(g.getKey(),g)}}const d=ga(),p=u.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach((g,_)=>d.set(g,_)),!(d.size()>=o)););return ae.resolve(d)}wt(e,t,s){const o=this.overlays.get(s.key);if(o!==null){const h=this.kr.get(o.largestBatchId).delete(s.key);this.kr.set(o.largestBatchId,h)}this.overlays=this.overlays.insert(s.key,new WO(t,s));let u=this.kr.get(t);u===void 0&&(u=Ke(),this.kr.set(t,u)),this.kr.set(t,u.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kk{constructor(){this.sessionToken=fn.EMPTY_BYTE_STRING}getSessionToken(e){return ae.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,ae.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mg{constructor(){this.qr=new $t(tn.Qr),this.$r=new $t(tn.Ur)}isEmpty(){return this.qr.isEmpty()}addReference(e,t){const s=new tn(e,t);this.qr=this.qr.add(s),this.$r=this.$r.add(s)}Kr(e,t){e.forEach(s=>this.addReference(s,t))}removeReference(e,t){this.Wr(new tn(e,t))}Gr(e,t){e.forEach(s=>this.removeReference(s,t))}zr(e){const t=new Te(new mt([])),s=new tn(t,e),o=new tn(t,e+1),u=[];return this.$r.forEachInRange([s,o],h=>{this.Wr(h),u.push(h.key)}),u}jr(){this.qr.forEach(e=>this.Wr(e))}Wr(e){this.qr=this.qr.delete(e),this.$r=this.$r.delete(e)}Jr(e){const t=new Te(new mt([])),s=new tn(t,e),o=new tn(t,e+1);let u=Ke();return this.$r.forEachInRange([s,o],h=>{u=u.add(h.key)}),u}containsKey(e){const t=new tn(e,0),s=this.qr.firstAfterOrEqual(t);return s!==null&&e.isEqual(s.key)}}class tn{constructor(e,t){this.key=e,this.Hr=t}static Qr(e,t){return Te.comparator(e.key,t.key)||ze(e.Hr,t.Hr)}static Ur(e,t){return ze(e.Hr,t.Hr)||Te.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mk{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.er=1,this.Yr=new $t(tn.Qr)}checkEmpty(e){return ae.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,s,o){const u=this.er;this.er++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const h=new XO(u,t,s,o);this.mutationQueue.push(h);for(const d of o)this.Yr=this.Yr.add(new tn(d.key,u)),this.indexManager.addToCollectionParentIndex(e,d.key.path.popLast());return ae.resolve(h)}lookupMutationBatch(e,t){return ae.resolve(this.Zr(t))}getNextMutationBatchAfterBatchId(e,t){const s=t+1,o=this.Xr(s),u=o<0?0:o;return ae.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return ae.resolve(this.mutationQueue.length===0?rg:this.er-1)}getAllMutationBatches(e){return ae.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const s=new tn(t,0),o=new tn(t,Number.POSITIVE_INFINITY),u=[];return this.Yr.forEachInRange([s,o],h=>{const d=this.Zr(h.Hr);u.push(d)}),ae.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,t){let s=new $t(ze);return t.forEach(o=>{const u=new tn(o,0),h=new tn(o,Number.POSITIVE_INFINITY);this.Yr.forEachInRange([u,h],d=>{s=s.add(d.Hr)})}),ae.resolve(this.ei(s))}getAllMutationBatchesAffectingQuery(e,t){const s=t.path,o=s.length+1;let u=s;Te.isDocumentKey(u)||(u=u.child(""));const h=new tn(new Te(u),0);let d=new $t(ze);return this.Yr.forEachWhile(p=>{const g=p.key.path;return!!s.isPrefixOf(g)&&(g.length===o&&(d=d.add(p.Hr)),!0)},h),ae.resolve(this.ei(d))}ei(e){const t=[];return e.forEach(s=>{const o=this.Zr(s);o!==null&&t.push(o)}),t}removeMutationBatch(e,t){it(this.ti(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Yr;return ae.forEach(t.mutations,o=>{const u=new tn(o.key,t.batchId);return s=s.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(()=>{this.Yr=s})}rr(e){}containsKey(e,t){const s=new tn(t,0),o=this.Yr.firstAfterOrEqual(s);return ae.resolve(t.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,ae.resolve()}ti(e,t){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const t=this.Xr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pk{constructor(e){this.ni=e,this.docs=function(){return new At(Te.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const s=t.key,o=this.docs.get(s),u=o?o.size:0,h=this.ni(t);return this.docs=this.docs.insert(s,{document:t.mutableCopy(),size:h}),this.size+=h-u,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const s=this.docs.get(t);return ae.resolve(s?s.document.mutableCopy():vn.newInvalidDocument(t))}getEntries(e,t){let s=Ui();return t.forEach(o=>{const u=this.docs.get(o);s=s.insert(o,u?u.document.mutableCopy():vn.newInvalidDocument(o))}),ae.resolve(s)}getDocumentsMatchingQuery(e,t,s,o){let u=Ui();const h=t.path,d=new Te(h.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(d);for(;p.hasNext();){const{key:g,value:{document:_}}=p.getNext();if(!h.isPrefixOf(g.path))break;g.path.length>h.length+1||hO(cO(_),s)<=0||(o.has(_.key)||Ef(t,_))&&(u=u.insert(_.key,_.mutableCopy()))}return ae.resolve(u)}getAllFromCollectionGroup(e,t,s,o){De(9500)}ri(e,t){return ae.forEach(this.docs,s=>t(s))}newChangeBuffer(e){return new Vk(this)}getSize(e){return ae.resolve(this.size)}}class Vk extends Ik{constructor(e){super(),this.Or=e}applyChanges(e){const t=[];return this.changes.forEach((s,o)=>{o.isValidDocument()?t.push(this.Or.addEntry(e,o)):this.Or.removeEntry(s)}),ae.waitFor(t)}getFromCache(e,t){return this.Or.getEntry(e,t)}getAllFromCache(e,t){return this.Or.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lk{constructor(e){this.persistence=e,this.ii=new Oa(t=>ag(t),og),this.lastRemoteSnapshotVersion=ke.min(),this.highestTargetId=0,this.si=0,this.oi=new mg,this.targetCount=0,this._i=qo.ar()}forEachTarget(e,t){return this.ii.forEach((s,o)=>t(o)),ae.resolve()}getLastRemoteSnapshotVersion(e){return ae.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ae.resolve(this.si)}allocateTargetId(e){return this.highestTargetId=this._i.next(),ae.resolve(this.highestTargetId)}setTargetsMetadata(e,t,s){return s&&(this.lastRemoteSnapshotVersion=s),t>this.si&&(this.si=t),ae.resolve()}hr(e){this.ii.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this._i=new qo(t),this.highestTargetId=t),e.sequenceNumber>this.si&&(this.si=e.sequenceNumber)}addTargetData(e,t){return this.hr(t),this.targetCount+=1,ae.resolve()}updateTargetData(e,t){return this.hr(t),ae.resolve()}removeTargetData(e,t){return this.ii.delete(t.target),this.oi.zr(t.targetId),this.targetCount-=1,ae.resolve()}removeTargets(e,t,s){let o=0;const u=[];return this.ii.forEach((h,d)=>{d.sequenceNumber<=t&&s.get(d.targetId)===null&&(this.ii.delete(h),u.push(this.removeMatchingKeysForTargetId(e,d.targetId)),o++)}),ae.waitFor(u).next(()=>o)}getTargetCount(e){return ae.resolve(this.targetCount)}getTargetData(e,t){const s=this.ii.get(t)||null;return ae.resolve(s)}addMatchingKeys(e,t,s){return this.oi.Kr(t,s),ae.resolve()}removeMatchingKeys(e,t,s){this.oi.Gr(t,s);const o=this.persistence.referenceDelegate,u=[];return o&&t.forEach(h=>{u.push(o.markPotentiallyOrphaned(e,h))}),ae.waitFor(u)}removeMatchingKeysForTargetId(e,t){return this.oi.zr(t),ae.resolve()}getMatchingKeysForTargetId(e,t){const s=this.oi.Jr(t);return ae.resolve(s)}containsKey(e,t){return ae.resolve(this.oi.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jw{constructor(e,t){this.ai={},this.overlays={},this.ui=new yf(0),this.ci=!1,this.ci=!0,this.li=new kk,this.referenceDelegate=e(this),this.hi=new Lk(this),this.indexManager=new Ek,this.remoteDocumentCache=function(o){return new Pk(o)}(s=>this.referenceDelegate.Pi(s)),this.serializer=new _k(t),this.Ti=new Nk(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ci=!1,Promise.resolve()}get started(){return this.ci}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new Ok,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let s=this.ai[e.toKey()];return s||(s=new Mk(t,this.referenceDelegate),this.ai[e.toKey()]=s),s}getGlobalsCache(){return this.li}getTargetCache(){return this.hi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ti}runTransaction(e,t,s){pe("MemoryPersistence","Starting transaction:",e);const o=new Uk(this.ui.next());return this.referenceDelegate.Ii(),s(o).next(u=>this.referenceDelegate.di(o).next(()=>u)).toPromise().then(u=>(o.raiseOnCommittedEvent(),u))}Ei(e,t){return ae.or(Object.values(this.ai).map(s=>()=>s.containsKey(e,t)))}}class Uk extends dO{constructor(e){super(),this.currentSequenceNumber=e}}class pg{constructor(e){this.persistence=e,this.Ai=new mg,this.Ri=null}static Vi(e){return new pg(e)}get mi(){if(this.Ri)return this.Ri;throw De(60996)}addReference(e,t,s){return this.Ai.addReference(s,t),this.mi.delete(s.toString()),ae.resolve()}removeReference(e,t,s){return this.Ai.removeReference(s,t),this.mi.add(s.toString()),ae.resolve()}markPotentiallyOrphaned(e,t){return this.mi.add(t.toString()),ae.resolve()}removeTarget(e,t){this.Ai.zr(t.targetId).forEach(o=>this.mi.add(o.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,t.targetId).next(o=>{o.forEach(u=>this.mi.add(u.toString()))}).next(()=>s.removeTargetData(e,t))}Ii(){this.Ri=new Set}di(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ae.forEach(this.mi,s=>{const o=Te.fromPath(s);return this.fi(e,o).next(u=>{u||t.removeEntry(o,ke.min())})}).next(()=>(this.Ri=null,t.apply(e)))}updateLimboDocument(e,t){return this.fi(e,t).next(s=>{s?this.mi.delete(t.toString()):this.mi.add(t.toString())})}Pi(e){return 0}fi(e,t){return ae.or([()=>ae.resolve(this.Ai.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ei(e,t)])}}class Jh{constructor(e,t){this.persistence=e,this.gi=new Oa(s=>gO(s.path),(s,o)=>s.isEqual(o)),this.garbageCollector=Ck(this,t)}static Vi(e,t){return new Jh(e,t)}Ii(){}di(e){return ae.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}mr(e){const t=this.yr(e);return this.persistence.getTargetCache().getTargetCount(e).next(s=>t.next(o=>s+o))}yr(e){let t=0;return this.gr(e,s=>{t++}).next(()=>t)}gr(e,t){return ae.forEach(this.gi,(s,o)=>this.Sr(e,s,o).next(u=>u?ae.resolve():t(o)))}removeTargets(e,t,s){return this.persistence.getTargetCache().removeTargets(e,t,s)}removeOrphanedDocuments(e,t){let s=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.ri(e,h=>this.Sr(e,h,t).next(d=>{d||(s++,u.removeEntry(h,ke.min()))})).next(()=>u.apply(e)).next(()=>s)}markPotentiallyOrphaned(e,t){return this.gi.set(t,e.currentSequenceNumber),ae.resolve()}removeTarget(e,t){const s=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,t,s){return this.gi.set(s,e.currentSequenceNumber),ae.resolve()}removeReference(e,t,s){return this.gi.set(s,e.currentSequenceNumber),ae.resolve()}updateLimboDocument(e,t){return this.gi.set(t,e.currentSequenceNumber),ae.resolve()}Pi(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=Dh(e.data.value)),t}Sr(e,t,s){return ae.or([()=>this.persistence.Ei(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const o=this.gi.get(t);return ae.resolve(o!==void 0&&o>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gg{constructor(e,t,s,o){this.targetId=e,this.fromCache=t,this.Is=s,this.ds=o}static Es(e,t){let s=Ke(),o=Ke();for(const u of t.docChanges)switch(u.type){case 0:s=s.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new gg(e,t.fromCache,s,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zk{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jk{constructor(){this.As=!1,this.Rs=!1,this.Vs=100,this.fs=function(){return vx()?8:mO(_n())>0?6:4}()}initialize(e,t){this.gs=e,this.indexManager=t,this.As=!0}getDocumentsMatchingQuery(e,t,s,o){const u={result:null};return this.ps(e,t).next(h=>{u.result=h}).next(()=>{if(!u.result)return this.ys(e,t,o,s).next(h=>{u.result=h})}).next(()=>{if(u.result)return;const h=new zk;return this.ws(e,t,h).next(d=>{if(u.result=d,this.Rs)return this.Ss(e,t,h,d.size)})}).next(()=>u.result)}Ss(e,t,s,o){return s.documentReadCount<this.Vs?(xo()<=Ge.DEBUG&&pe("QueryEngine","SDK will not create cache indexes for query:",Do(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),ae.resolve()):(xo()<=Ge.DEBUG&&pe("QueryEngine","Query:",Do(t),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.fs*o?(xo()<=Ge.DEBUG&&pe("QueryEngine","The SDK decides to create cache indexes for query:",Do(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Br(t))):ae.resolve())}ps(e,t){if(Sb(t))return ae.resolve(null);let s=Br(t);return this.indexManager.getIndexType(e,s).next(o=>o===0?null:(t.limit!==null&&o===1&&(t=bp(t,null,"F"),s=Br(t)),this.indexManager.getDocumentsMatchingTarget(e,s).next(u=>{const h=Ke(...u);return this.gs.getDocuments(e,h).next(d=>this.indexManager.getMinOffset(e,s).next(p=>{const g=this.bs(t,d);return this.Ds(t,g,h,p.readTime)?this.ps(e,bp(t,null,"F")):this.vs(e,g,t,p)}))})))}ys(e,t,s,o){return Sb(t)||o.isEqual(ke.min())?ae.resolve(null):this.gs.getDocuments(e,s).next(u=>{const h=this.bs(t,u);return this.Ds(t,h,s,o)?ae.resolve(null):(xo()<=Ge.DEBUG&&pe("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Do(t)),this.vs(e,h,t,uO(o,wu)).next(d=>d))})}bs(e,t){let s=new $t(vw(e));return t.forEach((o,u)=>{Ef(e,u)&&(s=s.add(u))}),s}Ds(e,t,s,o){if(e.limit===null)return!1;if(s.size!==t.size)return!0;const u=e.limitType==="F"?t.last():t.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}ws(e,t,s){return xo()<=Ge.DEBUG&&pe("QueryEngine","Using full collection scan to execute query:",Do(t)),this.gs.getDocumentsMatchingQuery(e,t,Cs.min(),s)}vs(e,t,s,o){return this.gs.getDocumentsMatchingQuery(e,s,o).next(u=>(t.forEach(h=>{u=u.insert(h.key,h)}),u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yg="LocalStore",Bk=3e8;class qk{constructor(e,t,s,o){this.persistence=e,this.Cs=t,this.serializer=o,this.Fs=new At(ze),this.Ms=new Oa(u=>ag(u),og),this.xs=new Map,this.Os=e.getRemoteDocumentCache(),this.hi=e.getTargetCache(),this.Ti=e.getBundleCache(),this.Ns(s)}Ns(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Dk(this.Os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Os.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Fs))}}function Fk(r,e,t,s){return new qk(r,e,t,s)}async function Bw(r,e){const t=Me(r);return await t.persistence.runTransaction("Handle user change","readonly",s=>{let o;return t.mutationQueue.getAllMutationBatches(s).next(u=>(o=u,t.Ns(e),t.mutationQueue.getAllMutationBatches(s))).next(u=>{const h=[],d=[];let p=Ke();for(const g of o){h.push(g.batchId);for(const _ of g.mutations)p=p.add(_.key)}for(const g of u){d.push(g.batchId);for(const _ of g.mutations)p=p.add(_.key)}return t.localDocuments.getDocuments(s,p).next(g=>({Bs:g,removedBatchIds:h,addedBatchIds:d}))})})}function Hk(r,e){const t=Me(r);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const o=e.batch.keys(),u=t.Os.newChangeBuffer({trackRemovals:!0});return function(d,p,g,_){const v=g.batch,T=v.keys();let I=ae.resolve();return T.forEach(C=>{I=I.next(()=>_.getEntry(p,C)).next(M=>{const x=g.docVersions.get(C);it(x!==null,48541),M.version.compareTo(x)<0&&(v.applyToRemoteDocument(M,g),M.isValidDocument()&&(M.setReadTime(g.commitVersion),_.addEntry(M)))})}),I.next(()=>d.mutationQueue.removeMutationBatch(p,v))}(t,s,e,u).next(()=>u.apply(s)).next(()=>t.mutationQueue.performConsistencyCheck(s)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(s,o,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(d){let p=Ke();for(let g=0;g<d.mutationResults.length;++g)d.mutationResults[g].transformResults.length>0&&(p=p.add(d.batch.mutations[g].key));return p}(e))).next(()=>t.localDocuments.getDocuments(s,o))})}function qw(r){const e=Me(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.hi.getLastRemoteSnapshotVersion(t))}function Gk(r,e){const t=Me(r),s=e.snapshotVersion;let o=t.Fs;return t.persistence.runTransaction("Apply remote event","readwrite-primary",u=>{const h=t.Os.newChangeBuffer({trackRemovals:!0});o=t.Fs;const d=[];e.targetChanges.forEach((_,v)=>{const T=o.get(v);if(!T)return;d.push(t.hi.removeMatchingKeys(u,_.removedDocuments,v).next(()=>t.hi.addMatchingKeys(u,_.addedDocuments,v)));let I=T.withSequenceNumber(u.currentSequenceNumber);e.targetMismatches.get(v)!==null?I=I.withResumeToken(fn.EMPTY_BYTE_STRING,ke.min()).withLastLimboFreeSnapshotVersion(ke.min()):_.resumeToken.approximateByteSize()>0&&(I=I.withResumeToken(_.resumeToken,s)),o=o.insert(v,I),function(M,x,j){return M.resumeToken.approximateByteSize()===0||x.snapshotVersion.toMicroseconds()-M.snapshotVersion.toMicroseconds()>=Bk?!0:j.addedDocuments.size+j.modifiedDocuments.size+j.removedDocuments.size>0}(T,I,_)&&d.push(t.hi.updateTargetData(u,I))});let p=Ui(),g=Ke();if(e.documentUpdates.forEach(_=>{e.resolvedLimboDocuments.has(_)&&d.push(t.persistence.referenceDelegate.updateLimboDocument(u,_))}),d.push(Kk(u,h,e.documentUpdates).next(_=>{p=_.Ls,g=_.ks})),!s.isEqual(ke.min())){const _=t.hi.getLastRemoteSnapshotVersion(u).next(v=>t.hi.setTargetsMetadata(u,u.currentSequenceNumber,s));d.push(_)}return ae.waitFor(d).next(()=>h.apply(u)).next(()=>t.localDocuments.getLocalViewOfDocuments(u,p,g)).next(()=>p)}).then(u=>(t.Fs=o,u))}function Kk(r,e,t){let s=Ke(),o=Ke();return t.forEach(u=>s=s.add(u)),e.getEntries(r,s).next(u=>{let h=Ui();return t.forEach((d,p)=>{const g=u.get(d);p.isFoundDocument()!==g.isFoundDocument()&&(o=o.add(d)),p.isNoDocument()&&p.version.isEqual(ke.min())?(e.removeEntry(d,p.readTime),h=h.insert(d,p)):!g.isValidDocument()||p.version.compareTo(g.version)>0||p.version.compareTo(g.version)===0&&g.hasPendingWrites?(e.addEntry(p),h=h.insert(d,p)):pe(yg,"Ignoring outdated watch update for ",d,". Current version:",g.version," Watch version:",p.version)}),{Ls:h,ks:o}})}function Qk(r,e){const t=Me(r);return t.persistence.runTransaction("Get next mutation batch","readonly",s=>(e===void 0&&(e=rg),t.mutationQueue.getNextMutationBatchAfterBatchId(s,e)))}function $k(r,e){const t=Me(r);return t.persistence.runTransaction("Allocate target","readwrite",s=>{let o;return t.hi.getTargetData(s,e).next(u=>u?(o=u,ae.resolve(o)):t.hi.allocateTargetId(s).next(h=>(o=new _s(e,h,"TargetPurposeListen",s.currentSequenceNumber),t.hi.addTargetData(s,o).next(()=>o))))}).then(s=>{const o=t.Fs.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(t.Fs=t.Fs.insert(s.targetId,s),t.Ms.set(e,s.targetId)),s})}async function Ap(r,e,t){const s=Me(r),o=s.Fs.get(e),u=t?"readwrite":"readwrite-primary";try{t||await s.persistence.runTransaction("Release target",u,h=>s.persistence.referenceDelegate.removeTarget(h,o))}catch(h){if(!Zo(h))throw h;pe(yg,`Failed to update sequence numbers for target ${e}: ${h}`)}s.Fs=s.Fs.remove(e),s.Ms.delete(o.target)}function Lb(r,e,t){const s=Me(r);let o=ke.min(),u=Ke();return s.persistence.runTransaction("Execute query","readwrite",h=>function(p,g,_){const v=Me(p),T=v.Ms.get(_);return T!==void 0?ae.resolve(v.Fs.get(T)):v.hi.getTargetData(g,_)}(s,h,Br(e)).next(d=>{if(d)return o=d.lastLimboFreeSnapshotVersion,s.hi.getMatchingKeysForTargetId(h,d.targetId).next(p=>{u=p})}).next(()=>s.Cs.getDocumentsMatchingQuery(h,e,t?o:ke.min(),t?u:Ke())).next(d=>(Yk(s,PO(e),d),{documents:d,qs:u})))}function Yk(r,e,t){let s=r.xs.get(e)||ke.min();t.forEach((o,u)=>{u.readTime.compareTo(s)>0&&(s=u.readTime)}),r.xs.set(e,s)}class Ub{constructor(){this.activeTargetIds=BO()}Gs(e){this.activeTargetIds=this.activeTargetIds.add(e)}zs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Xk{constructor(){this.Fo=new Ub,this.Mo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,s){}addLocalQueryTarget(e,t=!0){return t&&this.Fo.Gs(e),this.Mo[e]||"not-current"}updateQueryState(e,t,s){this.Mo[e]=t}removeLocalQueryTarget(e){this.Fo.zs(e)}isLocalQueryTarget(e){return this.Fo.activeTargetIds.has(e)}clearQueryState(e){delete this.Mo[e]}getAllActiveQueryTargets(){return this.Fo.activeTargetIds}isActiveQueryTarget(e){return this.Fo.activeTargetIds.has(e)}start(){return this.Fo=new Ub,Promise.resolve()}handleUserChange(e,t,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wk{xo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zb="ConnectivityMonitor";class jb{constructor(){this.Oo=()=>this.No(),this.Bo=()=>this.Lo(),this.ko=[],this.qo()}xo(e){this.ko.push(e)}shutdown(){window.removeEventListener("online",this.Oo),window.removeEventListener("offline",this.Bo)}qo(){window.addEventListener("online",this.Oo),window.addEventListener("offline",this.Bo)}No(){pe(zb,"Network connectivity changed: AVAILABLE");for(const e of this.ko)e(0)}Lo(){pe(zb,"Network connectivity changed: UNAVAILABLE");for(const e of this.ko)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Eh=null;function Rp(){return Eh===null?Eh=function(){return 268435456+Math.round(2147483648*Math.random())}():Eh++,"0x"+Eh.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gm="RestConnection",Zk={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Jk{get Qo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.$o=t+"://"+e.host,this.Uo=`projects/${s}/databases/${o}`,this.Ko=this.databaseId.database===Kh?`project_id=${s}`:`project_id=${s}&database_id=${o}`}Wo(e,t,s,o,u){const h=Rp(),d=this.Go(e,t.toUriEncodedString());pe(Gm,`Sending RPC '${e}' ${h}:`,d,s);const p={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.Ko};this.zo(p,o,u);const{host:g}=new URL(d),_=Ia(g);return this.jo(e,d,p,s,_).then(v=>(pe(Gm,`Received RPC '${e}' ${h}: `,v),v),v=>{throw Rs(Gm,`RPC '${e}' ${h} failed with error: `,v,"url: ",d,"request:",s),v})}Jo(e,t,s,o,u,h){return this.Wo(e,t,s,o,u)}zo(e,t,s){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Xo}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((o,u)=>e[u]=o),s&&s.headers.forEach((o,u)=>e[u]=o)}Go(e,t){const s=Zk[e];return`${this.$o}/v1/${t}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eM{constructor(e){this.Ho=e.Ho,this.Yo=e.Yo}Zo(e){this.Xo=e}e_(e){this.t_=e}n_(e){this.r_=e}onMessage(e){this.i_=e}close(){this.Yo()}send(e){this.Ho(e)}s_(){this.Xo()}o_(){this.t_()}__(e){this.r_(e)}a_(e){this.i_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gn="WebChannelConnection";class tM extends Jk{constructor(e){super(e),this.u_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}jo(e,t,s,o,u){const h=Rp();return new Promise((d,p)=>{const g=new HT;g.setWithCredentials(!0),g.listenOnce(GT.COMPLETE,()=>{try{switch(g.getLastErrorCode()){case xh.NO_ERROR:const v=g.getResponseJson();pe(gn,`XHR for RPC '${e}' ${h} received:`,JSON.stringify(v)),d(v);break;case xh.TIMEOUT:pe(gn,`RPC '${e}' ${h} timed out`),p(new ge(se.DEADLINE_EXCEEDED,"Request time out"));break;case xh.HTTP_ERROR:const T=g.getStatus();if(pe(gn,`RPC '${e}' ${h} failed with status:`,T,"response text:",g.getResponseText()),T>0){let I=g.getResponseJson();Array.isArray(I)&&(I=I[0]);const C=I?.error;if(C&&C.status&&C.message){const M=function(j){const Q=j.toLowerCase().replace(/_/g,"-");return Object.values(se).indexOf(Q)>=0?Q:se.UNKNOWN}(C.status);p(new ge(M,C.message))}else p(new ge(se.UNKNOWN,"Server responded with status "+g.getStatus()))}else p(new ge(se.UNAVAILABLE,"Connection failed."));break;default:De(9055,{c_:e,streamId:h,l_:g.getLastErrorCode(),h_:g.getLastError()})}}finally{pe(gn,`RPC '${e}' ${h} completed.`)}});const _=JSON.stringify(o);pe(gn,`RPC '${e}' ${h} sending request:`,o),g.send(t,"POST",_,s,15)})}P_(e,t,s){const o=Rp(),u=[this.$o,"/","google.firestore.v1.Firestore","/",e,"/channel"],h=$T(),d=QT(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(p.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(p.useFetchStreams=!0),this.zo(p.initMessageHeaders,t,s),p.encodeInitMessageHeaders=!0;const _=u.join("");pe(gn,`Creating RPC '${e}' stream ${o}: ${_}`,p);const v=h.createWebChannel(_,p);this.T_(v);let T=!1,I=!1;const C=new eM({Ho:x=>{I?pe(gn,`Not sending because RPC '${e}' stream ${o} is closed:`,x):(T||(pe(gn,`Opening RPC '${e}' stream ${o} transport.`),v.open(),T=!0),pe(gn,`RPC '${e}' stream ${o} sending:`,x),v.send(x))},Yo:()=>v.close()}),M=(x,j,Q)=>{x.listen(j,Y=>{try{Q(Y)}catch(le){setTimeout(()=>{throw le},0)}})};return M(v,ou.EventType.OPEN,()=>{I||(pe(gn,`RPC '${e}' stream ${o} transport opened.`),C.s_())}),M(v,ou.EventType.CLOSE,()=>{I||(I=!0,pe(gn,`RPC '${e}' stream ${o} transport closed`),C.__(),this.I_(v))}),M(v,ou.EventType.ERROR,x=>{I||(I=!0,Rs(gn,`RPC '${e}' stream ${o} transport errored. Name:`,x.name,"Message:",x.message),C.__(new ge(se.UNAVAILABLE,"The operation could not be completed")))}),M(v,ou.EventType.MESSAGE,x=>{var j;if(!I){const Q=x.data[0];it(!!Q,16349);const Y=Q,le=Y?.error||((j=Y[0])===null||j===void 0?void 0:j.error);if(le){pe(gn,`RPC '${e}' stream ${o} received error:`,le);const re=le.status;let ce=function(R){const O=zt[R];if(O!==void 0)return xw(O)}(re),k=le.message;ce===void 0&&(ce=se.INTERNAL,k="Unknown error status: "+re+" with message "+le.message),I=!0,C.__(new ge(ce,k)),v.close()}else pe(gn,`RPC '${e}' stream ${o} received:`,Q),C.a_(Q)}}),M(d,KT.STAT_EVENT,x=>{x.stat===dp.PROXY?pe(gn,`RPC '${e}' stream ${o} detected buffering proxy`):x.stat===dp.NOPROXY&&pe(gn,`RPC '${e}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{C.o_()},0),C}terminate(){this.u_.forEach(e=>e.close()),this.u_=[]}T_(e){this.u_.push(e)}I_(e){this.u_=this.u_.filter(t=>t===e)}}function Km(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Af(r){return new sk(r,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fw{constructor(e,t,s=1e3,o=1.5,u=6e4){this.Fi=e,this.timerId=t,this.d_=s,this.E_=o,this.A_=u,this.R_=0,this.V_=null,this.m_=Date.now(),this.reset()}reset(){this.R_=0}f_(){this.R_=this.A_}g_(e){this.cancel();const t=Math.floor(this.R_+this.p_()),s=Math.max(0,Date.now()-this.m_),o=Math.max(0,t-s);o>0&&pe("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.R_} ms, delay with jitter: ${t} ms, last attempt: ${s} ms ago)`),this.V_=this.Fi.enqueueAfterDelay(this.timerId,o,()=>(this.m_=Date.now(),e())),this.R_*=this.E_,this.R_<this.d_&&(this.R_=this.d_),this.R_>this.A_&&(this.R_=this.A_)}y_(){this.V_!==null&&(this.V_.skipDelay(),this.V_=null)}cancel(){this.V_!==null&&(this.V_.cancel(),this.V_=null)}p_(){return(Math.random()-.5)*this.R_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bb="PersistentStream";class Hw{constructor(e,t,s,o,u,h,d,p){this.Fi=e,this.w_=s,this.S_=o,this.connection=u,this.authCredentialsProvider=h,this.appCheckCredentialsProvider=d,this.listener=p,this.state=0,this.b_=0,this.D_=null,this.v_=null,this.stream=null,this.C_=0,this.F_=new Fw(e,t)}M_(){return this.state===1||this.state===5||this.x_()}x_(){return this.state===2||this.state===3}start(){this.C_=0,this.state!==4?this.auth():this.O_()}async stop(){this.M_()&&await this.close(0)}N_(){this.state=0,this.F_.reset()}B_(){this.x_()&&this.D_===null&&(this.D_=this.Fi.enqueueAfterDelay(this.w_,6e4,()=>this.L_()))}k_(e){this.q_(),this.stream.send(e)}async L_(){if(this.x_())return this.close(0)}q_(){this.D_&&(this.D_.cancel(),this.D_=null)}Q_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,t){this.q_(),this.Q_(),this.F_.cancel(),this.b_++,e!==4?this.F_.reset():t&&t.code===se.RESOURCE_EXHAUSTED?(Li(t.toString()),Li("Using maximum backoff delay to prevent overloading the backend."),this.F_.f_()):t&&t.code===se.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.U_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.n_(t)}U_(){}auth(){this.state=1;const e=this.K_(this.b_),t=this.b_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,o])=>{this.b_===t&&this.W_(s,o)},s=>{e(()=>{const o=new ge(se.UNKNOWN,"Fetching auth token failed: "+s.message);return this.G_(o)})})}W_(e,t){const s=this.K_(this.b_);this.stream=this.z_(e,t),this.stream.Zo(()=>{s(()=>this.listener.Zo())}),this.stream.e_(()=>{s(()=>(this.state=2,this.v_=this.Fi.enqueueAfterDelay(this.S_,1e4,()=>(this.x_()&&(this.state=3),Promise.resolve())),this.listener.e_()))}),this.stream.n_(o=>{s(()=>this.G_(o))}),this.stream.onMessage(o=>{s(()=>++this.C_==1?this.j_(o):this.onNext(o))})}O_(){this.state=5,this.F_.g_(async()=>{this.state=0,this.start()})}G_(e){return pe(Bb,`close with error: ${e}`),this.stream=null,this.close(4,e)}K_(e){return t=>{this.Fi.enqueueAndForget(()=>this.b_===e?t():(pe(Bb,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class nM extends Hw{constructor(e,t,s,o,u,h){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,s,o,h),this.serializer=u}z_(e,t){return this.connection.P_("Listen",e,t)}j_(e){return this.onNext(e)}onNext(e){this.F_.reset();const t=lk(this.serializer,e),s=function(u){if(!("targetChange"in u))return ke.min();const h=u.targetChange;return h.targetIds&&h.targetIds.length?ke.min():h.readTime?qr(h.readTime):ke.min()}(e);return this.listener.J_(t,s)}H_(e){const t={};t.database=Sp(this.serializer),t.addTarget=function(u,h){let d;const p=h.target;if(d=vp(p)?{documents:hk(u,p)}:{query:fk(u,p).Vt},d.targetId=h.targetId,h.resumeToken.approximateByteSize()>0){d.resumeToken=Ow(u,h.resumeToken);const g=Ep(u,h.expectedCount);g!==null&&(d.expectedCount=g)}else if(h.snapshotVersion.compareTo(ke.min())>0){d.readTime=Zh(u,h.snapshotVersion.toTimestamp());const g=Ep(u,h.expectedCount);g!==null&&(d.expectedCount=g)}return d}(this.serializer,e);const s=mk(this.serializer,e);s&&(t.labels=s),this.k_(t)}Y_(e){const t={};t.database=Sp(this.serializer),t.removeTarget=e,this.k_(t)}}class rM extends Hw{constructor(e,t,s,o,u,h){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,s,o,h),this.serializer=u}get Z_(){return this.C_>0}start(){this.lastStreamToken=void 0,super.start()}U_(){this.Z_&&this.X_([])}z_(e,t){return this.connection.P_("Write",e,t)}j_(e){return it(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,it(!e.writeResults||e.writeResults.length===0,55816),this.listener.ea()}onNext(e){it(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.F_.reset();const t=ck(e.writeResults,e.commitTime),s=qr(e.commitTime);return this.listener.ta(s,t)}na(){const e={};e.database=Sp(this.serializer),this.k_(e)}X_(e){const t={streamToken:this.lastStreamToken,writes:e.map(s=>uk(this.serializer,s))};this.k_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iM{}class sM extends iM{constructor(e,t,s,o){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=s,this.serializer=o,this.ra=!1}ia(){if(this.ra)throw new ge(se.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,t,s,o){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,h])=>this.connection.Wo(e,Tp(t,s),o,u,h)).catch(u=>{throw u.name==="FirebaseError"?(u.code===se.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new ge(se.UNKNOWN,u.toString())})}Jo(e,t,s,o,u){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([h,d])=>this.connection.Jo(e,Tp(t,s),o,h,d,u)).catch(h=>{throw h.name==="FirebaseError"?(h.code===se.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new ge(se.UNKNOWN,h.toString())})}terminate(){this.ra=!0,this.connection.terminate()}}class aM{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.sa=0,this.oa=null,this._a=!0}aa(){this.sa===0&&(this.ua("Unknown"),this.oa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.oa=null,this.ca("Backend didn't respond within 10 seconds."),this.ua("Offline"),Promise.resolve())))}la(e){this.state==="Online"?this.ua("Unknown"):(this.sa++,this.sa>=1&&(this.ha(),this.ca(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ua("Offline")))}set(e){this.ha(),this.sa=0,e==="Online"&&(this._a=!1),this.ua(e)}ua(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ca(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this._a?(Li(t),this._a=!1):pe("OnlineStateTracker",t)}ha(){this.oa!==null&&(this.oa.cancel(),this.oa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Aa="RemoteStore";class oM{constructor(e,t,s,o,u){this.localStore=e,this.datastore=t,this.asyncQueue=s,this.remoteSyncer={},this.Pa=[],this.Ta=new Map,this.Ia=new Set,this.da=[],this.Ea=u,this.Ea.xo(h=>{s.enqueueAndForget(async()=>{Ma(this)&&(pe(Aa,"Restarting streams for network reachability change."),await async function(p){const g=Me(p);g.Ia.add(4),await Fu(g),g.Aa.set("Unknown"),g.Ia.delete(4),await Rf(g)}(this))})}),this.Aa=new aM(s,o)}}async function Rf(r){if(Ma(r))for(const e of r.da)await e(!0)}async function Fu(r){for(const e of r.da)await e(!1)}function Gw(r,e){const t=Me(r);t.Ta.has(e.targetId)||(t.Ta.set(e.targetId,e),Eg(t)?bg(t):Jo(t).x_()&&_g(t,e))}function vg(r,e){const t=Me(r),s=Jo(t);t.Ta.delete(e),s.x_()&&Kw(t,e),t.Ta.size===0&&(s.x_()?s.B_():Ma(t)&&t.Aa.set("Unknown"))}function _g(r,e){if(r.Ra.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ke.min())>0){const t=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Jo(r).H_(e)}function Kw(r,e){r.Ra.$e(e),Jo(r).Y_(e)}function bg(r){r.Ra=new tk({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),Et:e=>r.Ta.get(e)||null,lt:()=>r.datastore.serializer.databaseId}),Jo(r).start(),r.Aa.aa()}function Eg(r){return Ma(r)&&!Jo(r).M_()&&r.Ta.size>0}function Ma(r){return Me(r).Ia.size===0}function Qw(r){r.Ra=void 0}async function lM(r){r.Aa.set("Online")}async function uM(r){r.Ta.forEach((e,t)=>{_g(r,e)})}async function cM(r,e){Qw(r),Eg(r)?(r.Aa.la(e),bg(r)):r.Aa.set("Unknown")}async function hM(r,e,t){if(r.Aa.set("Online"),e instanceof Nw&&e.state===2&&e.cause)try{await async function(o,u){const h=u.cause;for(const d of u.targetIds)o.Ta.has(d)&&(await o.remoteSyncer.rejectListen(d,h),o.Ta.delete(d),o.Ra.removeTarget(d))}(r,e)}catch(s){pe(Aa,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await ef(r,s)}else if(e instanceof kh?r.Ra.Ye(e):e instanceof Dw?r.Ra.it(e):r.Ra.et(e),!t.isEqual(ke.min()))try{const s=await qw(r.localStore);t.compareTo(s)>=0&&await function(u,h){const d=u.Ra.Pt(h);return d.targetChanges.forEach((p,g)=>{if(p.resumeToken.approximateByteSize()>0){const _=u.Ta.get(g);_&&u.Ta.set(g,_.withResumeToken(p.resumeToken,h))}}),d.targetMismatches.forEach((p,g)=>{const _=u.Ta.get(p);if(!_)return;u.Ta.set(p,_.withResumeToken(fn.EMPTY_BYTE_STRING,_.snapshotVersion)),Kw(u,p);const v=new _s(_.target,p,g,_.sequenceNumber);_g(u,v)}),u.remoteSyncer.applyRemoteEvent(d)}(r,t)}catch(s){pe(Aa,"Failed to raise snapshot:",s),await ef(r,s)}}async function ef(r,e,t){if(!Zo(e))throw e;r.Ia.add(1),await Fu(r),r.Aa.set("Offline"),t||(t=()=>qw(r.localStore)),r.asyncQueue.enqueueRetryable(async()=>{pe(Aa,"Retrying IndexedDB access"),await t(),r.Ia.delete(1),await Rf(r)})}function $w(r,e){return e().catch(t=>ef(r,t,e))}async function Cf(r){const e=Me(r),t=Ns(e);let s=e.Pa.length>0?e.Pa[e.Pa.length-1].batchId:rg;for(;fM(e);)try{const o=await Qk(e.localStore,s);if(o===null){e.Pa.length===0&&t.B_();break}s=o.batchId,dM(e,o)}catch(o){await ef(e,o)}Yw(e)&&Xw(e)}function fM(r){return Ma(r)&&r.Pa.length<10}function dM(r,e){r.Pa.push(e);const t=Ns(r);t.x_()&&t.Z_&&t.X_(e.mutations)}function Yw(r){return Ma(r)&&!Ns(r).M_()&&r.Pa.length>0}function Xw(r){Ns(r).start()}async function mM(r){Ns(r).na()}async function pM(r){const e=Ns(r);for(const t of r.Pa)e.X_(t.mutations)}async function gM(r,e,t){const s=r.Pa.shift(),o=hg.from(s,e,t);await $w(r,()=>r.remoteSyncer.applySuccessfulWrite(o)),await Cf(r)}async function yM(r,e){e&&Ns(r).Z_&&await async function(s,o){if(function(h){return JO(h)&&h!==se.ABORTED}(o.code)){const u=s.Pa.shift();Ns(s).N_(),await $w(s,()=>s.remoteSyncer.rejectFailedWrite(u.batchId,o)),await Cf(s)}}(r,e),Yw(r)&&Xw(r)}async function qb(r,e){const t=Me(r);t.asyncQueue.verifyOperationInProgress(),pe(Aa,"RemoteStore received new credentials");const s=Ma(t);t.Ia.add(3),await Fu(t),s&&t.Aa.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.Ia.delete(3),await Rf(t)}async function vM(r,e){const t=Me(r);e?(t.Ia.delete(2),await Rf(t)):e||(t.Ia.add(2),await Fu(t),t.Aa.set("Unknown"))}function Jo(r){return r.Va||(r.Va=function(t,s,o){const u=Me(t);return u.ia(),new nM(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(r.datastore,r.asyncQueue,{Zo:lM.bind(null,r),e_:uM.bind(null,r),n_:cM.bind(null,r),J_:hM.bind(null,r)}),r.da.push(async e=>{e?(r.Va.N_(),Eg(r)?bg(r):r.Aa.set("Unknown")):(await r.Va.stop(),Qw(r))})),r.Va}function Ns(r){return r.ma||(r.ma=function(t,s,o){const u=Me(t);return u.ia(),new rM(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(r.datastore,r.asyncQueue,{Zo:()=>Promise.resolve(),e_:mM.bind(null,r),n_:yM.bind(null,r),ea:pM.bind(null,r),ta:gM.bind(null,r)}),r.da.push(async e=>{e?(r.ma.N_(),await Cf(r)):(await r.ma.stop(),r.Pa.length>0&&(pe(Aa,`Stopping write stream with ${r.Pa.length} pending writes`),r.Pa=[]))})),r.ma}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tg{constructor(e,t,s,o,u){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=s,this.op=o,this.removalCallback=u,this.deferred=new ws,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(h=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,s,o,u){const h=Date.now()+s,d=new Tg(e,t,h,o,u);return d.start(s),d}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ge(se.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function wg(r,e){if(Li("AsyncQueue",`${e}: ${r}`),Zo(r))return new ge(se.UNAVAILABLE,`${e}: ${r}`);throw r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uo{static emptySet(e){return new Uo(e.comparator)}constructor(e){this.comparator=e?(t,s)=>e(t,s)||Te.comparator(t.key,s.key):(t,s)=>Te.comparator(t.key,s.key),this.keyedMap=lu(),this.sortedSet=new At(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,s)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Uo)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;t.hasNext();){const o=t.getNext().key,u=s.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const s=new Uo;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=t,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fb{constructor(){this.fa=new At(Te.comparator)}track(e){const t=e.doc.key,s=this.fa.get(t);s?e.type!==0&&s.type===3?this.fa=this.fa.insert(t,e):e.type===3&&s.type!==1?this.fa=this.fa.insert(t,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.fa=this.fa.insert(t,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.fa=this.fa.insert(t,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.fa=this.fa.remove(t):e.type===1&&s.type===2?this.fa=this.fa.insert(t,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.fa=this.fa.insert(t,{type:2,doc:e.doc}):De(63341,{At:e,ga:s}):this.fa=this.fa.insert(t,e)}pa(){const e=[];return this.fa.inorderTraversal((t,s)=>{e.push(s)}),e}}class Fo{constructor(e,t,s,o,u,h,d,p,g){this.query=e,this.docs=t,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=u,this.fromCache=h,this.syncStateChanged=d,this.excludesMetadataChanges=p,this.hasCachedResults=g}static fromInitialDocuments(e,t,s,o,u){const h=[];return t.forEach(d=>{h.push({type:0,doc:d})}),new Fo(e,t,Uo.emptySet(t),h,s,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&bf(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,s=e.docChanges;if(t.length!==s.length)return!1;for(let o=0;o<t.length;o++)if(t[o].type!==s[o].type||!t[o].doc.isEqual(s[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _M{constructor(){this.ya=void 0,this.wa=[]}Sa(){return this.wa.some(e=>e.ba())}}class bM{constructor(){this.queries=Hb(),this.onlineState="Unknown",this.Da=new Set}terminate(){(function(t,s){const o=Me(t),u=o.queries;o.queries=Hb(),u.forEach((h,d)=>{for(const p of d.wa)p.onError(s)})})(this,new ge(se.ABORTED,"Firestore shutting down"))}}function Hb(){return new Oa(r=>yw(r),bf)}async function Ww(r,e){const t=Me(r);let s=3;const o=e.query;let u=t.queries.get(o);u?!u.Sa()&&e.ba()&&(s=2):(u=new _M,s=e.ba()?0:1);try{switch(s){case 0:u.ya=await t.onListen(o,!0);break;case 1:u.ya=await t.onListen(o,!1);break;case 2:await t.onFirstRemoteStoreListen(o)}}catch(h){const d=wg(h,`Initialization of query '${Do(e.query)}' failed`);return void e.onError(d)}t.queries.set(o,u),u.wa.push(e),e.va(t.onlineState),u.ya&&e.Ca(u.ya)&&Sg(t)}async function Zw(r,e){const t=Me(r),s=e.query;let o=3;const u=t.queries.get(s);if(u){const h=u.wa.indexOf(e);h>=0&&(u.wa.splice(h,1),u.wa.length===0?o=e.ba()?0:1:!u.Sa()&&e.ba()&&(o=2))}switch(o){case 0:return t.queries.delete(s),t.onUnlisten(s,!0);case 1:return t.queries.delete(s),t.onUnlisten(s,!1);case 2:return t.onLastRemoteStoreUnlisten(s);default:return}}function EM(r,e){const t=Me(r);let s=!1;for(const o of e){const u=o.query,h=t.queries.get(u);if(h){for(const d of h.wa)d.Ca(o)&&(s=!0);h.ya=o}}s&&Sg(t)}function TM(r,e,t){const s=Me(r),o=s.queries.get(e);if(o)for(const u of o.wa)u.onError(t);s.queries.delete(e)}function Sg(r){r.Da.forEach(e=>{e.next()})}var Cp,Gb;(Gb=Cp||(Cp={})).Fa="default",Gb.Cache="cache";class Jw{constructor(e,t,s){this.query=e,this.Ma=t,this.xa=!1,this.Oa=null,this.onlineState="Unknown",this.options=s||{}}Ca(e){if(!this.options.includeMetadataChanges){const s=[];for(const o of e.docChanges)o.type!==3&&s.push(o);e=new Fo(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.xa?this.Na(e)&&(this.Ma.next(e),t=!0):this.Ba(e,this.onlineState)&&(this.La(e),t=!0),this.Oa=e,t}onError(e){this.Ma.error(e)}va(e){this.onlineState=e;let t=!1;return this.Oa&&!this.xa&&this.Ba(this.Oa,e)&&(this.La(this.Oa),t=!0),t}Ba(e,t){if(!e.fromCache||!this.ba())return!0;const s=t!=="Offline";return(!this.options.ka||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Na(e){if(e.docChanges.length>0)return!0;const t=this.Oa&&this.Oa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}La(e){e=Fo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.xa=!0,this.Ma.next(e)}ba(){return this.options.source!==Cp.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eS{constructor(e){this.key=e}}class tS{constructor(e){this.key=e}}class wM{constructor(e,t){this.query=e,this.Ha=t,this.Ya=null,this.hasCachedResults=!1,this.current=!1,this.Za=Ke(),this.mutatedKeys=Ke(),this.Xa=vw(e),this.eu=new Uo(this.Xa)}get tu(){return this.Ha}nu(e,t){const s=t?t.ru:new Fb,o=t?t.eu:this.eu;let u=t?t.mutatedKeys:this.mutatedKeys,h=o,d=!1;const p=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,g=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal((_,v)=>{const T=o.get(_),I=Ef(this.query,v)?v:null,C=!!T&&this.mutatedKeys.has(T.key),M=!!I&&(I.hasLocalMutations||this.mutatedKeys.has(I.key)&&I.hasCommittedMutations);let x=!1;T&&I?T.data.isEqual(I.data)?C!==M&&(s.track({type:3,doc:I}),x=!0):this.iu(T,I)||(s.track({type:2,doc:I}),x=!0,(p&&this.Xa(I,p)>0||g&&this.Xa(I,g)<0)&&(d=!0)):!T&&I?(s.track({type:0,doc:I}),x=!0):T&&!I&&(s.track({type:1,doc:T}),x=!0,(p||g)&&(d=!0)),x&&(I?(h=h.add(I),u=M?u.add(_):u.delete(_)):(h=h.delete(_),u=u.delete(_)))}),this.query.limit!==null)for(;h.size>this.query.limit;){const _=this.query.limitType==="F"?h.last():h.first();h=h.delete(_.key),u=u.delete(_.key),s.track({type:1,doc:_})}return{eu:h,ru:s,Ds:d,mutatedKeys:u}}iu(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,s,o){const u=this.eu;this.eu=e.eu,this.mutatedKeys=e.mutatedKeys;const h=e.ru.pa();h.sort((_,v)=>function(I,C){const M=x=>{switch(x){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return De(20277,{At:x})}};return M(I)-M(C)}(_.type,v.type)||this.Xa(_.doc,v.doc)),this.su(s),o=o!=null&&o;const d=t&&!o?this.ou():[],p=this.Za.size===0&&this.current&&!o?1:0,g=p!==this.Ya;return this.Ya=p,h.length!==0||g?{snapshot:new Fo(this.query,e.eu,u,h,e.mutatedKeys,p===0,g,!1,!!s&&s.resumeToken.approximateByteSize()>0),_u:d}:{_u:d}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({eu:this.eu,ru:new Fb,mutatedKeys:this.mutatedKeys,Ds:!1},!1)):{_u:[]}}au(e){return!this.Ha.has(e)&&!!this.eu.has(e)&&!this.eu.get(e).hasLocalMutations}su(e){e&&(e.addedDocuments.forEach(t=>this.Ha=this.Ha.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Ha=this.Ha.delete(t)),this.current=e.current)}ou(){if(!this.current)return[];const e=this.Za;this.Za=Ke(),this.eu.forEach(s=>{this.au(s.key)&&(this.Za=this.Za.add(s.key))});const t=[];return e.forEach(s=>{this.Za.has(s)||t.push(new tS(s))}),this.Za.forEach(s=>{e.has(s)||t.push(new eS(s))}),t}uu(e){this.Ha=e.qs,this.Za=Ke();const t=this.nu(e.documents);return this.applyChanges(t,!0)}cu(){return Fo.fromInitialDocuments(this.query,this.eu,this.mutatedKeys,this.Ya===0,this.hasCachedResults)}}const Ag="SyncEngine";class SM{constructor(e,t,s){this.query=e,this.targetId=t,this.view=s}}class AM{constructor(e){this.key=e,this.lu=!1}}class RM{constructor(e,t,s,o,u,h){this.localStore=e,this.remoteStore=t,this.eventManager=s,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=h,this.hu={},this.Pu=new Oa(d=>yw(d),bf),this.Tu=new Map,this.Iu=new Set,this.du=new At(Te.comparator),this.Eu=new Map,this.Au=new mg,this.Ru={},this.Vu=new Map,this.mu=qo.ur(),this.onlineState="Unknown",this.fu=void 0}get isPrimaryClient(){return this.fu===!0}}async function CM(r,e,t=!0){const s=oS(r);let o;const u=s.Pu.get(e);return u?(s.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.cu()):o=await nS(s,e,t,!0),o}async function IM(r,e){const t=oS(r);await nS(t,e,!0,!1)}async function nS(r,e,t,s){const o=await $k(r.localStore,Br(e)),u=o.targetId,h=r.sharedClientState.addLocalQueryTarget(u,t);let d;return s&&(d=await xM(r,e,u,h==="current",o.resumeToken)),r.isPrimaryClient&&t&&Gw(r.remoteStore,o),d}async function xM(r,e,t,s,o){r.gu=(v,T,I)=>async function(M,x,j,Q){let Y=x.view.nu(j);Y.Ds&&(Y=await Lb(M.localStore,x.query,!1).then(({documents:k})=>x.view.nu(k,Y)));const le=Q&&Q.targetChanges.get(x.targetId),re=Q&&Q.targetMismatches.get(x.targetId)!=null,ce=x.view.applyChanges(Y,M.isPrimaryClient,le,re);return Qb(M,x.targetId,ce._u),ce.snapshot}(r,v,T,I);const u=await Lb(r.localStore,e,!0),h=new wM(e,u.qs),d=h.nu(u.documents),p=qu.createSynthesizedTargetChangeForCurrentChange(t,s&&r.onlineState!=="Offline",o),g=h.applyChanges(d,r.isPrimaryClient,p);Qb(r,t,g._u);const _=new SM(e,t,h);return r.Pu.set(e,_),r.Tu.has(t)?r.Tu.get(t).push(e):r.Tu.set(t,[e]),g.snapshot}async function DM(r,e,t){const s=Me(r),o=s.Pu.get(e),u=s.Tu.get(o.targetId);if(u.length>1)return s.Tu.set(o.targetId,u.filter(h=>!bf(h,e))),void s.Pu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await Ap(s.localStore,o.targetId,!1).then(()=>{s.sharedClientState.clearQueryState(o.targetId),t&&vg(s.remoteStore,o.targetId),Ip(s,o.targetId)}).catch(Wo)):(Ip(s,o.targetId),await Ap(s.localStore,o.targetId,!0))}async function NM(r,e){const t=Me(r),s=t.Pu.get(e),o=t.Tu.get(s.targetId);t.isPrimaryClient&&o.length===1&&(t.sharedClientState.removeLocalQueryTarget(s.targetId),vg(t.remoteStore,s.targetId))}async function OM(r,e,t){const s=zM(r);try{const o=await function(h,d){const p=Me(h),g=pt.now(),_=d.reduce((I,C)=>I.add(C.key),Ke());let v,T;return p.persistence.runTransaction("Locally write mutations","readwrite",I=>{let C=Ui(),M=Ke();return p.Os.getEntries(I,_).next(x=>{C=x,C.forEach((j,Q)=>{Q.isValidDocument()||(M=M.add(j))})}).next(()=>p.localDocuments.getOverlayedDocuments(I,C)).next(x=>{v=x;const j=[];for(const Q of d){const Y=$O(Q,v.get(Q.key).overlayedDocument);Y!=null&&j.push(new ka(Q.key,Y,uw(Y.value.mapValue),yr.exists(!0)))}return p.mutationQueue.addMutationBatch(I,g,j,d)}).next(x=>{T=x;const j=x.applyToLocalDocumentSet(v,M);return p.documentOverlayCache.saveOverlays(I,x.batchId,j)})}).then(()=>({batchId:T.batchId,changes:bw(v)}))}(s.localStore,e);s.sharedClientState.addPendingMutation(o.batchId),function(h,d,p){let g=h.Ru[h.currentUser.toKey()];g||(g=new At(ze)),g=g.insert(d,p),h.Ru[h.currentUser.toKey()]=g}(s,o.batchId,t),await Hu(s,o.changes),await Cf(s.remoteStore)}catch(o){const u=wg(o,"Failed to persist write");t.reject(u)}}async function rS(r,e){const t=Me(r);try{const s=await Gk(t.localStore,e);e.targetChanges.forEach((o,u)=>{const h=t.Eu.get(u);h&&(it(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?h.lu=!0:o.modifiedDocuments.size>0?it(h.lu,14607):o.removedDocuments.size>0&&(it(h.lu,42227),h.lu=!1))}),await Hu(t,s,e)}catch(s){await Wo(s)}}function Kb(r,e,t){const s=Me(r);if(s.isPrimaryClient&&t===0||!s.isPrimaryClient&&t===1){const o=[];s.Pu.forEach((u,h)=>{const d=h.view.va(e);d.snapshot&&o.push(d.snapshot)}),function(h,d){const p=Me(h);p.onlineState=d;let g=!1;p.queries.forEach((_,v)=>{for(const T of v.wa)T.va(d)&&(g=!0)}),g&&Sg(p)}(s.eventManager,e),o.length&&s.hu.J_(o),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function kM(r,e,t){const s=Me(r);s.sharedClientState.updateQueryState(e,"rejected",t);const o=s.Eu.get(e),u=o&&o.key;if(u){let h=new At(Te.comparator);h=h.insert(u,vn.newNoDocument(u,ke.min()));const d=Ke().add(u),p=new Sf(ke.min(),new Map,new At(ze),h,d);await rS(s,p),s.du=s.du.remove(u),s.Eu.delete(e),Rg(s)}else await Ap(s.localStore,e,!1).then(()=>Ip(s,e,t)).catch(Wo)}async function MM(r,e){const t=Me(r),s=e.batch.batchId;try{const o=await Hk(t.localStore,e);sS(t,s,null),iS(t,s),t.sharedClientState.updateMutationState(s,"acknowledged"),await Hu(t,o)}catch(o){await Wo(o)}}async function PM(r,e,t){const s=Me(r);try{const o=await function(h,d){const p=Me(h);return p.persistence.runTransaction("Reject batch","readwrite-primary",g=>{let _;return p.mutationQueue.lookupMutationBatch(g,d).next(v=>(it(v!==null,37113),_=v.keys(),p.mutationQueue.removeMutationBatch(g,v))).next(()=>p.mutationQueue.performConsistencyCheck(g)).next(()=>p.documentOverlayCache.removeOverlaysForBatchId(g,_,d)).next(()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,_)).next(()=>p.localDocuments.getDocuments(g,_))})}(s.localStore,e);sS(s,e,t),iS(s,e),s.sharedClientState.updateMutationState(e,"rejected",t),await Hu(s,o)}catch(o){await Wo(o)}}function iS(r,e){(r.Vu.get(e)||[]).forEach(t=>{t.resolve()}),r.Vu.delete(e)}function sS(r,e,t){const s=Me(r);let o=s.Ru[s.currentUser.toKey()];if(o){const u=o.get(e);u&&(t?u.reject(t):u.resolve(),o=o.remove(e)),s.Ru[s.currentUser.toKey()]=o}}function Ip(r,e,t=null){r.sharedClientState.removeLocalQueryTarget(e);for(const s of r.Tu.get(e))r.Pu.delete(s),t&&r.hu.pu(s,t);r.Tu.delete(e),r.isPrimaryClient&&r.Au.zr(e).forEach(s=>{r.Au.containsKey(s)||aS(r,s)})}function aS(r,e){r.Iu.delete(e.path.canonicalString());const t=r.du.get(e);t!==null&&(vg(r.remoteStore,t),r.du=r.du.remove(e),r.Eu.delete(t),Rg(r))}function Qb(r,e,t){for(const s of t)s instanceof eS?(r.Au.addReference(s.key,e),VM(r,s)):s instanceof tS?(pe(Ag,"Document no longer in limbo: "+s.key),r.Au.removeReference(s.key,e),r.Au.containsKey(s.key)||aS(r,s.key)):De(19791,{yu:s})}function VM(r,e){const t=e.key,s=t.path.canonicalString();r.du.get(t)||r.Iu.has(s)||(pe(Ag,"New document in limbo: "+t),r.Iu.add(s),Rg(r))}function Rg(r){for(;r.Iu.size>0&&r.du.size<r.maxConcurrentLimboResolutions;){const e=r.Iu.values().next().value;r.Iu.delete(e);const t=new Te(mt.fromString(e)),s=r.mu.next();r.Eu.set(s,new AM(t)),r.du=r.du.insert(t,s),Gw(r.remoteStore,new _s(Br(lg(t.path)),s,"TargetPurposeLimboResolution",yf.ue))}}async function Hu(r,e,t){const s=Me(r),o=[],u=[],h=[];s.Pu.isEmpty()||(s.Pu.forEach((d,p)=>{h.push(s.gu(p,e,t).then(g=>{var _;if((g||t)&&s.isPrimaryClient){const v=g?!g.fromCache:(_=t?.targetChanges.get(p.targetId))===null||_===void 0?void 0:_.current;s.sharedClientState.updateQueryState(p.targetId,v?"current":"not-current")}if(g){o.push(g);const v=gg.Es(p.targetId,g);u.push(v)}}))}),await Promise.all(h),s.hu.J_(o),await async function(p,g){const _=Me(p);try{await _.persistence.runTransaction("notifyLocalViewChanges","readwrite",v=>ae.forEach(g,T=>ae.forEach(T.Is,I=>_.persistence.referenceDelegate.addReference(v,T.targetId,I)).next(()=>ae.forEach(T.ds,I=>_.persistence.referenceDelegate.removeReference(v,T.targetId,I)))))}catch(v){if(!Zo(v))throw v;pe(yg,"Failed to update sequence numbers: "+v)}for(const v of g){const T=v.targetId;if(!v.fromCache){const I=_.Fs.get(T),C=I.snapshotVersion,M=I.withLastLimboFreeSnapshotVersion(C);_.Fs=_.Fs.insert(T,M)}}}(s.localStore,u))}async function LM(r,e){const t=Me(r);if(!t.currentUser.isEqual(e)){pe(Ag,"User change. New user:",e.toKey());const s=await Bw(t.localStore,e);t.currentUser=e,function(u,h){u.Vu.forEach(d=>{d.forEach(p=>{p.reject(new ge(se.CANCELLED,h))})}),u.Vu.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await Hu(t,s.Bs)}}function UM(r,e){const t=Me(r),s=t.Eu.get(e);if(s&&s.lu)return Ke().add(s.key);{let o=Ke();const u=t.Tu.get(e);if(!u)return o;for(const h of u){const d=t.Pu.get(h);o=o.unionWith(d.view.tu)}return o}}function oS(r){const e=Me(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=rS.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=UM.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=kM.bind(null,e),e.hu.J_=EM.bind(null,e.eventManager),e.hu.pu=TM.bind(null,e.eventManager),e}function zM(r){const e=Me(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=MM.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=PM.bind(null,e),e}class tf{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Af(e.databaseInfo.databaseId),this.sharedClientState=this.bu(e),this.persistence=this.Du(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Cu(e,this.localStore),this.indexBackfillerScheduler=this.Fu(e,this.localStore)}Cu(e,t){return null}Fu(e,t){return null}vu(e){return Fk(this.persistence,new jk,e.initialUser,this.serializer)}Du(e){return new jw(pg.Vi,this.serializer)}bu(e){return new Xk}async terminate(){var e,t;(e=this.gcScheduler)===null||e===void 0||e.stop(),(t=this.indexBackfillerScheduler)===null||t===void 0||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}tf.provider={build:()=>new tf};class jM extends tf{constructor(e){super(),this.cacheSizeBytes=e}Cu(e,t){it(this.persistence.referenceDelegate instanceof Jh,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new Ak(s,e.asyncQueue,t)}Du(e){const t=this.cacheSizeBytes!==void 0?kn.withCacheSize(this.cacheSizeBytes):kn.DEFAULT;return new jw(s=>Jh.Vi(s,t),this.serializer)}}class xp{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>Kb(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=LM.bind(null,this.syncEngine),await vM(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new bM}()}createDatastore(e){const t=Af(e.databaseInfo.databaseId),s=function(u){return new tM(u)}(e.databaseInfo);return function(u,h,d,p){return new sM(u,h,d,p)}(e.authCredentials,e.appCheckCredentials,s,t)}createRemoteStore(e){return function(s,o,u,h,d){return new oM(s,o,u,h,d)}(this.localStore,this.datastore,e.asyncQueue,t=>Kb(this.syncEngine,t,0),function(){return jb.C()?new jb:new Wk}())}createSyncEngine(e,t){return function(o,u,h,d,p,g,_){const v=new RM(o,u,h,d,p,g);return _&&(v.fu=!0),v}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(o){const u=Me(o);pe(Aa,"RemoteStore shutting down."),u.Ia.add(5),await Fu(u),u.Ea.shutdown(),u.Aa.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(t=this.eventManager)===null||t===void 0||t.terminate()}}xp.provider={build:()=>new xp};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lS{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.xu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.xu(this.observer.error,e):Li("Uncaught Error in snapshot listener:",e.toString()))}Ou(){this.muted=!0}xu(e,t){setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Os="FirestoreClient";class BM{constructor(e,t,s,o,u){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=s,this.databaseInfo=o,this.user=yn.UNAUTHENTICATED,this.clientId=ng.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(s,async h=>{pe(Os,"Received user=",h.uid),await this.authCredentialListener(h),this.user=h}),this.appCheckCredentials.start(s,h=>(pe(Os,"Received new app check token=",h),this.appCheckCredentialListener(h,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new ws;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const s=wg(t,"Failed to shutdown persistence");e.reject(s)}}),e.promise}}async function Qm(r,e){r.asyncQueue.verifyOperationInProgress(),pe(Os,"Initializing OfflineComponentProvider");const t=r.configuration;await e.initialize(t);let s=t.initialUser;r.setCredentialChangeListener(async o=>{s.isEqual(o)||(await Bw(e.localStore,o),s=o)}),e.persistence.setDatabaseDeletedListener(()=>{Rs("Terminating Firestore due to IndexedDb database deletion"),r.terminate().then(()=>{pe("Terminating Firestore due to IndexedDb database deletion completed successfully")}).catch(o=>{Rs("Terminating Firestore due to IndexedDb database deletion failed",o)})}),r._offlineComponents=e}async function $b(r,e){r.asyncQueue.verifyOperationInProgress();const t=await qM(r);pe(Os,"Initializing OnlineComponentProvider"),await e.initialize(t,r.configuration),r.setCredentialChangeListener(s=>qb(e.remoteStore,s)),r.setAppCheckTokenChangeListener((s,o)=>qb(e.remoteStore,o)),r._onlineComponents=e}async function qM(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){pe(Os,"Using user provided OfflineComponentProvider");try{await Qm(r,r._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function(o){return o.name==="FirebaseError"?o.code===se.FAILED_PRECONDITION||o.code===se.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11}(t))throw t;Rs("Error using user provided cache. Falling back to memory cache: "+t),await Qm(r,new tf)}}else pe(Os,"Using default OfflineComponentProvider"),await Qm(r,new jM(void 0));return r._offlineComponents}async function uS(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(pe(Os,"Using user provided OnlineComponentProvider"),await $b(r,r._uninitializedComponentsProvider._online)):(pe(Os,"Using default OnlineComponentProvider"),await $b(r,new xp))),r._onlineComponents}function FM(r){return uS(r).then(e=>e.syncEngine)}async function Dp(r){const e=await uS(r),t=e.eventManager;return t.onListen=CM.bind(null,e.syncEngine),t.onUnlisten=DM.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=IM.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=NM.bind(null,e.syncEngine),t}function HM(r,e,t={}){const s=new ws;return r.asyncQueue.enqueueAndForget(async()=>function(u,h,d,p,g){const _=new lS({next:T=>{_.Ou(),h.enqueueAndForget(()=>Zw(u,v)),T.fromCache&&p.source==="server"?g.reject(new ge(se.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):g.resolve(T)},error:T=>g.reject(T)}),v=new Jw(d,_,{includeMetadataChanges:!0,ka:!0});return Ww(u,v)}(await Dp(r),r.asyncQueue,e,t,s)),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cS(r){const e={};return r.timeoutSeconds!==void 0&&(e.timeoutSeconds=r.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yb=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hS="firestore.googleapis.com",Xb=!0;class Wb{constructor(e){var t,s;if(e.host===void 0){if(e.ssl!==void 0)throw new ge(se.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=hS,this.ssl=Xb}else this.host=e.host,this.ssl=(t=e.ssl)!==null&&t!==void 0?t:Xb;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=zw;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<wk)throw new ge(se.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}lO("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=cS((s=e.experimentalLongPollingOptions)!==null&&s!==void 0?s:{}),function(u){if(u.timeoutSeconds!==void 0){if(isNaN(u.timeoutSeconds))throw new ge(se.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (must not be NaN)`);if(u.timeoutSeconds<5)throw new ge(se.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (minimum allowed value is 5)`);if(u.timeoutSeconds>30)throw new ge(se.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(s,o){return s.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class If{constructor(e,t,s,o){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Wb({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ge(se.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ge(se.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Wb(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(s){if(!s)return new JN;switch(s.type){case"firstParty":return new rO(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new ge(se.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const s=Yb.get(t);s&&(pe("ComponentProvider","Removing Datastore"),Yb.delete(t),s.terminate())}(this),Promise.resolve()}}function GM(r,e,t,s={}){var o;r=jr(r,If);const u=Ia(e),h=r._getSettings(),d=Object.assign(Object.assign({},h),{emulatorOptions:r._getEmulatorOptions()}),p=`${e}:${t}`;u&&(Bp(`https://${p}`),qp("Firestore",!0)),h.host!==hS&&h.host!==p&&Rs("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const g=Object.assign(Object.assign({},h),{host:p,ssl:u,emulatorOptions:s});if(!ba(g,d)&&(r._setSettings(g),s.mockUserToken)){let _,v;if(typeof s.mockUserToken=="string")_=s.mockUserToken,v=yn.MOCK_USER;else{_=rT(s.mockUserToken,(o=r._app)===null||o===void 0?void 0:o.options.projectId);const T=s.mockUserToken.sub||s.mockUserToken.user_id;if(!T)throw new ge(se.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");v=new yn(T)}r._authCredentials=new eO(new XT(_,v))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pa{constructor(e,t,s){this.converter=t,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new Pa(this.firestore,e,this._query)}}class qt{constructor(e,t,s){this.converter=t,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ss(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new qt(this.firestore,e,this._key)}toJSON(){return{type:qt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,s){if(zu(t,qt._jsonSchema))return new qt(e,s||null,new Te(mt.fromString(t.referencePath)))}}qt._jsonSchemaVersion="firestore/documentReference/1.0",qt._jsonSchema={type:Bt("string",qt._jsonSchemaVersion),referencePath:Bt("string")};class Ss extends Pa{constructor(e,t,s){super(e,t,lg(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new qt(this.firestore,null,new Te(e))}withConverter(e){return new Ss(this.firestore,e,this._path)}}function Zb(r,e,...t){if(r=hn(r),ZT("collection","path",e),r instanceof If){const s=mt.fromString(e,...t);return cb(s),new Ss(r,null,s)}{if(!(r instanceof qt||r instanceof Ss))throw new ge(se.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(mt.fromString(e,...t));return cb(s),new Ss(r.firestore,null,s)}}function Ho(r,e,...t){if(r=hn(r),arguments.length===1&&(e=ng.newId()),ZT("doc","path",e),r instanceof If){const s=mt.fromString(e,...t);return ub(s),new qt(r,null,new Te(s))}{if(!(r instanceof qt||r instanceof Ss))throw new ge(se.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(mt.fromString(e,...t));return ub(s),new qt(r.firestore,r instanceof Ss?r.converter:null,new Te(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jb="AsyncQueue";class eE{constructor(e=Promise.resolve()){this.Zu=[],this.Xu=!1,this.ec=[],this.tc=null,this.nc=!1,this.rc=!1,this.sc=[],this.F_=new Fw(this,"async_queue_retry"),this.oc=()=>{const s=Km();s&&pe(Jb,"Visibility state changed to "+s.visibilityState),this.F_.y_()},this._c=e;const t=Km();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.oc)}get isShuttingDown(){return this.Xu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.ac(),this.uc(e)}enterRestrictedMode(e){if(!this.Xu){this.Xu=!0,this.rc=e||!1;const t=Km();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.oc)}}enqueue(e){if(this.ac(),this.Xu)return new Promise(()=>{});const t=new ws;return this.uc(()=>this.Xu&&this.rc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Zu.push(e),this.cc()))}async cc(){if(this.Zu.length!==0){try{await this.Zu[0](),this.Zu.shift(),this.F_.reset()}catch(e){if(!Zo(e))throw e;pe(Jb,"Operation failed with retryable error: "+e)}this.Zu.length>0&&this.F_.g_(()=>this.cc())}}uc(e){const t=this._c.then(()=>(this.nc=!0,e().catch(s=>{throw this.tc=s,this.nc=!1,Li("INTERNAL UNHANDLED ERROR: ",tE(s)),s}).then(s=>(this.nc=!1,s))));return this._c=t,t}enqueueAfterDelay(e,t,s){this.ac(),this.sc.indexOf(e)>-1&&(t=0);const o=Tg.createAndSchedule(this,e,t,s,u=>this.lc(u));return this.ec.push(o),o}ac(){this.tc&&De(47125,{hc:tE(this.tc)})}verifyOperationInProgress(){}async Pc(){let e;do e=this._c,await e;while(e!==this._c)}Tc(e){for(const t of this.ec)if(t.timerId===e)return!0;return!1}Ic(e){return this.Pc().then(()=>{this.ec.sort((t,s)=>t.targetTimeMs-s.targetTimeMs);for(const t of this.ec)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Pc()})}dc(e){this.sc.push(e)}lc(e){const t=this.ec.indexOf(e);this.ec.splice(t,1)}}function tE(r){let e=r.message||"";return r.stack&&(e=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nE(r){return function(t,s){if(typeof t!="object"||t===null)return!1;const o=t;for(const u of s)if(u in o&&typeof o[u]=="function")return!0;return!1}(r,["next","error","complete"])}class Ra extends If{constructor(e,t,s,o){super(e,t,s,o),this.type="firestore",this._queue=new eE,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new eE(e),this._firestoreClient=void 0,await e}}}function KM(r,e){const t=typeof r=="object"?r:Gp(),s=typeof r=="string"?r:Kh,o=ff(t,"firestore").getImmediate({identifier:s});if(!o._initialized){const u=eT("firestore");u&&GM(o,...u)}return o}function Cg(r){if(r._terminated)throw new ge(se.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||QM(r),r._firestoreClient}function QM(r){var e,t,s;const o=r._freezeSettings(),u=function(d,p,g,_){return new _O(d,p,g,_.host,_.ssl,_.experimentalForceLongPolling,_.experimentalAutoDetectLongPolling,cS(_.experimentalLongPollingOptions),_.useFetchStreams,_.isUsingEmulator)}(r._databaseId,((e=r._app)===null||e===void 0?void 0:e.options.appId)||"",r._persistenceKey,o);r._componentsProvider||!((t=o.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((s=o.localCache)===null||s===void 0)&&s._onlineComponentProvider)&&(r._componentsProvider={_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider}),r._firestoreClient=new BM(r._authCredentials,r._appCheckCredentials,r._queue,u,r._componentsProvider&&function(d){const p=d?._online.build();return{_offline:d?._offline.build(p),_online:p}}(r._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ir{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ir(fn.fromBase64String(e))}catch(t){throw new ge(se.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new ir(fn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:ir._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(zu(e,ir._jsonSchema))return ir.fromBase64String(e.bytes)}}ir._jsonSchemaVersion="firestore/bytes/1.0",ir._jsonSchema={type:Bt("string",ir._jsonSchemaVersion),bytes:Bt("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ig{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new ge(se.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new cn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fS{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fr{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new ge(se.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new ge(se.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return ze(this._lat,e._lat)||ze(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Fr._jsonSchemaVersion}}static fromJSON(e){if(zu(e,Fr._jsonSchema))return new Fr(e.latitude,e.longitude)}}Fr._jsonSchemaVersion="firestore/geoPoint/1.0",Fr._jsonSchema={type:Bt("string",Fr._jsonSchemaVersion),latitude:Bt("number"),longitude:Bt("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hr{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(s,o){if(s.length!==o.length)return!1;for(let u=0;u<s.length;++u)if(s[u]!==o[u])return!1;return!0}(this._values,e._values)}toJSON(){return{type:Hr._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(zu(e,Hr._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(t=>typeof t=="number"))return new Hr(e.vectorValues);throw new ge(se.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Hr._jsonSchemaVersion="firestore/vectorValue/1.0",Hr._jsonSchema={type:Bt("string",Hr._jsonSchemaVersion),vectorValues:Bt("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $M=/^__.*__$/;class YM{constructor(e,t,s){this.data=e,this.fieldMask=t,this.fieldTransforms=s}toMutation(e,t){return this.fieldMask!==null?new ka(e,this.data,this.fieldMask,t,this.fieldTransforms):new Bu(e,this.data,t,this.fieldTransforms)}}function dS(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw De(40011,{Ec:r})}}class xg{constructor(e,t,s,o,u,h){this.settings=e,this.databaseId=t,this.serializer=s,this.ignoreUndefinedProperties=o,u===void 0&&this.Ac(),this.fieldTransforms=u||[],this.fieldMask=h||[]}get path(){return this.settings.path}get Ec(){return this.settings.Ec}Rc(e){return new xg(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Vc(e){var t;const s=(t=this.path)===null||t===void 0?void 0:t.child(e),o=this.Rc({path:s,mc:!1});return o.fc(e),o}gc(e){var t;const s=(t=this.path)===null||t===void 0?void 0:t.child(e),o=this.Rc({path:s,mc:!1});return o.Ac(),o}yc(e){return this.Rc({path:void 0,mc:!0})}wc(e){return nf(e,this.settings.methodName,this.settings.Sc||!1,this.path,this.settings.bc)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}Ac(){if(this.path)for(let e=0;e<this.path.length;e++)this.fc(this.path.get(e))}fc(e){if(e.length===0)throw this.wc("Document fields must not be empty");if(dS(this.Ec)&&$M.test(e))throw this.wc('Document fields cannot begin and end with "__"')}}class XM{constructor(e,t,s){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=s||Af(e)}Dc(e,t,s,o=!1){return new xg({Ec:e,methodName:t,bc:s,path:cn.emptyPath(),mc:!1,Sc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Dg(r){const e=r._freezeSettings(),t=Af(r._databaseId);return new XM(r._databaseId,!!e.ignoreUndefinedProperties,t)}function mS(r,e,t,s,o,u={}){const h=r.Dc(u.merge||u.mergeFields?2:0,e,t,o);yS("Data must be an object, but it was:",h,s);const d=pS(s,h);let p,g;if(u.merge)p=new pr(h.fieldMask),g=h.fieldTransforms;else if(u.mergeFields){const _=[];for(const v of u.mergeFields){const T=ZM(e,v,t);if(!h.contains(T))throw new ge(se.INVALID_ARGUMENT,`Field '${T}' is specified in your field mask but missing from your input data.`);eP(_,T)||_.push(T)}p=new pr(_),g=h.fieldTransforms.filter(v=>p.covers(v.field))}else p=null,g=h.fieldTransforms;return new YM(new rr(d),p,g)}function WM(r,e,t,s=!1){return Ng(t,r.Dc(s?4:3,e))}function Ng(r,e){if(gS(r=hn(r)))return yS("Unsupported field value:",e,r),pS(r,e);if(r instanceof fS)return function(s,o){if(!dS(o.Ec))throw o.wc(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.wc(`${s._methodName}() is not currently supported inside arrays`);const u=s._toFieldTransform(o);u&&o.fieldTransforms.push(u)}(r,e),null;if(r===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.mc&&e.Ec!==4)throw e.wc("Nested arrays are not supported");return function(s,o){const u=[];let h=0;for(const d of s){let p=Ng(d,o.yc(h));p==null&&(p={nullValue:"NULL_VALUE"}),u.push(p),h++}return{arrayValue:{values:u}}}(r,e)}return function(s,o){if((s=hn(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return qO(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const u=pt.fromDate(s);return{timestampValue:Zh(o.serializer,u)}}if(s instanceof pt){const u=new pt(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:Zh(o.serializer,u)}}if(s instanceof Fr)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof ir)return{bytesValue:Ow(o.serializer,s._byteString)};if(s instanceof qt){const u=o.databaseId,h=s.firestore._databaseId;if(!h.isEqual(u))throw o.wc(`Document reference is for database ${h.projectId}/${h.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:dg(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof Hr)return function(h,d){return{mapValue:{fields:{[ow]:{stringValue:lw},[Qh]:{arrayValue:{values:h.toArray().map(g=>{if(typeof g!="number")throw d.wc("VectorValues must only contain numeric values.");return ug(d.serializer,g)})}}}}}}(s,o);throw o.wc(`Unsupported field value: ${gf(s)}`)}(r,e)}function pS(r,e){const t={};return tw(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Na(r,(s,o)=>{const u=Ng(o,e.Vc(s));u!=null&&(t[s]=u)}),{mapValue:{fields:t}}}function gS(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof pt||r instanceof Fr||r instanceof ir||r instanceof qt||r instanceof fS||r instanceof Hr)}function yS(r,e,t){if(!gS(t)||!JT(t)){const s=gf(t);throw s==="an object"?e.wc(r+" a custom object"):e.wc(r+" "+s)}}function ZM(r,e,t){if((e=hn(e))instanceof Ig)return e._internalPath;if(typeof e=="string")return vS(r,e);throw nf("Field path arguments must be of type string or ",r,!1,void 0,t)}const JM=new RegExp("[~\\*/\\[\\]]");function vS(r,e,t){if(e.search(JM)>=0)throw nf(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,t);try{return new Ig(...e.split("."))._internalPath}catch{throw nf(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,t)}}function nf(r,e,t,s,o){const u=s&&!s.isEmpty(),h=o!==void 0;let d=`Function ${e}() called with invalid data`;t&&(d+=" (via `toFirestore()`)"),d+=". ";let p="";return(u||h)&&(p+=" (found",u&&(p+=` in field ${s}`),h&&(p+=` in document ${o}`),p+=")"),new ge(se.INVALID_ARGUMENT,d+r+p)}function eP(r,e){return r.some(t=>t.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _S{constructor(e,t,s,o,u){this._firestore=e,this._userDataWriter=t,this._key=s,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new qt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new tP(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Og("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class tP extends _S{data(){return super.data()}}function Og(r,e){return typeof e=="string"?vS(r,e):e instanceof Ig?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bS(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new ge(se.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class kg{}class nP extends kg{}function rP(r,e,...t){let s=[];e instanceof kg&&s.push(e),s=s.concat(t),function(u){const h=u.filter(p=>p instanceof Mg).length,d=u.filter(p=>p instanceof xf).length;if(h>1||h>0&&d>0)throw new ge(se.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(s);for(const o of s)r=o._apply(r);return r}class xf extends nP{constructor(e,t,s){super(),this._field=e,this._op=t,this._value=s,this.type="where"}static _create(e,t,s){return new xf(e,t,s)}_apply(e){const t=this._parse(e);return ES(e._query,t),new Pa(e.firestore,e.converter,_p(e._query,t))}_parse(e){const t=Dg(e.firestore);return function(u,h,d,p,g,_,v){let T;if(g.isKeyField()){if(_==="array-contains"||_==="array-contains-any")throw new ge(se.INVALID_ARGUMENT,`Invalid Query. You can't perform '${_}' queries on documentId().`);if(_==="in"||_==="not-in"){iE(v,_);const C=[];for(const M of v)C.push(rE(p,u,M));T={arrayValue:{values:C}}}else T=rE(p,u,v)}else _!=="in"&&_!=="not-in"&&_!=="array-contains-any"||iE(v,_),T=WM(d,h,v,_==="in"||_==="not-in");return jt.create(g,_,T)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}function iP(r,e,t){const s=e,o=Og("where",r);return xf._create(o,s,t)}class Mg extends kg{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new Mg(e,t)}_parse(e){const t=this._queryConstraints.map(s=>s._parse(e)).filter(s=>s.getFilters().length>0);return t.length===1?t[0]:_r.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:(function(o,u){let h=o;const d=u.getFlattenedFilters();for(const p of d)ES(h,p),h=_p(h,p)}(e._query,t),new Pa(e.firestore,e.converter,_p(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function rE(r,e,t){if(typeof(t=hn(t))=="string"){if(t==="")throw new ge(se.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!gw(e)&&t.indexOf("/")!==-1)throw new ge(se.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const s=e.path.child(mt.fromString(t));if(!Te.isDocumentKey(s))throw new ge(se.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return vb(r,new Te(s))}if(t instanceof qt)return vb(r,t._key);throw new ge(se.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${gf(t)}.`)}function iE(r,e){if(!Array.isArray(r)||r.length===0)throw new ge(se.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function ES(r,e){const t=function(o,u){for(const h of o)for(const d of h.getFlattenedFilters())if(u.indexOf(d.op)>=0)return d.op;return null}(r.filters,function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(t!==null)throw t===e.op?new ge(se.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ge(se.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class sP{convertValue(e,t="none"){switch(Ds(e)){case 0:return null;case 1:return e.booleanValue;case 2:return kt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(xs(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw De(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const s={};return Na(e,(o,u)=>{s[o]=this.convertValue(u,t)}),s}convertVectorValue(e){var t,s,o;const u=(o=(s=(t=e.fields)===null||t===void 0?void 0:t[Qh].arrayValue)===null||s===void 0?void 0:s.values)===null||o===void 0?void 0:o.map(h=>kt(h.doubleValue));return new Hr(u)}convertGeoPoint(e){return new Fr(kt(e.latitude),kt(e.longitude))}convertArray(e,t){return(e.values||[]).map(s=>this.convertValue(s,t))}convertServerTimestamp(e,t){switch(t){case"previous":const s=_f(e);return s==null?null:this.convertValue(s,t);case"estimate":return this.convertTimestamp(Su(e));default:return null}}convertTimestamp(e){const t=Is(e);return new pt(t.seconds,t.nanos)}convertDocumentKey(e,t){const s=mt.fromString(e);it(Uw(s),9688,{name:e});const o=new Au(s.get(1),s.get(3)),u=new Te(s.popFirst(5));return o.isEqual(t)||Li(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TS(r,e,t){let s;return s=r?t&&(t.merge||t.mergeFields)?r.toFirestore(e,t):r.toFirestore(e):e,s}class cu{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class ya extends _S{constructor(e,t,s,o,u,h){super(e,t,s,o,h),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Mh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const s=this._document.data.field(Og("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ge(se.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,t={};return t.type=ya._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?t:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t)}}ya._jsonSchemaVersion="firestore/documentSnapshot/1.0",ya._jsonSchema={type:Bt("string",ya._jsonSchemaVersion),bundleSource:Bt("string","DocumentSnapshot"),bundleName:Bt("string"),bundle:Bt("string")};class Mh extends ya{data(e={}){return super.data(e)}}class va{constructor(e,t,s,o){this._firestore=e,this._userDataWriter=t,this._snapshot=o,this.metadata=new cu(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(s=>{e.call(t,new Mh(this._firestore,this._userDataWriter,s.key,s,new cu(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new ge(se.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(o,u){if(o._snapshot.oldDocs.isEmpty()){let h=0;return o._snapshot.docChanges.map(d=>{const p=new Mh(o._firestore,o._userDataWriter,d.doc.key,d.doc,new cu(o._snapshot.mutatedKeys.has(d.doc.key),o._snapshot.fromCache),o.query.converter);return d.doc,{type:"added",doc:p,oldIndex:-1,newIndex:h++}})}{let h=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(d=>u||d.type!==3).map(d=>{const p=new Mh(o._firestore,o._userDataWriter,d.doc.key,d.doc,new cu(o._snapshot.mutatedKeys.has(d.doc.key),o._snapshot.fromCache),o.query.converter);let g=-1,_=-1;return d.type!==0&&(g=h.indexOf(d.doc.key),h=h.delete(d.doc.key)),d.type!==1&&(h=h.add(d.doc),_=h.indexOf(d.doc.key)),{type:aP(d.type),doc:p,oldIndex:g,newIndex:_}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ge(se.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=va._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=ng.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const t=[],s=[],o=[];return this.docs.forEach(u=>{u._document!==null&&(t.push(u._document),s.push(this._userDataWriter.convertObjectMap(u._document.data.value.mapValue.fields,"previous")),o.push(u.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function aP(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return De(61501,{type:r})}}va._jsonSchemaVersion="firestore/querySnapshot/1.0",va._jsonSchema={type:Bt("string",va._jsonSchemaVersion),bundleSource:Bt("string","QuerySnapshot"),bundleName:Bt("string"),bundle:Bt("string")};class Pg extends sP{constructor(e){super(),this.firestore=e}convertBytes(e){return new ir(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new qt(this.firestore,null,t)}}function oP(r){r=jr(r,Pa);const e=jr(r.firestore,Ra),t=Cg(e),s=new Pg(e);return bS(r._query),HM(t,r._query).then(o=>new va(e,s,r,o))}function rf(r,e,t){r=jr(r,qt);const s=jr(r.firestore,Ra),o=TS(r.converter,e,t);return Vg(s,[mS(Dg(s),"setDoc",r._key,o,r.converter!==null,t).toMutation(r._key,yr.none())])}function lP(r){return Vg(jr(r.firestore,Ra),[new cg(r._key,yr.none())])}function uP(r,e){const t=jr(r.firestore,Ra),s=Ho(r),o=TS(r.converter,e);return Vg(t,[mS(Dg(r.firestore),"addDoc",s._key,o,r.converter!==null,{}).toMutation(s._key,yr.exists(!1))]).then(()=>s)}function cP(r,...e){var t,s,o;r=hn(r);let u={includeMetadataChanges:!1,source:"default"},h=0;typeof e[h]!="object"||nE(e[h])||(u=e[h++]);const d={includeMetadataChanges:u.includeMetadataChanges,source:u.source};if(nE(e[h])){const v=e[h];e[h]=(t=v.next)===null||t===void 0?void 0:t.bind(v),e[h+1]=(s=v.error)===null||s===void 0?void 0:s.bind(v),e[h+2]=(o=v.complete)===null||o===void 0?void 0:o.bind(v)}let p,g,_;if(r instanceof qt)g=jr(r.firestore,Ra),_=lg(r._key.path),p={next:v=>{e[h]&&e[h](hP(g,r,v))},error:e[h+1],complete:e[h+2]};else{const v=jr(r,Pa);g=jr(v.firestore,Ra),_=v._query;const T=new Pg(g);p={next:I=>{e[h]&&e[h](new va(g,T,v,I))},error:e[h+1],complete:e[h+2]},bS(r._query)}return function(T,I,C,M){const x=new lS(M),j=new Jw(I,x,C);return T.asyncQueue.enqueueAndForget(async()=>Ww(await Dp(T),j)),()=>{x.Ou(),T.asyncQueue.enqueueAndForget(async()=>Zw(await Dp(T),j))}}(Cg(g),_,d,p)}function Vg(r,e){return function(s,o){const u=new ws;return s.asyncQueue.enqueueAndForget(async()=>OM(await FM(s),o,u)),u.promise}(Cg(r),e)}function hP(r,e,t){const s=t.docs.get(e._key),o=new Pg(r);return new ya(r,o,e._key,s,new cu(t.hasPendingWrites,t.fromCache),e.converter)}(function(e,t=!0){(function(o){Xo=o})(xa),Ea(new As("firestore",(s,{instanceIdentifier:o,options:u})=>{const h=s.getProvider("app").getImmediate(),d=new Ra(new tO(s.getProvider("auth-internal")),new iO(h,s.getProvider("app-check-internal")),function(g,_){if(!Object.prototype.hasOwnProperty.apply(g.options,["projectId"]))throw new ge(se.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Au(g.options.projectId,_)}(h,o),h);return u=Object.assign({useFetchStreams:t},u),d._setSettings(u),d},"PUBLIC").setMultipleInstances(!0)),Lr(ib,sb,e),Lr(ib,sb,"esm2017")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wS="firebasestorage.googleapis.com",fP="storageBucket",dP=2*60*1e3,mP=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zr extends Wr{constructor(e,t,s=0){super($m(e),`Firebase Storage: ${t} (${$m(e)})`),this.status_=s,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Zr.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return $m(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Qr;(function(r){r.UNKNOWN="unknown",r.OBJECT_NOT_FOUND="object-not-found",r.BUCKET_NOT_FOUND="bucket-not-found",r.PROJECT_NOT_FOUND="project-not-found",r.QUOTA_EXCEEDED="quota-exceeded",r.UNAUTHENTICATED="unauthenticated",r.UNAUTHORIZED="unauthorized",r.UNAUTHORIZED_APP="unauthorized-app",r.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",r.INVALID_CHECKSUM="invalid-checksum",r.CANCELED="canceled",r.INVALID_EVENT_NAME="invalid-event-name",r.INVALID_URL="invalid-url",r.INVALID_DEFAULT_BUCKET="invalid-default-bucket",r.NO_DEFAULT_BUCKET="no-default-bucket",r.CANNOT_SLICE_BLOB="cannot-slice-blob",r.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",r.NO_DOWNLOAD_URL="no-download-url",r.INVALID_ARGUMENT="invalid-argument",r.INVALID_ARGUMENT_COUNT="invalid-argument-count",r.APP_DELETED="app-deleted",r.INVALID_ROOT_OPERATION="invalid-root-operation",r.INVALID_FORMAT="invalid-format",r.INTERNAL_ERROR="internal-error",r.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Qr||(Qr={}));function $m(r){return"storage/"+r}function pP(){const r="An unknown error occurred, please check the error payload for server response.";return new Zr(Qr.UNKNOWN,r)}function gP(){return new Zr(Qr.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function yP(){return new Zr(Qr.CANCELED,"User canceled the upload/download.")}function vP(r){return new Zr(Qr.INVALID_URL,"Invalid URL '"+r+"'.")}function _P(r){return new Zr(Qr.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+r+"'.")}function sE(r){return new Zr(Qr.INVALID_ARGUMENT,r)}function SS(){return new Zr(Qr.APP_DELETED,"The Firebase app was deleted.")}function bP(r){return new Zr(Qr.INVALID_ROOT_OPERATION,"The operation '"+r+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gr{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let s;try{s=gr.makeFromUrl(e,t)}catch{return new gr(e,"")}if(s.path==="")return s;throw _P(e)}static makeFromUrl(e,t){let s=null;const o="([A-Za-z0-9.\\-_]+)";function u(le){le.path.charAt(le.path.length-1)==="/"&&(le.path_=le.path_.slice(0,-1))}const h="(/(.*))?$",d=new RegExp("^gs://"+o+h,"i"),p={bucket:1,path:3};function g(le){le.path_=decodeURIComponent(le.path)}const _="v[A-Za-z0-9_]+",v=t.replace(/[.]/g,"\\."),T="(/([^?#]*).*)?$",I=new RegExp(`^https?://${v}/${_}/b/${o}/o${T}`,"i"),C={bucket:1,path:3},M=t===wS?"(?:storage.googleapis.com|storage.cloud.google.com)":t,x="([^?#]*)",j=new RegExp(`^https?://${M}/${o}/${x}`,"i"),Y=[{regex:d,indices:p,postModify:u},{regex:I,indices:C,postModify:g},{regex:j,indices:{bucket:1,path:2},postModify:g}];for(let le=0;le<Y.length;le++){const re=Y[le],ce=re.regex.exec(e);if(ce){const k=ce[re.indices.bucket];let A=ce[re.indices.path];A||(A=""),s=new gr(k,A),re.postModify(s);break}}if(s==null)throw vP(e);return s}}class EP{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TP(r,e,t){let s=1,o=null,u=null,h=!1,d=0;function p(){return d===2}let g=!1;function _(...x){g||(g=!0,e.apply(null,x))}function v(x){o=setTimeout(()=>{o=null,r(I,p())},x)}function T(){u&&clearTimeout(u)}function I(x,...j){if(g){T();return}if(x){T(),_.call(null,x,...j);return}if(p()||h){T(),_.call(null,x,...j);return}s<64&&(s*=2);let Y;d===1?(d=2,Y=0):Y=(s+Math.random())*1e3,v(Y)}let C=!1;function M(x){C||(C=!0,T(),!g&&(o!==null?(x||(d=2),clearTimeout(o),v(0)):x||(d=1)))}return v(0),u=setTimeout(()=>{h=!0,M(!0)},t),M}function wP(r){r(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SP(r){return r!==void 0}function aE(r,e,t,s){if(s<e)throw sE(`Invalid value for '${r}'. Expected ${e} or greater.`);if(s>t)throw sE(`Invalid value for '${r}'. Expected ${t} or less.`)}function AP(r){const e=encodeURIComponent;let t="?";for(const s in r)if(r.hasOwnProperty(s)){const o=e(s)+"="+e(r[s]);t=t+o+"&"}return t=t.slice(0,-1),t}var sf;(function(r){r[r.NO_ERROR=0]="NO_ERROR",r[r.NETWORK_ERROR=1]="NETWORK_ERROR",r[r.ABORT=2]="ABORT"})(sf||(sf={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RP(r,e){const t=r>=500&&r<600,o=[408,429].indexOf(r)!==-1,u=e.indexOf(r)!==-1;return t||o||u}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CP{constructor(e,t,s,o,u,h,d,p,g,_,v,T=!0,I=!1){this.url_=e,this.method_=t,this.headers_=s,this.body_=o,this.successCodes_=u,this.additionalRetryCodes_=h,this.callback_=d,this.errorCallback_=p,this.timeout_=g,this.progressCallback_=_,this.connectionFactory_=v,this.retry=T,this.isUsingEmulator=I,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((C,M)=>{this.resolve_=C,this.reject_=M,this.start_()})}start_(){const e=(s,o)=>{if(o){s(!1,new Th(!1,null,!0));return}const u=this.connectionFactory_();this.pendingConnection_=u;const h=d=>{const p=d.loaded,g=d.lengthComputable?d.total:-1;this.progressCallback_!==null&&this.progressCallback_(p,g)};this.progressCallback_!==null&&u.addUploadProgressListener(h),u.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&u.removeUploadProgressListener(h),this.pendingConnection_=null;const d=u.getErrorCode()===sf.NO_ERROR,p=u.getStatus();if(!d||RP(p,this.additionalRetryCodes_)&&this.retry){const _=u.getErrorCode()===sf.ABORT;s(!1,new Th(!1,null,_));return}const g=this.successCodes_.indexOf(p)!==-1;s(!0,new Th(g,u))})},t=(s,o)=>{const u=this.resolve_,h=this.reject_,d=o.connection;if(o.wasSuccessCode)try{const p=this.callback_(d,d.getResponse());SP(p)?u(p):u()}catch(p){h(p)}else if(d!==null){const p=pP();p.serverResponse=d.getErrorText(),this.errorCallback_?h(this.errorCallback_(d,p)):h(p)}else if(o.canceled){const p=this.appDelete_?SS():yP();h(p)}else{const p=gP();h(p)}};this.canceled_?t(!1,new Th(!1,null,!0)):this.backoffId_=TP(e,t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&wP(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Th{constructor(e,t,s){this.wasSuccessCode=e,this.connection=t,this.canceled=!!s}}function IP(r,e){e!==null&&e.length>0&&(r.Authorization="Firebase "+e)}function xP(r,e){r["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function DP(r,e){e&&(r["X-Firebase-GMPID"]=e)}function NP(r,e){e!==null&&(r["X-Firebase-AppCheck"]=e)}function OP(r,e,t,s,o,u,h=!0,d=!1){const p=AP(r.urlParams),g=r.url+p,_=Object.assign({},r.headers);return DP(_,e),IP(_,t),xP(_,u),NP(_,s),new CP(g,r.method,_,r.body,r.successCodes,r.additionalRetryCodes,r.handler,r.errorHandler,r.timeout,r.progressCallback,o,h,d)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kP(r){if(r.length===0)return null;const e=r.lastIndexOf("/");return e===-1?"":r.slice(0,e)}function MP(r){const e=r.lastIndexOf("/",r.length-2);return e===-1?r:r.slice(e+1)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class af{constructor(e,t){this._service=e,t instanceof gr?this._location=t:this._location=gr.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new af(e,t)}get root(){const e=new gr(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return MP(this._location.path)}get storage(){return this._service}get parent(){const e=kP(this._location.path);if(e===null)return null;const t=new gr(this._location.bucket,e);return new af(this._service,t)}_throwIfRoot(e){if(this._location.path==="")throw bP(e)}}function oE(r,e){const t=e?.[fP];return t==null?null:gr.makeFromBucketSpec(t,r)}function PP(r,e,t,s={}){r.host=`${e}:${t}`;const o=Ia(e);o&&(Bp(`https://${r.host}/b`),qp("Storage",!0)),r._isUsingEmulator=!0,r._protocol=o?"https":"http";const{mockUserToken:u}=s;u&&(r._overrideAuthToken=typeof u=="string"?u:rT(u,r.app.options.projectId))}class VP{constructor(e,t,s,o,u,h=!1){this.app=e,this._authProvider=t,this._appCheckProvider=s,this._url=o,this._firebaseVersion=u,this._isUsingEmulator=h,this._bucket=null,this._host=wS,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=dP,this._maxUploadRetryTime=mP,this._requests=new Set,o!=null?this._bucket=gr.makeFromBucketSpec(o,this._host):this._bucket=oE(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=gr.makeFromBucketSpec(this._url,e):this._bucket=oE(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){aE("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){aE("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const t=await e.getToken();if(t!==null)return t.accessToken}return null}async _getAppCheckToken(){if(Hn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new af(this,e)}_makeRequest(e,t,s,o,u=!0){if(this._deleted)return new EP(SS());{const h=OP(e,this._appId,s,o,t,this._firebaseVersion,u,this._isUsingEmulator);return this._requests.add(h),h.getPromise().then(()=>this._requests.delete(h),()=>this._requests.delete(h)),h}}async makeRequestWithTokens(e,t){const[s,o]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,t,s,o).getPromise()}}const lE="@firebase/storage",uE="0.13.14";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AS="storage";function LP(r=Gp(),e){r=hn(r);const s=ff(r,AS).getImmediate({identifier:e}),o=eT("storage");return o&&UP(s,...o),s}function UP(r,e,t,s={}){PP(r,e,t,s)}function zP(r,{instanceIdentifier:e}){const t=r.getProvider("app").getImmediate(),s=r.getProvider("auth-internal"),o=r.getProvider("app-check-internal");return new VP(t,s,o,e,xa)}function jP(){Ea(new As(AS,zP,"PUBLIC").setMultipleInstances(!0)),Lr(lE,uE,""),Lr(lE,uE,"esm2017")}jP();const BP={apiKey:"",authDomain:"",projectId:"",storageBucket:"",messagingSenderId:"",appId:""},Lg=aT(BP),xu=YN(Lg),_a=KM(Lg);LP(Lg);const RS=()=>{const r=async()=>{try{await UD(xu)}catch(e){console.error("Error logging out:",e)}};return X.jsx("div",{children:X.jsxs(ko,{onClick:r,className:"fixed top-4 right-4 cursor-pointer z-50 bg-red-500 hover:bg-red-600 w-26 h-10 ",children:[X.jsx(KC,{size:20}),"Logout"]})})},qP=()=>{const{id:r}=VR(),e=Pp(),[t,s]=U.useState([]),[o,u]=U.useState(!1),[h,d]=U.useState(null),[p,g]=U.useState({x:0,y:0}),[_,v]=U.useState(!0),[T,I]=U.useState(!1),C=U.useRef(null),M=U.useRef(null),x=U.useRef([]),{zoom:j,panOffset:Q,handleWheel:Y,handleMouseDown:le,handleMouseMove:re,handleMouseUp:ce,zoomIn:k,zoomOut:A,resetZoom:R}=ZI(),{selectedNoteIds:O,isSelecting:V,selectionPath:L,handleSelectionStart:D,handleSelectionMove:Qe,handleSelectionEnd:Re,clearSelection:q}=JI({notes:t,zoom:j,panOffset:Q}),{isDraggingSelected:ue,hasDraggedGroup:te,startDraggingSelected:Ie,handleSelectedNotesMove:P,stopDraggingSelected:Z}=ex({selectedNoteIds:O,notes:t,zoom:j,onNotesMove:be=>{s(Pe=>Pe.map($e=>{const gt=be.find(Rt=>Rt.id===$e.id);return gt?{...$e,x:gt.x,y:gt.y}:$e}))}});U.useEffect(()=>{if(!r)return;v(!0);const be=Ho(_a,"boards",r),Pe=cP(be,$e=>{if($e.exists()){const Rt=$e.data().notes||[];!T&&!ue&&(s(Rt),x.current=Rt)}else s([]),x.current=[],rf(be,{notes:[]},{merge:!0});v(!1)},$e=>{console.error("Error loading board:",$e),v(!1)});return()=>Pe()},[r,T,ue]);const oe=U.useCallback(be=>{M.current&&clearTimeout(M.current),M.current=setTimeout(async()=>{if(r)try{const Pe=Ho(_a,"boards",r);await rf(Pe,{notes:be},{merge:!0}),x.current=be}catch(Pe){console.error("Error saving notes:",Pe)}},100)},[r]);U.useEffect(()=>{if(!r||_)return;JSON.stringify(t)!==JSON.stringify(x.current)&&oe(t)},[t,r,_,oe]),U.useEffect(()=>()=>{M.current&&clearTimeout(M.current)},[]),U.useEffect(()=>{const be=C.current;if(!be)return;const Pe=gt=>{re(gt),Qe(gt),P(gt)},$e=()=>{ce(),Re(),Z(),I(!1),M.current&&clearTimeout(M.current),oe(t)};return be.addEventListener("wheel",Y,{passive:!1}),document.addEventListener("mousemove",Pe),document.addEventListener("mouseup",$e),()=>{be.removeEventListener("wheel",Y),document.removeEventListener("mousemove",Pe),document.removeEventListener("mouseup",$e)}},[Y,re,ce,Qe,Re,P,Z,t,oe]);const J=be=>{if(be.target.closest(".sticky-note")||V)return;if(O.length>0&&!be.shiftKey){q();return}if(be.shiftKey)return;const $e=be.currentTarget.getBoundingClientRect(),gt=(be.clientX-$e.left-Q.x)/j,Rt=(be.clientY-$e.top-Q.y)/j;g({x:gt*j+Q.x,y:Rt*j+Q.y}),d(null),u(!0)},fe=be=>{const Pe=be.target,$e=be.currentTarget,Rt=Pe.closest(".sticky-note")?.getAttribute("data-note-id");if(be.shiftKey){be.preventDefault(),D(be,$e);return}if(Rt&&O.includes(Rt)&&O.length>1){be.preventDefault(),I(!0),Ie(be);return}Rt&&O.length>0&&q(),(be.button===1||be.ctrlKey)&&le(be)},we=be=>{ue||(d(be),g({x:be.x*j+Q.x,y:be.y*j+Q.y}),u(!0))},me=(be,Pe,$e)=>{I(!0),s(t.map(gt=>gt.id===be?{...gt,x:Pe,y:$e}:gt))},Oe=be=>{if(h)s(t.map(Pe=>Pe.id===h.id?{...Pe,...be}:Pe));else{const Pe={id:Date.now().toString(),...be,x:(p.x-Q.x)/j,y:(p.y-Q.y)/j,rotation:Math.random()*10-5};s([...t,Pe])}u(!1),d(null)},je=be=>{s(t.filter(Pe=>Pe.id!==be)),u(!1),d(null)},Tt=be=>{const Pe=`${window.location.origin}/noteboard-app/boards/${be}`;navigator.clipboard.writeText(Pe),iu.success("Share link copied to clipboard!")};return X.jsxs("div",{className:"min-h-screen bg-cork bg-cover bg-center relative overflow-hidden",children:[X.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-amber-100/20 to-amber-800/20"}),X.jsxs("div",{className:"flex justify-center gap-4 fixed top-4 left-4 z-50",children:[X.jsx(WI,{selectedCount:O.length,totalNotes:t.length}),X.jsxs("button",{className:"flex items-center h-10 gap-2 px-4 py-2 bg-white/90 backdrop-blur-sm rounded-lg shadow-lg hover:bg-gray-200 transition-colors border border-gray-300",onClick:()=>Tt(r),children:[X.jsx(HC,{className:"h-4 w-4"}),"Share"]}),X.jsxs("button",{onClick:()=>e("/"),className:"flex items-center h-10 gap-2 px-4 py-2 bg-white/90 backdrop-blur-sm rounded-lg shadow-lg hover:bg-gray-200 transition-colors border border-gray-300",children:[X.jsx(BC,{className:"h-4 w-4"}),"Back to Boards"]})]}),X.jsx(RS,{}),X.jsx("div",{ref:C,children:X.jsx(MC,{notes:t,selectedNoteIds:O,isSelecting:V,selectionPath:L,zoom:j,panOffset:Q,hasDraggedGroup:te,onBoardClick:J,onBoardMouseDown:fe,onNoteClick:we,onNotePositionChange:me})}),X.jsx(XI,{zoom:j,onZoomIn:k,onZoomOut:A,onReset:R}),X.jsx(YI,{isOpen:o,onClose:()=>u(!1),onSave:Oe,onDelete:h?()=>je(h.id):void 0,initialData:h})]})},FP=()=>{const[r,e]=U.useState(!1),[t,s]=U.useState(""),[o,u]=U.useState(""),[h,d]=U.useState(""),[p,g]=U.useState(""),[_,v]=U.useState(!1),T=async M=>{v(!0),g("");try{if(M){const x=await kD(xu,t,o);await rf(Ho(_a,"users",x.user.uid),{email:t,id:x.user.uid}),await rf(Ho(_a,"noteboards",x.user.uid),{userId:x.user.uid,noteboards:[]}),alert(`User created: ${t}`)}else await MD(xu,t,o)}catch(x){console.error("Full error object:",x),g(I(x?.code||"unknown"))}finally{v(!1)}},I=M=>{switch(M){case"auth/email-already-in-use":return"Email already in use";case"auth/invalid-email":return"Invalid email address";case"auth/weak-password":return"Password should be at least 6 characters";case"auth/user-not-found":return"Email not found";case"auth/wrong-password":return"Incorrect password";default:return"Authentication failed. Please try again."}},C=M=>{if(M.preventDefault(),g(""),r&&o!==h){g("Passwords do not match");return}if(!t||!o){g("Please fill in all fields");return}T(r)};return X.jsxs("div",{className:"flex flex-col items-center justify-center px-6 py-8 mx-auto md:h-screen lg:py-0 relative",children:[X.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-amber-200/20 to-amber-900/20 pointer-events-none"}),X.jsxs("div",{className:"w-full bg-yellow-200 border-yellow-300 shadow-yellow-200/50 rounded-lg shadow md:mt-0 sm:max-w-md xl:p-0 relative z-10 rotate-1",children:[X.jsx("div",{className:"transform -translate-y-1/2 w-26 h-8 m-auto bg-white/60 rounded-sm shadow-sm border border-gray-200"}),X.jsxs("div",{className:"p-6 space-y-4 md:space-y-6 sm:p-8",children:[X.jsx("h1",{className:"text-xl font-bold leading-tight tracking-tight text-gray-900 md:text-2xl dark:text-white",children:r?"Create an account":"Sign in to your account"}),X.jsxs("form",{className:"space-y-4 md:space-y-6",onSubmit:C,children:[X.jsxs("div",{children:[X.jsx("label",{htmlFor:"email",className:"block mb-2 text-sm font-medium text-gray-900 dark:text-white",children:"Your email"}),X.jsx("input",{type:"email",name:"email",id:"email",value:t,onChange:M=>s(M.target.value),className:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-primary-600 focus:border-primary-600 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500",placeholder:"name@company.com",required:!0})]}),X.jsxs("div",{children:[X.jsx("label",{htmlFor:"password",className:"block mb-2 text-sm font-medium text-gray-900 dark:text-white",children:"Password"}),X.jsx("input",{type:"password",name:"password",id:"password",value:o,onChange:M=>u(M.target.value),placeholder:"••••••••",className:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-primary-600 focus:border-primary-600 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500",required:!0})]}),r&&X.jsxs("div",{children:[X.jsx("label",{htmlFor:"confirm-password",className:"block mb-2 text-sm font-medium text-gray-900 dark:text-white",children:"Confirm password"}),X.jsx("input",{type:"password",name:"confirm-password",id:"confirm-password",value:h,onChange:M=>d(M.target.value),placeholder:"••••••••",className:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-primary-600 focus:border-primary-600 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500",required:!0})]}),p&&X.jsx("div",{className:"text-red-500 text-sm",children:p}),r&&X.jsxs("div",{className:"flex items-start",children:[X.jsx("div",{className:"flex items-center h-5",children:X.jsx("input",{id:"terms","aria-describedby":"terms",type:"checkbox",className:"w-4 h-4 border border-gray-300 rounded bg-gray-50 focus:ring-3 focus:ring-primary-300 dark:bg-gray-700 dark:border-gray-600 dark:focus:ring-primary-600 dark:ring-offset-gray-800",required:!0})}),X.jsx("div",{className:"ml-3 text-sm",children:X.jsxs("label",{htmlFor:"terms",className:"font-light text-gray-500 dark:text-gray-300",children:["I accept the"," ",X.jsx("a",{className:"font-medium text-primary-600 hover:underline dark:text-primary-500",href:"#",children:"Terms and Conditions"})]})})]}),X.jsx(ko,{type:"submit",disabled:_,className:"w-full text-white bg-green-400 hover:bg-green-500 focus:ring-4 focus:outline-none focus:ring-green-300 font-medium rounded-lg text-sm px-5 py-2.5 text-center cursor-pointer disabled:opacity-50",children:_?r?"Creating account...":"Signing in...":r?"Create an account":"Sign in"}),X.jsxs("p",{className:"text-sm font-light text-gray-500 dark:text-gray-400 mt-2",children:[r?"Already have an account? ":"Don't have an account? ",X.jsx("button",{type:"button",onClick:()=>{e(!r),g(""),s(""),u(""),d("")},className:"font-medium text-primary-600 hover:underline dark:text-primary-500 cursor-pointer",children:r?"Sign in here":"Sign up here"})]})]})]})]})]})};function HP(){const[r,e]=U.useState(""),[t,s]=U.useState(!1),[o,u]=U.useState([]),[h,d]=U.useState(!0),p=Pp(),g=xu.currentUser;U.useEffect(()=>{if(!g)return;d(!0),(async()=>{const C=rP(Zb(_a,"boards"),iP("userId","==",g.uid)),M=await oP(C),x=[];M.forEach(j=>{const Q=j.data();x.push({_id:j.id,name:Q.name,_creationTime:Q._creationTime?.toMillis?.()||Date.now(),shareId:Q.shareId})}),u(x),d(!1)})()},[g]);const _=async I=>{if(I.preventDefault(),!(!r.trim()||!g)){s(!0);try{const C=await uP(Zb(_a,"boards"),{name:r.trim(),userId:g.uid,_creationTime:pt.now(),shareId:crypto.randomUUID(),notes:[]});p(`/boards/${C.id}`),iu.success("Board created successfully!"),u(M=>[...M,{_id:C.id,name:r.trim(),_creationTime:Date.now(),shareId:""}])}catch{iu.error("Failed to create board")}finally{s(!1),e("")}}},v=I=>{const C=`${window.location.origin}/noteboard-app/boards/${I}`;navigator.clipboard.writeText(C),iu.success("Share link copied to clipboard!")},T=I=>{const C=Ho(_a,"boards",I);lP(C),iu.success("Board deleted successfully!"),u(o.filter(M=>M._id!==I))};return X.jsxs("div",{className:"space-y-6 flex flex-col items-center justify-center h-screen",children:[X.jsx(RS,{}),X.jsx("h1",{className:"!text-5xl font-bold text-center text-blue-600",children:"Collaboard"}),X.jsxs("p",{className:"text-gray-500 text-center mb-10",children:["Welcome Back ",g?.email]}),X.jsxs("form",{onSubmit:_,className:"flex gap-2 max-w-md mx-auto",children:[X.jsx("input",{type:"text",value:r,onChange:I=>e(I.target.value),placeholder:"Board name...",className:"flex-1 px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",disabled:t}),X.jsx("button",{type:"submit",disabled:!r.trim()||t,className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed cursor-pointer",children:t?"Creating...":"Create Board"})]}),X.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:o.map(I=>X.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-sm border border-gray-200 hover:shadow-md transition-shadow",children:[X.jsxs("div",{className:"flex justify-between items-center",children:[X.jsx("h3",{className:"text-lg font-semibold mb-2",children:I.name}),X.jsx("button",{className:"text-gray-500 hover:text-gray-700",onClick:()=>T(I._id),children:X.jsx(LE,{className:"w-5 h-5 text-red-500 mb-2 cursor-pointer hover:text-red-800"})})]}),X.jsxs("p",{className:"text-sm text-gray-500 mb-4",children:["Created ",new Date(I._creationTime).toLocaleDateString()]}),X.jsxs("div",{className:"flex gap-2",children:[X.jsx("button",{onClick:()=>p(`/boards/${I._id}`),className:"flex-1 px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700 cursor-pointer",children:"Open"}),X.jsx("button",{onClick:()=>v(I._id),className:"px-4 py-2 bg-gray-200 text-gray-700 rounded hover:bg-gray-300 cursor-pointer",children:"Share"})]})]},I._id))}),o.length===0&&!h&&X.jsx("div",{className:"text-center py-12",children:X.jsx("p",{className:"text-gray-500",children:"No boards yet. Create your first board above!"})})]})}const GP=new rR,KP=()=>{const[r,e]=U.useState(null);return U.useEffect(()=>{const t=LD(xu,s=>{e(s)});return()=>t()},[]),r?X.jsxs(sR,{client:GP,children:[X.jsx(MA,{}),X.jsx(EC,{basename:"/noteboard-app",children:X.jsxs(WR,{children:[X.jsx(Jm,{path:"/",element:X.jsx(HP,{})}),X.jsx(Jm,{path:"/boards/:id",element:X.jsx(qP,{})})]})})]}):X.jsx(FP,{})};sA.createRoot(document.getElementById("root")).render(X.jsx(KP,{}));
